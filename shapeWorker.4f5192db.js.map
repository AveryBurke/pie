{"mappings":"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mB,mBAAmB,mBAAmB,mBAAmB,mBAAmB,mBAAmB,mBAAmB,mBAAmB,oBAAoB,CAAC,kBAAkB,mBAAmB,mBAAmB,kBAAkB,kBAAkB,mBAAmB,mBAAmB,mBAAmB,mBAAmB,mBAAmB,mBAAmB,mBAAmB,mBAAmB,mBAAmB,oBAAoB,CAAC,kBAAkB,kBAAkB,mBAAmB,mBAAmB,mBAAmB,mBAAmB,mBAAmB,mBAAmB,mBAAmB,mBAAmB,mBAAmB,mBAAmB,oBAAoB,oBAAoB,oBAAoB,qBAAqB,CAAC,mBAAmB,mBAAmB,mBAAmB,mBAAmB,mBAAmB,mBAAmB,mBAAmB,mBAAmB,mBAAmB,mBAAmB,mBAAmB,mBAAmB,mBAAmB,kBAAkB,kBAAkB,mBAAmB,oBAAoB,CAAC,kBAAkB,kBAAkB,mBAAmB,mBAAmB,mBAAmB,mBAAmB,mBAAmB,mBAAmB,mBAAmB,mBAAmB,mBAAmB,mBAAmB,mBAAmB,mBAAmB,kBAAkB,kBAAkB,mBAAmB,oBAAoB,CAAC,kBAAkB,mBAAmB,mBAAmB,mBAAmB,mBAAmB,kBAAkB,kBAAkB,mBAAmB,mBAAmB,mBAAmB,mBAAmB,gBAAgB,gBAAgB,mBAAmB,mBAAmB,kBAAkB,kBAAkB,oBAAoB,qBAAqB,CAAC,mBAAmB,mBAAmB,mBAAmB,mBAAmB,mBAAmB,mBAAmB,mBAAmB,mBAAmB,mBAAmB,mBAAmB,mBAAmB,mBAAmB,mBAAmB,mBAAmB,mBAAmB,mBAAmB,mBAAmB,mBAAmB,oBAAoB,qBAAqB,CAAC,mBAAmB,mBAAmB,mBAAmB,mBAAmB,mBAAmB,mBAAmB,mBAAmB,mBAAmB,mBAAmB,mBAAmB,mBAAmB,mBAAmB,mBAAmB,kBAAkB,kBAAkB,oBAAoB,oBAAoB,oBAAoB,oBAAoB,oBAAoB,qBAAqB,CAAC,mBAAmB,mBAAmB,mBAAmB,mBAAmB,mBAAmB,mBAAmB,mBAAmB,mBAAmB,mBAAmB,mBAAmB,mBAAmB,mBAAmB,mBAAmB,mBAAmB,mBAAmB,mBAAmB,oBAAoB,oBAAoB,mBAAmB,mBAAmB,kBAAkB,mBAAmB,CAAC,mBAAmB,kBAAkB,kBAAkB,mBAAmB,mBAAmB,mBAAmB,mBAAmB,mBAAmB,mBAAmB,mBAAmB,mBAAmB,mBAAmB,mBAAmB,mBAAmB,mBAAmB,mBAAmB,mBAAmB,mBAAmB,mBAAmB,oBAAoB,oBAAoB,oBAAoB,qBAAqB,CAAC,mBAAmB,mBAAmB,kBAAkB,kBAAkB,mBAAmB,mBAAmB,kBAAkB,kBAAkB,mBAAmB,mBAAmB,mBAAmB,mBAAmB,mBAAmB,mBAAmB,kBAAkB,kBAAkB,mBAAmB,mBAAmB,mBAAmB,mBAAmB,oBAAoB,oBAAoB,kBAAkB,oBAAoBF,GAAG,CAAC,CAAC,GAAG,CAAC,EAAE,GAAG,CAAC,EAAE,EAAE,GAAG,CAAC,EAAE,EAAE,EAAE,IAAII,GAAG,EAAE/rD,KAAK4e,GAAGstC,GAAG,SAAS30C,EAAEpH,EAAE7U,EAAEyuD,EAAEhuD,EAAEoW,EAAE3Y,EAAEmS,EAAEu+C,GAAG,IAAIjsC,EAAEje,KAAKif,IAAIljB,EAAEgwD,GAAG,KAAK77C,EAAElQ,KAAKmf,IAAIpjB,EAAEgwD,GAAG,KAAKv+C,EAAE0C,GAAGqH,EAAE5L,GAAG,EAAEsS,GAAG9N,EAAE+5C,GAAG,EAAEp6C,GAAGmO,GAAG1G,EAAE5L,GAAG,EAAEuE,GAAGC,EAAE+5C,GAAG,EAAE,GAAG,IAAI18C,GAAG,IAAIsC,EAAE,MAAM,GAAG,GAAG,IAAIxU,GAAG,IAAIyuD,EAAE,MAAM,GAAGzuD,EAAE0E,KAAKywC,IAAIn1C,GAAGyuD,EAAE/pD,KAAKywC,IAAIsZ,GAAG,IAAIQ,EAAE/8C,EAAEA,GAAGlS,EAAEA,GAAGwU,EAAEA,GAAGi6C,EAAEA,GAAGQ,EAAE,IAAIjvD,GAAG0E,KAAKgvB,KAAKu7B,GAAGR,GAAG/pD,KAAKgvB,KAAKu7B,IAAI,IAAIC,EAAE9Y,EAAEn6B,EAAEpH,EAAExE,EAAEu+C,EAAE/3C,EAAE3Y,EAAE8B,EAAEyuD,EAAE9rC,EAAE/N,GAAGqF,EAAE,GAAG1X,EAAE2sD,EAAE,GAAGz4C,EAAEy4C,EAAE,GAAGn1C,EAAErV,KAAKoF,IAAIpF,KAAK4tD,KAAK5tD,KAAKywC,IAAI1+B,IAAIg6C,GAAG,IAAI,GAAGh6C,GAAGsD,EAAE,IAAI,IAAI5H,EAAE,EAAEA,EAAE4H,EAAE5H,IAAI8H,EAAEvZ,KAAKgwD,EAAEnuD,EAAEkU,IAAIlU,GAAGkU,EAAE,OAAOwD,EAAE4b,KAAI,SAAS5Z,GAAG,IAAI,IAAIpH,EAAE,EAAEA,EAAEoH,EAAE9e,OAAO0X,GAAG,EAAE,CAAC,IAAIpU,EAAEwb,EAAEpH,EAAE,GAAGgC,EAAEoF,EAAEpH,EAAE,GAAiB3W,EAAE0W,GAAhBnU,GAAGT,GAAiB2iB,GAAf9L,GAAG43C,GAAgBp+C,EAAEsS,EAAEliB,EAAEmU,EAAEiC,EAAEoF,EAAEpH,EAAE,GAAG3W,EAAEgxD,EAAE,GAAGjzC,EAAEpH,EAAE,GAAGxE,EAAE6+C,EAAE,EAAE,CAAC,OAAOjzC,CAAC,GAAE,EAAEq+C,GAAG,SAASr+C,EAAEpH,EAAE7U,EAAEyuD,EAAEhuD,EAAEoW,EAAE3Y,EAAEmS,EAAEu+C,GAAG,OAAO,IAAI+B,EAAE10C,EAAEpH,EAAE7U,EAAEyuD,EAAEhuD,EAAEoW,EAAE3Y,EAAEmS,EAAEu+C,EAAE,EAAE+B,EAAEh0D,UAAU,CAACyB,YAAYuyD,EAAEP,KAAK,WAAW,EAAEU,eAAe,WAAW,OAAOpnD,KAAKvM,MAAM,EAAEo1D,iBAAiB,SAASt2C,GAAG,IAAIpH,EAAEnL,KAAKuS,EAAE,EAAEA,EAAE,EAAEA,EAAEvS,KAAKvM,SAAS8e,EAAEvS,KAAKvM,QAAQ,IAAI,IAAI6C,EAAE0J,KAAKqnD,eAAe5zD,OAAO,EAAEuM,KAAKqnD,eAAe/wD,IAAIic,GAAGvS,KAAKqnD,eAAe/wD,GAAG,GAAGA,IAAIA,EAAE0J,KAAKqnD,eAAe5zD,OAAO,GAAG6C,IAAI,IAAI,IAAIyuD,EAAE,EAAEhuD,EAAE,EAAEA,EAAET,EAAES,IAAIguD,GAAG55C,EAAEk8C,eAAetwD,GAAG,OAAOiJ,KAAKsnD,OAAOhxD,GAAGuyD,iBAAiBt2C,EAAEwyC,EAAE,EAAEyL,mBAAmB,SAASj+C,GAAG,IAAIpH,EAAEnL,KAAKuS,EAAE,EAAEA,EAAE,EAAEA,EAAEvS,KAAKvM,SAAS8e,EAAEvS,KAAKvM,QAAQ,IAAI,IAAI6C,EAAE0J,KAAKqnD,eAAe5zD,OAAO,EAAEuM,KAAKqnD,eAAe/wD,IAAIic,GAAGvS,KAAKqnD,eAAe/wD,GAAG,GAAGA,IAAIA,EAAE0J,KAAKqnD,eAAe5zD,OAAO,GAAG6C,IAAI,IAAI,IAAIyuD,EAAE,EAAEhuD,EAAE,EAAEA,EAAET,EAAES,IAAIguD,GAAG55C,EAAEk8C,eAAetwD,GAAG,OAAOiJ,KAAKsnD,OAAOhxD,GAAGk6D,mBAAmBj+C,EAAEwyC,EAAE,EAAE0L,sBAAsB,SAASl+C,GAAG,IAAIpH,EAAEnL,KAAKwwD,mBAAmBj+C,GAAGjc,EAAE0J,KAAK6oD,iBAAiBt2C,GAAG,MAAM,CAAC1Z,EAAEvC,EAAEuC,EAAEkU,EAAEzW,EAAEyW,EAAE2jD,SAASvlD,EAAEtS,EAAE83D,SAASxlD,EAAE4B,EAAE,GAAG,IAAI8jD,GAAG,SAASt+C,EAAEpH,EAAE7U,EAAEyuD,GAAG,OAAO,IAAIwC,EAAEh1C,EAAEpH,EAAE7U,EAAEyuD,EAAE,EAAEwC,EAAEt0D,UAAUm0D,eAAe,WAAW,OAAOpsD,KAAKgvB,KAAKhvB,KAAKmlB,IAAIngB,KAAKwnD,GAAGxnD,KAAKynD,GAAG,GAAGzsD,KAAKmlB,IAAIngB,KAAK0nD,GAAG1nD,KAAK2nD,GAAG,GAAG,EAAEJ,EAAEt0D,UAAU41D,iBAAiB,SAASt2C,GAAG,IAAIpH,EAAEoH,EAAEvX,KAAKgvB,KAAKhvB,KAAKmlB,IAAIngB,KAAKwnD,GAAGxnD,KAAKynD,GAAG,GAAGzsD,KAAKmlB,IAAIngB,KAAK0nD,GAAG1nD,KAAK2nD,GAAG,IAAIrxD,GAAG0J,KAAKynD,GAAGznD,KAAKwnD,IAAIr8C,EAAE45C,GAAG/kD,KAAK2nD,GAAG3nD,KAAK0nD,IAAIv8C,EAAE,MAAM,CAACtS,EAAEmH,KAAKwnD,GAAGlxD,EAAEyW,EAAE/M,KAAK0nD,GAAG3C,EAAE,EAAEwC,EAAEt0D,UAAUu9D,mBAAmB,WAAW,IAAIj+C,EAAEvX,KAAKgvB,MAAMhqB,KAAKynD,GAAGznD,KAAKwnD,KAAKxnD,KAAKynD,GAAGznD,KAAKwnD,KAAKxnD,KAAK2nD,GAAG3nD,KAAK0nD,KAAK1nD,KAAK2nD,GAAG3nD,KAAK0nD,KAAK,MAAM,CAAC7uD,GAAGmH,KAAKynD,GAAGznD,KAAKwnD,IAAIj1C,EAAExF,GAAG/M,KAAK2nD,GAAG3nD,KAAK0nD,IAAIn1C,EAAE,EAAEg1C,EAAEt0D,UAAUw9D,sBAAsB,SAASl+C,GAAG,IAAIpH,EAAEnL,KAAK6oD,iBAAiBt2C,GAAGjc,EAAE0J,KAAKwwD,qBAAqB,MAAM,CAAC33D,EAAEsS,EAAEtS,EAAEkU,EAAE5B,EAAE4B,EAAE2jD,SAASp6D,EAAEuC,EAAE83D,SAASr6D,EAAEyW,EAAE,EAAE,IAAIk8C,GAAG,SAAS12C,GAAG,SAASpH,EAAEoH,GAAG,IAAIA,EAAE,OAAO,KAAK,IAAI,IAAIpF,EAAE3Y,EAAE87D,GAAG/9C,GAAG5L,EAAE,CAAC,EAAE,GAAGu+C,EAAE,CAAC,EAAE,GAAGjsC,EAAE,EAAEA,EAAEzkB,EAAEf,OAAOwlB,IAAI,MAAMzkB,EAAEykB,GAAG,IAAItS,EAAE,CAACnS,EAAEykB,GAAG,GAAGzkB,EAAEykB,GAAG,IAAIliB,EAAEC,KAAK,OAAO,MAAMxC,EAAEykB,GAAG,IAAItS,EAAE,CAACnS,EAAEykB,GAAG,GAAGtS,EAAE,GAAGnS,EAAEykB,GAAG,GAAGtS,EAAE,IAAI5P,EAAEC,KAAK,OAAO,MAAMxC,EAAEykB,GAAG,IAAI3iB,GAAG0E,KAAKgvB,KAAKhvB,KAAKmlB,IAAIxZ,EAAE,GAAGnS,EAAEykB,GAAG,GAAG,GAAGje,KAAKmlB,IAAIxZ,EAAE,GAAGnS,EAAEykB,GAAG,GAAG,IAAIliB,EAAEC,KAAK,IAAI65D,GAAGlqD,EAAE,GAAGnS,EAAEykB,GAAG,GAAGtS,EAAE,GAAGnS,EAAEykB,GAAG,KAAKtS,EAAE,CAACnS,EAAEykB,GAAG,GAAGzkB,EAAEykB,GAAG,KAAK,MAAMzkB,EAAEykB,GAAG,IAAI3iB,GAAG0E,KAAKgvB,KAAKhvB,KAAKmlB,IAAI3rB,EAAEykB,GAAG,GAAG,GAAGje,KAAKmlB,IAAI3rB,EAAEykB,GAAG,GAAG,IAAIliB,EAAEC,KAAK,IAAI65D,GAAGlqD,EAAE,GAAGnS,EAAEykB,GAAG,GAAGtS,EAAE,GAAGA,EAAE,GAAGnS,EAAEykB,GAAG,GAAGtS,EAAE,KAAKA,EAAE,CAACnS,EAAEykB,GAAG,GAAGtS,EAAE,GAAGnS,EAAEykB,GAAG,GAAGtS,EAAE,KAAK,MAAMnS,EAAEykB,GAAG,IAAI3iB,GAAG0E,KAAKywC,IAAI9kC,EAAE,GAAGnS,EAAEykB,GAAG,IAAIliB,EAAEC,KAAK,IAAI65D,GAAGlqD,EAAE,GAAGnS,EAAEykB,GAAG,GAAGtS,EAAE,GAAGA,EAAE,KAAKA,EAAE,GAAGnS,EAAEykB,GAAG,IAAI,MAAMzkB,EAAEykB,GAAG,IAAI3iB,GAAG0E,KAAKywC,IAAIj3C,EAAEykB,GAAG,IAAIliB,EAAEC,KAAK,IAAI65D,GAAGlqD,EAAE,GAAGA,EAAE,GAAGnS,EAAEykB,GAAG,GAAGtS,EAAE,GAAGA,EAAE,KAAKA,EAAE,GAAGnS,EAAEykB,GAAG,GAAGtS,EAAE,IAAI,MAAMnS,EAAEykB,GAAG,IAAI3iB,GAAG0E,KAAKywC,IAAI9kC,EAAE,GAAGnS,EAAEykB,GAAG,IAAIliB,EAAEC,KAAK,IAAI65D,GAAGlqD,EAAE,GAAGA,EAAE,GAAGA,EAAE,GAAGnS,EAAEykB,GAAG,KAAKtS,EAAE,GAAGnS,EAAEykB,GAAG,IAAI,MAAMzkB,EAAEykB,GAAG,IAAI3iB,GAAG0E,KAAKywC,IAAIj3C,EAAEykB,GAAG,IAAIliB,EAAEC,KAAK,IAAI65D,GAAGlqD,EAAE,GAAGA,EAAE,GAAGA,EAAE,GAAGA,EAAE,GAAGnS,EAAEykB,GAAG,KAAKtS,EAAE,GAAGnS,EAAEykB,GAAG,GAAGtS,EAAE,IAAI,MAAMnS,EAAEykB,GAAG,IAAI,MAAMzkB,EAAEykB,GAAG,IAAI3iB,GAAG0E,KAAKgvB,KAAKhvB,KAAKmlB,IAAI3rB,EAAE,GAAG,GAAGmS,EAAE,GAAG,GAAG3L,KAAKmlB,IAAI3rB,EAAE,GAAG,GAAGmS,EAAE,GAAG,IAAI5P,EAAEC,KAAK,IAAI65D,GAAGlqD,EAAE,GAAGnS,EAAE,GAAG,GAAGmS,EAAE,GAAGnS,EAAE,GAAG,KAAKmS,EAAE,CAACnS,EAAE,GAAG,GAAGA,EAAE,GAAG,KAAK,MAAMA,EAAEykB,GAAG,IAAI9L,EAAE,IAAIg6C,GAAGxgD,EAAE,GAAGA,EAAE,GAAGnS,EAAEykB,GAAG,GAAGzkB,EAAEykB,GAAG,GAAGzkB,EAAEykB,GAAG,GAAGzkB,EAAEykB,GAAG,GAAGzkB,EAAEykB,GAAG,GAAGzkB,EAAEykB,GAAG,IAAI3iB,GAAG6W,EAAEi6C,iBAAiBzgD,EAAE,CAACnS,EAAEykB,GAAG,GAAGzkB,EAAEykB,GAAG,IAAIliB,EAAEC,KAAKmW,IAAI,MAAM3Y,EAAEykB,GAAG,IAAI9L,EAAE,IAAIg6C,GAAGxgD,EAAE,GAAGA,EAAE,GAAGA,EAAE,GAAGnS,EAAEykB,GAAG,GAAGtS,EAAE,GAAGnS,EAAEykB,GAAG,GAAGtS,EAAE,GAAGnS,EAAEykB,GAAG,GAAGtS,EAAE,GAAGnS,EAAEykB,GAAG,GAAGtS,EAAE,GAAGnS,EAAEykB,GAAG,GAAGtS,EAAE,GAAGnS,EAAEykB,GAAG,IAAI3iB,GAAG6W,EAAEi6C,iBAAiBzgD,EAAE,CAACnS,EAAEykB,GAAG,GAAGtS,EAAE,GAAGnS,EAAEykB,GAAG,GAAGtS,EAAE,IAAI5P,EAAEC,KAAKmW,IAAI,MAAM3Y,EAAEykB,GAAG,IAAI9L,EAAE8L,EAAE,GAAG,CAAC,IAAI,IAAI,IAAI,KAAKpO,QAAQrW,EAAEykB,EAAE,GAAG,KAAI,EAAG,IAAIkuC,GAAGxgD,EAAE,GAAGA,EAAE,GAAG,EAAEA,EAAE,GAAGnS,EAAEykB,EAAE,GAAGzkB,EAAEykB,EAAE,GAAGxlB,OAAO,GAAG,EAAEkT,EAAE,GAAGnS,EAAEykB,EAAE,GAAGzkB,EAAEykB,EAAE,GAAGxlB,OAAO,GAAGe,EAAEykB,GAAG,GAAGzkB,EAAEykB,GAAG,GAAGzkB,EAAEykB,GAAG,GAAGzkB,EAAEykB,GAAG,IAAI,IAAIkuC,GAAGxgD,EAAE,GAAGA,EAAE,GAAGA,EAAE,GAAGA,EAAE,GAAGnS,EAAEykB,GAAG,GAAGzkB,EAAEykB,GAAG,GAAGzkB,EAAEykB,GAAG,GAAGzkB,EAAEykB,GAAG,IAAI3iB,GAAG6W,EAAEi6C,iBAAiBzgD,EAAE,CAACnS,EAAEykB,GAAG,GAAGzkB,EAAEykB,GAAG,IAAIliB,EAAEC,KAAKmW,IAAI,MAAM3Y,EAAEykB,GAAG,IAAI9L,EAAE8L,EAAE,GAAG,CAAC,IAAI,IAAI,IAAI,KAAKpO,QAAQrW,EAAEykB,EAAE,GAAG,KAAI,EAAG,IAAIkuC,GAAGxgD,EAAE,GAAGA,EAAE,GAAGA,EAAE,GAAGwG,EAAEkD,EAAExX,EAAEsU,EAAEjC,EAAErS,EAAE8N,EAAE,GAAGwG,EAAEkD,EAAEtD,EAAEI,EAAEjC,EAAE6B,EAAEpG,EAAE,GAAGnS,EAAEykB,GAAG,GAAGtS,EAAE,GAAGnS,EAAEykB,GAAG,GAAGtS,EAAE,GAAGnS,EAAEykB,GAAG,GAAGtS,EAAE,GAAGnS,EAAEykB,GAAG,IAAI,IAAIkuC,GAAGxgD,EAAE,GAAGA,EAAE,GAAGA,EAAE,GAAGA,EAAE,GAAGA,EAAE,GAAGnS,EAAEykB,GAAG,GAAGtS,EAAE,GAAGnS,EAAEykB,GAAG,GAAGtS,EAAE,GAAGnS,EAAEykB,GAAG,GAAGtS,EAAE,GAAGnS,EAAEykB,GAAG,IAAI3iB,GAAG6W,EAAEi6C,iBAAiBzgD,EAAE,CAACnS,EAAEykB,GAAG,GAAGtS,EAAE,GAAGnS,EAAEykB,GAAG,GAAGtS,EAAE,IAAI5P,EAAEC,KAAKmW,IAAI,MAAM3Y,EAAEykB,GAAG,IAAI9L,EAAE,IAAIg6C,GAAGxgD,EAAE,GAAGA,EAAE,GAAGnS,EAAEykB,GAAG,GAAGzkB,EAAEykB,GAAG,GAAGzkB,EAAEykB,GAAG,GAAGzkB,EAAEykB,GAAG,IAAI3iB,GAAG6W,EAAEi6C,iBAAiBrwD,EAAEC,KAAKmW,GAAGxG,EAAE,CAACnS,EAAEykB,GAAG,GAAGzkB,EAAEykB,GAAG,IAAIisC,EAAE,CAAC1wD,EAAEykB,GAAG,GAAGzkB,EAAEykB,GAAG,KAAK,MAAMzkB,EAAEykB,GAAG,IAAI9L,EAAE,IAAIg6C,GAAGxgD,EAAE,GAAGA,EAAE,GAAGA,EAAE,GAAGnS,EAAEykB,GAAG,GAAGtS,EAAE,GAAGnS,EAAEykB,GAAG,GAAGtS,EAAE,GAAGnS,EAAEykB,GAAG,GAAGtS,EAAE,GAAGnS,EAAEykB,GAAG,IAAI3iB,GAAG6W,EAAEi6C,iBAAiBlC,EAAE,CAACv+C,EAAE,GAAGnS,EAAEykB,GAAG,GAAGtS,EAAE,GAAGnS,EAAEykB,GAAG,IAAItS,EAAE,CAACnS,EAAEykB,GAAG,GAAGtS,EAAE,GAAGnS,EAAEykB,GAAG,GAAGtS,EAAE,IAAI5P,EAAEC,KAAKmW,IAAI,MAAM3Y,EAAEykB,GAAG,IAAI9L,EAAE8L,EAAE,GAAG,CAAC,IAAI,IAAI,IAAI,KAAKpO,QAAQrW,EAAEykB,EAAE,GAAG,KAAI,EAAG,IAAIkuC,GAAGxgD,EAAE,GAAGA,EAAE,GAAG,EAAEA,EAAE,GAAGu+C,EAAE,GAAG,EAAEv+C,EAAE,GAAGu+C,EAAE,GAAG1wD,EAAEykB,GAAG,GAAGzkB,EAAEykB,GAAG,IAAI,IAAI43C,GAAGlqD,EAAE,GAAGnS,EAAEykB,GAAG,GAAGtS,EAAE,GAAGnS,EAAEykB,GAAG,IAAIliB,EAAEC,KAAKmW,GAAG7W,GAAG6W,EAAEi6C,iBAAiBlC,EAAE,CAAC,EAAEv+C,EAAE,GAAGu+C,EAAE,GAAG,EAAEv+C,EAAE,GAAGu+C,EAAE,IAAIv+C,EAAE,CAACnS,EAAEykB,GAAG,GAAGzkB,EAAEykB,GAAG,KAAK,MAAMzkB,EAAEykB,GAAG,IAAI9L,EAAE8L,EAAE,GAAG,CAAC,IAAI,IAAI,IAAI,KAAKpO,QAAQrW,EAAEykB,EAAE,GAAG,KAAI,EAAG,IAAIkuC,GAAGxgD,EAAE,GAAGA,EAAE,GAAG,EAAEA,EAAE,GAAGu+C,EAAE,GAAG,EAAEv+C,EAAE,GAAGu+C,EAAE,GAAGv+C,EAAE,GAAGnS,EAAEykB,GAAG,GAAGtS,EAAE,GAAGnS,EAAEykB,GAAG,IAAI,IAAI43C,GAAGlqD,EAAE,GAAGA,EAAE,GAAGnS,EAAEykB,GAAG,GAAGtS,EAAE,GAAGA,EAAE,GAAGnS,EAAEykB,GAAG,IAAI3iB,GAAG6W,EAAEi6C,iBAAiBlC,EAAE,CAAC,EAAEv+C,EAAE,GAAGu+C,EAAE,GAAG,EAAEv+C,EAAE,GAAGu+C,EAAE,IAAIv+C,EAAE,CAACnS,EAAEykB,GAAG,GAAGtS,EAAE,GAAGnS,EAAEykB,GAAG,GAAGtS,EAAE,IAAI5P,EAAEC,KAAKmW,IAAI,MAAM3Y,EAAEykB,GAAG,IAAI9L,EAAE,IAAIyjD,GAAGjqD,EAAE,GAAGA,EAAE,GAAGnS,EAAEykB,GAAG,GAAGzkB,EAAEykB,GAAG,GAAGzkB,EAAEykB,GAAG,GAAGzkB,EAAEykB,GAAG,GAAGzkB,EAAEykB,GAAG,GAAGzkB,EAAEykB,GAAG,GAAGzkB,EAAEykB,GAAG,IAAI3iB,GAAG6W,EAAEi6C,iBAAiBzgD,EAAE,CAACnS,EAAEykB,GAAG,GAAGzkB,EAAEykB,GAAG,IAAIliB,EAAEC,KAAKmW,IAAI,MAAM3Y,EAAEykB,GAAG,KAAK9L,EAAE,IAAIyjD,GAAGjqD,EAAE,GAAGA,EAAE,GAAGnS,EAAEykB,GAAG,GAAGzkB,EAAEykB,GAAG,GAAGzkB,EAAEykB,GAAG,GAAGzkB,EAAEykB,GAAG,GAAGzkB,EAAEykB,GAAG,GAAGtS,EAAE,GAAGnS,EAAEykB,GAAG,GAAGtS,EAAE,GAAGnS,EAAEykB,GAAG,IAAI3iB,GAAG6W,EAAEi6C,iBAAiBzgD,EAAE,CAACA,EAAE,GAAGnS,EAAEykB,GAAG,GAAGtS,EAAE,GAAGnS,EAAEykB,GAAG,IAAIliB,EAAEC,KAAKmW,IAAI43C,EAAE/tD,KAAKV,GAAG,OAAO6U,CAAC,CAAC,IAAI7U,EAAE,EAAEyuD,EAAE,GAAGhuD,EAAE,GAAGoU,EAAEi8C,eAAe,WAAW,OAAO9wD,CAAC,EAAE6U,EAAE09C,iBAAiB,SAASt2C,GAAG,IAAIpH,EAAEgC,EAAEoF,GAAG,OAAOxb,EAAEoU,EAAEpU,GAAG8xD,iBAAiB19C,EAAE2lD,SAAS,EAAE3lD,EAAEqlD,mBAAmB,SAASj+C,GAAG,IAAIpH,EAAEgC,EAAEoF,GAAG,OAAOxb,EAAEoU,EAAEpU,GAAGy5D,mBAAmBrlD,EAAE2lD,SAAS,EAAE3lD,EAAEslD,sBAAsB,SAASl+C,GAAG,IAAIpH,EAAEgC,EAAEoF,GAAG,OAAOxb,EAAEoU,EAAEpU,GAAG05D,sBAAsBtlD,EAAE2lD,SAAS,EAAE,IAAI3jD,EAAE,SAASoF,GAAGA,EAAE,EAAEA,EAAE,EAAEA,EAAEjc,IAAIic,EAAEjc,GAAG,IAAI,IAAI6U,EAAE45C,EAAEtxD,OAAO,EAAEsxD,EAAE55C,IAAIoH,GAAGwyC,EAAE55C,GAAG,GAAGA,IAAI,OAAOA,IAAI,CAAC2lD,SAASv+C,EAAEwyC,EAAE55C,EAAE,GAAGpU,EAAEoU,EAAE,EAAE,OAAOA,EAAEoH,EAAE,EAAEm2C,GAAG,uPAAuPwF,GAAG,uNAAuNvE,GAAG,SAASp3C,EAAEpH,GAAG,IAAI,IAAI7U,EAAEyuD,EAAEhuD,EAAEoW,EAAEoF,EAAE9e,OAAOe,EAAE,IAAImS,EAAE,EAAEA,EAAEwG,EAAExG,KAAK,SAAS5P,GAAGguD,EAAE,EAAE55C,EAAExH,SAAQ,SAASwH,EAAE7U,GAAG,IAAI9B,EAAEozD,EAAEr1C,GAAGxb,EAAET,GAAG6W,GAAGhC,GAAG45C,GAAGvwD,EAAEA,CAAC,IAAGuwD,EAAEvwD,IAAIA,EAAEuwD,EAAEzuD,EAAES,EAAE,CAArF,CAAuF4P,GAAGrQ,IAAIS,EAAEwb,EAAExV,OAAO,EAAEzG,GAAGic,EAAExV,OAAOD,MAAMyV,EAAE,CAACA,EAAE9e,OAAO,GAAGmJ,OAAO7F,IAAI,EAAEg6D,GAAG,SAASx+C,EAAEpH,EAAE7U,QAAG,IAASA,IAAIA,EAAE,CAAC,GAAG,IAAIyuD,EAAEzuD,EAAEs3D,sBAAiB,IAAS7I,IAAIA,EAAE,IAAI,IAAIhuD,EAAET,EAAEmH,YAAO,IAAS1G,IAAIA,GAAE,GAAI,IAAsB4P,EAAEyK,GAAlBi4C,EAAE92C,EAAEwyC,GAAKsE,EAAEl+C,EAAE45C,GAAYhuD,GAAG,OAAOA,GAAG,iBAAiBwb,GAAG,iBAAiBpH,EAAExE,EAAE,SAASrQ,GAAG,OAAOA,EAAE,MAAM,iBAAiBic,EAAEA,EAAE,EAAEjc,EAAE,MAAM,iBAAiB6U,EAAEA,EAAExE,EAAErQ,EAAE,CAAC,EAAEi3D,GAAG3D,GAAGA,GAAGoH,UAAU,SAASz+C,EAAEpH,EAAE7U,EAAEyuD,GAAG,IAAIhuD,EAAEoU,GAAGA,EAAE1X,OAAO0Z,EAAEpW,EAAEoU,EAAE,GAAG7U,EAAEic,EAAE9e,OAAOe,EAAEwG,KAAKywC,IAAIue,GAAGz3C,EAAE,EAAEpF,EAAE7W,IAAI,GAAGS,EAAE,IAAI,IAAI4P,EAAE,EAAEu+C,EAAE/5C,EAAE1X,OAAOkT,EAAEu+C,EAAEv+C,IAAI,CAAC,IAAIsS,EAAE9N,EAAExE,GAAGrQ,EAAE4U,EAAEvE,EAAEu+C,EAAE,EAAE/5C,EAAExE,EAAE,GAAGrQ,EAAEic,EAAE9e,OAAOe,GAAGwG,KAAKywC,IAAIue,GAAGz3C,EAAE0G,EAAE/N,EAAE5U,GAAG,CAAC,IAAIkS,EAAE,EAAE,IAAI7B,EAAE,EAAEA,EAAEo+C,EAAEtxD,OAAOkT,GAAG,EAAE,CAAC,IAAImE,EAAEi6C,EAAEp+C,GAAGrQ,EAAEivD,EAAER,EAAEp+C,EAAE,GAAGrQ,EAAEkvD,EAAET,EAAEp+C,EAAE,GAAGrQ,EAAEkS,GAAGxN,KAAKywC,KAAKl5B,EAAEzH,GAAGyH,EAAEizC,KAAKjzC,EAAEgzC,EAAE,GAAGhzC,EAAEzH,EAAE,KAAKyH,EAAEzH,GAAGyH,EAAEgzC,KAAKhzC,EAAEizC,EAAE,GAAGjzC,EAAEzH,EAAE,IAAI,CAAC,OAAO,IAAItW,GAAG,IAAIgU,EAAE,EAAExN,KAAKywC,KAAKjjC,EAAEhU,GAAGA,EAAE,EAAEo1D,GAAGqH,QAAQ,SAAS1+C,GAAG,IAAI,IAAIpH,EAAEoH,EAAE,GAAG,GAAG9e,OAAO6C,EAAE,CAAC+tC,SAAS,GAAG6sB,MAAM,GAAGngC,WAAW5lB,GAAG45C,EAAE,EAAEhuD,EAAE,EAAEA,EAAEwb,EAAE9e,OAAOsD,IAAI,CAAC,IAAI,IAAIoW,EAAE,EAAEA,EAAEoF,EAAExb,GAAGtD,OAAO0Z,IAAI,IAAI,IAAI3Y,EAAE,EAAEA,EAAE2W,EAAE3W,IAAI8B,EAAE+tC,SAASrtC,KAAKub,EAAExb,GAAGoW,GAAG3Y,IAAIuC,EAAE,IAAIguD,GAAGxyC,EAAExb,EAAE,GAAGtD,OAAO6C,EAAE46D,MAAMl6D,KAAK+tD,GAAG,CAAC,OAAOzuD,CAAC,EAAE,IAAI66D,GAAG,SAAS5+C,GAAG,OAAOA,CAAC,EAAE85C,GAAG,SAAS95C,GAAG,GAAG,MAAMA,EAAE,OAAO4+C,GAAG,IAAIhmD,EAAE7U,EAAEyuD,EAAExyC,EAAEy7B,MAAM,GAAGj3C,EAAEwb,EAAEy7B,MAAM,GAAG7gC,EAAEoF,EAAE07B,UAAU,GAAGz5C,EAAE+d,EAAE07B,UAAU,GAAG,OAAO,SAAS17B,EAAE5L,GAAGA,IAAIwE,EAAE7U,EAAE,GAAG,IAAI4uD,EAAE,EAAEjsC,EAAE1G,EAAE9e,OAAOyX,EAAE,IAAI9R,MAAM6f,GAAG,IAAI/N,EAAE,IAAIC,GAAGoH,EAAE,IAAIwyC,EAAE53C,EAAEjC,EAAE,IAAI5U,GAAGic,EAAE,IAAIxb,EAAEvC,EAAE0wD,EAAEjsC,GAAG/N,EAAEg6C,GAAG3yC,EAAE2yC,KAAKA,EAAE,OAAOh6C,CAAC,CAAC,EAAE+gD,GAAG,SAAS15C,EAAEpH,GAAG,IAAI,IAAI7U,EAAEyuD,EAAExyC,EAAE9e,OAAOsD,EAAEguD,EAAE55C,EAAEpU,IAAIguD,GAAGzuD,EAAEic,EAAExb,GAAGwb,EAAExb,KAAKwb,EAAEwyC,GAAGxyC,EAAEwyC,GAAGzuD,CAAC,EAAE82D,GAAG,SAAS76C,EAAEpH,GAAG,MAAM,uBAAuBA,EAAEE,KAAK,CAACA,KAAK,oBAAoBgiD,SAASliD,EAAE+gD,WAAW//B,KAAI,SAAShhB,GAAG,OAAOygD,GAAGr5C,EAAEpH,EAAE,KAAIygD,GAAGr5C,EAAEpH,EAAE,EAAEshD,GAAG,SAASl6C,EAAEpH,GAAG,SAAS7U,EAAE6U,GAAG,IAAI7U,EAAEyuD,EAAExyC,EAAE65C,KAAKjhD,EAAE,GAAGA,EAAEA,GAAGpU,EAAEguD,EAAE,GAAG,OAAOxyC,EAAE+5C,WAAWh2D,EAAE,CAAC,EAAE,GAAGyuD,EAAEphD,SAAQ,SAAS4O,GAAGjc,EAAE,IAAIic,EAAE,GAAGjc,EAAE,IAAIic,EAAE,EAAE,KAAIjc,EAAEyuD,EAAEA,EAAEtxD,OAAO,GAAG0X,EAAE,EAAE,CAAC7U,EAAES,GAAG,CAACA,EAAET,EAAE,CAAC,SAASyuD,EAAExyC,EAAEpH,GAAG,IAAI,IAAI7U,KAAKic,EAAE,CAAC,IAAIwyC,EAAExyC,EAAEjc,UAAU6U,EAAE45C,EAAEqM,cAAcrM,EAAEqM,aAAarM,EAAE/oC,IAAI+oC,EAAEphD,SAAQ,SAAS4O,GAAGxb,EAAEwb,EAAE,GAAGA,EAAEA,GAAG,CAAC,IAAG5L,EAAE3P,KAAK+tD,EAAE,CAAC,CAAC,IAAIhuD,EAAE,CAAC,EAAEoW,EAAE,CAAC,EAAE3Y,EAAE,CAAC,EAAEmS,EAAE,GAAGu+C,GAAE,EAAG,OAAO/5C,EAAExH,SAAQ,SAASrN,EAAEyuD,GAAG,IAAIhuD,EAAEoW,EAAEoF,EAAE65C,KAAK91D,EAAE,GAAGA,EAAEA,GAAG6W,EAAE1Z,OAAO,IAAI0Z,EAAE,GAAG,KAAKA,EAAE,GAAG,KAAKpW,EAAEoU,IAAI+5C,GAAG/5C,EAAE+5C,GAAG5uD,EAAE6U,EAAE45C,GAAGhuD,EAAE,IAAGoU,EAAExH,SAAQ,SAAS4O,GAAG,IAAIpH,EAAE45C,EAAEhuD,EAAET,EAAEic,GAAG5L,EAAE5P,EAAE,GAAGmuD,EAAEnuD,EAAE,GAAG,GAAGoU,EAAE3W,EAAEmS,GAAG,UAAUnS,EAAE2W,EAAE6Q,KAAK7Q,EAAEnU,KAAKub,GAAGpH,EAAE6Q,IAAIkpC,EAAEH,EAAE53C,EAAE+3C,GAAG,QAAQ/3C,EAAE43C,EAAEqM,OAAO,IAAIn4C,EAAE8rC,IAAI55C,EAAEA,EAAEA,EAAEvO,OAAOmoD,GAAG53C,EAAE8L,EAAEm4C,MAAMjmD,EAAEimD,OAAO58D,EAAEykB,EAAE+C,IAAI+oC,EAAE/oC,KAAK/C,CAAC,MAAM9L,EAAEhC,EAAEimD,OAAO58D,EAAE2W,EAAE6Q,KAAK7Q,OAAO,GAAGA,EAAEgC,EAAE+3C,GAAG,UAAU/3C,EAAEhC,EAAEimD,OAAOjmD,EAAEolD,QAAQh+C,GAAGpH,EAAEimD,MAAMzqD,EAAEo+C,EAAEvwD,EAAEmS,GAAG,QAAQnS,EAAEuwD,EAAE/oC,KAAK,IAAI9Q,EAAE65C,IAAI55C,EAAEA,EAAE45C,EAAEnoD,OAAOuO,GAAGgC,EAAEjC,EAAEkmD,MAAMrM,EAAEqM,OAAO58D,EAAE0W,EAAE8Q,IAAI7Q,EAAE6Q,KAAK9Q,CAAC,MAAMiC,EAAEhC,EAAEimD,OAAO58D,EAAE2W,EAAE6Q,KAAK7Q,OAAagC,GAANhC,EAAE,CAACoH,IAAO6+C,MAAMzqD,GAAGnS,EAAE2W,EAAE6Q,IAAIkpC,GAAG/5C,CAAC,IAAG45C,EAAEvwD,EAAE2Y,GAAG43C,EAAE53C,EAAE3Y,GAAG2W,EAAExH,SAAQ,SAAS4O,GAAGxb,EAAEwb,EAAE,GAAGA,EAAEA,IAAI5L,EAAE3P,KAAK,CAACub,GAAG,IAAG5L,CAAC,EAAE0qD,GAAG,SAAS9+C,EAAEpH,GAAG,IAAI,IAAI7U,EAAE,EAAEyuD,EAAExyC,EAAE9e,OAAO6C,EAAEyuD,GAAG,CAAC,IAAIhuD,EAAET,EAAEyuD,IAAI,EAAExyC,EAAExb,GAAGoU,EAAE7U,EAAES,EAAE,EAAEguD,EAAEhuD,CAAC,CAAC,OAAOT,CAAC,EAAE42D,GAAG,SAAS36C,GAAG,SAASpH,EAAEoH,EAAEpH,GAAGoH,EAAE5O,SAAQ,SAAS4O,GAAGA,EAAE,IAAIA,GAAGA,GAAG,IAAIjc,EAAES,EAAEwb,GAAGjc,EAAEA,EAAEU,KAAKmU,GAAGpU,EAAEwb,GAAG,CAACpH,EAAE,GAAE,CAAC,SAAS7U,EAAEic,EAAEjc,GAAGic,EAAE5O,SAAQ,SAAS4O,GAAGpH,EAAEoH,EAAEjc,EAAE,GAAE,CAAC,SAASyuD,EAAExyC,EAAEpH,GAAG,uBAAuBoH,EAAElH,KAAKkH,EAAE25C,WAAWvoD,SAAQ,SAAS4O,GAAGwyC,EAAExyC,EAAEpH,EAAE,IAAGoH,EAAElH,QAAQ7W,GAAGA,EAAE+d,EAAElH,MAAMkH,EAAE65C,KAAKjhD,EAAE,CAAC,IAAIpU,EAAE,CAAC,EAAEoW,EAAEoF,EAAE4Z,KAAI,WAAW,MAAM,EAAE,IAAG33B,EAAE,CAAC88D,WAAWnmD,EAAEomD,gBAAgBj7D,EAAEk7D,QAAQl7D,EAAEm7D,aAAa,SAASl/C,EAAEpH,GAAGoH,EAAE5O,SAAQ,SAAS4O,GAAGjc,EAAEic,EAAEpH,EAAE,GAAE,GAAgB,IAAI,IAAIxE,KAArB4L,EAAE5O,QAAQohD,GAAgBhuD,EAAE,IAAI,IAAImuD,EAAEnuD,EAAE4P,GAAGsS,EAAEisC,EAAEzxD,OAAOyX,EAAE,EAAEA,EAAE+N,IAAI/N,EAAE,IAAI,IAAI1C,EAAE0C,EAAE,EAAE1C,EAAEyQ,IAAIzQ,EAAE,CAAC,IAAIsC,EAAEy6C,EAAEL,EAAEh6C,GAAGs6C,EAAEN,EAAE18C,IAAIsC,EAAEqC,EAAEo4C,IAAI5+C,EAAE0qD,GAAGvmD,EAAE06C,MAAMA,GAAG16C,EAAE/N,OAAO4J,EAAE,EAAE6+C,IAAI16C,EAAEqC,EAAEq4C,IAAI7+C,EAAE0qD,GAAGvmD,EAAEy6C,MAAMA,GAAGz6C,EAAE/N,OAAO4J,EAAE,EAAE4+C,EAAE,CAAC,OAAOp4C,CAAC,EAAEw/C,GAAG,SAASp6C,EAAEpH,GAAG,OAAOoH,EAAEpH,GAAE,EAAGoH,EAAEpH,EAAE,EAAEoH,GAAGpH,EAAE,EAAEumD,GAAG,EAAE1E,GAAG,SAASz6C,GAAG,OAAO,IAAIA,EAAE9e,SAAS8e,EAAEm6C,GAAGn6C,IAAI,CAAC06C,KAAK,SAAS9hD,EAAE7U,EAAEyuD,EAAEhuD,GAAG,IAAI,MAAMguD,IAAIA,EAAE,GAAG,MAAMhuD,IAAIA,EAAEoU,EAAE1X,QAAQsxD,EAAEhuD,GAAG,CAAC,IAAIoW,EAAE43C,EAAEhuD,IAAI,EAAEwb,EAAEpH,EAAEgC,GAAG7W,GAAG,EAAEyuD,EAAE53C,EAAE,EAAEpW,EAAEoW,CAAC,CAAC,OAAO43C,CAAC,EAAE4M,MAAM,SAASxmD,EAAE7U,EAAEyuD,EAAEhuD,GAAG,IAAI,MAAMguD,IAAIA,EAAE,GAAG,MAAMhuD,IAAIA,EAAEoU,EAAE1X,QAAQsxD,EAAEhuD,GAAG,CAAC,IAAIoW,EAAE43C,EAAEhuD,IAAI,EAAEwb,EAAEpH,EAAEgC,GAAG7W,GAAG,EAAES,EAAEoW,EAAE43C,EAAE53C,EAAE,CAAC,CAAC,OAAO43C,CAAC,EAAE,EAAY+I,IAAPd,GAAGL,IAAWgF,MAA+C,SAASp/C,EAAEpH,GAAG,OAAO4hD,GAAGH,GAAGU,GAAG/6C,GAAGA,GAAGpH,EAAE,GAAGgjD,GAAG,SAAS57C,EAAEpH,GAAG,GAAGoH,EAAE9e,OAAO,EAAE,OAAO8e,EAAE4Z,KAAI,SAAS5Z,EAAEpH,GAAG,OAAOA,CAAC,IAAG,IAAI7U,EAAEic,EAAE4Z,KAAI,SAAS5Z,GAAG,OAAOpH,EAAEghB,KAAI,SAAShhB,GAAG,OAAOuiD,GAAGn7C,EAAEpH,EAAE,GAAE,IAAG,OAAOsiD,GAAGl7C,EAAEpH,EAAE7U,EAAE,EAAEic,EAAEq/C,YAAYb,GAAGx+C,EAAEs/C,SAASlE,GAAGp7C,EAAEu/C,QAAQ9D,GAAGz7C,EAAEw/C,eAAe9D,GAAG17C,EAAEy/C,gBAAgB1J,EAAE/1C,EAAE0/C,aAAanK,EAAEv1C,EAAE2/C,WAAW9D,GAAG77C,EAAE4/C,SAAS3D,GAAGj8C,EAAE6/C,SAAS3D,GAAGl8C,EAAE8/C,OAAOzD,GAAG57D,OAAOskB,eAAe/E,EAAE,aAAa,CAAClf,OAAM,GAAI,CAD/7pB8X,CAAEmnD,I,sBCmOtEC,GAvNA,WAEI,IAAIr+C,EACAkF,EACAo5C,EACAC,EACAC,EACAC,EAEAC,EAGAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EATAC,EAA2B,GAY/B,SAASC,EAAMC,GACXA,EAAUC,MAAK,WAIX,MAAMC,GAAa,EAAAC,0BAAAC,QAAO3zD,MAAM4zD,OAAO,UACnCjmB,EAAW,IACf,IAAIkmB,EAA+B,CAAC,EACpCd,EAAa,WACTjhD,QAAQwmB,IAAI,C,KAACpkB,IAEb,MAAM4/C,EAAeL,EAChBM,UAA8B,gBAC9B7/C,KAAKA,GAAM,SAAS7D,GACjB,OAAOA,EAAEohB,KAAM,EAAAiiC,0BAAAC,QAAO3zD,MAAMg0D,KAAK,KACrC,IAEJF,EACKG,OACAC,SAgET,SAAoBX,GAEhB,MAAMhhD,GAAI,EAAA4hD,GAAAC,QAAM,SAASC,GAErBxB,IACIwB,EAAU,KAAK9hD,EAAE+hD,MACzB,IAEAf,EACKI,OAAO,QACPY,aACA5mB,SAASA,GACTqmB,KAAK,QAAQ3jD,GAAKoiD,EAAYpiD,EAAEmkD,cAChCR,KAAK,KAAK3jD,GAAKA,EAAExX,IACjBm7D,KAAK,KAAK3jD,GAAKA,EAAEtD,IACjBinD,KAAK,WACD3jD,GACGmiD,EAASiC,SAASpkD,EAAEmkD,aACpB9B,EAAS+B,SAASpkD,EAAEqkD,YACpB,EAAI,IAEXC,UAAU,KAAK,SAAStkD,GACrB,MAAMhI,EAAOwrD,EAAQxjD,EAAEohB,IACvBgf,EAAKkiB,EAAYtiD,EAAEqkD,YAEnBE,EAAmBvsD,EAAKxK,MAAM,aAC9Bg3D,EAAiBpkB,EAAG5yC,MAAM,aAEpB9G,EAAI+9D,EAAAlQ,GAAA,CAAUgQ,EAAiBC,EAAe,CAAC3S,QAAO,KAAS,EAAA6S,GAAAC,SAAkB3sD,EAAMooC,IAAM,EAAA6hB,GAAAV,aAAYvpD,EAAKooC,GACpH,OAAQl+B,GACOxb,EAAEwb,EAErB,IACCyJ,MACA8T,OAAM,KAAO,IACb7C,MAAK,KACFsmC,EACKC,MAAKnjD,GAAKwjD,EAAU,IAAIA,EAAQ,CAACxjD,EAAEohB,IAAIkhC,EAAYtiD,EAAEqkD,eAC1D5B,GAAA,GAGZ,CAjGIyB,CAAWT,GACSA,EAAamB,QAG5BrB,OAAO,UACPsB,QAAQ,SAAS,GACjBlB,KAAK,MAAM3jD,GAAKA,EAAEohB,KAClBmiC,OAAO,QACPI,KAAK,KAAK3jD,GAAKA,EAAExX,IACjBm7D,KAAK,KAAK3jD,GAAKA,EAAEtD,IACjBinD,KAAK,KAAK3jD,GAAKsiD,EAAYtiD,EAAEqkD,cAC7BV,KAAK,QAAQ3jD,GAAKoiD,EAAYpiD,EAAEmkD,cAChCR,KAAK,UAAW,GAChBR,MAAKnjD,IACFwjD,EAAU,IAAIA,EAAQ,CAACxjD,EAAEohB,IAAIkhC,EAAYtiD,EAAEqkD,YAAW,GAElE,EAEA1B,EAAe,WACXD,GACJ,EAEAE,EAAiB,WACbF,GACJ,EAEAG,EAAoB,WACZh/C,EAAKw1C,OAAMr5C,GAAKoiD,EAAYpiD,EAAEmkD,eAC9BzB,GAER,EAEAI,EAAiB,WACbJ,GACJ,EAEAK,EAAoB,WAChBl/C,EAAKvQ,SAAQ0M,GAAKwjD,EAAU,IAAIA,EAAQ,CAACxjD,EAAEohB,IAAIkhC,EAAYtiD,EAAEqkD,eACzDxgD,EAAKw1C,OAAMr5C,GAAKsiD,EAAYtiD,EAAEqkD,eAC9B3B,GAER,EAGAD,EAAmB,WAInB,CAqDJ,GACJ,CA6DA,OA3DAQ,EAAMp/C,KAAO,SAAS7gB,GAIlB,OAFI6gB,EAAO7gB,EACmB,mBAAf0/D,GAA2BA,IACnCO,CACd,EAEGA,EAAMd,SAAW,SAASn/D,GAI1B,OAFIm/D,EAAWn/D,EACmB,mBAAnB4/D,GAA+BA,IACvCK,CACP,EAEAA,EAAMb,YAAc,SAASp/D,GAG7B,OAFIo/D,EAAcp/D,EACmB,mBAAtB6/D,GAAkCA,IAC1CI,CACP,EAEAA,EAAMX,YAAc,SAASt/D,GACzB,OAAKkF,UAAU9E,QACfk/D,EAAct/D,EACmB,mBAAtB+/D,GAAkCA,IAC1CE,GAH2BX,CAIlC,EAIAW,EAAMZ,SAAW,SAASr/D,GACtB,OAAKkF,UAAU9E,QACfi/D,EAAWr/D,EACmB,mBAAnB8/D,GAA+BA,IACvCG,GAH2BZ,CAIlC,EAGAY,EAAMl6C,OAAS,SAAS/lB,GACpB,OAAKkF,UAAU9E,QACf2lB,EAAS/lB,EACmB,mBAAjB2/D,GAA6BA,IACrCM,GAH2Bl6C,CAIlC,EAEAk6C,EAAMV,KAAO,SAAUv/D,GAEnB,OADAu/D,EAAOv/D,EACAigE,CACX,EAEAA,EAAM6B,UAAY,SAAU9hE,GAExB,OADAggE,EAAc,IAAIA,EAAYhgE,GACvBigE,CACX,EAEAA,EAAMT,WAAa,SAAUx/D,GAEzB,OADAw/D,EAAax/D,EACNigE,CACX,EAEOA,CACX,ECjOA8B,GAAAnhE,EAAA,S,eCEc,GAFdohE,GAAAphE,EAAA,UAEc+1B,MAAK,G,ICFnBqrC,GAAAphE,EAAA,SAEAqhE,GAAe,CACbC,KAAKC,EAASlqD,GACZ,MAAMy5C,GAAI,EAAAsQ,GAAArrC,MAAK1e,EAAO+pD,GAAAI,IACtBD,EAAQE,OAAO3Q,EAAG,GAClByQ,EAAQG,IAAI,EAAG,EAAG5Q,EAAG,EAAGsQ,GAAAO,IAC1B,GCLFC,IAFAR,GAAAphE,EAAA,SAEe,CACbshE,KAAKC,EAASlqD,GACZ,MAAMy5C,GAAI,EAAAsQ,GAAArrC,MAAK1e,EAAO,GAAK,EAC3BkqD,EAAQE,QAAO,EAAK3Q,GAAIA,GACxByQ,EAAQM,QAAQ/Q,GAAIA,GACpByQ,EAAQM,QAAQ/Q,GAAG,EAAKA,GACxByQ,EAAQM,OAAO/Q,GAAG,EAAKA,GACvByQ,EAAQM,OAAO/Q,GAAIA,GACnByQ,EAAQM,OAAO,EAAI/Q,GAAIA,GACvByQ,EAAQM,OAAO,EAAI/Q,EAAGA,GACtByQ,EAAQM,OAAO/Q,EAAGA,GAClByQ,EAAQM,OAAO/Q,EAAG,EAAIA,GACtByQ,EAAQM,QAAQ/Q,EAAG,EAAIA,GACvByQ,EAAQM,QAAQ/Q,EAAGA,GACnByQ,EAAQM,QAAO,EAAK/Q,EAAGA,GACvByQ,EAAQO,WACV,IChBF,MAAMC,IAAQ,GAFdX,GAAAphE,EAAA,UAEc+1B,MAAK,EAAI,GACjBisC,GAAkB,EAARD,G,IAEhBE,GAAe,CACbX,KAAKC,EAASlqD,GACZ,MAAMyB,GAAI,EAAAsoD,GAAArrC,MAAK1e,EAAO2qD,IAChBp9D,EAAIkU,EAAIipD,GACdR,EAAQE,OAAO,GAAI3oD,GACnByoD,EAAQM,OAAOj9D,EAAG,GAClB28D,EAAQM,OAAO,EAAG/oD,GAClByoD,EAAQM,QAAQj9D,EAAG,GACnB28D,EAAQO,WACV,GCZFI,ICFAd,GAAAphE,EAAA,SCAAohE,GAAAphE,EAAA,SFAAohE,GAAAphE,EAAA,SAEe,CACbshE,KAAKC,EAASlqD,GACZ,MAAMo6C,GAAI,EAAA2P,GAAArrC,MAAK1e,GACTzS,GAAK6sD,EAAI,EACf8P,EAAQY,KAAKv9D,EAAGA,EAAG6sD,EAAGA,EACxB,IGPF2P,GAAAphE,EAAA,SCAAohE,GAAAphE,EAAA,SAEA,MACMoiE,IAAK,EAAAhB,GAAAp7C,KAAIo7C,GAAAI,GAAK,KAAM,EAAAJ,GAAAp7C,KAAI,EAAIo7C,GAAAI,GAAK,IACjCa,IAAK,EAAAjB,GAAAp7C,KAAIo7C,GAAAO,IAAM,IAAMS,GACrBE,KAAM,EAAAlB,GAAAl7C,KAAIk7C,GAAAO,IAAM,IAAMS,G,IAE5BG,GAAe,CACbjB,KAAKC,EAASlqD,GACZ,MAAMy5C,GAAI,EAAAsQ,GAAArrC,MAPH,kBAOQ1e,GACTzS,EAAIy9D,GAAKvR,EACTh4C,EAAIwpD,GAAKxR,EACfyQ,EAAQE,OAAO,GAAI3Q,GACnByQ,EAAQM,OAAOj9D,EAAGkU,GAClB,IAAK,IAAIhW,EAAI,EAAGA,EAAI,IAAKA,EAAG,CAC1B,MAAMoW,EAAIkoD,GAAAO,IAAM7+D,EAAI,EACdmU,GAAI,EAAAmqD,GAAAl7C,KAAIhN,GACRxG,GAAI,EAAA0uD,GAAAp7C,KAAI9M,GACdqoD,EAAQM,OAAOnvD,EAAIo+C,GAAI75C,EAAI65C,GAC3ByQ,EAAQM,OAAO5qD,EAAIrS,EAAI8N,EAAIoG,EAAGpG,EAAI9N,EAAIqS,EAAI6B,EAC5C,CACAyoD,EAAQO,WACV,GCpBF,MAAMU,IAAQ,GAFdpB,GAAAphE,EAAA,UAEc+1B,MAAK,G,IAEnB0sC,GAAe,CACbnB,KAAKC,EAASlqD,GACZ,MAAMyB,IAAK,EAAAsoD,GAAArrC,MAAK1e,GAAgB,EAARmrD,KACxBjB,EAAQE,OAAO,EAAO,EAAJ3oD,GAClByoD,EAAQM,QAAQW,GAAQ1pD,GAAIA,GAC5ByoD,EAAQM,OAAOW,GAAQ1pD,GAAIA,GAC3ByoD,EAAQO,WACV,ICTY,GAFdV,GAAAphE,EAAA,UAEc+1B,MAAK,GCFnBqrC,GAAAphE,EAAA,SAEA,MAAM0iE,IAAI,GACJC,IAAI,EAAAvB,GAAArrC,MAAK,GAAK,EACd6sC,GAAI,GAAI,EAAAxB,GAAArrC,MAAK,IACb8sC,GAAkB,GAAbD,GAAI,EAAI,G,IAEnBE,GAAe,CACbxB,KAAKC,EAASlqD,GACZ,MAAMy5C,GAAI,EAAAsQ,GAAArrC,MAAK1e,EAAOwrD,IAChBtP,EAAKzC,EAAI,EAAG2C,EAAK3C,EAAI8R,GACrBpP,EAAKD,EAAIG,EAAK5C,EAAI8R,GAAI9R,EACtBiS,GAAMvP,EAAIwP,EAAKtP,EACrB6N,EAAQE,OAAOlO,EAAIE,GACnB8N,EAAQM,OAAOrO,EAAIE,GACnB6N,EAAQM,OAAOkB,EAAIC,GACnBzB,EAAQM,OAAOa,GAAInP,EAAKoP,GAAIlP,EAAIkP,GAAIpP,EAAKmP,GAAIjP,GAC7C8N,EAAQM,OAAOa,GAAIlP,EAAKmP,GAAIjP,EAAIiP,GAAInP,EAAKkP,GAAIhP,GAC7C6N,EAAQM,OAAOa,GAAIK,EAAKJ,GAAIK,EAAIL,GAAII,EAAKL,GAAIM,GAC7CzB,EAAQM,OAAOa,GAAInP,EAAKoP,GAAIlP,EAAIiP,GAAIjP,EAAKkP,GAAIpP,GAC7CgO,EAAQM,OAAOa,GAAIlP,EAAKmP,GAAIjP,EAAIgP,GAAIhP,EAAKiP,GAAInP,GAC7C+N,EAAQM,OAAOa,GAAIK,EAAKJ,GAAIK,EAAIN,GAAIM,EAAKL,GAAII,GAC7CxB,EAAQO,WACV,GCvBFV,GAAAphE,EAAA,SbsCe,SAAAijE,GAAgB7rD,EAAMC,GACnC,IAAIkqD,EAAU,KACV34B,GAAO,EAAAs6B,GAAAC,UAASC,GAKpB,SAASA,IACP,IAAIzlD,EAGJ,GAFK4jD,IAASA,EAAU5jD,EAASirB,KACjCxxB,EAAKvO,MAAMkD,KAAMzH,WAAWg9D,KAAKC,GAAUlqD,EAAKxO,MAAMkD,KAAMzH,YACxDqZ,EAAQ,OAAO4jD,EAAU,KAAM5jD,EAAS,IAAM,IACpD,CAcA,OAtBAvG,EAAuB,mBAATA,EAAsBA,GAAO,EAAA+pD,GAAAJ,SAAS3pD,GAAQiqD,IAC5DhqD,EAAuB,mBAATA,EAAsBA,GAAO,EAAA8pD,GAAAJ,cAAkB7iD,IAAT7G,EAAqB,IAAMA,GAS/E+rD,EAAOhsD,KAAO,SAAS4wB,GACrB,OAAO1jC,UAAU9E,QAAU4X,EAAoB,mBAAN4wB,EAAmBA,GAAI,EAAAm5B,GAAAJ,SAAS/4B,GAAIo7B,GAAUhsD,CACzF,EAEAgsD,EAAO/rD,KAAO,SAAS2wB,GACrB,OAAO1jC,UAAU9E,QAAU6X,EAAoB,mBAAN2wB,EAAmBA,GAAI,EAAAm5B,GAAAJ,UAAU/4B,GAAIo7B,GAAU/rD,CAC1F,EAEA+rD,EAAO7B,QAAU,SAASv5B,GACxB,OAAO1jC,UAAU9E,QAAU+hE,EAAe,MAALv5B,EAAY,KAAOA,EAAGo7B,GAAU7B,CACvE,EAEO6B,CACT,C,IctCAC,GAfe,CAACC,EAAuBn+C,KAEnC,MAAM0zC,EAAO9xD,KAAK4e,IAAMR,EAASA,GAUjC,OAAO89C,GAT2C,CAC9CM,OAAQlC,GACRmC,SAASf,GACTgB,OAAOvB,GACPwB,MAAM9B,GACN+B,QAAQ1B,GACR2B,KAAKrB,GACLsB,IAAIf,IAEcQ,GAAazK,EAA5B,IAAuC,SCflD,IAAIiL,GACAC,GACAC,GAAe,EACfC,GAAgB,EAChBC,GAAc,CAAC,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,WAC7HC,GAAmB,EACnBC,GAAgB9F,KAChB+F,GAAe,GACfC,GAAqB,GACrBC,GAAoB,GACpBC,GAAkB,GAClBC,GAA0B,EAG9B,IAAIC,IAAgB,IAAIC,EADE9D,EAAA+D,IAAOC,oBACWC,iBAgH5C,SAASC,IAAgBztB,QAACA,EAAOtG,SAAEA,IACjCnzB,QAAQwmB,IAAI,C,SAAC2M,E,wBAAUyzB,KACvB,IAAK,IAAI3hE,EAAI,EAAGA,EAAIw0C,EAAQ93C,OAAQsD,GAAK,EAAG,CAI1C,MAAM29B,EAAQ15B,KAAKqK,OAAOtO,EAAI,GAAK,GAAK2hE,GAAwB,GAC1DjnC,GAACA,EAAE+iC,WAACA,EAAUE,WAACA,GAAc8D,GAAU9jC,GACvCrkB,EAAU,C,GAACohB,EAAI54B,EAAE0yC,EAAQx0C,GAAIgW,EAAEw+B,EAAQx0C,EAAI,G,WAAIy9D,E,WAAYE,GACjE4D,GAAKthE,KAAKqZ,EACZ,CACAqoD,IAA2BntB,EAAQ93C,OAC9BwxC,IACHozB,GAAcnkD,KAAKokD,IACnBI,GAA0B,EAE9B,CA9HAO,KAAK7pC,iBAAiB,WAAY8pC,IAChC,MAAM7tD,KACJA,EAAI8tD,cACJA,EAAavsC,OACbA,EAAMwsC,WACNA,EAAU3G,YACVA,EAAW/tB,QACXA,EAAOC,QACPA,EAAOC,aACPA,EAAYy0B,SACZA,EAAQC,SACRA,EAAQlgD,OACRA,EAAMmgD,IACNA,GAcEL,EAAIhlD,KACR,OAAQ7I,GACN,IAAK,OACHyG,QAAQwmB,IAAI,C,WAAC8gC,IACbhB,GAAmBh/C,EACnB4+C,GAAMprC,EAAOtL,WAAW,MACxB22C,GAAeoB,EACfnB,GAAgBoB,EAuHtB,SAAc1sC,GACZ,MAAMta,EAAKsa,EAAOtL,WAAW,UACzBhP,IACGA,EAAImpB,aAAa,2BACpB3pB,QAAQ3V,MAAM,gDAMhB47D,GAAS,IAAItzB,GAAWnyB,EAAI2lD,GAAcC,GAAe,IAAKc,IAElE,CAlIMQ,CAAKL,GACLd,GAAcnkD,KAAK,IACnBmkD,GAAc7F,SAAS2F,IACvBE,GAAc5F,YAAY2G,GAC1Bf,GAAc3F,SAAS,CAAC4E,GAAO,SAAU,KACzCe,GAAc1F,YAAY,CAAC8G,IAAMnC,GAAO,SAAU,KAClDe,GAAcxF,YAAW,IAuF/B,WACE,MAAM6G,EAAWhG,0BAAAC,OAAUgF,IAAK5E,UAA4B,gBAC5DiE,GAAI2B,OACJ3B,GAAI4B,UAAU,EAAG,EAAG,KAAU,MAC9BF,EAASlG,MAAK,WACZ,MAAMtwD,EAAOwwD,0BAAAC,OAA8B3zD,MAAM2zD,OAAO,QAC5CkG,GAAU32D,EAAK8wD,KAAK,KACpB8F,GAAU52D,EAAK8wD,KAAK,KACpB+F,EAAO72D,EAAK8wD,KAAK,QACjBgE,GAAIgC,UAAYD,EAChB/B,GAAIiC,YAAc,UAClBjC,GAAIkC,UAAY,GAChBlC,GAAImC,aAAa,EAAG,EAAG,EAAG,EAAEN,EAAUzB,GAAoB,MAAS0B,EAAU1B,GAAoB,KACjGJ,GAAIoC,YAEJ,MAAMC,EAAUn3D,EAAK8wD,KAAK,KACtBqG,IACArC,GAAI+B,KAAK,IAAIO,OAAOD,IACpBrC,GAAIuC,OAAO,IAAID,OAAOD,IAExC,IACArC,GAAIwC,YAAc,EAClBxC,GAAIyC,SACN,CA9GqCC,KAC/B5oD,QAAQwmB,IAAI,C,cAAC+/B,G,IAAeM,KAC5BjF,0BAAAC,OAAUgF,IAAKplE,KAAK8kE,IAEtB,MACA,IAAK,iBAEGN,KACFA,GAAOzwB,cAAc5C,GACrBqzB,GAAO9vB,iBAGX,MACF,IAAK,iBAEGtD,GAAWC,GAAgBmzB,KAC7BA,GAAOrwB,cAAc/C,EAASC,GAC9BmzB,GAAOpvB,gBAGX,MACF,IAAK,mBAEGhE,GAAWC,GAAgBmzB,KAC7BQ,GAAY3zB,EAEZ0zB,GAAO,GACPP,GAAO4C,eAAeh2B,EAASC,IAGnC,MACF,IAAK,OACCD,GAASq0B,GAAgB,CAACztB,QAAQ,IAAIjxC,aAAaqqC,GAAUM,UAAS,IAE5E,MACA,IAAK,aACCs0B,IACFznD,QAAQwmB,IAAI,C,IAACihC,IACbf,GAAYe,GAGhB,MACA,IAAK,SAEGxB,IAAQA,GAAOztB,SAErB,MACF,IAAK,sBACH,GAAImoB,EAAY,CACdgG,GAAShG,EACT,IAAK,IAAI17D,EAAI,EAAGA,EAAIuhE,GAAK7kE,OAAQsD,IAC3ByhE,GAAUzhE,KACZyhE,GAAUzhE,GAAGy9D,WAAa/B,EAAY17D,IAExCuhE,GAAKvhE,GAAGy9D,WAAa/B,EAAY17D,EAErC,CACA+a,QAAQwmB,IAAI,mBAAoBggC,IAElC,MACA,IAAK,qBACCc,IACFf,GAAc5F,YAAY2G,GAC1Bf,GAAcnkD,KAAKokD,KAGzB,G","sources":["node_modules/object-keys/isArguments.js","node_modules/object-keys/implementation.js","node_modules/has-property-descriptors/index.js","node_modules/get-intrinsic/index.js","node_modules/has-symbols/index.js","node_modules/has-symbols/shams.js","node_modules/function-bind/index.js","node_modules/function-bind/implementation.js","node_modules/has/src/index.js","node_modules/call-bind/callBound.js","node_modules/call-bind/index.js","node_modules/functions-have-names/index.js","node_modules/has-tostringtag/shams.js","node_modules/side-channel/index.js","node_modules/object-inspect/index.js","node_modules/isarray/index.js","node_modules/is-string/index.js","node_modules/is-map/index.js","node_modules/is-set/index.js","node_modules/has-bigints/index.js","node_modules/twgl.js/dist/5.x/twgl-full.module.js","src/static/shaders/stencilShader.ts","src/static/createCone.ts","src/static/shaders/vornoiShader.ts","src/static/shaders/intermediateShader.ts","src/static/shaders/transformFeedbackShader.ts","src/static/lloydClass.ts","node_modules/d3-brush/src/brush.js","node_modules/d3-drag/src/nodrag.js","node_modules/d3-zoom/src/zoom.js","node_modules/d3-interpolate/src/zoom.js","node_modules/d3-zoom/src/transform.js","node_modules/object-keys/index.js","node_modules/define-properties/index.js","node_modules/object.assign/implementation.js","node_modules/object.assign/polyfill.js","node_modules/object.assign/shim.js","node_modules/object.assign/index.js","node_modules/regexp.prototype.flags/implementation.js","node_modules/regexp.prototype.flags/polyfill.js","node_modules/regexp.prototype.flags/shim.js","node_modules/regexp.prototype.flags/index.js","node_modules/process/browser.js","node_modules/is-arguments/index.js","node_modules/internal-slot/index.js","node_modules/stop-iteration-iterator/index.js","node_modules/es-get-iterator/index.js","node_modules/object-is/implementation.js","node_modules/object-is/shim.js","node_modules/object-is/index.js","node_modules/object-is/polyfill.js","node_modules/is-callable/index.js","node_modules/for-each/index.js","node_modules/available-typed-arrays/index.js","node_modules/is-typed-array/index.js","node_modules/gopd/index.js","node_modules/is-array-buffer/index.js","node_modules/is-date-object/index.js","node_modules/is-regex/index.js","node_modules/is-shared-array-buffer/index.js","node_modules/is-number-object/index.js","node_modules/is-boolean-object/index.js","node_modules/is-symbol/index.js","node_modules/is-bigint/index.js","node_modules/which-boxed-primitive/index.js","node_modules/is-weakmap/index.js","node_modules/is-weakset/index.js","node_modules/which-collection/index.js","node_modules/which-typed-array/index.js","node_modules/deep-equal/index.js","node_modules/flubber/build/flubber.min.js","src/d3/rednerShapes.ts","node_modules/d3-shape/src/symbol.js","node_modules/d3-shape/src/symbol/asterisk.js","node_modules/d3-shape/src/symbol/circle.js","node_modules/d3-shape/src/symbol/cross.js","node_modules/d3-shape/src/symbol/diamond.js","node_modules/d3-shape/src/symbol/square.js","node_modules/d3-shape/src/symbol/diamond2.js","node_modules/d3-shape/src/symbol/plus.js","node_modules/d3-shape/src/symbol/square2.js","node_modules/d3-shape/src/symbol/star.js","node_modules/d3-shape/src/symbol/triangle.js","node_modules/d3-shape/src/symbol/triangle2.js","node_modules/d3-shape/src/symbol/wye.js","node_modules/d3-shape/src/symbol/times.js","src/static/shapes.ts","src/workers/shapeWorker.ts"],"sourcesContent":["'use strict';\n\nvar toStr = Object.prototype.toString;\n\nmodule.exports = function isArguments(value) {\n\tvar str = toStr.call(value);\n\tvar isArgs = str === '[object Arguments]';\n\tif (!isArgs) {\n\t\tisArgs = str !== '[object Array]' &&\n\t\t\tvalue !== null &&\n\t\t\ttypeof value === 'object' &&\n\t\t\ttypeof value.length === 'number' &&\n\t\t\tvalue.length >= 0 &&\n\t\t\ttoStr.call(value.callee) === '[object Function]';\n\t}\n\treturn isArgs;\n};\n","'use strict';\n\nvar keysShim;\nif (!Object.keys) {\n\t// modified from https://github.com/es-shims/es5-shim\n\tvar has = Object.prototype.hasOwnProperty;\n\tvar toStr = Object.prototype.toString;\n\tvar isArgs = require('./isArguments'); // eslint-disable-line global-require\n\tvar isEnumerable = Object.prototype.propertyIsEnumerable;\n\tvar hasDontEnumBug = !isEnumerable.call({ toString: null }, 'toString');\n\tvar hasProtoEnumBug = isEnumerable.call(function () {}, 'prototype');\n\tvar dontEnums = [\n\t\t'toString',\n\t\t'toLocaleString',\n\t\t'valueOf',\n\t\t'hasOwnProperty',\n\t\t'isPrototypeOf',\n\t\t'propertyIsEnumerable',\n\t\t'constructor'\n\t];\n\tvar equalsConstructorPrototype = function (o) {\n\t\tvar ctor = o.constructor;\n\t\treturn ctor && ctor.prototype === o;\n\t};\n\tvar excludedKeys = {\n\t\t$applicationCache: true,\n\t\t$console: true,\n\t\t$external: true,\n\t\t$frame: true,\n\t\t$frameElement: true,\n\t\t$frames: true,\n\t\t$innerHeight: true,\n\t\t$innerWidth: true,\n\t\t$onmozfullscreenchange: true,\n\t\t$onmozfullscreenerror: true,\n\t\t$outerHeight: true,\n\t\t$outerWidth: true,\n\t\t$pageXOffset: true,\n\t\t$pageYOffset: true,\n\t\t$parent: true,\n\t\t$scrollLeft: true,\n\t\t$scrollTop: true,\n\t\t$scrollX: true,\n\t\t$scrollY: true,\n\t\t$self: true,\n\t\t$webkitIndexedDB: true,\n\t\t$webkitStorageInfo: true,\n\t\t$window: true\n\t};\n\tvar hasAutomationEqualityBug = (function () {\n\t\t/* global window */\n\t\tif (typeof window === 'undefined') { return false; }\n\t\tfor (var k in window) {\n\t\t\ttry {\n\t\t\t\tif (!excludedKeys['$' + k] && has.call(window, k) && window[k] !== null && typeof window[k] === 'object') {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tequalsConstructorPrototype(window[k]);\n\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t}());\n\tvar equalsConstructorPrototypeIfNotBuggy = function (o) {\n\t\t/* global window */\n\t\tif (typeof window === 'undefined' || !hasAutomationEqualityBug) {\n\t\t\treturn equalsConstructorPrototype(o);\n\t\t}\n\t\ttry {\n\t\t\treturn equalsConstructorPrototype(o);\n\t\t} catch (e) {\n\t\t\treturn false;\n\t\t}\n\t};\n\n\tkeysShim = function keys(object) {\n\t\tvar isObject = object !== null && typeof object === 'object';\n\t\tvar isFunction = toStr.call(object) === '[object Function]';\n\t\tvar isArguments = isArgs(object);\n\t\tvar isString = isObject && toStr.call(object) === '[object String]';\n\t\tvar theKeys = [];\n\n\t\tif (!isObject && !isFunction && !isArguments) {\n\t\t\tthrow new TypeError('Object.keys called on a non-object');\n\t\t}\n\n\t\tvar skipProto = hasProtoEnumBug && isFunction;\n\t\tif (isString && object.length > 0 && !has.call(object, 0)) {\n\t\t\tfor (var i = 0; i < object.length; ++i) {\n\t\t\t\ttheKeys.push(String(i));\n\t\t\t}\n\t\t}\n\n\t\tif (isArguments && object.length > 0) {\n\t\t\tfor (var j = 0; j < object.length; ++j) {\n\t\t\t\ttheKeys.push(String(j));\n\t\t\t}\n\t\t} else {\n\t\t\tfor (var name in object) {\n\t\t\t\tif (!(skipProto && name === 'prototype') && has.call(object, name)) {\n\t\t\t\t\ttheKeys.push(String(name));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (hasDontEnumBug) {\n\t\t\tvar skipConstructor = equalsConstructorPrototypeIfNotBuggy(object);\n\n\t\t\tfor (var k = 0; k < dontEnums.length; ++k) {\n\t\t\t\tif (!(skipConstructor && dontEnums[k] === 'constructor') && has.call(object, dontEnums[k])) {\n\t\t\t\t\ttheKeys.push(dontEnums[k]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn theKeys;\n\t};\n}\nmodule.exports = keysShim;\n","'use strict';\n\nvar GetIntrinsic = require('get-intrinsic');\n\nvar $defineProperty = GetIntrinsic('%Object.defineProperty%', true);\n\nvar hasPropertyDescriptors = function hasPropertyDescriptors() {\n\tif ($defineProperty) {\n\t\ttry {\n\t\t\t$defineProperty({}, 'a', { value: 1 });\n\t\t\treturn true;\n\t\t} catch (e) {\n\t\t\t// IE 8 has a broken defineProperty\n\t\t\treturn false;\n\t\t}\n\t}\n\treturn false;\n};\n\nhasPropertyDescriptors.hasArrayLengthDefineBug = function hasArrayLengthDefineBug() {\n\t// node v0.6 has a bug where array lengths can be Set but not Defined\n\tif (!hasPropertyDescriptors()) {\n\t\treturn null;\n\t}\n\ttry {\n\t\treturn $defineProperty([], 'length', { value: 1 }).length !== 1;\n\t} catch (e) {\n\t\t// In Firefox 4-22, defining length on an array throws an exception.\n\t\treturn true;\n\t}\n};\n\nmodule.exports = hasPropertyDescriptors;\n","'use strict';\n\nvar undefined;\n\nvar $SyntaxError = SyntaxError;\nvar $Function = Function;\nvar $TypeError = TypeError;\n\n// eslint-disable-next-line consistent-return\nvar getEvalledConstructor = function (expressionSyntax) {\n\ttry {\n\t\treturn $Function('\"use strict\"; return (' + expressionSyntax + ').constructor;')();\n\t} catch (e) {}\n};\n\nvar $gOPD = Object.getOwnPropertyDescriptor;\nif ($gOPD) {\n\ttry {\n\t\t$gOPD({}, '');\n\t} catch (e) {\n\t\t$gOPD = null; // this is IE 8, which has a broken gOPD\n\t}\n}\n\nvar throwTypeError = function () {\n\tthrow new $TypeError();\n};\nvar ThrowTypeError = $gOPD\n\t? (function () {\n\t\ttry {\n\t\t\t// eslint-disable-next-line no-unused-expressions, no-caller, no-restricted-properties\n\t\t\targuments.callee; // IE 8 does not throw here\n\t\t\treturn throwTypeError;\n\t\t} catch (calleeThrows) {\n\t\t\ttry {\n\t\t\t\t// IE 8 throws on Object.getOwnPropertyDescriptor(arguments, '')\n\t\t\t\treturn $gOPD(arguments, 'callee').get;\n\t\t\t} catch (gOPDthrows) {\n\t\t\t\treturn throwTypeError;\n\t\t\t}\n\t\t}\n\t}())\n\t: throwTypeError;\n\nvar hasSymbols = require('has-symbols')();\n\nvar getProto = Object.getPrototypeOf || function (x) { return x.__proto__; }; // eslint-disable-line no-proto\n\nvar needsEval = {};\n\nvar TypedArray = typeof Uint8Array === 'undefined' ? undefined : getProto(Uint8Array);\n\nvar INTRINSICS = {\n\t'%AggregateError%': typeof AggregateError === 'undefined' ? undefined : AggregateError,\n\t'%Array%': Array,\n\t'%ArrayBuffer%': typeof ArrayBuffer === 'undefined' ? undefined : ArrayBuffer,\n\t'%ArrayIteratorPrototype%': hasSymbols ? getProto([][Symbol.iterator]()) : undefined,\n\t'%AsyncFromSyncIteratorPrototype%': undefined,\n\t'%AsyncFunction%': needsEval,\n\t'%AsyncGenerator%': needsEval,\n\t'%AsyncGeneratorFunction%': needsEval,\n\t'%AsyncIteratorPrototype%': needsEval,\n\t'%Atomics%': typeof Atomics === 'undefined' ? undefined : Atomics,\n\t'%BigInt%': typeof BigInt === 'undefined' ? undefined : BigInt,\n\t'%BigInt64Array%': typeof BigInt64Array === 'undefined' ? undefined : BigInt64Array,\n\t'%BigUint64Array%': typeof BigUint64Array === 'undefined' ? undefined : BigUint64Array,\n\t'%Boolean%': Boolean,\n\t'%DataView%': typeof DataView === 'undefined' ? undefined : DataView,\n\t'%Date%': Date,\n\t'%decodeURI%': decodeURI,\n\t'%decodeURIComponent%': decodeURIComponent,\n\t'%encodeURI%': encodeURI,\n\t'%encodeURIComponent%': encodeURIComponent,\n\t'%Error%': Error,\n\t'%eval%': eval, // eslint-disable-line no-eval\n\t'%EvalError%': EvalError,\n\t'%Float32Array%': typeof Float32Array === 'undefined' ? undefined : Float32Array,\n\t'%Float64Array%': typeof Float64Array === 'undefined' ? undefined : Float64Array,\n\t'%FinalizationRegistry%': typeof FinalizationRegistry === 'undefined' ? undefined : FinalizationRegistry,\n\t'%Function%': $Function,\n\t'%GeneratorFunction%': needsEval,\n\t'%Int8Array%': typeof Int8Array === 'undefined' ? undefined : Int8Array,\n\t'%Int16Array%': typeof Int16Array === 'undefined' ? undefined : Int16Array,\n\t'%Int32Array%': typeof Int32Array === 'undefined' ? undefined : Int32Array,\n\t'%isFinite%': isFinite,\n\t'%isNaN%': isNaN,\n\t'%IteratorPrototype%': hasSymbols ? getProto(getProto([][Symbol.iterator]())) : undefined,\n\t'%JSON%': typeof JSON === 'object' ? JSON : undefined,\n\t'%Map%': typeof Map === 'undefined' ? undefined : Map,\n\t'%MapIteratorPrototype%': typeof Map === 'undefined' || !hasSymbols ? undefined : getProto(new Map()[Symbol.iterator]()),\n\t'%Math%': Math,\n\t'%Number%': Number,\n\t'%Object%': Object,\n\t'%parseFloat%': parseFloat,\n\t'%parseInt%': parseInt,\n\t'%Promise%': typeof Promise === 'undefined' ? undefined : Promise,\n\t'%Proxy%': typeof Proxy === 'undefined' ? undefined : Proxy,\n\t'%RangeError%': RangeError,\n\t'%ReferenceError%': ReferenceError,\n\t'%Reflect%': typeof Reflect === 'undefined' ? undefined : Reflect,\n\t'%RegExp%': RegExp,\n\t'%Set%': typeof Set === 'undefined' ? undefined : Set,\n\t'%SetIteratorPrototype%': typeof Set === 'undefined' || !hasSymbols ? undefined : getProto(new Set()[Symbol.iterator]()),\n\t'%SharedArrayBuffer%': typeof SharedArrayBuffer === 'undefined' ? undefined : SharedArrayBuffer,\n\t'%String%': String,\n\t'%StringIteratorPrototype%': hasSymbols ? getProto(''[Symbol.iterator]()) : undefined,\n\t'%Symbol%': hasSymbols ? Symbol : undefined,\n\t'%SyntaxError%': $SyntaxError,\n\t'%ThrowTypeError%': ThrowTypeError,\n\t'%TypedArray%': TypedArray,\n\t'%TypeError%': $TypeError,\n\t'%Uint8Array%': typeof Uint8Array === 'undefined' ? undefined : Uint8Array,\n\t'%Uint8ClampedArray%': typeof Uint8ClampedArray === 'undefined' ? undefined : Uint8ClampedArray,\n\t'%Uint16Array%': typeof Uint16Array === 'undefined' ? undefined : Uint16Array,\n\t'%Uint32Array%': typeof Uint32Array === 'undefined' ? undefined : Uint32Array,\n\t'%URIError%': URIError,\n\t'%WeakMap%': typeof WeakMap === 'undefined' ? undefined : WeakMap,\n\t'%WeakRef%': typeof WeakRef === 'undefined' ? undefined : WeakRef,\n\t'%WeakSet%': typeof WeakSet === 'undefined' ? undefined : WeakSet\n};\n\ntry {\n\tnull.error; // eslint-disable-line no-unused-expressions\n} catch (e) {\n\t// https://github.com/tc39/proposal-shadowrealm/pull/384#issuecomment-1364264229\n\tvar errorProto = getProto(getProto(e));\n\tINTRINSICS['%Error.prototype%'] = errorProto;\n}\n\nvar doEval = function doEval(name) {\n\tvar value;\n\tif (name === '%AsyncFunction%') {\n\t\tvalue = getEvalledConstructor('async function () {}');\n\t} else if (name === '%GeneratorFunction%') {\n\t\tvalue = getEvalledConstructor('function* () {}');\n\t} else if (name === '%AsyncGeneratorFunction%') {\n\t\tvalue = getEvalledConstructor('async function* () {}');\n\t} else if (name === '%AsyncGenerator%') {\n\t\tvar fn = doEval('%AsyncGeneratorFunction%');\n\t\tif (fn) {\n\t\t\tvalue = fn.prototype;\n\t\t}\n\t} else if (name === '%AsyncIteratorPrototype%') {\n\t\tvar gen = doEval('%AsyncGenerator%');\n\t\tif (gen) {\n\t\t\tvalue = getProto(gen.prototype);\n\t\t}\n\t}\n\n\tINTRINSICS[name] = value;\n\n\treturn value;\n};\n\nvar LEGACY_ALIASES = {\n\t'%ArrayBufferPrototype%': ['ArrayBuffer', 'prototype'],\n\t'%ArrayPrototype%': ['Array', 'prototype'],\n\t'%ArrayProto_entries%': ['Array', 'prototype', 'entries'],\n\t'%ArrayProto_forEach%': ['Array', 'prototype', 'forEach'],\n\t'%ArrayProto_keys%': ['Array', 'prototype', 'keys'],\n\t'%ArrayProto_values%': ['Array', 'prototype', 'values'],\n\t'%AsyncFunctionPrototype%': ['AsyncFunction', 'prototype'],\n\t'%AsyncGenerator%': ['AsyncGeneratorFunction', 'prototype'],\n\t'%AsyncGeneratorPrototype%': ['AsyncGeneratorFunction', 'prototype', 'prototype'],\n\t'%BooleanPrototype%': ['Boolean', 'prototype'],\n\t'%DataViewPrototype%': ['DataView', 'prototype'],\n\t'%DatePrototype%': ['Date', 'prototype'],\n\t'%ErrorPrototype%': ['Error', 'prototype'],\n\t'%EvalErrorPrototype%': ['EvalError', 'prototype'],\n\t'%Float32ArrayPrototype%': ['Float32Array', 'prototype'],\n\t'%Float64ArrayPrototype%': ['Float64Array', 'prototype'],\n\t'%FunctionPrototype%': ['Function', 'prototype'],\n\t'%Generator%': ['GeneratorFunction', 'prototype'],\n\t'%GeneratorPrototype%': ['GeneratorFunction', 'prototype', 'prototype'],\n\t'%Int8ArrayPrototype%': ['Int8Array', 'prototype'],\n\t'%Int16ArrayPrototype%': ['Int16Array', 'prototype'],\n\t'%Int32ArrayPrototype%': ['Int32Array', 'prototype'],\n\t'%JSONParse%': ['JSON', 'parse'],\n\t'%JSONStringify%': ['JSON', 'stringify'],\n\t'%MapPrototype%': ['Map', 'prototype'],\n\t'%NumberPrototype%': ['Number', 'prototype'],\n\t'%ObjectPrototype%': ['Object', 'prototype'],\n\t'%ObjProto_toString%': ['Object', 'prototype', 'toString'],\n\t'%ObjProto_valueOf%': ['Object', 'prototype', 'valueOf'],\n\t'%PromisePrototype%': ['Promise', 'prototype'],\n\t'%PromiseProto_then%': ['Promise', 'prototype', 'then'],\n\t'%Promise_all%': ['Promise', 'all'],\n\t'%Promise_reject%': ['Promise', 'reject'],\n\t'%Promise_resolve%': ['Promise', 'resolve'],\n\t'%RangeErrorPrototype%': ['RangeError', 'prototype'],\n\t'%ReferenceErrorPrototype%': ['ReferenceError', 'prototype'],\n\t'%RegExpPrototype%': ['RegExp', 'prototype'],\n\t'%SetPrototype%': ['Set', 'prototype'],\n\t'%SharedArrayBufferPrototype%': ['SharedArrayBuffer', 'prototype'],\n\t'%StringPrototype%': ['String', 'prototype'],\n\t'%SymbolPrototype%': ['Symbol', 'prototype'],\n\t'%SyntaxErrorPrototype%': ['SyntaxError', 'prototype'],\n\t'%TypedArrayPrototype%': ['TypedArray', 'prototype'],\n\t'%TypeErrorPrototype%': ['TypeError', 'prototype'],\n\t'%Uint8ArrayPrototype%': ['Uint8Array', 'prototype'],\n\t'%Uint8ClampedArrayPrototype%': ['Uint8ClampedArray', 'prototype'],\n\t'%Uint16ArrayPrototype%': ['Uint16Array', 'prototype'],\n\t'%Uint32ArrayPrototype%': ['Uint32Array', 'prototype'],\n\t'%URIErrorPrototype%': ['URIError', 'prototype'],\n\t'%WeakMapPrototype%': ['WeakMap', 'prototype'],\n\t'%WeakSetPrototype%': ['WeakSet', 'prototype']\n};\n\nvar bind = require('function-bind');\nvar hasOwn = require('has');\nvar $concat = bind.call(Function.call, Array.prototype.concat);\nvar $spliceApply = bind.call(Function.apply, Array.prototype.splice);\nvar $replace = bind.call(Function.call, String.prototype.replace);\nvar $strSlice = bind.call(Function.call, String.prototype.slice);\nvar $exec = bind.call(Function.call, RegExp.prototype.exec);\n\n/* adapted from https://github.com/lodash/lodash/blob/4.17.15/dist/lodash.js#L6735-L6744 */\nvar rePropName = /[^%.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|%$))/g;\nvar reEscapeChar = /\\\\(\\\\)?/g; /** Used to match backslashes in property paths. */\nvar stringToPath = function stringToPath(string) {\n\tvar first = $strSlice(string, 0, 1);\n\tvar last = $strSlice(string, -1);\n\tif (first === '%' && last !== '%') {\n\t\tthrow new $SyntaxError('invalid intrinsic syntax, expected closing `%`');\n\t} else if (last === '%' && first !== '%') {\n\t\tthrow new $SyntaxError('invalid intrinsic syntax, expected opening `%`');\n\t}\n\tvar result = [];\n\t$replace(string, rePropName, function (match, number, quote, subString) {\n\t\tresult[result.length] = quote ? $replace(subString, reEscapeChar, '$1') : number || match;\n\t});\n\treturn result;\n};\n/* end adaptation */\n\nvar getBaseIntrinsic = function getBaseIntrinsic(name, allowMissing) {\n\tvar intrinsicName = name;\n\tvar alias;\n\tif (hasOwn(LEGACY_ALIASES, intrinsicName)) {\n\t\talias = LEGACY_ALIASES[intrinsicName];\n\t\tintrinsicName = '%' + alias[0] + '%';\n\t}\n\n\tif (hasOwn(INTRINSICS, intrinsicName)) {\n\t\tvar value = INTRINSICS[intrinsicName];\n\t\tif (value === needsEval) {\n\t\t\tvalue = doEval(intrinsicName);\n\t\t}\n\t\tif (typeof value === 'undefined' && !allowMissing) {\n\t\t\tthrow new $TypeError('intrinsic ' + name + ' exists, but is not available. Please file an issue!');\n\t\t}\n\n\t\treturn {\n\t\t\talias: alias,\n\t\t\tname: intrinsicName,\n\t\t\tvalue: value\n\t\t};\n\t}\n\n\tthrow new $SyntaxError('intrinsic ' + name + ' does not exist!');\n};\n\nmodule.exports = function GetIntrinsic(name, allowMissing) {\n\tif (typeof name !== 'string' || name.length === 0) {\n\t\tthrow new $TypeError('intrinsic name must be a non-empty string');\n\t}\n\tif (arguments.length > 1 && typeof allowMissing !== 'boolean') {\n\t\tthrow new $TypeError('\"allowMissing\" argument must be a boolean');\n\t}\n\n\tif ($exec(/^%?[^%]*%?$/, name) === null) {\n\t\tthrow new $SyntaxError('`%` may not be present anywhere but at the beginning and end of the intrinsic name');\n\t}\n\tvar parts = stringToPath(name);\n\tvar intrinsicBaseName = parts.length > 0 ? parts[0] : '';\n\n\tvar intrinsic = getBaseIntrinsic('%' + intrinsicBaseName + '%', allowMissing);\n\tvar intrinsicRealName = intrinsic.name;\n\tvar value = intrinsic.value;\n\tvar skipFurtherCaching = false;\n\n\tvar alias = intrinsic.alias;\n\tif (alias) {\n\t\tintrinsicBaseName = alias[0];\n\t\t$spliceApply(parts, $concat([0, 1], alias));\n\t}\n\n\tfor (var i = 1, isOwn = true; i < parts.length; i += 1) {\n\t\tvar part = parts[i];\n\t\tvar first = $strSlice(part, 0, 1);\n\t\tvar last = $strSlice(part, -1);\n\t\tif (\n\t\t\t(\n\t\t\t\t(first === '\"' || first === \"'\" || first === '`')\n\t\t\t\t|| (last === '\"' || last === \"'\" || last === '`')\n\t\t\t)\n\t\t\t&& first !== last\n\t\t) {\n\t\t\tthrow new $SyntaxError('property names with quotes must have matching quotes');\n\t\t}\n\t\tif (part === 'constructor' || !isOwn) {\n\t\t\tskipFurtherCaching = true;\n\t\t}\n\n\t\tintrinsicBaseName += '.' + part;\n\t\tintrinsicRealName = '%' + intrinsicBaseName + '%';\n\n\t\tif (hasOwn(INTRINSICS, intrinsicRealName)) {\n\t\t\tvalue = INTRINSICS[intrinsicRealName];\n\t\t} else if (value != null) {\n\t\t\tif (!(part in value)) {\n\t\t\t\tif (!allowMissing) {\n\t\t\t\t\tthrow new $TypeError('base intrinsic for ' + name + ' exists, but the property is not available.');\n\t\t\t\t}\n\t\t\t\treturn void undefined;\n\t\t\t}\n\t\t\tif ($gOPD && (i + 1) >= parts.length) {\n\t\t\t\tvar desc = $gOPD(value, part);\n\t\t\t\tisOwn = !!desc;\n\n\t\t\t\t// By convention, when a data property is converted to an accessor\n\t\t\t\t// property to emulate a data property that does not suffer from\n\t\t\t\t// the override mistake, that accessor's getter is marked with\n\t\t\t\t// an `originalValue` property. Here, when we detect this, we\n\t\t\t\t// uphold the illusion by pretending to see that original data\n\t\t\t\t// property, i.e., returning the value rather than the getter\n\t\t\t\t// itself.\n\t\t\t\tif (isOwn && 'get' in desc && !('originalValue' in desc.get)) {\n\t\t\t\t\tvalue = desc.get;\n\t\t\t\t} else {\n\t\t\t\t\tvalue = value[part];\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tisOwn = hasOwn(value, part);\n\t\t\t\tvalue = value[part];\n\t\t\t}\n\n\t\t\tif (isOwn && !skipFurtherCaching) {\n\t\t\t\tINTRINSICS[intrinsicRealName] = value;\n\t\t\t}\n\t\t}\n\t}\n\treturn value;\n};\n","'use strict';\n\nvar origSymbol = typeof Symbol !== 'undefined' && Symbol;\nvar hasSymbolSham = require('./shams');\n\nmodule.exports = function hasNativeSymbols() {\n\tif (typeof origSymbol !== 'function') { return false; }\n\tif (typeof Symbol !== 'function') { return false; }\n\tif (typeof origSymbol('foo') !== 'symbol') { return false; }\n\tif (typeof Symbol('bar') !== 'symbol') { return false; }\n\n\treturn hasSymbolSham();\n};\n","'use strict';\n\n/* eslint complexity: [2, 18], max-statements: [2, 33] */\nmodule.exports = function hasSymbols() {\n\tif (typeof Symbol !== 'function' || typeof Object.getOwnPropertySymbols !== 'function') { return false; }\n\tif (typeof Symbol.iterator === 'symbol') { return true; }\n\n\tvar obj = {};\n\tvar sym = Symbol('test');\n\tvar symObj = Object(sym);\n\tif (typeof sym === 'string') { return false; }\n\n\tif (Object.prototype.toString.call(sym) !== '[object Symbol]') { return false; }\n\tif (Object.prototype.toString.call(symObj) !== '[object Symbol]') { return false; }\n\n\t// temp disabled per https://github.com/ljharb/object.assign/issues/17\n\t// if (sym instanceof Symbol) { return false; }\n\t// temp disabled per https://github.com/WebReflection/get-own-property-symbols/issues/4\n\t// if (!(symObj instanceof Symbol)) { return false; }\n\n\t// if (typeof Symbol.prototype.toString !== 'function') { return false; }\n\t// if (String(sym) !== Symbol.prototype.toString.call(sym)) { return false; }\n\n\tvar symVal = 42;\n\tobj[sym] = symVal;\n\tfor (sym in obj) { return false; } // eslint-disable-line no-restricted-syntax, no-unreachable-loop\n\tif (typeof Object.keys === 'function' && Object.keys(obj).length !== 0) { return false; }\n\n\tif (typeof Object.getOwnPropertyNames === 'function' && Object.getOwnPropertyNames(obj).length !== 0) { return false; }\n\n\tvar syms = Object.getOwnPropertySymbols(obj);\n\tif (syms.length !== 1 || syms[0] !== sym) { return false; }\n\n\tif (!Object.prototype.propertyIsEnumerable.call(obj, sym)) { return false; }\n\n\tif (typeof Object.getOwnPropertyDescriptor === 'function') {\n\t\tvar descriptor = Object.getOwnPropertyDescriptor(obj, sym);\n\t\tif (descriptor.value !== symVal || descriptor.enumerable !== true) { return false; }\n\t}\n\n\treturn true;\n};\n","'use strict';\n\nvar implementation = require('./implementation');\n\nmodule.exports = Function.prototype.bind || implementation;\n","'use strict';\n\n/* eslint no-invalid-this: 1 */\n\nvar ERROR_MESSAGE = 'Function.prototype.bind called on incompatible ';\nvar slice = Array.prototype.slice;\nvar toStr = Object.prototype.toString;\nvar funcType = '[object Function]';\n\nmodule.exports = function bind(that) {\n    var target = this;\n    if (typeof target !== 'function' || toStr.call(target) !== funcType) {\n        throw new TypeError(ERROR_MESSAGE + target);\n    }\n    var args = slice.call(arguments, 1);\n\n    var bound;\n    var binder = function () {\n        if (this instanceof bound) {\n            var result = target.apply(\n                this,\n                args.concat(slice.call(arguments))\n            );\n            if (Object(result) === result) {\n                return result;\n            }\n            return this;\n        } else {\n            return target.apply(\n                that,\n                args.concat(slice.call(arguments))\n            );\n        }\n    };\n\n    var boundLength = Math.max(0, target.length - args.length);\n    var boundArgs = [];\n    for (var i = 0; i < boundLength; i++) {\n        boundArgs.push('$' + i);\n    }\n\n    bound = Function('binder', 'return function (' + boundArgs.join(',') + '){ return binder.apply(this,arguments); }')(binder);\n\n    if (target.prototype) {\n        var Empty = function Empty() {};\n        Empty.prototype = target.prototype;\n        bound.prototype = new Empty();\n        Empty.prototype = null;\n    }\n\n    return bound;\n};\n","'use strict';\n\nvar bind = require('function-bind');\n\nmodule.exports = bind.call(Function.call, Object.prototype.hasOwnProperty);\n","'use strict';\n\nvar GetIntrinsic = require('get-intrinsic');\n\nvar callBind = require('./');\n\nvar $indexOf = callBind(GetIntrinsic('String.prototype.indexOf'));\n\nmodule.exports = function callBoundIntrinsic(name, allowMissing) {\n\tvar intrinsic = GetIntrinsic(name, !!allowMissing);\n\tif (typeof intrinsic === 'function' && $indexOf(name, '.prototype.') > -1) {\n\t\treturn callBind(intrinsic);\n\t}\n\treturn intrinsic;\n};\n","'use strict';\n\nvar bind = require('function-bind');\nvar GetIntrinsic = require('get-intrinsic');\n\nvar $apply = GetIntrinsic('%Function.prototype.apply%');\nvar $call = GetIntrinsic('%Function.prototype.call%');\nvar $reflectApply = GetIntrinsic('%Reflect.apply%', true) || bind.call($call, $apply);\n\nvar $gOPD = GetIntrinsic('%Object.getOwnPropertyDescriptor%', true);\nvar $defineProperty = GetIntrinsic('%Object.defineProperty%', true);\nvar $max = GetIntrinsic('%Math.max%');\n\nif ($defineProperty) {\n\ttry {\n\t\t$defineProperty({}, 'a', { value: 1 });\n\t} catch (e) {\n\t\t// IE 8 has a broken defineProperty\n\t\t$defineProperty = null;\n\t}\n}\n\nmodule.exports = function callBind(originalFunction) {\n\tvar func = $reflectApply(bind, $call, arguments);\n\tif ($gOPD && $defineProperty) {\n\t\tvar desc = $gOPD(func, 'length');\n\t\tif (desc.configurable) {\n\t\t\t// original length, plus the receiver, minus any additional arguments (after the receiver)\n\t\t\t$defineProperty(\n\t\t\t\tfunc,\n\t\t\t\t'length',\n\t\t\t\t{ value: 1 + $max(0, originalFunction.length - (arguments.length - 1)) }\n\t\t\t);\n\t\t}\n\t}\n\treturn func;\n};\n\nvar applyBind = function applyBind() {\n\treturn $reflectApply(bind, $apply, arguments);\n};\n\nif ($defineProperty) {\n\t$defineProperty(module.exports, 'apply', { value: applyBind });\n} else {\n\tmodule.exports.apply = applyBind;\n}\n","'use strict';\n\nvar functionsHaveNames = function functionsHaveNames() {\n\treturn typeof function f() {}.name === 'string';\n};\n\nvar gOPD = Object.getOwnPropertyDescriptor;\nif (gOPD) {\n\ttry {\n\t\tgOPD([], 'length');\n\t} catch (e) {\n\t\t// IE 8 has a broken gOPD\n\t\tgOPD = null;\n\t}\n}\n\nfunctionsHaveNames.functionsHaveConfigurableNames = function functionsHaveConfigurableNames() {\n\tif (!functionsHaveNames() || !gOPD) {\n\t\treturn false;\n\t}\n\tvar desc = gOPD(function () {}, 'name');\n\treturn !!desc && !!desc.configurable;\n};\n\nvar $bind = Function.prototype.bind;\n\nfunctionsHaveNames.boundFunctionsHaveNames = function boundFunctionsHaveNames() {\n\treturn functionsHaveNames() && typeof $bind === 'function' && function f() {}.bind().name !== '';\n};\n\nmodule.exports = functionsHaveNames;\n","'use strict';\n\nvar hasSymbols = require('has-symbols/shams');\n\nmodule.exports = function hasToStringTagShams() {\n\treturn hasSymbols() && !!Symbol.toStringTag;\n};\n","'use strict';\n\nvar GetIntrinsic = require('get-intrinsic');\nvar callBound = require('call-bind/callBound');\nvar inspect = require('object-inspect');\n\nvar $TypeError = GetIntrinsic('%TypeError%');\nvar $WeakMap = GetIntrinsic('%WeakMap%', true);\nvar $Map = GetIntrinsic('%Map%', true);\n\nvar $weakMapGet = callBound('WeakMap.prototype.get', true);\nvar $weakMapSet = callBound('WeakMap.prototype.set', true);\nvar $weakMapHas = callBound('WeakMap.prototype.has', true);\nvar $mapGet = callBound('Map.prototype.get', true);\nvar $mapSet = callBound('Map.prototype.set', true);\nvar $mapHas = callBound('Map.prototype.has', true);\n\n/*\n * This function traverses the list returning the node corresponding to the\n * given key.\n *\n * That node is also moved to the head of the list, so that if it's accessed\n * again we don't need to traverse the whole list. By doing so, all the recently\n * used nodes can be accessed relatively quickly.\n */\nvar listGetNode = function (list, key) { // eslint-disable-line consistent-return\n\tfor (var prev = list, curr; (curr = prev.next) !== null; prev = curr) {\n\t\tif (curr.key === key) {\n\t\t\tprev.next = curr.next;\n\t\t\tcurr.next = list.next;\n\t\t\tlist.next = curr; // eslint-disable-line no-param-reassign\n\t\t\treturn curr;\n\t\t}\n\t}\n};\n\nvar listGet = function (objects, key) {\n\tvar node = listGetNode(objects, key);\n\treturn node && node.value;\n};\nvar listSet = function (objects, key, value) {\n\tvar node = listGetNode(objects, key);\n\tif (node) {\n\t\tnode.value = value;\n\t} else {\n\t\t// Prepend the new node to the beginning of the list\n\t\tobjects.next = { // eslint-disable-line no-param-reassign\n\t\t\tkey: key,\n\t\t\tnext: objects.next,\n\t\t\tvalue: value\n\t\t};\n\t}\n};\nvar listHas = function (objects, key) {\n\treturn !!listGetNode(objects, key);\n};\n\nmodule.exports = function getSideChannel() {\n\tvar $wm;\n\tvar $m;\n\tvar $o;\n\tvar channel = {\n\t\tassert: function (key) {\n\t\t\tif (!channel.has(key)) {\n\t\t\t\tthrow new $TypeError('Side channel does not contain ' + inspect(key));\n\t\t\t}\n\t\t},\n\t\tget: function (key) { // eslint-disable-line consistent-return\n\t\t\tif ($WeakMap && key && (typeof key === 'object' || typeof key === 'function')) {\n\t\t\t\tif ($wm) {\n\t\t\t\t\treturn $weakMapGet($wm, key);\n\t\t\t\t}\n\t\t\t} else if ($Map) {\n\t\t\t\tif ($m) {\n\t\t\t\t\treturn $mapGet($m, key);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif ($o) { // eslint-disable-line no-lonely-if\n\t\t\t\t\treturn listGet($o, key);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\thas: function (key) {\n\t\t\tif ($WeakMap && key && (typeof key === 'object' || typeof key === 'function')) {\n\t\t\t\tif ($wm) {\n\t\t\t\t\treturn $weakMapHas($wm, key);\n\t\t\t\t}\n\t\t\t} else if ($Map) {\n\t\t\t\tif ($m) {\n\t\t\t\t\treturn $mapHas($m, key);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif ($o) { // eslint-disable-line no-lonely-if\n\t\t\t\t\treturn listHas($o, key);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\t\tset: function (key, value) {\n\t\t\tif ($WeakMap && key && (typeof key === 'object' || typeof key === 'function')) {\n\t\t\t\tif (!$wm) {\n\t\t\t\t\t$wm = new $WeakMap();\n\t\t\t\t}\n\t\t\t\t$weakMapSet($wm, key, value);\n\t\t\t} else if ($Map) {\n\t\t\t\tif (!$m) {\n\t\t\t\t\t$m = new $Map();\n\t\t\t\t}\n\t\t\t\t$mapSet($m, key, value);\n\t\t\t} else {\n\t\t\t\tif (!$o) {\n\t\t\t\t\t/*\n\t\t\t\t\t * Initialize the linked list as an empty node, so that we don't have\n\t\t\t\t\t * to special-case handling of the first node: we can always refer to\n\t\t\t\t\t * it as (previous node).next, instead of something like (list).head\n\t\t\t\t\t */\n\t\t\t\t\t$o = { key: {}, next: null };\n\t\t\t\t}\n\t\t\t\tlistSet($o, key, value);\n\t\t\t}\n\t\t}\n\t};\n\treturn channel;\n};\n","var hasMap = typeof Map === 'function' && Map.prototype;\nvar mapSizeDescriptor = Object.getOwnPropertyDescriptor && hasMap ? Object.getOwnPropertyDescriptor(Map.prototype, 'size') : null;\nvar mapSize = hasMap && mapSizeDescriptor && typeof mapSizeDescriptor.get === 'function' ? mapSizeDescriptor.get : null;\nvar mapForEach = hasMap && Map.prototype.forEach;\nvar hasSet = typeof Set === 'function' && Set.prototype;\nvar setSizeDescriptor = Object.getOwnPropertyDescriptor && hasSet ? Object.getOwnPropertyDescriptor(Set.prototype, 'size') : null;\nvar setSize = hasSet && setSizeDescriptor && typeof setSizeDescriptor.get === 'function' ? setSizeDescriptor.get : null;\nvar setForEach = hasSet && Set.prototype.forEach;\nvar hasWeakMap = typeof WeakMap === 'function' && WeakMap.prototype;\nvar weakMapHas = hasWeakMap ? WeakMap.prototype.has : null;\nvar hasWeakSet = typeof WeakSet === 'function' && WeakSet.prototype;\nvar weakSetHas = hasWeakSet ? WeakSet.prototype.has : null;\nvar hasWeakRef = typeof WeakRef === 'function' && WeakRef.prototype;\nvar weakRefDeref = hasWeakRef ? WeakRef.prototype.deref : null;\nvar booleanValueOf = Boolean.prototype.valueOf;\nvar objectToString = Object.prototype.toString;\nvar functionToString = Function.prototype.toString;\nvar $match = String.prototype.match;\nvar $slice = String.prototype.slice;\nvar $replace = String.prototype.replace;\nvar $toUpperCase = String.prototype.toUpperCase;\nvar $toLowerCase = String.prototype.toLowerCase;\nvar $test = RegExp.prototype.test;\nvar $concat = Array.prototype.concat;\nvar $join = Array.prototype.join;\nvar $arrSlice = Array.prototype.slice;\nvar $floor = Math.floor;\nvar bigIntValueOf = typeof BigInt === 'function' ? BigInt.prototype.valueOf : null;\nvar gOPS = Object.getOwnPropertySymbols;\nvar symToString = typeof Symbol === 'function' && typeof Symbol.iterator === 'symbol' ? Symbol.prototype.toString : null;\nvar hasShammedSymbols = typeof Symbol === 'function' && typeof Symbol.iterator === 'object';\n// ie, `has-tostringtag/shams\nvar toStringTag = typeof Symbol === 'function' && Symbol.toStringTag && (typeof Symbol.toStringTag === hasShammedSymbols ? 'object' : 'symbol')\n    ? Symbol.toStringTag\n    : null;\nvar isEnumerable = Object.prototype.propertyIsEnumerable;\n\nvar gPO = (typeof Reflect === 'function' ? Reflect.getPrototypeOf : Object.getPrototypeOf) || (\n    [].__proto__ === Array.prototype // eslint-disable-line no-proto\n        ? function (O) {\n            return O.__proto__; // eslint-disable-line no-proto\n        }\n        : null\n);\n\nfunction addNumericSeparator(num, str) {\n    if (\n        num === Infinity\n        || num === -Infinity\n        || num !== num\n        || (num && num > -1000 && num < 1000)\n        || $test.call(/e/, str)\n    ) {\n        return str;\n    }\n    var sepRegex = /[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;\n    if (typeof num === 'number') {\n        var int = num < 0 ? -$floor(-num) : $floor(num); // trunc(num)\n        if (int !== num) {\n            var intStr = String(int);\n            var dec = $slice.call(str, intStr.length + 1);\n            return $replace.call(intStr, sepRegex, '$&_') + '.' + $replace.call($replace.call(dec, /([0-9]{3})/g, '$&_'), /_$/, '');\n        }\n    }\n    return $replace.call(str, sepRegex, '$&_');\n}\n\nvar utilInspect = require('./util.inspect');\nvar inspectCustom = utilInspect.custom;\nvar inspectSymbol = isSymbol(inspectCustom) ? inspectCustom : null;\n\nmodule.exports = function inspect_(obj, options, depth, seen) {\n    var opts = options || {};\n\n    if (has(opts, 'quoteStyle') && (opts.quoteStyle !== 'single' && opts.quoteStyle !== 'double')) {\n        throw new TypeError('option \"quoteStyle\" must be \"single\" or \"double\"');\n    }\n    if (\n        has(opts, 'maxStringLength') && (typeof opts.maxStringLength === 'number'\n            ? opts.maxStringLength < 0 && opts.maxStringLength !== Infinity\n            : opts.maxStringLength !== null\n        )\n    ) {\n        throw new TypeError('option \"maxStringLength\", if provided, must be a positive integer, Infinity, or `null`');\n    }\n    var customInspect = has(opts, 'customInspect') ? opts.customInspect : true;\n    if (typeof customInspect !== 'boolean' && customInspect !== 'symbol') {\n        throw new TypeError('option \"customInspect\", if provided, must be `true`, `false`, or `\\'symbol\\'`');\n    }\n\n    if (\n        has(opts, 'indent')\n        && opts.indent !== null\n        && opts.indent !== '\\t'\n        && !(parseInt(opts.indent, 10) === opts.indent && opts.indent > 0)\n    ) {\n        throw new TypeError('option \"indent\" must be \"\\\\t\", an integer > 0, or `null`');\n    }\n    if (has(opts, 'numericSeparator') && typeof opts.numericSeparator !== 'boolean') {\n        throw new TypeError('option \"numericSeparator\", if provided, must be `true` or `false`');\n    }\n    var numericSeparator = opts.numericSeparator;\n\n    if (typeof obj === 'undefined') {\n        return 'undefined';\n    }\n    if (obj === null) {\n        return 'null';\n    }\n    if (typeof obj === 'boolean') {\n        return obj ? 'true' : 'false';\n    }\n\n    if (typeof obj === 'string') {\n        return inspectString(obj, opts);\n    }\n    if (typeof obj === 'number') {\n        if (obj === 0) {\n            return Infinity / obj > 0 ? '0' : '-0';\n        }\n        var str = String(obj);\n        return numericSeparator ? addNumericSeparator(obj, str) : str;\n    }\n    if (typeof obj === 'bigint') {\n        var bigIntStr = String(obj) + 'n';\n        return numericSeparator ? addNumericSeparator(obj, bigIntStr) : bigIntStr;\n    }\n\n    var maxDepth = typeof opts.depth === 'undefined' ? 5 : opts.depth;\n    if (typeof depth === 'undefined') { depth = 0; }\n    if (depth >= maxDepth && maxDepth > 0 && typeof obj === 'object') {\n        return isArray(obj) ? '[Array]' : '[Object]';\n    }\n\n    var indent = getIndent(opts, depth);\n\n    if (typeof seen === 'undefined') {\n        seen = [];\n    } else if (indexOf(seen, obj) >= 0) {\n        return '[Circular]';\n    }\n\n    function inspect(value, from, noIndent) {\n        if (from) {\n            seen = $arrSlice.call(seen);\n            seen.push(from);\n        }\n        if (noIndent) {\n            var newOpts = {\n                depth: opts.depth\n            };\n            if (has(opts, 'quoteStyle')) {\n                newOpts.quoteStyle = opts.quoteStyle;\n            }\n            return inspect_(value, newOpts, depth + 1, seen);\n        }\n        return inspect_(value, opts, depth + 1, seen);\n    }\n\n    if (typeof obj === 'function' && !isRegExp(obj)) { // in older engines, regexes are callable\n        var name = nameOf(obj);\n        var keys = arrObjKeys(obj, inspect);\n        return '[Function' + (name ? ': ' + name : ' (anonymous)') + ']' + (keys.length > 0 ? ' { ' + $join.call(keys, ', ') + ' }' : '');\n    }\n    if (isSymbol(obj)) {\n        var symString = hasShammedSymbols ? $replace.call(String(obj), /^(Symbol\\(.*\\))_[^)]*$/, '$1') : symToString.call(obj);\n        return typeof obj === 'object' && !hasShammedSymbols ? markBoxed(symString) : symString;\n    }\n    if (isElement(obj)) {\n        var s = '<' + $toLowerCase.call(String(obj.nodeName));\n        var attrs = obj.attributes || [];\n        for (var i = 0; i < attrs.length; i++) {\n            s += ' ' + attrs[i].name + '=' + wrapQuotes(quote(attrs[i].value), 'double', opts);\n        }\n        s += '>';\n        if (obj.childNodes && obj.childNodes.length) { s += '...'; }\n        s += '</' + $toLowerCase.call(String(obj.nodeName)) + '>';\n        return s;\n    }\n    if (isArray(obj)) {\n        if (obj.length === 0) { return '[]'; }\n        var xs = arrObjKeys(obj, inspect);\n        if (indent && !singleLineValues(xs)) {\n            return '[' + indentedJoin(xs, indent) + ']';\n        }\n        return '[ ' + $join.call(xs, ', ') + ' ]';\n    }\n    if (isError(obj)) {\n        var parts = arrObjKeys(obj, inspect);\n        if (!('cause' in Error.prototype) && 'cause' in obj && !isEnumerable.call(obj, 'cause')) {\n            return '{ [' + String(obj) + '] ' + $join.call($concat.call('[cause]: ' + inspect(obj.cause), parts), ', ') + ' }';\n        }\n        if (parts.length === 0) { return '[' + String(obj) + ']'; }\n        return '{ [' + String(obj) + '] ' + $join.call(parts, ', ') + ' }';\n    }\n    if (typeof obj === 'object' && customInspect) {\n        if (inspectSymbol && typeof obj[inspectSymbol] === 'function' && utilInspect) {\n            return utilInspect(obj, { depth: maxDepth - depth });\n        } else if (customInspect !== 'symbol' && typeof obj.inspect === 'function') {\n            return obj.inspect();\n        }\n    }\n    if (isMap(obj)) {\n        var mapParts = [];\n        if (mapForEach) {\n            mapForEach.call(obj, function (value, key) {\n                mapParts.push(inspect(key, obj, true) + ' => ' + inspect(value, obj));\n            });\n        }\n        return collectionOf('Map', mapSize.call(obj), mapParts, indent);\n    }\n    if (isSet(obj)) {\n        var setParts = [];\n        if (setForEach) {\n            setForEach.call(obj, function (value) {\n                setParts.push(inspect(value, obj));\n            });\n        }\n        return collectionOf('Set', setSize.call(obj), setParts, indent);\n    }\n    if (isWeakMap(obj)) {\n        return weakCollectionOf('WeakMap');\n    }\n    if (isWeakSet(obj)) {\n        return weakCollectionOf('WeakSet');\n    }\n    if (isWeakRef(obj)) {\n        return weakCollectionOf('WeakRef');\n    }\n    if (isNumber(obj)) {\n        return markBoxed(inspect(Number(obj)));\n    }\n    if (isBigInt(obj)) {\n        return markBoxed(inspect(bigIntValueOf.call(obj)));\n    }\n    if (isBoolean(obj)) {\n        return markBoxed(booleanValueOf.call(obj));\n    }\n    if (isString(obj)) {\n        return markBoxed(inspect(String(obj)));\n    }\n    if (!isDate(obj) && !isRegExp(obj)) {\n        var ys = arrObjKeys(obj, inspect);\n        var isPlainObject = gPO ? gPO(obj) === Object.prototype : obj instanceof Object || obj.constructor === Object;\n        var protoTag = obj instanceof Object ? '' : 'null prototype';\n        var stringTag = !isPlainObject && toStringTag && Object(obj) === obj && toStringTag in obj ? $slice.call(toStr(obj), 8, -1) : protoTag ? 'Object' : '';\n        var constructorTag = isPlainObject || typeof obj.constructor !== 'function' ? '' : obj.constructor.name ? obj.constructor.name + ' ' : '';\n        var tag = constructorTag + (stringTag || protoTag ? '[' + $join.call($concat.call([], stringTag || [], protoTag || []), ': ') + '] ' : '');\n        if (ys.length === 0) { return tag + '{}'; }\n        if (indent) {\n            return tag + '{' + indentedJoin(ys, indent) + '}';\n        }\n        return tag + '{ ' + $join.call(ys, ', ') + ' }';\n    }\n    return String(obj);\n};\n\nfunction wrapQuotes(s, defaultStyle, opts) {\n    var quoteChar = (opts.quoteStyle || defaultStyle) === 'double' ? '\"' : \"'\";\n    return quoteChar + s + quoteChar;\n}\n\nfunction quote(s) {\n    return $replace.call(String(s), /\"/g, '&quot;');\n}\n\nfunction isArray(obj) { return toStr(obj) === '[object Array]' && (!toStringTag || !(typeof obj === 'object' && toStringTag in obj)); }\nfunction isDate(obj) { return toStr(obj) === '[object Date]' && (!toStringTag || !(typeof obj === 'object' && toStringTag in obj)); }\nfunction isRegExp(obj) { return toStr(obj) === '[object RegExp]' && (!toStringTag || !(typeof obj === 'object' && toStringTag in obj)); }\nfunction isError(obj) { return toStr(obj) === '[object Error]' && (!toStringTag || !(typeof obj === 'object' && toStringTag in obj)); }\nfunction isString(obj) { return toStr(obj) === '[object String]' && (!toStringTag || !(typeof obj === 'object' && toStringTag in obj)); }\nfunction isNumber(obj) { return toStr(obj) === '[object Number]' && (!toStringTag || !(typeof obj === 'object' && toStringTag in obj)); }\nfunction isBoolean(obj) { return toStr(obj) === '[object Boolean]' && (!toStringTag || !(typeof obj === 'object' && toStringTag in obj)); }\n\n// Symbol and BigInt do have Symbol.toStringTag by spec, so that can't be used to eliminate false positives\nfunction isSymbol(obj) {\n    if (hasShammedSymbols) {\n        return obj && typeof obj === 'object' && obj instanceof Symbol;\n    }\n    if (typeof obj === 'symbol') {\n        return true;\n    }\n    if (!obj || typeof obj !== 'object' || !symToString) {\n        return false;\n    }\n    try {\n        symToString.call(obj);\n        return true;\n    } catch (e) {}\n    return false;\n}\n\nfunction isBigInt(obj) {\n    if (!obj || typeof obj !== 'object' || !bigIntValueOf) {\n        return false;\n    }\n    try {\n        bigIntValueOf.call(obj);\n        return true;\n    } catch (e) {}\n    return false;\n}\n\nvar hasOwn = Object.prototype.hasOwnProperty || function (key) { return key in this; };\nfunction has(obj, key) {\n    return hasOwn.call(obj, key);\n}\n\nfunction toStr(obj) {\n    return objectToString.call(obj);\n}\n\nfunction nameOf(f) {\n    if (f.name) { return f.name; }\n    var m = $match.call(functionToString.call(f), /^function\\s*([\\w$]+)/);\n    if (m) { return m[1]; }\n    return null;\n}\n\nfunction indexOf(xs, x) {\n    if (xs.indexOf) { return xs.indexOf(x); }\n    for (var i = 0, l = xs.length; i < l; i++) {\n        if (xs[i] === x) { return i; }\n    }\n    return -1;\n}\n\nfunction isMap(x) {\n    if (!mapSize || !x || typeof x !== 'object') {\n        return false;\n    }\n    try {\n        mapSize.call(x);\n        try {\n            setSize.call(x);\n        } catch (s) {\n            return true;\n        }\n        return x instanceof Map; // core-js workaround, pre-v2.5.0\n    } catch (e) {}\n    return false;\n}\n\nfunction isWeakMap(x) {\n    if (!weakMapHas || !x || typeof x !== 'object') {\n        return false;\n    }\n    try {\n        weakMapHas.call(x, weakMapHas);\n        try {\n            weakSetHas.call(x, weakSetHas);\n        } catch (s) {\n            return true;\n        }\n        return x instanceof WeakMap; // core-js workaround, pre-v2.5.0\n    } catch (e) {}\n    return false;\n}\n\nfunction isWeakRef(x) {\n    if (!weakRefDeref || !x || typeof x !== 'object') {\n        return false;\n    }\n    try {\n        weakRefDeref.call(x);\n        return true;\n    } catch (e) {}\n    return false;\n}\n\nfunction isSet(x) {\n    if (!setSize || !x || typeof x !== 'object') {\n        return false;\n    }\n    try {\n        setSize.call(x);\n        try {\n            mapSize.call(x);\n        } catch (m) {\n            return true;\n        }\n        return x instanceof Set; // core-js workaround, pre-v2.5.0\n    } catch (e) {}\n    return false;\n}\n\nfunction isWeakSet(x) {\n    if (!weakSetHas || !x || typeof x !== 'object') {\n        return false;\n    }\n    try {\n        weakSetHas.call(x, weakSetHas);\n        try {\n            weakMapHas.call(x, weakMapHas);\n        } catch (s) {\n            return true;\n        }\n        return x instanceof WeakSet; // core-js workaround, pre-v2.5.0\n    } catch (e) {}\n    return false;\n}\n\nfunction isElement(x) {\n    if (!x || typeof x !== 'object') { return false; }\n    if (typeof HTMLElement !== 'undefined' && x instanceof HTMLElement) {\n        return true;\n    }\n    return typeof x.nodeName === 'string' && typeof x.getAttribute === 'function';\n}\n\nfunction inspectString(str, opts) {\n    if (str.length > opts.maxStringLength) {\n        var remaining = str.length - opts.maxStringLength;\n        var trailer = '... ' + remaining + ' more character' + (remaining > 1 ? 's' : '');\n        return inspectString($slice.call(str, 0, opts.maxStringLength), opts) + trailer;\n    }\n    // eslint-disable-next-line no-control-regex\n    var s = $replace.call($replace.call(str, /(['\\\\])/g, '\\\\$1'), /[\\x00-\\x1f]/g, lowbyte);\n    return wrapQuotes(s, 'single', opts);\n}\n\nfunction lowbyte(c) {\n    var n = c.charCodeAt(0);\n    var x = {\n        8: 'b',\n        9: 't',\n        10: 'n',\n        12: 'f',\n        13: 'r'\n    }[n];\n    if (x) { return '\\\\' + x; }\n    return '\\\\x' + (n < 0x10 ? '0' : '') + $toUpperCase.call(n.toString(16));\n}\n\nfunction markBoxed(str) {\n    return 'Object(' + str + ')';\n}\n\nfunction weakCollectionOf(type) {\n    return type + ' { ? }';\n}\n\nfunction collectionOf(type, size, entries, indent) {\n    var joinedEntries = indent ? indentedJoin(entries, indent) : $join.call(entries, ', ');\n    return type + ' (' + size + ') {' + joinedEntries + '}';\n}\n\nfunction singleLineValues(xs) {\n    for (var i = 0; i < xs.length; i++) {\n        if (indexOf(xs[i], '\\n') >= 0) {\n            return false;\n        }\n    }\n    return true;\n}\n\nfunction getIndent(opts, depth) {\n    var baseIndent;\n    if (opts.indent === '\\t') {\n        baseIndent = '\\t';\n    } else if (typeof opts.indent === 'number' && opts.indent > 0) {\n        baseIndent = $join.call(Array(opts.indent + 1), ' ');\n    } else {\n        return null;\n    }\n    return {\n        base: baseIndent,\n        prev: $join.call(Array(depth + 1), baseIndent)\n    };\n}\n\nfunction indentedJoin(xs, indent) {\n    if (xs.length === 0) { return ''; }\n    var lineJoiner = '\\n' + indent.prev + indent.base;\n    return lineJoiner + $join.call(xs, ',' + lineJoiner) + '\\n' + indent.prev;\n}\n\nfunction arrObjKeys(obj, inspect) {\n    var isArr = isArray(obj);\n    var xs = [];\n    if (isArr) {\n        xs.length = obj.length;\n        for (var i = 0; i < obj.length; i++) {\n            xs[i] = has(obj, i) ? inspect(obj[i], obj) : '';\n        }\n    }\n    var syms = typeof gOPS === 'function' ? gOPS(obj) : [];\n    var symMap;\n    if (hasShammedSymbols) {\n        symMap = {};\n        for (var k = 0; k < syms.length; k++) {\n            symMap['$' + syms[k]] = syms[k];\n        }\n    }\n\n    for (var key in obj) { // eslint-disable-line no-restricted-syntax\n        if (!has(obj, key)) { continue; } // eslint-disable-line no-restricted-syntax, no-continue\n        if (isArr && String(Number(key)) === key && key < obj.length) { continue; } // eslint-disable-line no-restricted-syntax, no-continue\n        if (hasShammedSymbols && symMap['$' + key] instanceof Symbol) {\n            // this is to prevent shammed Symbols, which are stored as strings, from being included in the string key section\n            continue; // eslint-disable-line no-restricted-syntax, no-continue\n        } else if ($test.call(/[^\\w$]/, key)) {\n            xs.push(inspect(key, obj) + ': ' + inspect(obj[key], obj));\n        } else {\n            xs.push(key + ': ' + inspect(obj[key], obj));\n        }\n    }\n    if (typeof gOPS === 'function') {\n        for (var j = 0; j < syms.length; j++) {\n            if (isEnumerable.call(obj, syms[j])) {\n                xs.push('[' + inspect(syms[j]) + ']: ' + inspect(obj[syms[j]], obj));\n            }\n        }\n    }\n    return xs;\n}\n","var toString = {}.toString;\n\nmodule.exports = Array.isArray || function (arr) {\n  return toString.call(arr) == '[object Array]';\n};\n","'use strict';\n\nvar strValue = String.prototype.valueOf;\nvar tryStringObject = function tryStringObject(value) {\n\ttry {\n\t\tstrValue.call(value);\n\t\treturn true;\n\t} catch (e) {\n\t\treturn false;\n\t}\n};\nvar toStr = Object.prototype.toString;\nvar strClass = '[object String]';\nvar hasToStringTag = require('has-tostringtag/shams')();\n\nmodule.exports = function isString(value) {\n\tif (typeof value === 'string') {\n\t\treturn true;\n\t}\n\tif (typeof value !== 'object') {\n\t\treturn false;\n\t}\n\treturn hasToStringTag ? tryStringObject(value) : toStr.call(value) === strClass;\n};\n","'use strict';\n\nvar $Map = typeof Map === 'function' && Map.prototype ? Map : null;\nvar $Set = typeof Set === 'function' && Set.prototype ? Set : null;\n\nvar exported;\n\nif (!$Map) {\n\t// eslint-disable-next-line no-unused-vars\n\texported = function isMap(x) {\n\t\t// `Map` is not present in this environment.\n\t\treturn false;\n\t};\n}\n\nvar $mapHas = $Map ? Map.prototype.has : null;\nvar $setHas = $Set ? Set.prototype.has : null;\nif (!exported && !$mapHas) {\n\t// eslint-disable-next-line no-unused-vars\n\texported = function isMap(x) {\n\t\t// `Map` does not have a `has` method\n\t\treturn false;\n\t};\n}\n\nmodule.exports = exported || function isMap(x) {\n\tif (!x || typeof x !== 'object') {\n\t\treturn false;\n\t}\n\ttry {\n\t\t$mapHas.call(x);\n\t\tif ($setHas) {\n\t\t\ttry {\n\t\t\t\t$setHas.call(x);\n\t\t\t} catch (e) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\treturn x instanceof $Map; // core-js workaround, pre-v2.5.0\n\t} catch (e) {}\n\treturn false;\n};\n","'use strict';\n\nvar $Map = typeof Map === 'function' && Map.prototype ? Map : null;\nvar $Set = typeof Set === 'function' && Set.prototype ? Set : null;\n\nvar exported;\n\nif (!$Set) {\n\t// eslint-disable-next-line no-unused-vars\n\texported = function isSet(x) {\n\t\t// `Set` is not present in this environment.\n\t\treturn false;\n\t};\n}\n\nvar $mapHas = $Map ? Map.prototype.has : null;\nvar $setHas = $Set ? Set.prototype.has : null;\nif (!exported && !$setHas) {\n\t// eslint-disable-next-line no-unused-vars\n\texported = function isSet(x) {\n\t\t// `Set` does not have a `has` method\n\t\treturn false;\n\t};\n}\n\nmodule.exports = exported || function isSet(x) {\n\tif (!x || typeof x !== 'object') {\n\t\treturn false;\n\t}\n\ttry {\n\t\t$setHas.call(x);\n\t\tif ($mapHas) {\n\t\t\ttry {\n\t\t\t\t$mapHas.call(x);\n\t\t\t} catch (e) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\treturn x instanceof $Set; // core-js workaround, pre-v2.5.0\n\t} catch (e) {}\n\treturn false;\n};\n","'use strict';\n\nvar $BigInt = typeof BigInt !== 'undefined' && BigInt;\n\nmodule.exports = function hasNativeBigInts() {\n\treturn typeof $BigInt === 'function'\n\t\t&& typeof BigInt === 'function'\n\t\t&& typeof $BigInt(42) === 'bigint' // eslint-disable-line no-magic-numbers\n\t\t&& typeof BigInt(42) === 'bigint'; // eslint-disable-line no-magic-numbers\n};\n","/* @license twgl.js 5.3.1 Copyright (c) 2015, Gregg Tavares All Rights Reserved.\nAvailable via the MIT license.\nsee: http://github.com/greggman/twgl.js for details */\n/*\n * Copyright 2019 Gregg Tavares\n *\n * Permission is hereby granted, free of charge, to any person obtaining a\n * copy of this software and associated documentation files (the \"Software\"),\n * to deal in the Software without restriction, including without limitation\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\n * and/or sell copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.  IN NO EVENT SHALL\n * THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\n * DEALINGS IN THE SOFTWARE.\n */\n\n/**\n *\n * Vec3 math math functions.\n *\n * Almost all functions take an optional `dst` argument. If it is not passed in the\n * functions will create a new Vec3. In other words you can do this\n *\n *     var v = v3.cross(v1, v2);  // Creates a new Vec3 with the cross product of v1 x v2.\n *\n * or\n *\n *     var v = v3.create();\n *     v3.cross(v1, v2, v);  // Puts the cross product of v1 x v2 in v\n *\n * The first style is often easier but depending on where it's used it generates garbage where\n * as there is almost never allocation with the second style.\n *\n * It is always save to pass any vector as the destination. So for example\n *\n *     v3.cross(v1, v2, v1);  // Puts the cross product of v1 x v2 in v1\n *\n * @module twgl/v3\n */\n\nlet VecType = Float32Array;\n\n/**\n * A JavaScript array with 3 values or a Float32Array with 3 values.\n * When created by the library will create the default type which is `Float32Array`\n * but can be set by calling {@link module:twgl/v3.setDefaultType}.\n * @typedef {(number[]|Float32Array)} Vec3\n * @memberOf module:twgl/v3\n */\n\n/**\n * Sets the type this library creates for a Vec3\n * @param {constructor} ctor the constructor for the type. Either `Float32Array` or `Array`\n * @return {constructor} previous constructor for Vec3\n * @memberOf module:twgl/v3\n */\nfunction setDefaultType$1(ctor) {\n  const oldType = VecType;\n  VecType = ctor;\n  return oldType;\n}\n\n/**\n * Creates a vec3; may be called with x, y, z to set initial values.\n * @param {number} [x] Initial x value.\n * @param {number} [y] Initial y value.\n * @param {number} [z] Initial z value.\n * @return {module:twgl/v3.Vec3} the created vector\n * @memberOf module:twgl/v3\n */\nfunction create$1(x, y, z) {\n  const dst = new VecType(3);\n  if (x) {\n    dst[0] = x;\n  }\n  if (y) {\n    dst[1] = y;\n  }\n  if (z) {\n    dst[2] = z;\n  }\n  return dst;\n}\n\n/**\n * Adds two vectors; assumes a and b have the same dimension.\n * @param {module:twgl/v3.Vec3} a Operand vector.\n * @param {module:twgl/v3.Vec3} b Operand vector.\n * @param {module:twgl/v3.Vec3} [dst] vector to hold result. If not new one is created.\n * @return {module:twgl/v3.Vec3} A vector tha tis the sum of a and b.\n * @memberOf module:twgl/v3\n */\nfunction add(a, b, dst) {\n  dst = dst || new VecType(3);\n\n  dst[0] = a[0] + b[0];\n  dst[1] = a[1] + b[1];\n  dst[2] = a[2] + b[2];\n\n  return dst;\n}\n\n/**\n * Subtracts two vectors.\n * @param {module:twgl/v3.Vec3} a Operand vector.\n * @param {module:twgl/v3.Vec3} b Operand vector.\n * @param {module:twgl/v3.Vec3} [dst] vector to hold result. If not new one is created.\n * @return {module:twgl/v3.Vec3} A vector that is the difference of a and b.\n * @memberOf module:twgl/v3\n */\nfunction subtract(a, b, dst) {\n  dst = dst || new VecType(3);\n\n  dst[0] = a[0] - b[0];\n  dst[1] = a[1] - b[1];\n  dst[2] = a[2] - b[2];\n\n  return dst;\n}\n\n/**\n * Performs linear interpolation on two vectors.\n * Given vectors a and b and interpolation coefficient t, returns\n * a + t * (b - a).\n * @param {module:twgl/v3.Vec3} a Operand vector.\n * @param {module:twgl/v3.Vec3} b Operand vector.\n * @param {number} t Interpolation coefficient.\n * @param {module:twgl/v3.Vec3} [dst] vector to hold result. If not new one is created.\n * @return {module:twgl/v3.Vec3} The linear interpolated result.\n * @memberOf module:twgl/v3\n */\nfunction lerp(a, b, t, dst) {\n  dst = dst || new VecType(3);\n\n  dst[0] = a[0] + t * (b[0] - a[0]);\n  dst[1] = a[1] + t * (b[1] - a[1]);\n  dst[2] = a[2] + t * (b[2] - a[2]);\n\n  return dst;\n}\n\n/**\n * Performs linear interpolation on two vectors.\n * Given vectors a and b and interpolation coefficient vector t, returns\n * a + t * (b - a).\n * @param {module:twgl/v3.Vec3} a Operand vector.\n * @param {module:twgl/v3.Vec3} b Operand vector.\n * @param {module:twgl/v3.Vec3} t Interpolation coefficients vector.\n * @param {module:twgl/v3.Vec3} [dst] vector to hold result. If not new one is created.\n * @return {module:twgl/v3.Vec3} the linear interpolated result.\n * @memberOf module:twgl/v3\n */\nfunction lerpV(a, b, t, dst) {\n  dst = dst || new VecType(3);\n\n  dst[0] = a[0] + t[0] * (b[0] - a[0]);\n  dst[1] = a[1] + t[1] * (b[1] - a[1]);\n  dst[2] = a[2] + t[2] * (b[2] - a[2]);\n\n  return dst;\n}\n\n/**\n * Return max values of two vectors.\n * Given vectors a and b returns\n * [max(a[0], b[0]), max(a[1], b[1]), max(a[2], b[2])].\n * @param {module:twgl/v3.Vec3} a Operand vector.\n * @param {module:twgl/v3.Vec3} b Operand vector.\n * @param {module:twgl/v3.Vec3} [dst] vector to hold result. If not new one is created.\n * @return {module:twgl/v3.Vec3} The max components vector.\n * @memberOf module:twgl/v3\n */\nfunction max(a, b, dst) {\n  dst = dst || new VecType(3);\n\n  dst[0] = Math.max(a[0], b[0]);\n  dst[1] = Math.max(a[1], b[1]);\n  dst[2] = Math.max(a[2], b[2]);\n\n  return dst;\n}\n\n/**\n * Return min values of two vectors.\n * Given vectors a and b returns\n * [min(a[0], b[0]), min(a[1], b[1]), min(a[2], b[2])].\n * @param {module:twgl/v3.Vec3} a Operand vector.\n * @param {module:twgl/v3.Vec3} b Operand vector.\n * @param {module:twgl/v3.Vec3} [dst] vector to hold result. If not new one is created.\n * @return {module:twgl/v3.Vec3} The min components vector.\n * @memberOf module:twgl/v3\n */\nfunction min(a, b, dst) {\n  dst = dst || new VecType(3);\n\n  dst[0] = Math.min(a[0], b[0]);\n  dst[1] = Math.min(a[1], b[1]);\n  dst[2] = Math.min(a[2], b[2]);\n\n  return dst;\n}\n\n/**\n * Multiplies a vector by a scalar.\n * @param {module:twgl/v3.Vec3} v The vector.\n * @param {number} k The scalar.\n * @param {module:twgl/v3.Vec3} [dst] vector to hold result. If not new one is created.\n * @return {module:twgl/v3.Vec3} The scaled vector.\n * @memberOf module:twgl/v3\n */\nfunction mulScalar(v, k, dst) {\n  dst = dst || new VecType(3);\n\n  dst[0] = v[0] * k;\n  dst[1] = v[1] * k;\n  dst[2] = v[2] * k;\n\n  return dst;\n}\n\n/**\n * Divides a vector by a scalar.\n * @param {module:twgl/v3.Vec3} v The vector.\n * @param {number} k The scalar.\n * @param {module:twgl/v3.Vec3} [dst] vector to hold result. If not new one is created.\n * @return {module:twgl/v3.Vec3} The scaled vector.\n * @memberOf module:twgl/v3\n */\nfunction divScalar(v, k, dst) {\n  dst = dst || new VecType(3);\n\n  dst[0] = v[0] / k;\n  dst[1] = v[1] / k;\n  dst[2] = v[2] / k;\n\n  return dst;\n}\n\n/**\n * Computes the cross product of two vectors; assumes both vectors have\n * three entries.\n * @param {module:twgl/v3.Vec3} a Operand vector.\n * @param {module:twgl/v3.Vec3} b Operand vector.\n * @param {module:twgl/v3.Vec3} [dst] vector to hold result. If not new one is created.\n * @return {module:twgl/v3.Vec3} The vector of a cross b.\n * @memberOf module:twgl/v3\n */\nfunction cross(a, b, dst) {\n  dst = dst || new VecType(3);\n\n  const t1 = a[2] * b[0] - a[0] * b[2];\n  const t2 = a[0] * b[1] - a[1] * b[0];\n  dst[0] = a[1] * b[2] - a[2] * b[1];\n  dst[1] = t1;\n  dst[2] = t2;\n\n  return dst;\n}\n\n/**\n * Computes the dot product of two vectors; assumes both vectors have\n * three entries.\n * @param {module:twgl/v3.Vec3} a Operand vector.\n * @param {module:twgl/v3.Vec3} b Operand vector.\n * @return {number} dot product\n * @memberOf module:twgl/v3\n */\nfunction dot(a, b) {\n  return (a[0] * b[0]) + (a[1] * b[1]) + (a[2] * b[2]);\n}\n\n/**\n * Computes the length of vector\n * @param {module:twgl/v3.Vec3} v vector.\n * @return {number} length of vector.\n * @memberOf module:twgl/v3\n */\nfunction length$1(v) {\n  return Math.sqrt(v[0] * v[0] + v[1] * v[1] + v[2] * v[2]);\n}\n\n/**\n * Computes the square of the length of vector\n * @param {module:twgl/v3.Vec3} v vector.\n * @return {number} square of the length of vector.\n * @memberOf module:twgl/v3\n */\nfunction lengthSq(v) {\n  return v[0] * v[0] + v[1] * v[1] + v[2] * v[2];\n}\n\n/**\n * Computes the distance between 2 points\n * @param {module:twgl/v3.Vec3} a vector.\n * @param {module:twgl/v3.Vec3} b vector.\n * @return {number} distance between a and b\n * @memberOf module:twgl/v3\n */\nfunction distance(a, b) {\n  const dx = a[0] - b[0];\n  const dy = a[1] - b[1];\n  const dz = a[2] - b[2];\n  return Math.sqrt(dx * dx + dy * dy + dz * dz);\n}\n\n/**\n * Computes the square of the distance between 2 points\n * @param {module:twgl/v3.Vec3} a vector.\n * @param {module:twgl/v3.Vec3} b vector.\n * @return {number} square of the distance between a and b\n * @memberOf module:twgl/v3\n */\nfunction distanceSq(a, b) {\n  const dx = a[0] - b[0];\n  const dy = a[1] - b[1];\n  const dz = a[2] - b[2];\n  return dx * dx + dy * dy + dz * dz;\n}\n\n/**\n * Divides a vector by its Euclidean length and returns the quotient.\n * @param {module:twgl/v3.Vec3} a The vector.\n * @param {module:twgl/v3.Vec3} [dst] vector to hold result. If not new one is created.\n * @return {module:twgl/v3.Vec3} The normalized vector.\n * @memberOf module:twgl/v3\n */\nfunction normalize(a, dst) {\n  dst = dst || new VecType(3);\n\n  const lenSq = a[0] * a[0] + a[1] * a[1] + a[2] * a[2];\n  const len = Math.sqrt(lenSq);\n  if (len > 0.00001) {\n    dst[0] = a[0] / len;\n    dst[1] = a[1] / len;\n    dst[2] = a[2] / len;\n  } else {\n    dst[0] = 0;\n    dst[1] = 0;\n    dst[2] = 0;\n  }\n\n  return dst;\n}\n\n/**\n * Negates a vector.\n * @param {module:twgl/v3.Vec3} v The vector.\n * @param {module:twgl/v3.Vec3} [dst] vector to hold result. If not new one is created.\n * @return {module:twgl/v3.Vec3} -v.\n * @memberOf module:twgl/v3\n */\nfunction negate$1(v, dst) {\n  dst = dst || new VecType(3);\n\n  dst[0] = -v[0];\n  dst[1] = -v[1];\n  dst[2] = -v[2];\n\n  return dst;\n}\n\n/**\n * Copies a vector.\n * @param {module:twgl/v3.Vec3} v The vector.\n * @param {module:twgl/v3.Vec3} [dst] vector to hold result. If not new one is created.\n * @return {module:twgl/v3.Vec3} A copy of v.\n * @memberOf module:twgl/v3\n */\nfunction copy$1(v, dst) {\n  dst = dst || new VecType(3);\n\n  dst[0] = v[0];\n  dst[1] = v[1];\n  dst[2] = v[2];\n\n  return dst;\n}\n\n/**\n * Multiplies a vector by another vector (component-wise); assumes a and\n * b have the same length.\n * @param {module:twgl/v3.Vec3} a Operand vector.\n * @param {module:twgl/v3.Vec3} b Operand vector.\n * @param {module:twgl/v3.Vec3} [dst] vector to hold result. If not new one is created.\n * @return {module:twgl/v3.Vec3} The vector of products of entries of a and\n *     b.\n * @memberOf module:twgl/v3\n */\nfunction multiply$1(a, b, dst) {\n  dst = dst || new VecType(3);\n\n  dst[0] = a[0] * b[0];\n  dst[1] = a[1] * b[1];\n  dst[2] = a[2] * b[2];\n\n  return dst;\n}\n\n/**\n * Divides a vector by another vector (component-wise); assumes a and\n * b have the same length.\n * @param {module:twgl/v3.Vec3} a Operand vector.\n * @param {module:twgl/v3.Vec3} b Operand vector.\n * @param {module:twgl/v3.Vec3} [dst] vector to hold result. If not new one is created.\n * @return {module:twgl/v3.Vec3} The vector of quotients of entries of a and\n *     b.\n * @memberOf module:twgl/v3\n */\nfunction divide(a, b, dst) {\n  dst = dst || new VecType(3);\n\n  dst[0] = a[0] / b[0];\n  dst[1] = a[1] / b[1];\n  dst[2] = a[2] / b[2];\n\n  return dst;\n}\n\nvar v3 = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  add: add,\n  copy: copy$1,\n  create: create$1,\n  cross: cross,\n  distance: distance,\n  distanceSq: distanceSq,\n  divide: divide,\n  divScalar: divScalar,\n  dot: dot,\n  lerp: lerp,\n  lerpV: lerpV,\n  length: length$1,\n  lengthSq: lengthSq,\n  max: max,\n  min: min,\n  mulScalar: mulScalar,\n  multiply: multiply$1,\n  negate: negate$1,\n  normalize: normalize,\n  setDefaultType: setDefaultType$1,\n  subtract: subtract\n});\n\n/*\n * Copyright 2019 Gregg Tavares\n *\n * Permission is hereby granted, free of charge, to any person obtaining a\n * copy of this software and associated documentation files (the \"Software\"),\n * to deal in the Software without restriction, including without limitation\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\n * and/or sell copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.  IN NO EVENT SHALL\n * THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\n * DEALINGS IN THE SOFTWARE.\n */\n\n/**\n * 4x4 Matrix math math functions.\n *\n * Almost all functions take an optional `dst` argument. If it is not passed in the\n * functions will create a new matrix. In other words you can do this\n *\n *     const mat = m4.translation([1, 2, 3]);  // Creates a new translation matrix\n *\n * or\n *\n *     const mat = m4.create();\n *     m4.translation([1, 2, 3], mat);  // Puts translation matrix in mat.\n *\n * The first style is often easier but depending on where it's used it generates garbage where\n * as there is almost never allocation with the second style.\n *\n * It is always save to pass any matrix as the destination. So for example\n *\n *     const mat = m4.identity();\n *     const trans = m4.translation([1, 2, 3]);\n *     m4.multiply(mat, trans, mat);  // Multiplies mat * trans and puts result in mat.\n *\n * @module twgl/m4\n */\nlet MatType = Float32Array;\n\n/**\n * A JavaScript array with 16 values or a Float32Array with 16 values.\n * When created by the library will create the default type which is `Float32Array`\n * but can be set by calling {@link module:twgl/m4.setDefaultType}.\n * @typedef {(number[]|Float32Array)} Mat4\n * @memberOf module:twgl/m4\n */\n\n/**\n * Sets the type this library creates for a Mat4\n * @param {constructor} ctor the constructor for the type. Either `Float32Array` or `Array`\n * @return {constructor} previous constructor for Mat4\n * @memberOf module:twgl/m4\n */\nfunction setDefaultType(ctor) {\n  const oldType = MatType;\n  MatType = ctor;\n  return oldType;\n}\n\n/**\n * Negates a matrix.\n * @param {module:twgl/m4.Mat4} m The matrix.\n * @param {module:twgl/m4.Mat4} [dst] matrix to hold result. If not passed a new one is created.\n * @return {module:twgl/m4.Mat4} -m.\n * @memberOf module:twgl/m4\n */\nfunction negate(m, dst) {\n  dst = dst || new MatType(16);\n\n  dst[ 0] = -m[ 0];\n  dst[ 1] = -m[ 1];\n  dst[ 2] = -m[ 2];\n  dst[ 3] = -m[ 3];\n  dst[ 4] = -m[ 4];\n  dst[ 5] = -m[ 5];\n  dst[ 6] = -m[ 6];\n  dst[ 7] = -m[ 7];\n  dst[ 8] = -m[ 8];\n  dst[ 9] = -m[ 9];\n  dst[10] = -m[10];\n  dst[11] = -m[11];\n  dst[12] = -m[12];\n  dst[13] = -m[13];\n  dst[14] = -m[14];\n  dst[15] = -m[15];\n\n  return dst;\n}\n\n/**\n * Creates a matrix.\n * @return {module:twgl/m4.Mat4} A new matrix.\n * @memberOf module:twgl/m4\n */\nfunction create() {\n  return new MatType(16).fill(0);\n}\n\n/**\n * Copies a matrix.\n * @param {module:twgl/m4.Mat4} m The matrix.\n * @param {module:twgl/m4.Mat4} [dst] The matrix. If not passed a new one is created.\n * @return {module:twgl/m4.Mat4} A copy of m.\n * @memberOf module:twgl/m4\n */\nfunction copy(m, dst) {\n  dst = dst || new MatType(16);\n\n  dst[ 0] = m[ 0];\n  dst[ 1] = m[ 1];\n  dst[ 2] = m[ 2];\n  dst[ 3] = m[ 3];\n  dst[ 4] = m[ 4];\n  dst[ 5] = m[ 5];\n  dst[ 6] = m[ 6];\n  dst[ 7] = m[ 7];\n  dst[ 8] = m[ 8];\n  dst[ 9] = m[ 9];\n  dst[10] = m[10];\n  dst[11] = m[11];\n  dst[12] = m[12];\n  dst[13] = m[13];\n  dst[14] = m[14];\n  dst[15] = m[15];\n\n  return dst;\n}\n\n/**\n * Creates an n-by-n identity matrix.\n *\n * @param {module:twgl/m4.Mat4} [dst] matrix to hold result. If not passed a new one is created.\n * @return {module:twgl/m4.Mat4} An n-by-n identity matrix.\n * @memberOf module:twgl/m4\n */\nfunction identity(dst) {\n  dst = dst || new MatType(16);\n\n  dst[ 0] = 1;\n  dst[ 1] = 0;\n  dst[ 2] = 0;\n  dst[ 3] = 0;\n  dst[ 4] = 0;\n  dst[ 5] = 1;\n  dst[ 6] = 0;\n  dst[ 7] = 0;\n  dst[ 8] = 0;\n  dst[ 9] = 0;\n  dst[10] = 1;\n  dst[11] = 0;\n  dst[12] = 0;\n  dst[13] = 0;\n  dst[14] = 0;\n  dst[15] = 1;\n\n  return dst;\n}\n\n/**\n * Takes the transpose of a matrix.\n * @param {module:twgl/m4.Mat4} m The matrix.\n * @param {module:twgl/m4.Mat4} [dst] matrix to hold result. If not passed a new one is created.\n * @return {module:twgl/m4.Mat4} The transpose of m.\n * @memberOf module:twgl/m4\n */\n function transpose(m, dst) {\n  dst = dst || new MatType(16);\n  if (dst === m) {\n    let t;\n\n    t = m[1];\n    m[1] = m[4];\n    m[4] = t;\n\n    t = m[2];\n    m[2] = m[8];\n    m[8] = t;\n\n    t = m[3];\n    m[3] = m[12];\n    m[12] = t;\n\n    t = m[6];\n    m[6] = m[9];\n    m[9] = t;\n\n    t = m[7];\n    m[7] = m[13];\n    m[13] = t;\n\n    t = m[11];\n    m[11] = m[14];\n    m[14] = t;\n    return dst;\n  }\n\n  const m00 = m[0 * 4 + 0];\n  const m01 = m[0 * 4 + 1];\n  const m02 = m[0 * 4 + 2];\n  const m03 = m[0 * 4 + 3];\n  const m10 = m[1 * 4 + 0];\n  const m11 = m[1 * 4 + 1];\n  const m12 = m[1 * 4 + 2];\n  const m13 = m[1 * 4 + 3];\n  const m20 = m[2 * 4 + 0];\n  const m21 = m[2 * 4 + 1];\n  const m22 = m[2 * 4 + 2];\n  const m23 = m[2 * 4 + 3];\n  const m30 = m[3 * 4 + 0];\n  const m31 = m[3 * 4 + 1];\n  const m32 = m[3 * 4 + 2];\n  const m33 = m[3 * 4 + 3];\n\n  dst[ 0] = m00;\n  dst[ 1] = m10;\n  dst[ 2] = m20;\n  dst[ 3] = m30;\n  dst[ 4] = m01;\n  dst[ 5] = m11;\n  dst[ 6] = m21;\n  dst[ 7] = m31;\n  dst[ 8] = m02;\n  dst[ 9] = m12;\n  dst[10] = m22;\n  dst[11] = m32;\n  dst[12] = m03;\n  dst[13] = m13;\n  dst[14] = m23;\n  dst[15] = m33;\n\n  return dst;\n}\n\n/**\n * Computes the inverse of a 4-by-4 matrix.\n * @param {module:twgl/m4.Mat4} m The matrix.\n * @param {module:twgl/m4.Mat4} [dst] matrix to hold result. If not passed a new one is created.\n * @return {module:twgl/m4.Mat4} The inverse of m.\n * @memberOf module:twgl/m4\n */\nfunction inverse(m, dst) {\n  dst = dst || new MatType(16);\n\n  const m00 = m[0 * 4 + 0];\n  const m01 = m[0 * 4 + 1];\n  const m02 = m[0 * 4 + 2];\n  const m03 = m[0 * 4 + 3];\n  const m10 = m[1 * 4 + 0];\n  const m11 = m[1 * 4 + 1];\n  const m12 = m[1 * 4 + 2];\n  const m13 = m[1 * 4 + 3];\n  const m20 = m[2 * 4 + 0];\n  const m21 = m[2 * 4 + 1];\n  const m22 = m[2 * 4 + 2];\n  const m23 = m[2 * 4 + 3];\n  const m30 = m[3 * 4 + 0];\n  const m31 = m[3 * 4 + 1];\n  const m32 = m[3 * 4 + 2];\n  const m33 = m[3 * 4 + 3];\n  const tmp_0  = m22 * m33;\n  const tmp_1  = m32 * m23;\n  const tmp_2  = m12 * m33;\n  const tmp_3  = m32 * m13;\n  const tmp_4  = m12 * m23;\n  const tmp_5  = m22 * m13;\n  const tmp_6  = m02 * m33;\n  const tmp_7  = m32 * m03;\n  const tmp_8  = m02 * m23;\n  const tmp_9  = m22 * m03;\n  const tmp_10 = m02 * m13;\n  const tmp_11 = m12 * m03;\n  const tmp_12 = m20 * m31;\n  const tmp_13 = m30 * m21;\n  const tmp_14 = m10 * m31;\n  const tmp_15 = m30 * m11;\n  const tmp_16 = m10 * m21;\n  const tmp_17 = m20 * m11;\n  const tmp_18 = m00 * m31;\n  const tmp_19 = m30 * m01;\n  const tmp_20 = m00 * m21;\n  const tmp_21 = m20 * m01;\n  const tmp_22 = m00 * m11;\n  const tmp_23 = m10 * m01;\n\n  const t0 = (tmp_0 * m11 + tmp_3 * m21 + tmp_4 * m31) -\n      (tmp_1 * m11 + tmp_2 * m21 + tmp_5 * m31);\n  const t1 = (tmp_1 * m01 + tmp_6 * m21 + tmp_9 * m31) -\n      (tmp_0 * m01 + tmp_7 * m21 + tmp_8 * m31);\n  const t2 = (tmp_2 * m01 + tmp_7 * m11 + tmp_10 * m31) -\n      (tmp_3 * m01 + tmp_6 * m11 + tmp_11 * m31);\n  const t3 = (tmp_5 * m01 + tmp_8 * m11 + tmp_11 * m21) -\n      (tmp_4 * m01 + tmp_9 * m11 + tmp_10 * m21);\n\n  const d = 1.0 / (m00 * t0 + m10 * t1 + m20 * t2 + m30 * t3);\n\n  dst[ 0] = d * t0;\n  dst[ 1] = d * t1;\n  dst[ 2] = d * t2;\n  dst[ 3] = d * t3;\n  dst[ 4] = d * ((tmp_1 * m10 + tmp_2 * m20 + tmp_5 * m30) -\n          (tmp_0 * m10 + tmp_3 * m20 + tmp_4 * m30));\n  dst[ 5] = d * ((tmp_0 * m00 + tmp_7 * m20 + tmp_8 * m30) -\n          (tmp_1 * m00 + tmp_6 * m20 + tmp_9 * m30));\n  dst[ 6] = d * ((tmp_3 * m00 + tmp_6 * m10 + tmp_11 * m30) -\n          (tmp_2 * m00 + tmp_7 * m10 + tmp_10 * m30));\n  dst[ 7] = d * ((tmp_4 * m00 + tmp_9 * m10 + tmp_10 * m20) -\n          (tmp_5 * m00 + tmp_8 * m10 + tmp_11 * m20));\n  dst[ 8] = d * ((tmp_12 * m13 + tmp_15 * m23 + tmp_16 * m33) -\n          (tmp_13 * m13 + tmp_14 * m23 + tmp_17 * m33));\n  dst[ 9] = d * ((tmp_13 * m03 + tmp_18 * m23 + tmp_21 * m33) -\n          (tmp_12 * m03 + tmp_19 * m23 + tmp_20 * m33));\n  dst[10] = d * ((tmp_14 * m03 + tmp_19 * m13 + tmp_22 * m33) -\n          (tmp_15 * m03 + tmp_18 * m13 + tmp_23 * m33));\n  dst[11] = d * ((tmp_17 * m03 + tmp_20 * m13 + tmp_23 * m23) -\n          (tmp_16 * m03 + tmp_21 * m13 + tmp_22 * m23));\n  dst[12] = d * ((tmp_14 * m22 + tmp_17 * m32 + tmp_13 * m12) -\n          (tmp_16 * m32 + tmp_12 * m12 + tmp_15 * m22));\n  dst[13] = d * ((tmp_20 * m32 + tmp_12 * m02 + tmp_19 * m22) -\n          (tmp_18 * m22 + tmp_21 * m32 + tmp_13 * m02));\n  dst[14] = d * ((tmp_18 * m12 + tmp_23 * m32 + tmp_15 * m02) -\n          (tmp_22 * m32 + tmp_14 * m02 + tmp_19 * m12));\n  dst[15] = d * ((tmp_22 * m22 + tmp_16 * m02 + tmp_21 * m12) -\n          (tmp_20 * m12 + tmp_23 * m22 + tmp_17 * m02));\n\n  return dst;\n}\n\n/**\n * Multiplies two 4-by-4 matrices with a on the left and b on the right\n * @param {module:twgl/m4.Mat4} a The matrix on the left.\n * @param {module:twgl/m4.Mat4} b The matrix on the right.\n * @param {module:twgl/m4.Mat4} [dst] matrix to hold result. If not passed a new one is created.\n * @return {module:twgl/m4.Mat4} The matrix product of a and b.\n * @memberOf module:twgl/m4\n */\nfunction multiply(a, b, dst) {\n  dst = dst || new MatType(16);\n\n  const a00 = a[0];\n  const a01 = a[1];\n  const a02 = a[2];\n  const a03 = a[3];\n  const a10 = a[ 4 + 0];\n  const a11 = a[ 4 + 1];\n  const a12 = a[ 4 + 2];\n  const a13 = a[ 4 + 3];\n  const a20 = a[ 8 + 0];\n  const a21 = a[ 8 + 1];\n  const a22 = a[ 8 + 2];\n  const a23 = a[ 8 + 3];\n  const a30 = a[12 + 0];\n  const a31 = a[12 + 1];\n  const a32 = a[12 + 2];\n  const a33 = a[12 + 3];\n  const b00 = b[0];\n  const b01 = b[1];\n  const b02 = b[2];\n  const b03 = b[3];\n  const b10 = b[ 4 + 0];\n  const b11 = b[ 4 + 1];\n  const b12 = b[ 4 + 2];\n  const b13 = b[ 4 + 3];\n  const b20 = b[ 8 + 0];\n  const b21 = b[ 8 + 1];\n  const b22 = b[ 8 + 2];\n  const b23 = b[ 8 + 3];\n  const b30 = b[12 + 0];\n  const b31 = b[12 + 1];\n  const b32 = b[12 + 2];\n  const b33 = b[12 + 3];\n\n  dst[ 0] = a00 * b00 + a10 * b01 + a20 * b02 + a30 * b03;\n  dst[ 1] = a01 * b00 + a11 * b01 + a21 * b02 + a31 * b03;\n  dst[ 2] = a02 * b00 + a12 * b01 + a22 * b02 + a32 * b03;\n  dst[ 3] = a03 * b00 + a13 * b01 + a23 * b02 + a33 * b03;\n  dst[ 4] = a00 * b10 + a10 * b11 + a20 * b12 + a30 * b13;\n  dst[ 5] = a01 * b10 + a11 * b11 + a21 * b12 + a31 * b13;\n  dst[ 6] = a02 * b10 + a12 * b11 + a22 * b12 + a32 * b13;\n  dst[ 7] = a03 * b10 + a13 * b11 + a23 * b12 + a33 * b13;\n  dst[ 8] = a00 * b20 + a10 * b21 + a20 * b22 + a30 * b23;\n  dst[ 9] = a01 * b20 + a11 * b21 + a21 * b22 + a31 * b23;\n  dst[10] = a02 * b20 + a12 * b21 + a22 * b22 + a32 * b23;\n  dst[11] = a03 * b20 + a13 * b21 + a23 * b22 + a33 * b23;\n  dst[12] = a00 * b30 + a10 * b31 + a20 * b32 + a30 * b33;\n  dst[13] = a01 * b30 + a11 * b31 + a21 * b32 + a31 * b33;\n  dst[14] = a02 * b30 + a12 * b31 + a22 * b32 + a32 * b33;\n  dst[15] = a03 * b30 + a13 * b31 + a23 * b32 + a33 * b33;\n\n  return dst;\n}\n\n/**\n * Sets the translation component of a 4-by-4 matrix to the given\n * vector.\n * @param {module:twgl/m4.Mat4} a The matrix.\n * @param {module:twgl/v3.Vec3} v The vector.\n * @param {module:twgl/m4.Mat4} [dst] matrix to hold result. If not passed a new one is created.\n * @return {module:twgl/m4.Mat4} The matrix with translation set.\n * @memberOf module:twgl/m4\n */\nfunction setTranslation(a, v, dst) {\n  dst = dst || identity();\n  if (a !== dst) {\n    dst[ 0] = a[ 0];\n    dst[ 1] = a[ 1];\n    dst[ 2] = a[ 2];\n    dst[ 3] = a[ 3];\n    dst[ 4] = a[ 4];\n    dst[ 5] = a[ 5];\n    dst[ 6] = a[ 6];\n    dst[ 7] = a[ 7];\n    dst[ 8] = a[ 8];\n    dst[ 9] = a[ 9];\n    dst[10] = a[10];\n    dst[11] = a[11];\n  }\n  dst[12] = v[0];\n  dst[13] = v[1];\n  dst[14] = v[2];\n  dst[15] = 1;\n  return dst;\n}\n\n/**\n * Returns the translation component of a 4-by-4 matrix as a vector with 3\n * entries.\n * @param {module:twgl/m4.Mat4} m The matrix.\n * @param {module:twgl/v3.Vec3} [dst] vector to hold result. If not passed a new one is created.\n * @return {module:twgl/v3.Vec3} The translation component of m.\n * @memberOf module:twgl/m4\n */\nfunction getTranslation(m, dst) {\n  dst = dst || create$1();\n  dst[0] = m[12];\n  dst[1] = m[13];\n  dst[2] = m[14];\n  return dst;\n}\n\n/**\n * Returns an axis of a 4x4 matrix as a vector with 3 entries\n * @param {module:twgl/m4.Mat4} m The matrix.\n * @param {number} axis The axis 0 = x, 1 = y, 2 = z;\n * @return {module:twgl/v3.Vec3} [dst] vector.\n * @return {module:twgl/v3.Vec3} The axis component of m.\n * @memberOf module:twgl/m4\n */\nfunction getAxis(m, axis, dst) {\n  dst = dst || create$1();\n  const off = axis * 4;\n  dst[0] = m[off + 0];\n  dst[1] = m[off + 1];\n  dst[2] = m[off + 2];\n  return dst;\n}\n\n/**\n * Sets an axis of a 4x4 matrix as a vector with 3 entries\n * @param {module:twgl/m4.Mat4} m The matrix.\n * @param {module:twgl/v3.Vec3} v the axis vector\n * @param {number} axis The axis  0 = x, 1 = y, 2 = z;\n * @param {module:twgl/m4.Mat4} [dst] The matrix to set. If not passed a new one is created.\n * @return {module:twgl/m4.Mat4} The matrix with axis set.\n * @memberOf module:twgl/m4\n */\nfunction setAxis(a, v, axis, dst) {\n  if (dst !== a) {\n    dst = copy(a, dst);\n  }\n  const off = axis * 4;\n  dst[off + 0] = v[0];\n  dst[off + 1] = v[1];\n  dst[off + 2] = v[2];\n  return dst;\n}\n\n/**\n * Computes a 4-by-4 perspective transformation matrix given the angular height\n * of the frustum, the aspect ratio, and the near and far clipping planes.  The\n * arguments define a frustum extending in the negative z direction.  The given\n * angle is the vertical angle of the frustum, and the horizontal angle is\n * determined to produce the given aspect ratio.  The arguments near and far are\n * the distances to the near and far clipping planes.  Note that near and far\n * are not z coordinates, but rather they are distances along the negative\n * z-axis.  The matrix generated sends the viewing frustum to the unit box.\n * We assume a unit box extending from -1 to 1 in the x and y dimensions and\n * from 0 to 1 in the z dimension.\n * @param {number} fieldOfViewYInRadians The camera angle from top to bottom (in radians).\n * @param {number} aspect The aspect ratio width / height.\n * @param {number} zNear The depth (negative z coordinate)\n *     of the near clipping plane.\n * @param {number} zFar The depth (negative z coordinate)\n *     of the far clipping plane.\n * @param {module:twgl/m4.Mat4} [dst] matrix to hold result. If not passed a new one is created.\n * @return {module:twgl/m4.Mat4} The perspective matrix.\n * @memberOf module:twgl/m4\n */\nfunction perspective(fieldOfViewYInRadians, aspect, zNear, zFar, dst) {\n  dst = dst || new MatType(16);\n\n  const f = Math.tan(Math.PI * 0.5 - 0.5 * fieldOfViewYInRadians);\n  const rangeInv = 1.0 / (zNear - zFar);\n\n  dst[0]  = f / aspect;\n  dst[1]  = 0;\n  dst[2]  = 0;\n  dst[3]  = 0;\n\n  dst[4]  = 0;\n  dst[5]  = f;\n  dst[6]  = 0;\n  dst[7]  = 0;\n\n  dst[8]  = 0;\n  dst[9]  = 0;\n  dst[10] = (zNear + zFar) * rangeInv;\n  dst[11] = -1;\n\n  dst[12] = 0;\n  dst[13] = 0;\n  dst[14] = zNear * zFar * rangeInv * 2;\n  dst[15] = 0;\n\n  return dst;\n}\n\n/**\n * Computes a 4-by-4 orthogonal transformation matrix given the left, right,\n * bottom, and top dimensions of the near clipping plane as well as the\n * near and far clipping plane distances.\n * @param {number} left Left side of the near clipping plane viewport.\n * @param {number} right Right side of the near clipping plane viewport.\n * @param {number} bottom Bottom of the near clipping plane viewport.\n * @param {number} top Top of the near clipping plane viewport.\n * @param {number} near The depth (negative z coordinate)\n *     of the near clipping plane.\n * @param {number} far The depth (negative z coordinate)\n *     of the far clipping plane.\n * @param {module:twgl/m4.Mat4} [dst] Output matrix. If not passed a new one is created.\n * @return {module:twgl/m4.Mat4} The perspective matrix.\n * @memberOf module:twgl/m4\n */\nfunction ortho(left, right, bottom, top, near, far, dst) {\n  dst = dst || new MatType(16);\n\n  dst[0]  = 2 / (right - left);\n  dst[1]  = 0;\n  dst[2]  = 0;\n  dst[3]  = 0;\n\n  dst[4]  = 0;\n  dst[5]  = 2 / (top - bottom);\n  dst[6]  = 0;\n  dst[7]  = 0;\n\n  dst[8]  = 0;\n  dst[9]  = 0;\n  dst[10] = 2 / (near - far);\n  dst[11] = 0;\n\n  dst[12] = (right + left) / (left - right);\n  dst[13] = (top + bottom) / (bottom - top);\n  dst[14] = (far + near) / (near - far);\n  dst[15] = 1;\n\n  return dst;\n}\n\n/**\n * Computes a 4-by-4 perspective transformation matrix given the left, right,\n * top, bottom, near and far clipping planes. The arguments define a frustum\n * extending in the negative z direction. The arguments near and far are the\n * distances to the near and far clipping planes. Note that near and far are not\n * z coordinates, but rather they are distances along the negative z-axis. The\n * matrix generated sends the viewing frustum to the unit box. We assume a unit\n * box extending from -1 to 1 in the x and y dimensions and from 0 to 1 in the z\n * dimension.\n * @param {number} left The x coordinate of the left plane of the box.\n * @param {number} right The x coordinate of the right plane of the box.\n * @param {number} bottom The y coordinate of the bottom plane of the box.\n * @param {number} top The y coordinate of the right plane of the box.\n * @param {number} near The negative z coordinate of the near plane of the box.\n * @param {number} far The negative z coordinate of the far plane of the box.\n * @param {module:twgl/m4.Mat4} [dst] Output matrix. If not passed a new one is created.\n * @return {module:twgl/m4.Mat4} The perspective projection matrix.\n * @memberOf module:twgl/m4\n */\nfunction frustum(left, right, bottom, top, near, far, dst) {\n  dst = dst || new MatType(16);\n\n  const dx = (right - left);\n  const dy = (top - bottom);\n  const dz = (near - far);\n\n  dst[ 0] = 2 * near / dx;\n  dst[ 1] = 0;\n  dst[ 2] = 0;\n  dst[ 3] = 0;\n  dst[ 4] = 0;\n  dst[ 5] = 2 * near / dy;\n  dst[ 6] = 0;\n  dst[ 7] = 0;\n  dst[ 8] = (left + right) / dx;\n  dst[ 9] = (top + bottom) / dy;\n  dst[10] = far / dz;\n  dst[11] = -1;\n  dst[12] = 0;\n  dst[13] = 0;\n  dst[14] = near * far / dz;\n  dst[15] = 0;\n\n  return dst;\n}\n\nlet xAxis;\nlet yAxis;\nlet zAxis;\n\n/**\n * Computes a 4-by-4 look-at transformation.\n *\n * This is a matrix which positions the camera itself. If you want\n * a view matrix (a matrix which moves things in front of the camera)\n * take the inverse of this.\n *\n * @param {module:twgl/v3.Vec3} eye The position of the eye.\n * @param {module:twgl/v3.Vec3} target The position meant to be viewed.\n * @param {module:twgl/v3.Vec3} up A vector pointing up.\n * @param {module:twgl/m4.Mat4} [dst] matrix to hold result. If not passed a new one is created.\n * @return {module:twgl/m4.Mat4} The look-at matrix.\n * @memberOf module:twgl/m4\n */\nfunction lookAt(eye, target, up, dst) {\n  dst = dst || new MatType(16);\n\n  xAxis = xAxis || create$1();\n  yAxis = yAxis || create$1();\n  zAxis = zAxis || create$1();\n\n  normalize(\n      subtract(eye, target, zAxis), zAxis);\n  normalize(cross(up, zAxis, xAxis), xAxis);\n  normalize(cross(zAxis, xAxis, yAxis), yAxis);\n\n  dst[ 0] = xAxis[0];\n  dst[ 1] = xAxis[1];\n  dst[ 2] = xAxis[2];\n  dst[ 3] = 0;\n  dst[ 4] = yAxis[0];\n  dst[ 5] = yAxis[1];\n  dst[ 6] = yAxis[2];\n  dst[ 7] = 0;\n  dst[ 8] = zAxis[0];\n  dst[ 9] = zAxis[1];\n  dst[10] = zAxis[2];\n  dst[11] = 0;\n  dst[12] = eye[0];\n  dst[13] = eye[1];\n  dst[14] = eye[2];\n  dst[15] = 1;\n\n  return dst;\n}\n\n/**\n * Creates a 4-by-4 matrix which translates by the given vector v.\n * @param {module:twgl/v3.Vec3} v The vector by\n *     which to translate.\n * @param {module:twgl/m4.Mat4} [dst] matrix to hold result. If not passed a new one is created.\n * @return {module:twgl/m4.Mat4} The translation matrix.\n * @memberOf module:twgl/m4\n */\nfunction translation(v, dst) {\n  dst = dst || new MatType(16);\n\n  dst[ 0] = 1;\n  dst[ 1] = 0;\n  dst[ 2] = 0;\n  dst[ 3] = 0;\n  dst[ 4] = 0;\n  dst[ 5] = 1;\n  dst[ 6] = 0;\n  dst[ 7] = 0;\n  dst[ 8] = 0;\n  dst[ 9] = 0;\n  dst[10] = 1;\n  dst[11] = 0;\n  dst[12] = v[0];\n  dst[13] = v[1];\n  dst[14] = v[2];\n  dst[15] = 1;\n  return dst;\n}\n\n/**\n * Translates the given 4-by-4 matrix by the given vector v.\n * @param {module:twgl/m4.Mat4} m The matrix.\n * @param {module:twgl/v3.Vec3} v The vector by\n *     which to translate.\n * @param {module:twgl/m4.Mat4} [dst] matrix to hold result. If not passed a new one is created.\n * @return {module:twgl/m4.Mat4} The translated matrix.\n * @memberOf module:twgl/m4\n */\nfunction translate(m, v, dst) {\n  dst = dst || new MatType(16);\n\n  const v0 = v[0];\n  const v1 = v[1];\n  const v2 = v[2];\n  const m00 = m[0];\n  const m01 = m[1];\n  const m02 = m[2];\n  const m03 = m[3];\n  const m10 = m[1 * 4 + 0];\n  const m11 = m[1 * 4 + 1];\n  const m12 = m[1 * 4 + 2];\n  const m13 = m[1 * 4 + 3];\n  const m20 = m[2 * 4 + 0];\n  const m21 = m[2 * 4 + 1];\n  const m22 = m[2 * 4 + 2];\n  const m23 = m[2 * 4 + 3];\n  const m30 = m[3 * 4 + 0];\n  const m31 = m[3 * 4 + 1];\n  const m32 = m[3 * 4 + 2];\n  const m33 = m[3 * 4 + 3];\n\n  if (m !== dst) {\n    dst[ 0] = m00;\n    dst[ 1] = m01;\n    dst[ 2] = m02;\n    dst[ 3] = m03;\n    dst[ 4] = m10;\n    dst[ 5] = m11;\n    dst[ 6] = m12;\n    dst[ 7] = m13;\n    dst[ 8] = m20;\n    dst[ 9] = m21;\n    dst[10] = m22;\n    dst[11] = m23;\n  }\n\n  dst[12] = m00 * v0 + m10 * v1 + m20 * v2 + m30;\n  dst[13] = m01 * v0 + m11 * v1 + m21 * v2 + m31;\n  dst[14] = m02 * v0 + m12 * v1 + m22 * v2 + m32;\n  dst[15] = m03 * v0 + m13 * v1 + m23 * v2 + m33;\n\n  return dst;\n}\n\n/**\n * Creates a 4-by-4 matrix which rotates around the x-axis by the given angle.\n * @param {number} angleInRadians The angle by which to rotate (in radians).\n * @param {module:twgl/m4.Mat4} [dst] matrix to hold result. If not passed a new one is created.\n * @return {module:twgl/m4.Mat4} The rotation matrix.\n * @memberOf module:twgl/m4\n */\nfunction rotationX(angleInRadians, dst) {\n  dst = dst || new MatType(16);\n\n  const c = Math.cos(angleInRadians);\n  const s = Math.sin(angleInRadians);\n\n  dst[ 0] = 1;\n  dst[ 1] = 0;\n  dst[ 2] = 0;\n  dst[ 3] = 0;\n  dst[ 4] = 0;\n  dst[ 5] = c;\n  dst[ 6] = s;\n  dst[ 7] = 0;\n  dst[ 8] = 0;\n  dst[ 9] = -s;\n  dst[10] = c;\n  dst[11] = 0;\n  dst[12] = 0;\n  dst[13] = 0;\n  dst[14] = 0;\n  dst[15] = 1;\n\n  return dst;\n}\n\n/**\n * Rotates the given 4-by-4 matrix around the x-axis by the given\n * angle.\n * @param {module:twgl/m4.Mat4} m The matrix.\n * @param {number} angleInRadians The angle by which to rotate (in radians).\n * @param {module:twgl/m4.Mat4} [dst] matrix to hold result. If not passed a new one is created.\n * @return {module:twgl/m4.Mat4} The rotated matrix.\n * @memberOf module:twgl/m4\n */\nfunction rotateX(m, angleInRadians, dst) {\n  dst = dst || new MatType(16);\n\n  const m10 = m[4];\n  const m11 = m[5];\n  const m12 = m[6];\n  const m13 = m[7];\n  const m20 = m[8];\n  const m21 = m[9];\n  const m22 = m[10];\n  const m23 = m[11];\n  const c = Math.cos(angleInRadians);\n  const s = Math.sin(angleInRadians);\n\n  dst[4]  = c * m10 + s * m20;\n  dst[5]  = c * m11 + s * m21;\n  dst[6]  = c * m12 + s * m22;\n  dst[7]  = c * m13 + s * m23;\n  dst[8]  = c * m20 - s * m10;\n  dst[9]  = c * m21 - s * m11;\n  dst[10] = c * m22 - s * m12;\n  dst[11] = c * m23 - s * m13;\n\n  if (m !== dst) {\n    dst[ 0] = m[ 0];\n    dst[ 1] = m[ 1];\n    dst[ 2] = m[ 2];\n    dst[ 3] = m[ 3];\n    dst[12] = m[12];\n    dst[13] = m[13];\n    dst[14] = m[14];\n    dst[15] = m[15];\n  }\n\n  return dst;\n}\n\n/**\n * Creates a 4-by-4 matrix which rotates around the y-axis by the given angle.\n * @param {number} angleInRadians The angle by which to rotate (in radians).\n * @param {module:twgl/m4.Mat4} [dst] matrix to hold result. If not passed a new one is created.\n * @return {module:twgl/m4.Mat4} The rotation matrix.\n * @memberOf module:twgl/m4\n */\nfunction rotationY(angleInRadians, dst) {\n  dst = dst || new MatType(16);\n\n  const c = Math.cos(angleInRadians);\n  const s = Math.sin(angleInRadians);\n\n  dst[ 0] = c;\n  dst[ 1] = 0;\n  dst[ 2] = -s;\n  dst[ 3] = 0;\n  dst[ 4] = 0;\n  dst[ 5] = 1;\n  dst[ 6] = 0;\n  dst[ 7] = 0;\n  dst[ 8] = s;\n  dst[ 9] = 0;\n  dst[10] = c;\n  dst[11] = 0;\n  dst[12] = 0;\n  dst[13] = 0;\n  dst[14] = 0;\n  dst[15] = 1;\n\n  return dst;\n}\n\n/**\n * Rotates the given 4-by-4 matrix around the y-axis by the given\n * angle.\n * @param {module:twgl/m4.Mat4} m The matrix.\n * @param {number} angleInRadians The angle by which to rotate (in radians).\n * @param {module:twgl/m4.Mat4} [dst] matrix to hold result. If not passed a new one is created.\n * @return {module:twgl/m4.Mat4} The rotated matrix.\n * @memberOf module:twgl/m4\n */\nfunction rotateY(m, angleInRadians, dst) {\n  dst = dst || new MatType(16);\n\n  const m00 = m[0 * 4 + 0];\n  const m01 = m[0 * 4 + 1];\n  const m02 = m[0 * 4 + 2];\n  const m03 = m[0 * 4 + 3];\n  const m20 = m[2 * 4 + 0];\n  const m21 = m[2 * 4 + 1];\n  const m22 = m[2 * 4 + 2];\n  const m23 = m[2 * 4 + 3];\n  const c = Math.cos(angleInRadians);\n  const s = Math.sin(angleInRadians);\n\n  dst[ 0] = c * m00 - s * m20;\n  dst[ 1] = c * m01 - s * m21;\n  dst[ 2] = c * m02 - s * m22;\n  dst[ 3] = c * m03 - s * m23;\n  dst[ 8] = c * m20 + s * m00;\n  dst[ 9] = c * m21 + s * m01;\n  dst[10] = c * m22 + s * m02;\n  dst[11] = c * m23 + s * m03;\n\n  if (m !== dst) {\n    dst[ 4] = m[ 4];\n    dst[ 5] = m[ 5];\n    dst[ 6] = m[ 6];\n    dst[ 7] = m[ 7];\n    dst[12] = m[12];\n    dst[13] = m[13];\n    dst[14] = m[14];\n    dst[15] = m[15];\n  }\n\n  return dst;\n}\n\n/**\n * Creates a 4-by-4 matrix which rotates around the z-axis by the given angle.\n * @param {number} angleInRadians The angle by which to rotate (in radians).\n * @param {module:twgl/m4.Mat4} [dst] matrix to hold result. If not passed a new one is created.\n * @return {module:twgl/m4.Mat4} The rotation matrix.\n * @memberOf module:twgl/m4\n */\nfunction rotationZ(angleInRadians, dst) {\n  dst = dst || new MatType(16);\n\n  const c = Math.cos(angleInRadians);\n  const s = Math.sin(angleInRadians);\n\n  dst[ 0] = c;\n  dst[ 1] = s;\n  dst[ 2] = 0;\n  dst[ 3] = 0;\n  dst[ 4] = -s;\n  dst[ 5] = c;\n  dst[ 6] = 0;\n  dst[ 7] = 0;\n  dst[ 8] = 0;\n  dst[ 9] = 0;\n  dst[10] = 1;\n  dst[11] = 0;\n  dst[12] = 0;\n  dst[13] = 0;\n  dst[14] = 0;\n  dst[15] = 1;\n\n  return dst;\n}\n\n/**\n * Rotates the given 4-by-4 matrix around the z-axis by the given\n * angle.\n * @param {module:twgl/m4.Mat4} m The matrix.\n * @param {number} angleInRadians The angle by which to rotate (in radians).\n * @param {module:twgl/m4.Mat4} [dst] matrix to hold result. If not passed a new one is created.\n * @return {module:twgl/m4.Mat4} The rotated matrix.\n * @memberOf module:twgl/m4\n */\nfunction rotateZ(m, angleInRadians, dst) {\n  dst = dst || new MatType(16);\n\n  const m00 = m[0 * 4 + 0];\n  const m01 = m[0 * 4 + 1];\n  const m02 = m[0 * 4 + 2];\n  const m03 = m[0 * 4 + 3];\n  const m10 = m[1 * 4 + 0];\n  const m11 = m[1 * 4 + 1];\n  const m12 = m[1 * 4 + 2];\n  const m13 = m[1 * 4 + 3];\n  const c = Math.cos(angleInRadians);\n  const s = Math.sin(angleInRadians);\n\n  dst[ 0] = c * m00 + s * m10;\n  dst[ 1] = c * m01 + s * m11;\n  dst[ 2] = c * m02 + s * m12;\n  dst[ 3] = c * m03 + s * m13;\n  dst[ 4] = c * m10 - s * m00;\n  dst[ 5] = c * m11 - s * m01;\n  dst[ 6] = c * m12 - s * m02;\n  dst[ 7] = c * m13 - s * m03;\n\n  if (m !== dst) {\n    dst[ 8] = m[ 8];\n    dst[ 9] = m[ 9];\n    dst[10] = m[10];\n    dst[11] = m[11];\n    dst[12] = m[12];\n    dst[13] = m[13];\n    dst[14] = m[14];\n    dst[15] = m[15];\n  }\n\n  return dst;\n}\n\n/**\n * Creates a 4-by-4 matrix which rotates around the given axis by the given\n * angle.\n * @param {module:twgl/v3.Vec3} axis The axis\n *     about which to rotate.\n * @param {number} angleInRadians The angle by which to rotate (in radians).\n * @param {module:twgl/m4.Mat4} [dst] matrix to hold result. If not passed a new one is created.\n * @return {module:twgl/m4.Mat4} A matrix which rotates angle radians\n *     around the axis.\n * @memberOf module:twgl/m4\n */\nfunction axisRotation(axis, angleInRadians, dst) {\n  dst = dst || new MatType(16);\n\n  let x = axis[0];\n  let y = axis[1];\n  let z = axis[2];\n  const n = Math.sqrt(x * x + y * y + z * z);\n  x /= n;\n  y /= n;\n  z /= n;\n  const xx = x * x;\n  const yy = y * y;\n  const zz = z * z;\n  const c = Math.cos(angleInRadians);\n  const s = Math.sin(angleInRadians);\n  const oneMinusCosine = 1 - c;\n\n  dst[ 0] = xx + (1 - xx) * c;\n  dst[ 1] = x * y * oneMinusCosine + z * s;\n  dst[ 2] = x * z * oneMinusCosine - y * s;\n  dst[ 3] = 0;\n  dst[ 4] = x * y * oneMinusCosine - z * s;\n  dst[ 5] = yy + (1 - yy) * c;\n  dst[ 6] = y * z * oneMinusCosine + x * s;\n  dst[ 7] = 0;\n  dst[ 8] = x * z * oneMinusCosine + y * s;\n  dst[ 9] = y * z * oneMinusCosine - x * s;\n  dst[10] = zz + (1 - zz) * c;\n  dst[11] = 0;\n  dst[12] = 0;\n  dst[13] = 0;\n  dst[14] = 0;\n  dst[15] = 1;\n\n  return dst;\n}\n\n/**\n * Rotates the given 4-by-4 matrix around the given axis by the\n * given angle.\n * @param {module:twgl/m4.Mat4} m The matrix.\n * @param {module:twgl/v3.Vec3} axis The axis\n *     about which to rotate.\n * @param {number} angleInRadians The angle by which to rotate (in radians).\n * @param {module:twgl/m4.Mat4} [dst] matrix to hold result. If not passed a new one is created.\n * @return {module:twgl/m4.Mat4} The rotated matrix.\n * @memberOf module:twgl/m4\n */\nfunction axisRotate(m, axis, angleInRadians, dst) {\n  dst = dst || new MatType(16);\n\n  let x = axis[0];\n  let y = axis[1];\n  let z = axis[2];\n  const n = Math.sqrt(x * x + y * y + z * z);\n  x /= n;\n  y /= n;\n  z /= n;\n  const xx = x * x;\n  const yy = y * y;\n  const zz = z * z;\n  const c = Math.cos(angleInRadians);\n  const s = Math.sin(angleInRadians);\n  const oneMinusCosine = 1 - c;\n\n  const r00 = xx + (1 - xx) * c;\n  const r01 = x * y * oneMinusCosine + z * s;\n  const r02 = x * z * oneMinusCosine - y * s;\n  const r10 = x * y * oneMinusCosine - z * s;\n  const r11 = yy + (1 - yy) * c;\n  const r12 = y * z * oneMinusCosine + x * s;\n  const r20 = x * z * oneMinusCosine + y * s;\n  const r21 = y * z * oneMinusCosine - x * s;\n  const r22 = zz + (1 - zz) * c;\n\n  const m00 = m[0];\n  const m01 = m[1];\n  const m02 = m[2];\n  const m03 = m[3];\n  const m10 = m[4];\n  const m11 = m[5];\n  const m12 = m[6];\n  const m13 = m[7];\n  const m20 = m[8];\n  const m21 = m[9];\n  const m22 = m[10];\n  const m23 = m[11];\n\n  dst[ 0] = r00 * m00 + r01 * m10 + r02 * m20;\n  dst[ 1] = r00 * m01 + r01 * m11 + r02 * m21;\n  dst[ 2] = r00 * m02 + r01 * m12 + r02 * m22;\n  dst[ 3] = r00 * m03 + r01 * m13 + r02 * m23;\n  dst[ 4] = r10 * m00 + r11 * m10 + r12 * m20;\n  dst[ 5] = r10 * m01 + r11 * m11 + r12 * m21;\n  dst[ 6] = r10 * m02 + r11 * m12 + r12 * m22;\n  dst[ 7] = r10 * m03 + r11 * m13 + r12 * m23;\n  dst[ 8] = r20 * m00 + r21 * m10 + r22 * m20;\n  dst[ 9] = r20 * m01 + r21 * m11 + r22 * m21;\n  dst[10] = r20 * m02 + r21 * m12 + r22 * m22;\n  dst[11] = r20 * m03 + r21 * m13 + r22 * m23;\n\n  if (m !== dst) {\n    dst[12] = m[12];\n    dst[13] = m[13];\n    dst[14] = m[14];\n    dst[15] = m[15];\n  }\n\n  return dst;\n}\n\n/**\n * Creates a 4-by-4 matrix which scales in each dimension by an amount given by\n * the corresponding entry in the given vector; assumes the vector has three\n * entries.\n * @param {module:twgl/v3.Vec3} v A vector of\n *     three entries specifying the factor by which to scale in each dimension.\n * @param {module:twgl/m4.Mat4} [dst] matrix to hold result. If not passed a new one is created.\n * @return {module:twgl/m4.Mat4} The scaling matrix.\n * @memberOf module:twgl/m4\n */\nfunction scaling(v, dst) {\n  dst = dst || new MatType(16);\n\n  dst[ 0] = v[0];\n  dst[ 1] = 0;\n  dst[ 2] = 0;\n  dst[ 3] = 0;\n  dst[ 4] = 0;\n  dst[ 5] = v[1];\n  dst[ 6] = 0;\n  dst[ 7] = 0;\n  dst[ 8] = 0;\n  dst[ 9] = 0;\n  dst[10] = v[2];\n  dst[11] = 0;\n  dst[12] = 0;\n  dst[13] = 0;\n  dst[14] = 0;\n  dst[15] = 1;\n\n  return dst;\n}\n\n/**\n * Scales the given 4-by-4 matrix in each dimension by an amount\n * given by the corresponding entry in the given vector; assumes the vector has\n * three entries.\n * @param {module:twgl/m4.Mat4} m The matrix to be modified.\n * @param {module:twgl/v3.Vec3} v A vector of three entries specifying the\n *     factor by which to scale in each dimension.\n * @param {module:twgl/m4.Mat4} [dst] matrix to hold result. If not passed a new one is created.\n * @return {module:twgl/m4.Mat4} The scaled matrix.\n * @memberOf module:twgl/m4\n */\nfunction scale(m, v, dst) {\n  dst = dst || new MatType(16);\n\n  const v0 = v[0];\n  const v1 = v[1];\n  const v2 = v[2];\n\n  dst[ 0] = v0 * m[0 * 4 + 0];\n  dst[ 1] = v0 * m[0 * 4 + 1];\n  dst[ 2] = v0 * m[0 * 4 + 2];\n  dst[ 3] = v0 * m[0 * 4 + 3];\n  dst[ 4] = v1 * m[1 * 4 + 0];\n  dst[ 5] = v1 * m[1 * 4 + 1];\n  dst[ 6] = v1 * m[1 * 4 + 2];\n  dst[ 7] = v1 * m[1 * 4 + 3];\n  dst[ 8] = v2 * m[2 * 4 + 0];\n  dst[ 9] = v2 * m[2 * 4 + 1];\n  dst[10] = v2 * m[2 * 4 + 2];\n  dst[11] = v2 * m[2 * 4 + 3];\n\n  if (m !== dst) {\n    dst[12] = m[12];\n    dst[13] = m[13];\n    dst[14] = m[14];\n    dst[15] = m[15];\n  }\n\n  return dst;\n}\n\n/**\n * Takes a 4-by-4 matrix and a vector with 3 entries,\n * interprets the vector as a point, transforms that point by the matrix, and\n * returns the result as a vector with 3 entries.\n * @param {module:twgl/m4.Mat4} m The matrix.\n * @param {module:twgl/v3.Vec3} v The point.\n * @param {module:twgl/v3.Vec3} [dst] optional vec3 to store result. If not passed a new one is created.\n * @return {module:twgl/v3.Vec3} The transformed point.\n * @memberOf module:twgl/m4\n */\nfunction transformPoint(m, v, dst) {\n  dst = dst || create$1();\n  const v0 = v[0];\n  const v1 = v[1];\n  const v2 = v[2];\n  const d = v0 * m[0 * 4 + 3] + v1 * m[1 * 4 + 3] + v2 * m[2 * 4 + 3] + m[3 * 4 + 3];\n\n  dst[0] = (v0 * m[0 * 4 + 0] + v1 * m[1 * 4 + 0] + v2 * m[2 * 4 + 0] + m[3 * 4 + 0]) / d;\n  dst[1] = (v0 * m[0 * 4 + 1] + v1 * m[1 * 4 + 1] + v2 * m[2 * 4 + 1] + m[3 * 4 + 1]) / d;\n  dst[2] = (v0 * m[0 * 4 + 2] + v1 * m[1 * 4 + 2] + v2 * m[2 * 4 + 2] + m[3 * 4 + 2]) / d;\n\n  return dst;\n}\n\n/**\n * Takes a 4-by-4 matrix and a vector with 3 entries, interprets the vector as a\n * direction, transforms that direction by the matrix, and returns the result;\n * assumes the transformation of 3-dimensional space represented by the matrix\n * is parallel-preserving, i.e. any combination of rotation, scaling and\n * translation, but not a perspective distortion. Returns a vector with 3\n * entries.\n * @param {module:twgl/m4.Mat4} m The matrix.\n * @param {module:twgl/v3.Vec3} v The direction.\n * @param {module:twgl/v3.Vec3} [dst] optional Vec3 to store result. If not passed a new one is created.\n * @return {module:twgl/v3.Vec3} The transformed direction.\n * @memberOf module:twgl/m4\n */\nfunction transformDirection(m, v, dst) {\n  dst = dst || create$1();\n\n  const v0 = v[0];\n  const v1 = v[1];\n  const v2 = v[2];\n\n  dst[0] = v0 * m[0 * 4 + 0] + v1 * m[1 * 4 + 0] + v2 * m[2 * 4 + 0];\n  dst[1] = v0 * m[0 * 4 + 1] + v1 * m[1 * 4 + 1] + v2 * m[2 * 4 + 1];\n  dst[2] = v0 * m[0 * 4 + 2] + v1 * m[1 * 4 + 2] + v2 * m[2 * 4 + 2];\n\n  return dst;\n}\n\n/**\n * Takes a 4-by-4 matrix m and a vector v with 3 entries, interprets the vector\n * as a normal to a surface, and computes a vector which is normal upon\n * transforming that surface by the matrix. The effect of this function is the\n * same as transforming v (as a direction) by the inverse-transpose of m.  This\n * function assumes the transformation of 3-dimensional space represented by the\n * matrix is parallel-preserving, i.e. any combination of rotation, scaling and\n * translation, but not a perspective distortion.  Returns a vector with 3\n * entries.\n * @param {module:twgl/m4.Mat4} m The matrix.\n * @param {module:twgl/v3.Vec3} v The normal.\n * @param {module:twgl/v3.Vec3} [dst] The direction. If not passed a new one is created.\n * @return {module:twgl/v3.Vec3} The transformed normal.\n * @memberOf module:twgl/m4\n */\nfunction transformNormal$1(m, v, dst) {\n  dst = dst || create$1();\n  const mi = inverse(m);\n  const v0 = v[0];\n  const v1 = v[1];\n  const v2 = v[2];\n\n  dst[0] = v0 * mi[0 * 4 + 0] + v1 * mi[0 * 4 + 1] + v2 * mi[0 * 4 + 2];\n  dst[1] = v0 * mi[1 * 4 + 0] + v1 * mi[1 * 4 + 1] + v2 * mi[1 * 4 + 2];\n  dst[2] = v0 * mi[2 * 4 + 0] + v1 * mi[2 * 4 + 1] + v2 * mi[2 * 4 + 2];\n\n  return dst;\n}\n\nvar m4 = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  axisRotate: axisRotate,\n  axisRotation: axisRotation,\n  copy: copy,\n  create: create,\n  frustum: frustum,\n  getAxis: getAxis,\n  getTranslation: getTranslation,\n  identity: identity,\n  inverse: inverse,\n  lookAt: lookAt,\n  multiply: multiply,\n  negate: negate,\n  ortho: ortho,\n  perspective: perspective,\n  rotateX: rotateX,\n  rotateY: rotateY,\n  rotateZ: rotateZ,\n  rotationX: rotationX,\n  rotationY: rotationY,\n  rotationZ: rotationZ,\n  scale: scale,\n  scaling: scaling,\n  setAxis: setAxis,\n  setDefaultType: setDefaultType,\n  setTranslation: setTranslation,\n  transformDirection: transformDirection,\n  transformNormal: transformNormal$1,\n  transformPoint: transformPoint,\n  translate: translate,\n  translation: translation,\n  transpose: transpose\n});\n\n/*\n * Copyright 2019 Gregg Tavares\n *\n * Permission is hereby granted, free of charge, to any person obtaining a\n * copy of this software and associated documentation files (the \"Software\"),\n * to deal in the Software without restriction, including without limitation\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\n * and/or sell copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.  IN NO EVENT SHALL\n * THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\n * DEALINGS IN THE SOFTWARE.\n */\n\n/* DataType */\nconst BYTE$2                           = 0x1400;\nconst UNSIGNED_BYTE$3                  = 0x1401;\nconst SHORT$2                          = 0x1402;\nconst UNSIGNED_SHORT$3                 = 0x1403;\nconst INT$3                            = 0x1404;\nconst UNSIGNED_INT$3                   = 0x1405;\nconst FLOAT$3                          = 0x1406;\nconst UNSIGNED_SHORT_4_4_4_4$1       = 0x8033;\nconst UNSIGNED_SHORT_5_5_5_1$1       = 0x8034;\nconst UNSIGNED_SHORT_5_6_5$1         = 0x8363;\nconst HALF_FLOAT$1                   = 0x140B;\nconst UNSIGNED_INT_2_10_10_10_REV$1  = 0x8368;\nconst UNSIGNED_INT_10F_11F_11F_REV$1 = 0x8C3B;\nconst UNSIGNED_INT_5_9_9_9_REV$1     = 0x8C3E;\nconst FLOAT_32_UNSIGNED_INT_24_8_REV$1 = 0x8DAD;\nconst UNSIGNED_INT_24_8$1            = 0x84FA;\n\nconst glTypeToTypedArray = {};\n{\n  const tt = glTypeToTypedArray;\n  tt[BYTE$2]                           = Int8Array;\n  tt[UNSIGNED_BYTE$3]                  = Uint8Array;\n  tt[SHORT$2]                          = Int16Array;\n  tt[UNSIGNED_SHORT$3]                 = Uint16Array;\n  tt[INT$3]                            = Int32Array;\n  tt[UNSIGNED_INT$3]                   = Uint32Array;\n  tt[FLOAT$3]                          = Float32Array;\n  tt[UNSIGNED_SHORT_4_4_4_4$1]         = Uint16Array;\n  tt[UNSIGNED_SHORT_5_5_5_1$1]         = Uint16Array;\n  tt[UNSIGNED_SHORT_5_6_5$1]           = Uint16Array;\n  tt[HALF_FLOAT$1]                     = Uint16Array;\n  tt[UNSIGNED_INT_2_10_10_10_REV$1]    = Uint32Array;\n  tt[UNSIGNED_INT_10F_11F_11F_REV$1]   = Uint32Array;\n  tt[UNSIGNED_INT_5_9_9_9_REV$1]       = Uint32Array;\n  tt[FLOAT_32_UNSIGNED_INT_24_8_REV$1] = Uint32Array;\n  tt[UNSIGNED_INT_24_8$1]              = Uint32Array;\n}\n\n/**\n * Get the GL type for a typedArray\n * @param {ArrayBufferView} typedArray a typedArray\n * @return {number} the GL type for array. For example pass in an `Int8Array` and `gl.BYTE` will\n *   be returned. Pass in a `Uint32Array` and `gl.UNSIGNED_INT` will be returned\n * @memberOf module:twgl/typedArray\n */\nfunction getGLTypeForTypedArray(typedArray) {\n  if (typedArray instanceof Int8Array)         { return BYTE$2; }           // eslint-disable-line\n  if (typedArray instanceof Uint8Array)        { return UNSIGNED_BYTE$3; }  // eslint-disable-line\n  if (typedArray instanceof Uint8ClampedArray) { return UNSIGNED_BYTE$3; }  // eslint-disable-line\n  if (typedArray instanceof Int16Array)        { return SHORT$2; }          // eslint-disable-line\n  if (typedArray instanceof Uint16Array)       { return UNSIGNED_SHORT$3; } // eslint-disable-line\n  if (typedArray instanceof Int32Array)        { return INT$3; }            // eslint-disable-line\n  if (typedArray instanceof Uint32Array)       { return UNSIGNED_INT$3; }   // eslint-disable-line\n  if (typedArray instanceof Float32Array)      { return FLOAT$3; }          // eslint-disable-line\n  throw new Error('unsupported typed array type');\n}\n\n/**\n * Get the GL type for a typedArray type\n * @param {ArrayBufferView} typedArrayType a typedArray constructor\n * @return {number} the GL type for type. For example pass in `Int8Array` and `gl.BYTE` will\n *   be returned. Pass in `Uint32Array` and `gl.UNSIGNED_INT` will be returned\n * @memberOf module:twgl/typedArray\n */\nfunction getGLTypeForTypedArrayType(typedArrayType) {\n  if (typedArrayType === Int8Array)         { return BYTE$2; }           // eslint-disable-line\n  if (typedArrayType === Uint8Array)        { return UNSIGNED_BYTE$3; }  // eslint-disable-line\n  if (typedArrayType === Uint8ClampedArray) { return UNSIGNED_BYTE$3; }  // eslint-disable-line\n  if (typedArrayType === Int16Array)        { return SHORT$2; }          // eslint-disable-line\n  if (typedArrayType === Uint16Array)       { return UNSIGNED_SHORT$3; } // eslint-disable-line\n  if (typedArrayType === Int32Array)        { return INT$3; }            // eslint-disable-line\n  if (typedArrayType === Uint32Array)       { return UNSIGNED_INT$3; }   // eslint-disable-line\n  if (typedArrayType === Float32Array)      { return FLOAT$3; }          // eslint-disable-line\n  throw new Error('unsupported typed array type');\n}\n\n/**\n * Get the typed array constructor for a given GL type\n * @param {number} type the GL type. (eg: `gl.UNSIGNED_INT`)\n * @return {function} the constructor for a the corresponding typed array. (eg. `Uint32Array`).\n * @memberOf module:twgl/typedArray\n */\nfunction getTypedArrayTypeForGLType(type) {\n  const CTOR = glTypeToTypedArray[type];\n  if (!CTOR) {\n    throw new Error('unknown gl type');\n  }\n  return CTOR;\n}\n\nconst isArrayBuffer$1 = typeof SharedArrayBuffer !== 'undefined'\n  ? function isArrayBufferOrSharedArrayBuffer(a) {\n    return a && a.buffer && (a.buffer instanceof ArrayBuffer || a.buffer instanceof SharedArrayBuffer);\n  }\n  : function isArrayBuffer(a) {\n    return a && a.buffer && a.buffer instanceof ArrayBuffer;\n  };\n\nvar typedarrays = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  getGLTypeForTypedArray: getGLTypeForTypedArray,\n  getGLTypeForTypedArrayType: getGLTypeForTypedArrayType,\n  getTypedArrayTypeForGLType: getTypedArrayTypeForGLType,\n  isArrayBuffer: isArrayBuffer$1\n});\n\n/*\n * Copyright 2019 Gregg Tavares\n *\n * Permission is hereby granted, free of charge, to any person obtaining a\n * copy of this software and associated documentation files (the \"Software\"),\n * to deal in the Software without restriction, including without limitation\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\n * and/or sell copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.  IN NO EVENT SHALL\n * THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\n * DEALINGS IN THE SOFTWARE.\n */\n\n/* eslint no-console: \"off\" */\n\n/**\n * Copy named properties\n *\n * @param {string[]} names names of properties to copy\n * @param {object} src object to copy properties from\n * @param {object} dst object to copy properties to\n * @private\n */\nfunction copyNamedProperties(names, src, dst) {\n  names.forEach(function(name) {\n    const value = src[name];\n    if (value !== undefined) {\n      dst[name] = value;\n    }\n  });\n}\n\n/**\n * Copies properties from source to dest only if a matching key is in dest\n *\n * @param {Object.<string, ?>} src the source\n * @param {Object.<string, ?>} dst the dest\n * @private\n */\nfunction copyExistingProperties(src, dst) {\n  Object.keys(dst).forEach(function(key) {\n    if (dst.hasOwnProperty(key) && src.hasOwnProperty(key)) {  /* eslint no-prototype-builtins: 0 */\n      dst[key] = src[key];\n    }\n  });\n}\n\nfunction error$1(...args) {\n  console.error(...args);\n}\n\nfunction warn$1(...args) {\n  console.warn(...args);\n}\n\nconst isTypeWeakMaps = new Map();\n\nfunction isType(object, type) {\n  if (!object || typeof object !== 'object') {\n    return false;\n  }\n  let weakMap = isTypeWeakMaps.get(type);\n  if (!weakMap) {\n    weakMap = new WeakMap();\n    isTypeWeakMaps.set(type, weakMap);\n  }\n  let isOfType = weakMap.get(object);\n  if (isOfType === undefined) {\n    const s = Object.prototype.toString.call(object);\n    isOfType = s.substring(8, s.length - 1) === type;\n    weakMap.set(object, isOfType);\n  }\n  return isOfType;\n}\n\nfunction isBuffer(gl, t) {\n  return typeof WebGLBuffer !== 'undefined' && isType(t, 'WebGLBuffer');\n}\n\nfunction isRenderbuffer(gl, t) {\n  return typeof WebGLRenderbuffer !== 'undefined' && isType(t, 'WebGLRenderbuffer');\n}\n\nfunction isTexture(gl, t) {\n  return typeof WebGLTexture !== 'undefined' && isType(t, 'WebGLTexture');\n}\n\nfunction isSampler(gl, t) {\n  return typeof WebGLSampler !== 'undefined' && isType(t, 'WebGLSampler');\n}\n\n/*\n * Copyright 2019 Gregg Tavares\n *\n * Permission is hereby granted, free of charge, to any person obtaining a\n * copy of this software and associated documentation files (the \"Software\"),\n * to deal in the Software without restriction, including without limitation\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\n * and/or sell copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.  IN NO EVENT SHALL\n * THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\n * DEALINGS IN THE SOFTWARE.\n */\n\nconst STATIC_DRAW                  = 0x88e4;\nconst ARRAY_BUFFER$1                 = 0x8892;\nconst ELEMENT_ARRAY_BUFFER$2         = 0x8893;\nconst BUFFER_SIZE                  = 0x8764;\n\nconst BYTE$1                         = 0x1400;\nconst UNSIGNED_BYTE$2                = 0x1401;\nconst SHORT$1                        = 0x1402;\nconst UNSIGNED_SHORT$2               = 0x1403;\nconst INT$2                          = 0x1404;\nconst UNSIGNED_INT$2                 = 0x1405;\nconst FLOAT$2                        = 0x1406;\nconst defaults$2 = {\n  attribPrefix: \"\",\n};\n\n/**\n * Sets the default attrib prefix\n *\n * When writing shaders I prefer to name attributes with `a_`, uniforms with `u_` and varyings with `v_`\n * as it makes it clear where they came from. But, when building geometry I prefer using un-prefixed names.\n *\n * In other words I'll create arrays of geometry like this\n *\n *     var arrays = {\n *       position: ...\n *       normal: ...\n *       texcoord: ...\n *     };\n *\n * But need those mapped to attributes and my attributes start with `a_`.\n *\n * @deprecated see {@link module:twgl.setDefaults}\n * @param {string} prefix prefix for attribs\n * @memberOf module:twgl/attributes\n */\nfunction setAttributePrefix(prefix) {\n  defaults$2.attribPrefix = prefix;\n}\n\nfunction setDefaults$2(newDefaults) {\n  copyExistingProperties(newDefaults, defaults$2);\n}\n\nfunction setBufferFromTypedArray(gl, type, buffer, array, drawType) {\n  gl.bindBuffer(type, buffer);\n  gl.bufferData(type, array, drawType || STATIC_DRAW);\n}\n\n/**\n * Given typed array creates a WebGLBuffer and copies the typed array\n * into it.\n *\n * @param {WebGLRenderingContext} gl A WebGLRenderingContext\n * @param {ArrayBuffer|SharedArrayBuffer|ArrayBufferView|WebGLBuffer} typedArray the typed array. Note: If a WebGLBuffer is passed in it will just be returned. No action will be taken\n * @param {number} [type] the GL bind type for the buffer. Default = `gl.ARRAY_BUFFER`.\n * @param {number} [drawType] the GL draw type for the buffer. Default = 'gl.STATIC_DRAW`.\n * @return {WebGLBuffer} the created WebGLBuffer\n * @memberOf module:twgl/attributes\n */\nfunction createBufferFromTypedArray(gl, typedArray, type, drawType) {\n  if (isBuffer(gl, typedArray)) {\n    return typedArray;\n  }\n  type = type || ARRAY_BUFFER$1;\n  const buffer = gl.createBuffer();\n  setBufferFromTypedArray(gl, type, buffer, typedArray, drawType);\n  return buffer;\n}\n\nfunction isIndices(name) {\n  return name === \"indices\";\n}\n\n// This is really just a guess. Though I can't really imagine using\n// anything else? Maybe for some compression?\nfunction getNormalizationForTypedArrayType(typedArrayType) {\n  if (typedArrayType === Int8Array)    { return true; }  // eslint-disable-line\n  if (typedArrayType === Uint8Array)   { return true; }  // eslint-disable-line\n  return false;\n}\n\nfunction getArray$1(array) {\n  return array.length ? array : array.data;\n}\n\nconst texcoordRE = /coord|texture/i;\nconst colorRE = /color|colour/i;\n\nfunction guessNumComponentsFromName(name, length) {\n  let numComponents;\n  if (texcoordRE.test(name)) {\n    numComponents = 2;\n  } else if (colorRE.test(name)) {\n    numComponents = 4;\n  } else {\n    numComponents = 3;  // position, normals, indices ...\n  }\n\n  if (length % numComponents > 0) {\n    throw new Error(`Can not guess numComponents for attribute '${name}'. Tried ${numComponents} but ${length} values is not evenly divisible by ${numComponents}. You should specify it.`);\n  }\n\n  return numComponents;\n}\n\nfunction getNumComponents$1(array, arrayName, numValues) {\n  return array.numComponents || array.size || guessNumComponentsFromName(arrayName, numValues || getArray$1(array).length);\n}\n\nfunction makeTypedArray(array, name) {\n  if (isArrayBuffer$1(array)) {\n    return array;\n  }\n\n  if (isArrayBuffer$1(array.data)) {\n    return array.data;\n  }\n\n  if (Array.isArray(array)) {\n    array = {\n      data: array,\n    };\n  }\n\n  let Type = array.type ? typedArrayTypeFromGLTypeOrTypedArrayCtor(array.type) : undefined;\n  if (!Type) {\n    if (isIndices(name)) {\n      Type = Uint16Array;\n    } else {\n      Type = Float32Array;\n    }\n  }\n  return new Type(array.data);\n}\n\nfunction glTypeFromGLTypeOrTypedArrayType(glTypeOrTypedArrayCtor) {\n  return typeof glTypeOrTypedArrayCtor === 'number'\n      ? glTypeOrTypedArrayCtor\n      : glTypeOrTypedArrayCtor ? getGLTypeForTypedArrayType(glTypeOrTypedArrayCtor) : FLOAT$2;\n}\n\nfunction typedArrayTypeFromGLTypeOrTypedArrayCtor(glTypeOrTypedArrayCtor) {\n  return typeof glTypeOrTypedArrayCtor === 'number'\n      ? getTypedArrayTypeForGLType(glTypeOrTypedArrayCtor)\n      : glTypeOrTypedArrayCtor || Float32Array;\n}\n\nfunction attribBufferFromBuffer(gl, array/*, arrayName */) {\n  return {\n    buffer: array.buffer,\n    numValues: 2 * 3 * 4,  // safely divided by 2, 3, 4\n    type: glTypeFromGLTypeOrTypedArrayType(array.type),\n    arrayType: typedArrayTypeFromGLTypeOrTypedArrayCtor(array.type),\n  };\n}\n\nfunction attribBufferFromSize(gl, array/*, arrayName*/) {\n  const numValues = array.data || array;\n  const arrayType = typedArrayTypeFromGLTypeOrTypedArrayCtor(array.type);\n  const numBytes = numValues * arrayType.BYTES_PER_ELEMENT;\n  const buffer = gl.createBuffer();\n  gl.bindBuffer(ARRAY_BUFFER$1, buffer);\n  gl.bufferData(ARRAY_BUFFER$1, numBytes, array.drawType || STATIC_DRAW);\n  return {\n    buffer,\n    numValues,\n    type: getGLTypeForTypedArrayType(arrayType),\n    arrayType,\n  };\n}\n\nfunction attribBufferFromArrayLike(gl, array, arrayName) {\n  const typedArray = makeTypedArray(array, arrayName);\n  return {\n    arrayType: typedArray.constructor,\n    buffer: createBufferFromTypedArray(gl, typedArray, undefined, array.drawType),\n    type: getGLTypeForTypedArray(typedArray),\n    numValues: 0,\n  };\n}\n\n/**\n * The info for an attribute. This is effectively just the arguments to `gl.vertexAttribPointer` plus the WebGLBuffer\n * for the attribute.\n *\n * @typedef {Object} AttribInfo\n * @property {number[]|ArrayBufferView} [value] a constant value for the attribute. Note: if this is set the attribute will be\n *    disabled and set to this constant value and all other values will be ignored.\n * @property {number} [numComponents] the number of components for this attribute.\n * @property {number} [size] synonym for `numComponents`.\n * @property {number} [type] the type of the attribute (eg. `gl.FLOAT`, `gl.UNSIGNED_BYTE`, etc...) Default = `gl.FLOAT`\n * @property {boolean} [normalize] whether or not to normalize the data. Default = false\n * @property {number} [offset] offset into buffer in bytes. Default = 0\n * @property {number} [stride] the stride in bytes per element. Default = 0\n * @property {number} [divisor] the divisor in instances. Default = 0.\n *    Requires WebGL2 or the ANGLE_instanced_arrays extension.\n *    and, if you're using WebGL1 you must have called {@link module:twgl.addExtensionsToContext}\n * @property {WebGLBuffer} buffer the buffer that contains the data for this attribute\n * @property {number} [drawType] the draw type passed to gl.bufferData. Default = gl.STATIC_DRAW\n * @memberOf module:twgl\n */\n\n/**\n * @typedef {(Int8ArrayConstructor|Uint8ArrayConstructor|Int16ArrayConstructor|Uint16ArrayConstructor|Int32ArrayConstructor|Uint32ArrayConstructor|Float32ArrayConstructor)} TypedArrayConstructor\n */\n\n/**\n * Use this type of array spec when TWGL can't guess the type or number of components of an array\n * @typedef {Object} FullArraySpec\n * @property {number[]|ArrayBufferView} [value] a constant value for the attribute. Note: if this is set the attribute will be\n *    disabled and set to this constant value and all other values will be ignored.\n * @property {(number|number[]|ArrayBufferView)} [data] The data of the array. A number alone becomes the number of elements of type.\n * @property {number} [numComponents] number of components for `vertexAttribPointer`. Default is based on the name of the array.\n *    If `coord` is in the name assumes `numComponents = 2`.\n *    If `color` is in the name assumes `numComponents = 4`.\n *    otherwise assumes `numComponents = 3`\n * @property {number|TypedArrayConstructor} [type] type. This is used if `data` is a JavaScript array, or `buffer` is passed in, or `data` is a number.\n *   It can either be the constructor for a typedarray. (eg. `Uint8Array`) OR a WebGL type, (eg `gl.UNSIGNED_BYTE`).\n *   For example if you want colors in a `Uint8Array` you might have a `FullArraySpec` like `{ type: gl.UNSIGNED_BYTE, data: [255,0,255,255, ...], }`.\n * @property {number} [size] synonym for `numComponents`.\n * @property {boolean} [normalize] normalize for `vertexAttribPointer`. Default is true if type is `Int8Array` or `Uint8Array` otherwise false.\n * @property {number} [stride] stride for `vertexAttribPointer`. Default = 0\n * @property {number} [offset] offset for `vertexAttribPointer`. Default = 0\n * @property {number} [divisor] divisor for `vertexAttribDivisor`. Default = 0.\n *     Requires WebGL2 or the ANGLE_instanced_arrays extension.\n *     and, if you using WebGL1 you must have called {@link module:twgl.addExtensionsToContext}\n * @property {string} [attrib] name of attribute this array maps to. Defaults to same name as array prefixed by the default attribPrefix.\n * @property {string} [name] synonym for `attrib`.\n * @property {string} [attribName] synonym for `attrib`.\n * @property {WebGLBuffer} [buffer] Buffer to use for this attribute. This lets you use your own buffer\n *    but you will need to supply `numComponents` and `type`. You can effectively pass an `AttribInfo`\n *    to provide this. Example:\n *\n *         const bufferInfo1 = twgl.createBufferInfoFromArrays(gl, {\n *           position: [1, 2, 3, ... ],\n *         });\n *         const bufferInfo2 = twgl.createBufferInfoFromArrays(gl, {\n *           position: bufferInfo1.attribs.position,  // use the same buffer from bufferInfo1\n *         });\n *\n * @property {number} [drawType] the draw type passed to gl.bufferData. Default = gl.STATIC_DRAW\n * @memberOf module:twgl\n */\n\n/**\n * An individual array in {@link module:twgl.Arrays}\n *\n * When passed to {@link module:twgl.createBufferInfoFromArrays} if an ArraySpec is `number[]` or `ArrayBufferView`\n * the types will be guessed based on the name. `indices` will be `Uint16Array`, everything else will\n * be `Float32Array`. If an ArraySpec is a number it's the number of floats for an empty (zeroed) buffer.\n *\n * @typedef {(number|number[]|ArrayBufferView|module:twgl.FullArraySpec)} ArraySpec\n * @memberOf module:twgl\n */\n\n/**\n * This is a JavaScript object of arrays by name. The names should match your shader's attributes. If your\n * attributes have a common prefix you can specify it by calling {@link module:twgl.setAttributePrefix}.\n *\n *     Bare JavaScript Arrays\n *\n *         var arrays = {\n *            position: [-1, 1, 0],\n *            normal: [0, 1, 0],\n *            ...\n *         }\n *\n *     Bare TypedArrays\n *\n *         var arrays = {\n *            position: new Float32Array([-1, 1, 0]),\n *            color: new Uint8Array([255, 128, 64, 255]),\n *            ...\n *         }\n *\n * *   Will guess at `numComponents` if not specified based on name.\n *\n *     If `coord` is in the name assumes `numComponents = 2`\n *\n *     If `color` is in the name assumes `numComponents = 4`\n *\n *     otherwise assumes `numComponents = 3`\n *\n * Objects with various fields. See {@link module:twgl.FullArraySpec}.\n *\n *     var arrays = {\n *       position: { numComponents: 3, data: [0, 0, 0, 10, 0, 0, 0, 10, 0, 10, 10, 0], },\n *       texcoord: { numComponents: 2, data: [0, 0, 0, 1, 1, 0, 1, 1],                 },\n *       normal:   { numComponents: 3, data: [0, 0, 1, 0, 0, 1, 0, 0, 1, 0, 0, 1],     },\n *       indices:  { numComponents: 3, data: [0, 1, 2, 1, 2, 3],                       },\n *     };\n *\n * @typedef {Object.<string, module:twgl.ArraySpec>} Arrays\n * @memberOf module:twgl\n */\n\n\n/**\n * Creates a set of attribute data and WebGLBuffers from set of arrays\n *\n * Given\n *\n *      var arrays = {\n *        position: { numComponents: 3, data: [0, 0, 0, 10, 0, 0, 0, 10, 0, 10, 10, 0], },\n *        texcoord: { numComponents: 2, data: [0, 0, 0, 1, 1, 0, 1, 1],                 },\n *        normal:   { numComponents: 3, data: [0, 0, 1, 0, 0, 1, 0, 0, 1, 0, 0, 1],     },\n *        color:    { numComponents: 4, data: [255, 255, 255, 255, 255, 0, 0, 255, 0, 0, 255, 255], type: Uint8Array, },\n *        indices:  { numComponents: 3, data: [0, 1, 2, 1, 2, 3],                       },\n *      };\n *\n * returns something like\n *\n *      var attribs = {\n *        position: { numComponents: 3, type: gl.FLOAT,         normalize: false, buffer: WebGLBuffer, },\n *        texcoord: { numComponents: 2, type: gl.FLOAT,         normalize: false, buffer: WebGLBuffer, },\n *        normal:   { numComponents: 3, type: gl.FLOAT,         normalize: false, buffer: WebGLBuffer, },\n *        color:    { numComponents: 4, type: gl.UNSIGNED_BYTE, normalize: true,  buffer: WebGLBuffer, },\n *      };\n *\n * notes:\n *\n * *   Arrays can take various forms\n *\n *     Bare JavaScript Arrays\n *\n *         var arrays = {\n *            position: [-1, 1, 0],\n *            normal: [0, 1, 0],\n *            ...\n *         }\n *\n *     Bare TypedArrays\n *\n *         var arrays = {\n *            position: new Float32Array([-1, 1, 0]),\n *            color: new Uint8Array([255, 128, 64, 255]),\n *            ...\n *         }\n *\n * *   Will guess at `numComponents` if not specified based on name.\n *\n *     If `coord` is in the name assumes `numComponents = 2`\n *\n *     If `color` is in the name assumes `numComponents = 4`\n *\n *     otherwise assumes `numComponents = 3`\n *\n * @param {WebGLRenderingContext} gl The webgl rendering context.\n * @param {module:twgl.Arrays} arrays The arrays\n * @param {module:twgl.BufferInfo} [srcBufferInfo] a BufferInfo to copy from\n *   This lets you share buffers. Any arrays you supply will override\n *   the buffers from srcBufferInfo.\n * @return {Object.<string, module:twgl.AttribInfo>} the attribs\n * @memberOf module:twgl/attributes\n */\nfunction createAttribsFromArrays(gl, arrays) {\n  const attribs = {};\n  Object.keys(arrays).forEach(function(arrayName) {\n    if (!isIndices(arrayName)) {\n      const array = arrays[arrayName];\n      const attribName = array.attrib || array.name || array.attribName || (defaults$2.attribPrefix + arrayName);\n      if (array.value) {\n        if (!Array.isArray(array.value) && !isArrayBuffer$1(array.value)) {\n          throw new Error('array.value is not array or typedarray');\n        }\n        attribs[attribName] = {\n          value: array.value,\n        };\n      } else {\n        let fn;\n        if (array.buffer && array.buffer instanceof WebGLBuffer) {\n          fn = attribBufferFromBuffer;\n        } else if (typeof array === \"number\" || typeof array.data === \"number\") {\n          fn = attribBufferFromSize;\n        } else {\n          fn = attribBufferFromArrayLike;\n        }\n        const {buffer, type, numValues, arrayType} = fn(gl, array, arrayName);\n        const normalization = array.normalize !== undefined ? array.normalize : getNormalizationForTypedArrayType(arrayType);\n        const numComponents = getNumComponents$1(array, arrayName, numValues);\n        attribs[attribName] = {\n          buffer:        buffer,\n          numComponents: numComponents,\n          type:          type,\n          normalize:     normalization,\n          stride:        array.stride || 0,\n          offset:        array.offset || 0,\n          divisor:       array.divisor === undefined ? undefined : array.divisor,\n          drawType:      array.drawType,\n        };\n      }\n    }\n  });\n  gl.bindBuffer(ARRAY_BUFFER$1, null);\n  return attribs;\n}\n\n/**\n * Sets the contents of a buffer attached to an attribInfo\n *\n * This is helper function to dynamically update a buffer.\n *\n * Let's say you make a bufferInfo\n *\n *     var arrays = {\n *        position: new Float32Array([0, 0, 0, 10, 0, 0, 0, 10, 0, 10, 10, 0]),\n *        texcoord: new Float32Array([0, 0, 0, 1, 1, 0, 1, 1]),\n *        normal:   new Float32Array([0, 0, 1, 0, 0, 1, 0, 0, 1, 0, 0, 1]),\n *        indices:  new Uint16Array([0, 1, 2, 1, 2, 3]),\n *     };\n *     var bufferInfo = twgl.createBufferInfoFromArrays(gl, arrays);\n *\n *  And you want to dynamically update the positions. You could do this\n *\n *     // assuming arrays.position has already been updated with new data.\n *     twgl.setAttribInfoBufferFromArray(gl, bufferInfo.attribs.position, arrays.position);\n *\n * @param {WebGLRenderingContext} gl\n * @param {AttribInfo} attribInfo The attribInfo who's buffer contents to set. NOTE: If you have an attribute prefix\n *   the name of the attribute will include the prefix.\n * @param {ArraySpec} array Note: it is arguably inefficient to pass in anything but a typed array because anything\n *    else will have to be converted to a typed array before it can be used by WebGL. During init time that\n *    inefficiency is usually not important but if you're updating data dynamically best to be efficient.\n * @param {number} [offset] an optional offset into the buffer. This is only an offset into the WebGL buffer\n *    not the array. To pass in an offset into the array itself use a typed array and create an `ArrayBufferView`\n *    for the portion of the array you want to use.\n *\n *        var someArray = new Float32Array(1000); // an array with 1000 floats\n *        var someSubArray = new Float32Array(someArray.buffer, offsetInBytes, sizeInUnits); // a view into someArray\n *\n *    Now you can pass `someSubArray` into setAttribInfoBufferFromArray`\n * @memberOf module:twgl/attributes\n */\nfunction setAttribInfoBufferFromArray(gl, attribInfo, array, offset) {\n  array = makeTypedArray(array);\n  if (offset !== undefined) {\n    gl.bindBuffer(ARRAY_BUFFER$1, attribInfo.buffer);\n    gl.bufferSubData(ARRAY_BUFFER$1, offset, array);\n  } else {\n    setBufferFromTypedArray(gl, ARRAY_BUFFER$1, attribInfo.buffer, array, attribInfo.drawType);\n  }\n}\n\nfunction getBytesPerValueForGLType(gl, type) {\n  if (type === BYTE$1)           return 1;  // eslint-disable-line\n  if (type === UNSIGNED_BYTE$2)  return 1;  // eslint-disable-line\n  if (type === SHORT$1)          return 2;  // eslint-disable-line\n  if (type === UNSIGNED_SHORT$2) return 2;  // eslint-disable-line\n  if (type === INT$2)            return 4;  // eslint-disable-line\n  if (type === UNSIGNED_INT$2)   return 4;  // eslint-disable-line\n  if (type === FLOAT$2)          return 4;  // eslint-disable-line\n  return 0;\n}\n\n// Tries to get the number of elements from a set of arrays.\nconst positionKeys = ['position', 'positions', 'a_position'];\nfunction getNumElementsFromNonIndexedArrays(arrays) {\n  let key;\n  let ii;\n  for (ii = 0; ii < positionKeys.length; ++ii) {\n    key = positionKeys[ii];\n    if (key in arrays) {\n      break;\n    }\n  }\n  if (ii === positionKeys.length) {\n    key = Object.keys(arrays)[0];\n  }\n  const array = arrays[key];\n  const length = getArray$1(array).length;\n  if (length === undefined) {\n    return 1;   // There's no arrays\n  }\n  const numComponents = getNumComponents$1(array, key);\n  const numElements = length / numComponents;\n  if (length % numComponents > 0) {\n    throw new Error(`numComponents ${numComponents} not correct for length ${length}`);\n  }\n  return numElements;\n}\n\nfunction getNumElementsFromAttributes(gl, attribs) {\n  let key;\n  let ii;\n  for (ii = 0; ii < positionKeys.length; ++ii) {\n    key = positionKeys[ii];\n    if (key in attribs) {\n      break;\n    }\n    key = defaults$2.attribPrefix + key;\n    if (key in attribs) {\n      break;\n    }\n  }\n  if (ii === positionKeys.length) {\n    key = Object.keys(attribs)[0];\n  }\n  const attrib = attribs[key];\n  if (!attrib.buffer) {\n    return 1; // There's no buffer\n  }\n  gl.bindBuffer(ARRAY_BUFFER$1, attrib.buffer);\n  const numBytes = gl.getBufferParameter(ARRAY_BUFFER$1, BUFFER_SIZE);\n  gl.bindBuffer(ARRAY_BUFFER$1, null);\n\n  const bytesPerValue = getBytesPerValueForGLType(gl, attrib.type);\n  const totalElements = numBytes / bytesPerValue;\n  const numComponents = attrib.numComponents || attrib.size;\n  // TODO: check stride\n  const numElements = totalElements / numComponents;\n  if (numElements % 1 !== 0) {\n    throw new Error(`numComponents ${numComponents} not correct for length ${length}`);\n  }\n  return numElements;\n}\n\n/**\n * @typedef {Object} BufferInfo\n * @property {number} numElements The number of elements to pass to `gl.drawArrays` or `gl.drawElements`.\n * @property {number} [elementType] The type of indices `UNSIGNED_BYTE`, `UNSIGNED_SHORT` etc..\n * @property {WebGLBuffer} [indices] The indices `ELEMENT_ARRAY_BUFFER` if any indices exist.\n * @property {Object.<string, module:twgl.AttribInfo>} [attribs] The attribs appropriate to call `setAttributes`\n * @memberOf module:twgl\n */\n\n/**\n * Creates a BufferInfo from an object of arrays.\n *\n * This can be passed to {@link module:twgl.setBuffersAndAttributes} and to\n * {@link module:twgl:drawBufferInfo}.\n *\n * Given an object like\n *\n *     var arrays = {\n *       position: { numComponents: 3, data: [0, 0, 0, 10, 0, 0, 0, 10, 0, 10, 10, 0], },\n *       texcoord: { numComponents: 2, data: [0, 0, 0, 1, 1, 0, 1, 1],                 },\n *       normal:   { numComponents: 3, data: [0, 0, 1, 0, 0, 1, 0, 0, 1, 0, 0, 1],     },\n *       indices:  { numComponents: 3, data: [0, 1, 2, 1, 2, 3],                       },\n *     };\n *\n *  Creates an BufferInfo like this\n *\n *     bufferInfo = {\n *       numElements: 4,        // or whatever the number of elements is\n *       indices: WebGLBuffer,  // this property will not exist if there are no indices\n *       attribs: {\n *         position: { buffer: WebGLBuffer, numComponents: 3, },\n *         normal:   { buffer: WebGLBuffer, numComponents: 3, },\n *         texcoord: { buffer: WebGLBuffer, numComponents: 2, },\n *       },\n *     };\n *\n *  The properties of arrays can be JavaScript arrays in which case the number of components\n *  will be guessed.\n *\n *     var arrays = {\n *        position: [0, 0, 0, 10, 0, 0, 0, 10, 0, 10, 10, 0],\n *        texcoord: [0, 0, 0, 1, 1, 0, 1, 1],\n *        normal:   [0, 0, 1, 0, 0, 1, 0, 0, 1, 0, 0, 1],\n *        indices:  [0, 1, 2, 1, 2, 3],\n *     };\n *\n *  They can also be TypedArrays\n *\n *     var arrays = {\n *        position: new Float32Array([0, 0, 0, 10, 0, 0, 0, 10, 0, 10, 10, 0]),\n *        texcoord: new Float32Array([0, 0, 0, 1, 1, 0, 1, 1]),\n *        normal:   new Float32Array([0, 0, 1, 0, 0, 1, 0, 0, 1, 0, 0, 1]),\n *        indices:  new Uint16Array([0, 1, 2, 1, 2, 3]),\n *     };\n *\n *  Or AugmentedTypedArrays\n *\n *     var positions = createAugmentedTypedArray(3, 4);\n *     var texcoords = createAugmentedTypedArray(2, 4);\n *     var normals   = createAugmentedTypedArray(3, 4);\n *     var indices   = createAugmentedTypedArray(3, 2, Uint16Array);\n *\n *     positions.push([0, 0, 0, 10, 0, 0, 0, 10, 0, 10, 10, 0]);\n *     texcoords.push([0, 0, 0, 1, 1, 0, 1, 1]);\n *     normals.push([0, 0, 1, 0, 0, 1, 0, 0, 1, 0, 0, 1]);\n *     indices.push([0, 1, 2, 1, 2, 3]);\n *\n *     var arrays = {\n *        position: positions,\n *        texcoord: texcoords,\n *        normal:   normals,\n *        indices:  indices,\n *     };\n *\n * For the last example it is equivalent to\n *\n *     var bufferInfo = {\n *       attribs: {\n *         position: { numComponents: 3, buffer: gl.createBuffer(), },\n *         texcoord: { numComponents: 2, buffer: gl.createBuffer(), },\n *         normal: { numComponents: 3, buffer: gl.createBuffer(), },\n *       },\n *       indices: gl.createBuffer(),\n *       numElements: 6,\n *     };\n *\n *     gl.bindBuffer(gl.ARRAY_BUFFER, bufferInfo.attribs.position.buffer);\n *     gl.bufferData(gl.ARRAY_BUFFER, arrays.position, gl.STATIC_DRAW);\n *     gl.bindBuffer(gl.ARRAY_BUFFER, bufferInfo.attribs.texcoord.buffer);\n *     gl.bufferData(gl.ARRAY_BUFFER, arrays.texcoord, gl.STATIC_DRAW);\n *     gl.bindBuffer(gl.ARRAY_BUFFER, bufferInfo.attribs.normal.buffer);\n *     gl.bufferData(gl.ARRAY_BUFFER, arrays.normal, gl.STATIC_DRAW);\n *     gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, bufferInfo.indices);\n *     gl.bufferData(gl.ELEMENT_ARRAY_BUFFER, arrays.indices, gl.STATIC_DRAW);\n *\n * @param {WebGLRenderingContext} gl A WebGLRenderingContext\n * @param {module:twgl.Arrays} arrays Your data\n * @param {module:twgl.BufferInfo} [srcBufferInfo] An existing\n *        buffer info to start from. WebGLBuffers etc specified\n *        in the srcBufferInfo will be used in a new BufferInfo\n *        with any arrays specified overriding the ones in\n *        srcBufferInfo.\n * @return {module:twgl.BufferInfo} A BufferInfo\n * @memberOf module:twgl/attributes\n */\nfunction createBufferInfoFromArrays(gl, arrays, srcBufferInfo) {\n  const newAttribs = createAttribsFromArrays(gl, arrays);\n  const bufferInfo = Object.assign({}, srcBufferInfo ? srcBufferInfo : {});\n  bufferInfo.attribs = Object.assign({}, srcBufferInfo ? srcBufferInfo.attribs : {}, newAttribs);\n  const indices = arrays.indices;\n  if (indices) {\n    const newIndices = makeTypedArray(indices, \"indices\");\n    bufferInfo.indices = createBufferFromTypedArray(gl, newIndices, ELEMENT_ARRAY_BUFFER$2);\n    bufferInfo.numElements = newIndices.length;\n    bufferInfo.elementType = getGLTypeForTypedArray(newIndices);\n  } else if (!bufferInfo.numElements) {\n    bufferInfo.numElements = getNumElementsFromAttributes(gl, bufferInfo.attribs);\n  }\n\n  return bufferInfo;\n}\n\n/**\n * Creates a buffer from an array, typed array, or array spec\n *\n * Given something like this\n *\n *     [1, 2, 3],\n *\n * or\n *\n *     new Uint16Array([1,2,3]);\n *\n * or\n *\n *     {\n *        data: [1, 2, 3],\n *        type: Uint8Array,\n *     }\n *\n * returns a WebGLBuffer that contains the given data.\n *\n * @param {WebGLRenderingContext} gl A WebGLRenderingContext.\n * @param {module:twgl.ArraySpec} array an array, typed array, or array spec.\n * @param {string} arrayName name of array. Used to guess the type if type can not be derived otherwise.\n * @return {WebGLBuffer} a WebGLBuffer containing the data in array.\n * @memberOf module:twgl/attributes\n */\nfunction createBufferFromArray(gl, array, arrayName) {\n  const type = arrayName === \"indices\" ? ELEMENT_ARRAY_BUFFER$2 : ARRAY_BUFFER$1;\n  const typedArray = makeTypedArray(array, arrayName);\n  return createBufferFromTypedArray(gl, typedArray, type);\n}\n\n/**\n * Creates buffers from arrays or typed arrays\n *\n * Given something like this\n *\n *     var arrays = {\n *        positions: [1, 2, 3],\n *        normals: [0, 0, 1],\n *     }\n *\n * returns something like\n *\n *     buffers = {\n *       positions: WebGLBuffer,\n *       normals: WebGLBuffer,\n *     }\n *\n * If the buffer is named 'indices' it will be made an ELEMENT_ARRAY_BUFFER.\n *\n * @param {WebGLRenderingContext} gl A WebGLRenderingContext.\n * @param {module:twgl.Arrays} arrays\n * @return {Object<string, WebGLBuffer>} returns an object with one WebGLBuffer per array\n * @memberOf module:twgl/attributes\n */\nfunction createBuffersFromArrays(gl, arrays) {\n  const buffers = { };\n  Object.keys(arrays).forEach(function(key) {\n    buffers[key] = createBufferFromArray(gl, arrays[key], key);\n  });\n\n  // Ugh!\n  if (arrays.indices) {\n    buffers.numElements = arrays.indices.length;\n    buffers.elementType = getGLTypeForTypedArray(makeTypedArray(arrays.indices));\n  } else {\n    buffers.numElements = getNumElementsFromNonIndexedArrays(arrays);\n  }\n\n  return buffers;\n}\n\nvar attributes = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  createAttribsFromArrays: createAttribsFromArrays,\n  createBuffersFromArrays: createBuffersFromArrays,\n  createBufferFromArray: createBufferFromArray,\n  createBufferFromTypedArray: createBufferFromTypedArray,\n  createBufferInfoFromArrays: createBufferInfoFromArrays,\n  setAttribInfoBufferFromArray: setAttribInfoBufferFromArray,\n  setAttributePrefix: setAttributePrefix,\n  setAttributeDefaults_: setDefaults$2,\n  getNumComponents_: getNumComponents$1,\n  getArray_: getArray$1\n});\n\n/*\n * Copyright 2019 Gregg Tavares\n *\n * Permission is hereby granted, free of charge, to any person obtaining a\n * copy of this software and associated documentation files (the \"Software\"),\n * to deal in the Software without restriction, including without limitation\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\n * and/or sell copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.  IN NO EVENT SHALL\n * THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\n * DEALINGS IN THE SOFTWARE.\n */\n\nconst getArray = getArray$1;  // eslint-disable-line\nconst getNumComponents = getNumComponents$1;  // eslint-disable-line\n\n/**\n * @typedef {(Int8Array|Uint8Array|Int16Array|Uint16Array|Int32Array|Uint32Array|Float32Array)} TypedArray\n */\n\n/**\n * Add `push` to a typed array. It just keeps a 'cursor'\n * and allows use to `push` values into the array so we\n * don't have to manually compute offsets\n * @param {TypedArray} typedArray TypedArray to augment\n * @param {number} numComponents number of components.\n * @private\n */\nfunction augmentTypedArray(typedArray, numComponents) {\n  let cursor = 0;\n  typedArray.push = function() {\n    for (let ii = 0; ii < arguments.length; ++ii) {\n      const value = arguments[ii];\n      if (value instanceof Array || isArrayBuffer$1(value)) {\n        for (let jj = 0; jj < value.length; ++jj) {\n          typedArray[cursor++] = value[jj];\n        }\n      } else {\n        typedArray[cursor++] = value;\n      }\n    }\n  };\n  typedArray.reset = function(opt_index) {\n    cursor = opt_index || 0;\n  };\n  typedArray.numComponents = numComponents;\n  Object.defineProperty(typedArray, 'numElements', {\n    get: function() {\n      return this.length / this.numComponents | 0;\n    },\n  });\n  return typedArray;\n}\n\n/**\n * creates a typed array with a `push` function attached\n * so that you can easily *push* values.\n *\n * `push` can take multiple arguments. If an argument is an array each element\n * of the array will be added to the typed array.\n *\n * Example:\n *\n *     const array = createAugmentedTypedArray(3, 2);  // creates a Float32Array with 6 values\n *     array.push(1, 2, 3);\n *     array.push([4, 5, 6]);\n *     // array now contains [1, 2, 3, 4, 5, 6]\n *\n * Also has `numComponents` and `numElements` properties.\n *\n * @param {number} numComponents number of components\n * @param {number} numElements number of elements. The total size of the array will be `numComponents * numElements`.\n * @param {constructor} opt_type A constructor for the type. Default = `Float32Array`.\n * @return {ArrayBufferView} A typed array.\n * @memberOf module:twgl/primitives\n */\nfunction createAugmentedTypedArray(numComponents, numElements, opt_type) {\n  const Type = opt_type || Float32Array;\n  return augmentTypedArray(new Type(numComponents * numElements), numComponents);\n}\n\nfunction allButIndices(name) {\n  return name !== \"indices\";\n}\n\n/**\n * Given indexed vertices creates a new set of vertices un-indexed by expanding the indexed vertices.\n * @param {Object.<string, TypedArray>} vertices The indexed vertices to deindex\n * @return {Object.<string, TypedArray>} The deindexed vertices\n * @memberOf module:twgl/primitives\n */\nfunction deindexVertices(vertices) {\n  const indices = vertices.indices;\n  const newVertices = {};\n  const numElements = indices.length;\n\n  function expandToUnindexed(channel) {\n    const srcBuffer = vertices[channel];\n    const numComponents = srcBuffer.numComponents;\n    const dstBuffer = createAugmentedTypedArray(numComponents, numElements, srcBuffer.constructor);\n    for (let ii = 0; ii < numElements; ++ii) {\n      const ndx = indices[ii];\n      const offset = ndx * numComponents;\n      for (let jj = 0; jj < numComponents; ++jj) {\n        dstBuffer.push(srcBuffer[offset + jj]);\n      }\n    }\n    newVertices[channel] = dstBuffer;\n  }\n\n  Object.keys(vertices).filter(allButIndices).forEach(expandToUnindexed);\n\n  return newVertices;\n}\n\n/**\n * flattens the normals of deindexed vertices in place.\n * @param {Object.<string, TypedArray>} vertices The deindexed vertices who's normals to flatten\n * @return {Object.<string, TypedArray>} The flattened vertices (same as was passed in)\n * @memberOf module:twgl/primitives\n */\nfunction flattenNormals(vertices) {\n  if (vertices.indices) {\n    throw new Error('can not flatten normals of indexed vertices. deindex them first');\n  }\n\n  const normals = vertices.normal;\n  const numNormals = normals.length;\n  for (let ii = 0; ii < numNormals; ii += 9) {\n    // pull out the 3 normals for this triangle\n    const nax = normals[ii + 0];\n    const nay = normals[ii + 1];\n    const naz = normals[ii + 2];\n\n    const nbx = normals[ii + 3];\n    const nby = normals[ii + 4];\n    const nbz = normals[ii + 5];\n\n    const ncx = normals[ii + 6];\n    const ncy = normals[ii + 7];\n    const ncz = normals[ii + 8];\n\n    // add them\n    let nx = nax + nbx + ncx;\n    let ny = nay + nby + ncy;\n    let nz = naz + nbz + ncz;\n\n    // normalize them\n    const length = Math.sqrt(nx * nx + ny * ny + nz * nz);\n\n    nx /= length;\n    ny /= length;\n    nz /= length;\n\n    // copy them back in\n    normals[ii + 0] = nx;\n    normals[ii + 1] = ny;\n    normals[ii + 2] = nz;\n\n    normals[ii + 3] = nx;\n    normals[ii + 4] = ny;\n    normals[ii + 5] = nz;\n\n    normals[ii + 6] = nx;\n    normals[ii + 7] = ny;\n    normals[ii + 8] = nz;\n  }\n\n  return vertices;\n}\n\nfunction applyFuncToV3Array(array, matrix, fn) {\n  const len = array.length;\n  const tmp = new Float32Array(3);\n  for (let ii = 0; ii < len; ii += 3) {\n    fn(matrix, [array[ii], array[ii + 1], array[ii + 2]], tmp);\n    array[ii    ] = tmp[0];\n    array[ii + 1] = tmp[1];\n    array[ii + 2] = tmp[2];\n  }\n}\n\nfunction transformNormal(mi, v, dst) {\n  dst = dst || create$1();\n  const v0 = v[0];\n  const v1 = v[1];\n  const v2 = v[2];\n\n  dst[0] = v0 * mi[0 * 4 + 0] + v1 * mi[0 * 4 + 1] + v2 * mi[0 * 4 + 2];\n  dst[1] = v0 * mi[1 * 4 + 0] + v1 * mi[1 * 4 + 1] + v2 * mi[1 * 4 + 2];\n  dst[2] = v0 * mi[2 * 4 + 0] + v1 * mi[2 * 4 + 1] + v2 * mi[2 * 4 + 2];\n\n  return dst;\n}\n\n/**\n * Reorients directions by the given matrix..\n * @param {(number[]|TypedArray)} array The array. Assumes value floats per element.\n * @param {module:twgl/m4.Mat4} matrix A matrix to multiply by.\n * @return {(number[]|TypedArray)} the same array that was passed in\n * @memberOf module:twgl/primitives\n */\nfunction reorientDirections(array, matrix) {\n  applyFuncToV3Array(array, matrix, transformDirection);\n  return array;\n}\n\n/**\n * Reorients normals by the inverse-transpose of the given\n * matrix..\n * @param {(number[]|TypedArray)} array The array. Assumes value floats per element.\n * @param {module:twgl/m4.Mat4} matrix A matrix to multiply by.\n * @return {(number[]|TypedArray)} the same array that was passed in\n * @memberOf module:twgl/primitives\n */\nfunction reorientNormals(array, matrix) {\n  applyFuncToV3Array(array, inverse(matrix), transformNormal);\n  return array;\n}\n\n/**\n * Reorients positions by the given matrix. In other words, it\n * multiplies each vertex by the given matrix.\n * @param {(number[]|TypedArray)} array The array. Assumes value floats per element.\n * @param {module:twgl/m4.Mat4} matrix A matrix to multiply by.\n * @return {(number[]|TypedArray)} the same array that was passed in\n * @memberOf module:twgl/primitives\n */\nfunction reorientPositions(array, matrix) {\n  applyFuncToV3Array(array, matrix, transformPoint);\n  return array;\n}\n\n/**\n * @typedef {(number[]|TypedArray)} NativeArrayOrTypedArray\n */\n\n/**\n * Reorients arrays by the given matrix. Assumes arrays have\n * names that contains 'pos' could be reoriented as positions,\n * 'binorm' or 'tan' as directions, and 'norm' as normals.\n *\n * @param {Object.<string, NativeArrayOrTypedArray>} arrays The vertices to reorient\n * @param {module:twgl/m4.Mat4} matrix matrix to reorient by.\n * @return {Object.<string, NativeArrayOrTypedArray>} same arrays that were passed in.\n * @memberOf module:twgl/primitives\n */\nfunction reorientVertices(arrays, matrix) {\n  Object.keys(arrays).forEach(function(name) {\n    const array = arrays[name];\n    if (name.indexOf(\"pos\") >= 0) {\n      reorientPositions(array, matrix);\n    } else if (name.indexOf(\"tan\") >= 0 || name.indexOf(\"binorm\") >= 0) {\n      reorientDirections(array, matrix);\n    } else if (name.indexOf(\"norm\") >= 0) {\n      reorientNormals(array, matrix);\n    }\n  });\n  return arrays;\n}\n\n/**\n * Creates XY quad BufferInfo\n *\n * The default with no parameters will return a 2x2 quad with values from -1 to +1.\n * If you want a unit quad with that goes from 0 to 1 you'd call it with\n *\n *     twgl.primitives.createXYQuadBufferInfo(gl, 1, 0.5, 0.5);\n *\n * If you want a unit quad centered above 0,0 you'd call it with\n *\n *     twgl.primitives.createXYQuadBufferInfo(gl, 1, 0, 0.5);\n *\n * @param {WebGLRenderingContext} gl The WebGLRenderingContext.\n * @param {number} [size] the size across the quad. Defaults to 2 which means vertices will go from -1 to +1\n * @param {number} [xOffset] the amount to offset the quad in X\n * @param {number} [yOffset] the amount to offset the quad in Y\n * @return {Object.<string, WebGLBuffer>} the created XY Quad BufferInfo\n * @memberOf module:twgl/primitives\n * @function createXYQuadBuffers\n */\n\n/**\n * Creates XY quad Buffers\n *\n * The default with no parameters will return a 2x2 quad with values from -1 to +1.\n * If you want a unit quad with that goes from 0 to 1 you'd call it with\n *\n *     twgl.primitives.createXYQuadBufferInfo(gl, 1, 0.5, 0.5);\n *\n * If you want a unit quad centered above 0,0 you'd call it with\n *\n *     twgl.primitives.createXYQuadBufferInfo(gl, 1, 0, 0.5);\n *\n * @param {WebGLRenderingContext} gl The WebGLRenderingContext.\n * @param {number} [size] the size across the quad. Defaults to 2 which means vertices will go from -1 to +1\n * @param {number} [xOffset] the amount to offset the quad in X\n * @param {number} [yOffset] the amount to offset the quad in Y\n * @return {module:twgl.BufferInfo} the created XY Quad buffers\n * @memberOf module:twgl/primitives\n * @function createXYQuadBufferInfo\n */\n\n/**\n * Creates XY quad vertices\n *\n * The default with no parameters will return a 2x2 quad with values from -1 to +1.\n * If you want a unit quad with that goes from 0 to 1 you'd call it with\n *\n *     twgl.primitives.createXYQuadVertices(1, 0.5, 0.5);\n *\n * If you want a unit quad centered above 0,0 you'd call it with\n *\n *     twgl.primitives.createXYQuadVertices(1, 0, 0.5);\n *\n * @param {number} [size] the size across the quad. Defaults to 2 which means vertices will go from -1 to +1\n * @param {number} [xOffset] the amount to offset the quad in X\n * @param {number} [yOffset] the amount to offset the quad in Y\n * @return {Object.<string, TypedArray>} the created XY Quad vertices\n * @memberOf module:twgl/primitives\n */\nfunction createXYQuadVertices(size, xOffset, yOffset) {\n  size = size || 2;\n  xOffset = xOffset || 0;\n  yOffset = yOffset || 0;\n  size *= 0.5;\n  return {\n    position: {\n      numComponents: 2,\n      data: [\n        xOffset + -1 * size, yOffset + -1 * size,\n        xOffset +  1 * size, yOffset + -1 * size,\n        xOffset + -1 * size, yOffset +  1 * size,\n        xOffset +  1 * size, yOffset +  1 * size,\n      ],\n    },\n    normal: [\n      0, 0, 1,\n      0, 0, 1,\n      0, 0, 1,\n      0, 0, 1,\n    ],\n    texcoord: [\n      0, 0,\n      1, 0,\n      0, 1,\n      1, 1,\n    ],\n    indices: [ 0, 1, 2, 2, 1, 3 ],\n  };\n}\n\n/**\n * Creates XZ plane BufferInfo.\n *\n * The created plane has position, normal, and texcoord data\n *\n * @param {WebGLRenderingContext} gl The WebGLRenderingContext.\n * @param {number} [width] Width of the plane. Default = 1\n * @param {number} [depth] Depth of the plane. Default = 1\n * @param {number} [subdivisionsWidth] Number of steps across the plane. Default = 1\n * @param {number} [subdivisionsDepth] Number of steps down the plane. Default = 1\n * @param {module:twgl/m4.Mat4} [matrix] A matrix by which to multiply all the vertices.\n * @return {module:twgl.BufferInfo} The created plane BufferInfo.\n * @memberOf module:twgl/primitives\n * @function createPlaneBufferInfo\n */\n\n/**\n * Creates XZ plane buffers.\n *\n * The created plane has position, normal, and texcoord data\n *\n * @param {WebGLRenderingContext} gl The WebGLRenderingContext.\n * @param {number} [width] Width of the plane. Default = 1\n * @param {number} [depth] Depth of the plane. Default = 1\n * @param {number} [subdivisionsWidth] Number of steps across the plane. Default = 1\n * @param {number} [subdivisionsDepth] Number of steps down the plane. Default = 1\n * @param {module:twgl/m4.Mat4} [matrix] A matrix by which to multiply all the vertices.\n * @return {Object.<string, WebGLBuffer>} The created plane buffers.\n * @memberOf module:twgl/primitives\n * @function createPlaneBuffers\n */\n\n/**\n * Creates XZ plane vertices.\n *\n * The created plane has position, normal, and texcoord data\n *\n * @param {number} [width] Width of the plane. Default = 1\n * @param {number} [depth] Depth of the plane. Default = 1\n * @param {number} [subdivisionsWidth] Number of steps across the plane. Default = 1\n * @param {number} [subdivisionsDepth] Number of steps down the plane. Default = 1\n * @param {module:twgl/m4.Mat4} [matrix] A matrix by which to multiply all the vertices.\n * @return {Object.<string, TypedArray>} The created plane vertices.\n * @memberOf module:twgl/primitives\n */\nfunction createPlaneVertices(\n    width,\n    depth,\n    subdivisionsWidth,\n    subdivisionsDepth,\n    matrix) {\n  width = width || 1;\n  depth = depth || 1;\n  subdivisionsWidth = subdivisionsWidth || 1;\n  subdivisionsDepth = subdivisionsDepth || 1;\n  matrix = matrix || identity();\n\n  const numVertices = (subdivisionsWidth + 1) * (subdivisionsDepth + 1);\n  const positions = createAugmentedTypedArray(3, numVertices);\n  const normals = createAugmentedTypedArray(3, numVertices);\n  const texcoords = createAugmentedTypedArray(2, numVertices);\n\n  for (let z = 0; z <= subdivisionsDepth; z++) {\n    for (let x = 0; x <= subdivisionsWidth; x++) {\n      const u = x / subdivisionsWidth;\n      const v = z / subdivisionsDepth;\n      positions.push(\n          width * u - width * 0.5,\n          0,\n          depth * v - depth * 0.5);\n      normals.push(0, 1, 0);\n      texcoords.push(u, v);\n    }\n  }\n\n  const numVertsAcross = subdivisionsWidth + 1;\n  const indices = createAugmentedTypedArray(\n      3, subdivisionsWidth * subdivisionsDepth * 2, Uint16Array);\n\n  for (let z = 0; z < subdivisionsDepth; z++) {  // eslint-disable-line\n    for (let x = 0; x < subdivisionsWidth; x++) {  // eslint-disable-line\n      // Make triangle 1 of quad.\n      indices.push(\n          (z + 0) * numVertsAcross + x,\n          (z + 1) * numVertsAcross + x,\n          (z + 0) * numVertsAcross + x + 1);\n\n      // Make triangle 2 of quad.\n      indices.push(\n          (z + 1) * numVertsAcross + x,\n          (z + 1) * numVertsAcross + x + 1,\n          (z + 0) * numVertsAcross + x + 1);\n    }\n  }\n\n  const arrays = reorientVertices({\n    position: positions,\n    normal: normals,\n    texcoord: texcoords,\n    indices: indices,\n  }, matrix);\n  return arrays;\n}\n\n/**\n * Creates sphere BufferInfo.\n *\n * The created sphere has position, normal, and texcoord data\n *\n * @param {WebGLRenderingContext} gl The WebGLRenderingContext.\n * @param {number} radius radius of the sphere.\n * @param {number} subdivisionsAxis number of steps around the sphere.\n * @param {number} subdivisionsHeight number of vertically on the sphere.\n * @param {number} [opt_startLatitudeInRadians] where to start the\n *     top of the sphere. Default = 0.\n * @param {number} [opt_endLatitudeInRadians] Where to end the\n *     bottom of the sphere. Default = Math.PI.\n * @param {number} [opt_startLongitudeInRadians] where to start\n *     wrapping the sphere. Default = 0.\n * @param {number} [opt_endLongitudeInRadians] where to end\n *     wrapping the sphere. Default = 2 * Math.PI.\n * @return {module:twgl.BufferInfo} The created sphere BufferInfo.\n * @memberOf module:twgl/primitives\n * @function createSphereBufferInfo\n */\n\n/**\n * Creates sphere buffers.\n *\n * The created sphere has position, normal, and texcoord data\n *\n * @param {WebGLRenderingContext} gl The WebGLRenderingContext.\n * @param {number} radius radius of the sphere.\n * @param {number} subdivisionsAxis number of steps around the sphere.\n * @param {number} subdivisionsHeight number of vertically on the sphere.\n * @param {number} [opt_startLatitudeInRadians] where to start the\n *     top of the sphere. Default = 0.\n * @param {number} [opt_endLatitudeInRadians] Where to end the\n *     bottom of the sphere. Default = Math.PI.\n * @param {number} [opt_startLongitudeInRadians] where to start\n *     wrapping the sphere. Default = 0.\n * @param {number} [opt_endLongitudeInRadians] where to end\n *     wrapping the sphere. Default = 2 * Math.PI.\n * @return {Object.<string, WebGLBuffer>} The created sphere buffers.\n * @memberOf module:twgl/primitives\n * @function createSphereBuffers\n */\n\n/**\n * Creates sphere vertices.\n *\n * The created sphere has position, normal, and texcoord data\n *\n * @param {number} radius radius of the sphere.\n * @param {number} subdivisionsAxis number of steps around the sphere.\n * @param {number} subdivisionsHeight number of vertically on the sphere.\n * @param {number} [opt_startLatitudeInRadians] where to start the\n *     top of the sphere. Default = 0.\n * @param {number} [opt_endLatitudeInRadians] Where to end the\n *     bottom of the sphere. Default = Math.PI.\n * @param {number} [opt_startLongitudeInRadians] where to start\n *     wrapping the sphere. Default = 0.\n * @param {number} [opt_endLongitudeInRadians] where to end\n *     wrapping the sphere. Default = 2 * Math.PI.\n * @return {Object.<string, TypedArray>} The created sphere vertices.\n * @memberOf module:twgl/primitives\n */\nfunction createSphereVertices(\n    radius,\n    subdivisionsAxis,\n    subdivisionsHeight,\n    opt_startLatitudeInRadians,\n    opt_endLatitudeInRadians,\n    opt_startLongitudeInRadians,\n    opt_endLongitudeInRadians) {\n  if (subdivisionsAxis <= 0 || subdivisionsHeight <= 0) {\n    throw new Error('subdivisionAxis and subdivisionHeight must be > 0');\n  }\n\n  opt_startLatitudeInRadians = opt_startLatitudeInRadians || 0;\n  opt_endLatitudeInRadians = opt_endLatitudeInRadians || Math.PI;\n  opt_startLongitudeInRadians = opt_startLongitudeInRadians || 0;\n  opt_endLongitudeInRadians = opt_endLongitudeInRadians || (Math.PI * 2);\n\n  const latRange = opt_endLatitudeInRadians - opt_startLatitudeInRadians;\n  const longRange = opt_endLongitudeInRadians - opt_startLongitudeInRadians;\n\n  // We are going to generate our sphere by iterating through its\n  // spherical coordinates and generating 2 triangles for each quad on a\n  // ring of the sphere.\n  const numVertices = (subdivisionsAxis + 1) * (subdivisionsHeight + 1);\n  const positions = createAugmentedTypedArray(3, numVertices);\n  const normals   = createAugmentedTypedArray(3, numVertices);\n  const texcoords = createAugmentedTypedArray(2, numVertices);\n\n  // Generate the individual vertices in our vertex buffer.\n  for (let y = 0; y <= subdivisionsHeight; y++) {\n    for (let x = 0; x <= subdivisionsAxis; x++) {\n      // Generate a vertex based on its spherical coordinates\n      const u = x / subdivisionsAxis;\n      const v = y / subdivisionsHeight;\n      const theta = longRange * u + opt_startLongitudeInRadians;\n      const phi = latRange * v + opt_startLatitudeInRadians;\n      const sinTheta = Math.sin(theta);\n      const cosTheta = Math.cos(theta);\n      const sinPhi = Math.sin(phi);\n      const cosPhi = Math.cos(phi);\n      const ux = cosTheta * sinPhi;\n      const uy = cosPhi;\n      const uz = sinTheta * sinPhi;\n      positions.push(radius * ux, radius * uy, radius * uz);\n      normals.push(ux, uy, uz);\n      texcoords.push(1 - u, v);\n    }\n  }\n\n  const numVertsAround = subdivisionsAxis + 1;\n  const indices = createAugmentedTypedArray(3, subdivisionsAxis * subdivisionsHeight * 2, Uint16Array);\n  for (let x = 0; x < subdivisionsAxis; x++) {  // eslint-disable-line\n    for (let y = 0; y < subdivisionsHeight; y++) {  // eslint-disable-line\n      // Make triangle 1 of quad.\n      indices.push(\n          (y + 0) * numVertsAround + x,\n          (y + 0) * numVertsAround + x + 1,\n          (y + 1) * numVertsAround + x);\n\n      // Make triangle 2 of quad.\n      indices.push(\n          (y + 1) * numVertsAround + x,\n          (y + 0) * numVertsAround + x + 1,\n          (y + 1) * numVertsAround + x + 1);\n    }\n  }\n\n  return {\n    position: positions,\n    normal: normals,\n    texcoord: texcoords,\n    indices: indices,\n  };\n}\n\n/**\n * Array of the indices of corners of each face of a cube.\n * @type {Array.<number[]>}\n * @private\n */\nconst CUBE_FACE_INDICES = [\n  [3, 7, 5, 1],  // right\n  [6, 2, 0, 4],  // left\n  [6, 7, 3, 2],  // ??\n  [0, 1, 5, 4],  // ??\n  [7, 6, 4, 5],  // front\n  [2, 3, 1, 0],  // back\n];\n\n/**\n * Creates a BufferInfo for a cube.\n *\n * The cube is created around the origin. (-size / 2, size / 2).\n *\n * @param {WebGLRenderingContext} gl The WebGLRenderingContext.\n * @param {number} [size] width, height and depth of the cube.\n * @return {module:twgl.BufferInfo} The created BufferInfo.\n * @memberOf module:twgl/primitives\n * @function createCubeBufferInfo\n */\n\n/**\n * Creates the buffers and indices for a cube.\n *\n * The cube is created around the origin. (-size / 2, size / 2).\n *\n * @param {WebGLRenderingContext} gl The WebGLRenderingContext.\n * @param {number} [size] width, height and depth of the cube.\n * @return {Object.<string, WebGLBuffer>} The created buffers.\n * @memberOf module:twgl/primitives\n * @function createCubeBuffers\n */\n\n/**\n * Creates the vertices and indices for a cube.\n *\n * The cube is created around the origin. (-size / 2, size / 2).\n *\n * @param {number} [size] width, height and depth of the cube.\n * @return {Object.<string, TypedArray>} The created vertices.\n * @memberOf module:twgl/primitives\n */\nfunction createCubeVertices(size) {\n  size = size || 1;\n  const k = size / 2;\n\n  const cornerVertices = [\n    [-k, -k, -k],\n    [+k, -k, -k],\n    [-k, +k, -k],\n    [+k, +k, -k],\n    [-k, -k, +k],\n    [+k, -k, +k],\n    [-k, +k, +k],\n    [+k, +k, +k],\n  ];\n\n  const faceNormals = [\n    [+1, +0, +0],\n    [-1, +0, +0],\n    [+0, +1, +0],\n    [+0, -1, +0],\n    [+0, +0, +1],\n    [+0, +0, -1],\n  ];\n\n  const uvCoords = [\n    [1, 0],\n    [0, 0],\n    [0, 1],\n    [1, 1],\n  ];\n\n  const numVertices = 6 * 4;\n  const positions = createAugmentedTypedArray(3, numVertices);\n  const normals   = createAugmentedTypedArray(3, numVertices);\n  const texcoords = createAugmentedTypedArray(2 , numVertices);\n  const indices   = createAugmentedTypedArray(3, 6 * 2, Uint16Array);\n\n  for (let f = 0; f < 6; ++f) {\n    const faceIndices = CUBE_FACE_INDICES[f];\n    for (let v = 0; v < 4; ++v) {\n      const position = cornerVertices[faceIndices[v]];\n      const normal = faceNormals[f];\n      const uv = uvCoords[v];\n\n      // Each face needs all four vertices because the normals and texture\n      // coordinates are not all the same.\n      positions.push(position);\n      normals.push(normal);\n      texcoords.push(uv);\n\n    }\n    // Two triangles make a square face.\n    const offset = 4 * f;\n    indices.push(offset + 0, offset + 1, offset + 2);\n    indices.push(offset + 0, offset + 2, offset + 3);\n  }\n\n  return {\n    position: positions,\n    normal: normals,\n    texcoord: texcoords,\n    indices: indices,\n  };\n}\n\n/**\n * Creates a BufferInfo for a truncated cone, which is like a cylinder\n * except that it has different top and bottom radii. A truncated cone\n * can also be used to create cylinders and regular cones. The\n * truncated cone will be created centered about the origin, with the\n * y axis as its vertical axis.\n *\n * @param {WebGLRenderingContext} gl The WebGLRenderingContext.\n * @param {number} bottomRadius Bottom radius of truncated cone.\n * @param {number} topRadius Top radius of truncated cone.\n * @param {number} height Height of truncated cone.\n * @param {number} radialSubdivisions The number of subdivisions around the\n *     truncated cone.\n * @param {number} verticalSubdivisions The number of subdivisions down the\n *     truncated cone.\n * @param {boolean} [opt_topCap] Create top cap. Default = true.\n * @param {boolean} [opt_bottomCap] Create bottom cap. Default = true.\n * @return {module:twgl.BufferInfo} The created cone BufferInfo.\n * @memberOf module:twgl/primitives\n * @function createTruncatedConeBufferInfo\n */\n\n/**\n * Creates buffers for a truncated cone, which is like a cylinder\n * except that it has different top and bottom radii. A truncated cone\n * can also be used to create cylinders and regular cones. The\n * truncated cone will be created centered about the origin, with the\n * y axis as its vertical axis.\n *\n * @param {WebGLRenderingContext} gl The WebGLRenderingContext.\n * @param {number} bottomRadius Bottom radius of truncated cone.\n * @param {number} topRadius Top radius of truncated cone.\n * @param {number} height Height of truncated cone.\n * @param {number} radialSubdivisions The number of subdivisions around the\n *     truncated cone.\n * @param {number} verticalSubdivisions The number of subdivisions down the\n *     truncated cone.\n * @param {boolean} [opt_topCap] Create top cap. Default = true.\n * @param {boolean} [opt_bottomCap] Create bottom cap. Default = true.\n * @return {Object.<string, WebGLBuffer>} The created cone buffers.\n * @memberOf module:twgl/primitives\n * @function createTruncatedConeBuffers\n */\n\n/**\n * Creates vertices for a truncated cone, which is like a cylinder\n * except that it has different top and bottom radii. A truncated cone\n * can also be used to create cylinders and regular cones. The\n * truncated cone will be created centered about the origin, with the\n * y axis as its vertical axis. .\n *\n * @param {number} bottomRadius Bottom radius of truncated cone.\n * @param {number} topRadius Top radius of truncated cone.\n * @param {number} height Height of truncated cone.\n * @param {number} radialSubdivisions The number of subdivisions around the\n *     truncated cone.\n * @param {number} verticalSubdivisions The number of subdivisions down the\n *     truncated cone.\n * @param {boolean} [opt_topCap] Create top cap. Default = true.\n * @param {boolean} [opt_bottomCap] Create bottom cap. Default = true.\n * @return {Object.<string, TypedArray>} The created cone vertices.\n * @memberOf module:twgl/primitives\n */\nfunction createTruncatedConeVertices(\n    bottomRadius,\n    topRadius,\n    height,\n    radialSubdivisions,\n    verticalSubdivisions,\n    opt_topCap,\n    opt_bottomCap) {\n  if (radialSubdivisions < 3) {\n    throw new Error('radialSubdivisions must be 3 or greater');\n  }\n\n  if (verticalSubdivisions < 1) {\n    throw new Error('verticalSubdivisions must be 1 or greater');\n  }\n\n  const topCap = (opt_topCap === undefined) ? true : opt_topCap;\n  const bottomCap = (opt_bottomCap === undefined) ? true : opt_bottomCap;\n\n  const extra = (topCap ? 2 : 0) + (bottomCap ? 2 : 0);\n\n  const numVertices = (radialSubdivisions + 1) * (verticalSubdivisions + 1 + extra);\n  const positions = createAugmentedTypedArray(3, numVertices);\n  const normals   = createAugmentedTypedArray(3, numVertices);\n  const texcoords = createAugmentedTypedArray(2, numVertices);\n  const indices   = createAugmentedTypedArray(3, radialSubdivisions * (verticalSubdivisions + extra / 2) * 2, Uint16Array);\n\n  const vertsAroundEdge = radialSubdivisions + 1;\n\n  // The slant of the cone is constant across its surface\n  const slant = Math.atan2(bottomRadius - topRadius, height);\n  const cosSlant = Math.cos(slant);\n  const sinSlant = Math.sin(slant);\n\n  const start = topCap ? -2 : 0;\n  const end = verticalSubdivisions + (bottomCap ? 2 : 0);\n\n  for (let yy = start; yy <= end; ++yy) {\n    let v = yy / verticalSubdivisions;\n    let y = height * v;\n    let ringRadius;\n    if (yy < 0) {\n      y = 0;\n      v = 1;\n      ringRadius = bottomRadius;\n    } else if (yy > verticalSubdivisions) {\n      y = height;\n      v = 1;\n      ringRadius = topRadius;\n    } else {\n      ringRadius = bottomRadius +\n        (topRadius - bottomRadius) * (yy / verticalSubdivisions);\n    }\n    if (yy === -2 || yy === verticalSubdivisions + 2) {\n      ringRadius = 0;\n      v = 0;\n    }\n    y -= height / 2;\n    for (let ii = 0; ii < vertsAroundEdge; ++ii) {\n      const sin = Math.sin(ii * Math.PI * 2 / radialSubdivisions);\n      const cos = Math.cos(ii * Math.PI * 2 / radialSubdivisions);\n      positions.push(sin * ringRadius, y, cos * ringRadius);\n      if (yy < 0) {\n        normals.push(0, -1, 0);\n      } else if (yy > verticalSubdivisions) {\n        normals.push(0, 1, 0);\n      } else if (ringRadius === 0.0) {\n        normals.push(0, 0, 0);\n      } else {\n        normals.push(sin * cosSlant, sinSlant, cos * cosSlant);\n      }\n      texcoords.push((ii / radialSubdivisions), 1 - v);\n    }\n  }\n\n  for (let yy = 0; yy < verticalSubdivisions + extra; ++yy) {  // eslint-disable-line\n    if (yy === 1 && topCap || yy === verticalSubdivisions + extra - 2 && bottomCap) {\n      continue;\n    }\n    for (let ii = 0; ii < radialSubdivisions; ++ii) {  // eslint-disable-line\n      indices.push(vertsAroundEdge * (yy + 0) + 0 + ii,\n                   vertsAroundEdge * (yy + 0) + 1 + ii,\n                   vertsAroundEdge * (yy + 1) + 1 + ii);\n      indices.push(vertsAroundEdge * (yy + 0) + 0 + ii,\n                   vertsAroundEdge * (yy + 1) + 1 + ii,\n                   vertsAroundEdge * (yy + 1) + 0 + ii);\n    }\n  }\n\n  return {\n    position: positions,\n    normal: normals,\n    texcoord: texcoords,\n    indices: indices,\n  };\n}\n\n/**\n * Expands RLE data\n * @param {number[]} rleData data in format of run-length, x, y, z, run-length, x, y, z\n * @param {number[]} [padding] value to add each entry with.\n * @return {number[]} the expanded rleData\n * @private\n */\nfunction expandRLEData(rleData, padding) {\n  padding = padding || [];\n  const data = [];\n  for (let ii = 0; ii < rleData.length; ii += 4) {\n    const runLength = rleData[ii];\n    const element = rleData.slice(ii + 1, ii + 4);\n    element.push.apply(element, padding);\n    for (let jj = 0; jj < runLength; ++jj) {\n      data.push.apply(data, element);\n    }\n  }\n  return data;\n}\n\n/**\n * Creates 3D 'F' BufferInfo.\n * An 'F' is useful because you can easily tell which way it is oriented.\n * The created 'F' has position, normal, texcoord, and color buffers.\n *\n * @param {WebGLRenderingContext} gl The WebGLRenderingContext.\n * @return {module:twgl.BufferInfo} The created BufferInfo.\n * @memberOf module:twgl/primitives\n * @function create3DFBufferInfo\n */\n\n/**\n * Creates 3D 'F' buffers.\n * An 'F' is useful because you can easily tell which way it is oriented.\n * The created 'F' has position, normal, texcoord, and color buffers.\n *\n * @param {WebGLRenderingContext} gl The WebGLRenderingContext.\n * @return {Object.<string, WebGLBuffer>} The created buffers.\n * @memberOf module:twgl/primitives\n * @function create3DFBuffers\n */\n\n/**\n * Creates 3D 'F' vertices.\n * An 'F' is useful because you can easily tell which way it is oriented.\n * The created 'F' has position, normal, texcoord, and color arrays.\n *\n * @return {Object.<string, TypedArray>} The created vertices.\n * @memberOf module:twgl/primitives\n */\nfunction create3DFVertices() {\n\n  const positions = [\n    // left column front\n    0,   0,  0,\n    0, 150,  0,\n    30,   0,  0,\n    0, 150,  0,\n    30, 150,  0,\n    30,   0,  0,\n\n    // top rung front\n    30,   0,  0,\n    30,  30,  0,\n    100,   0,  0,\n    30,  30,  0,\n    100,  30,  0,\n    100,   0,  0,\n\n    // middle rung front\n    30,  60,  0,\n    30,  90,  0,\n    67,  60,  0,\n    30,  90,  0,\n    67,  90,  0,\n    67,  60,  0,\n\n    // left column back\n      0,   0,  30,\n     30,   0,  30,\n      0, 150,  30,\n      0, 150,  30,\n     30,   0,  30,\n     30, 150,  30,\n\n    // top rung back\n     30,   0,  30,\n    100,   0,  30,\n     30,  30,  30,\n     30,  30,  30,\n    100,   0,  30,\n    100,  30,  30,\n\n    // middle rung back\n     30,  60,  30,\n     67,  60,  30,\n     30,  90,  30,\n     30,  90,  30,\n     67,  60,  30,\n     67,  90,  30,\n\n    // top\n      0,   0,   0,\n    100,   0,   0,\n    100,   0,  30,\n      0,   0,   0,\n    100,   0,  30,\n      0,   0,  30,\n\n    // top rung front\n    100,   0,   0,\n    100,  30,   0,\n    100,  30,  30,\n    100,   0,   0,\n    100,  30,  30,\n    100,   0,  30,\n\n    // under top rung\n    30,   30,   0,\n    30,   30,  30,\n    100,  30,  30,\n    30,   30,   0,\n    100,  30,  30,\n    100,  30,   0,\n\n    // between top rung and middle\n    30,   30,   0,\n    30,   60,  30,\n    30,   30,  30,\n    30,   30,   0,\n    30,   60,   0,\n    30,   60,  30,\n\n    // top of middle rung\n    30,   60,   0,\n    67,   60,  30,\n    30,   60,  30,\n    30,   60,   0,\n    67,   60,   0,\n    67,   60,  30,\n\n    // front of middle rung\n    67,   60,   0,\n    67,   90,  30,\n    67,   60,  30,\n    67,   60,   0,\n    67,   90,   0,\n    67,   90,  30,\n\n    // bottom of middle rung.\n    30,   90,   0,\n    30,   90,  30,\n    67,   90,  30,\n    30,   90,   0,\n    67,   90,  30,\n    67,   90,   0,\n\n    // front of bottom\n    30,   90,   0,\n    30,  150,  30,\n    30,   90,  30,\n    30,   90,   0,\n    30,  150,   0,\n    30,  150,  30,\n\n    // bottom\n    0,   150,   0,\n    0,   150,  30,\n    30,  150,  30,\n    0,   150,   0,\n    30,  150,  30,\n    30,  150,   0,\n\n    // left side\n    0,   0,   0,\n    0,   0,  30,\n    0, 150,  30,\n    0,   0,   0,\n    0, 150,  30,\n    0, 150,   0,\n  ];\n\n  const texcoords = [\n    // left column front\n    0.22, 0.19,\n    0.22, 0.79,\n    0.34, 0.19,\n    0.22, 0.79,\n    0.34, 0.79,\n    0.34, 0.19,\n\n    // top rung front\n    0.34, 0.19,\n    0.34, 0.31,\n    0.62, 0.19,\n    0.34, 0.31,\n    0.62, 0.31,\n    0.62, 0.19,\n\n    // middle rung front\n    0.34, 0.43,\n    0.34, 0.55,\n    0.49, 0.43,\n    0.34, 0.55,\n    0.49, 0.55,\n    0.49, 0.43,\n\n    // left column back\n    0, 0,\n    1, 0,\n    0, 1,\n    0, 1,\n    1, 0,\n    1, 1,\n\n    // top rung back\n    0, 0,\n    1, 0,\n    0, 1,\n    0, 1,\n    1, 0,\n    1, 1,\n\n    // middle rung back\n    0, 0,\n    1, 0,\n    0, 1,\n    0, 1,\n    1, 0,\n    1, 1,\n\n    // top\n    0, 0,\n    1, 0,\n    1, 1,\n    0, 0,\n    1, 1,\n    0, 1,\n\n    // top rung front\n    0, 0,\n    1, 0,\n    1, 1,\n    0, 0,\n    1, 1,\n    0, 1,\n\n    // under top rung\n    0, 0,\n    0, 1,\n    1, 1,\n    0, 0,\n    1, 1,\n    1, 0,\n\n    // between top rung and middle\n    0, 0,\n    1, 1,\n    0, 1,\n    0, 0,\n    1, 0,\n    1, 1,\n\n    // top of middle rung\n    0, 0,\n    1, 1,\n    0, 1,\n    0, 0,\n    1, 0,\n    1, 1,\n\n    // front of middle rung\n    0, 0,\n    1, 1,\n    0, 1,\n    0, 0,\n    1, 0,\n    1, 1,\n\n    // bottom of middle rung.\n    0, 0,\n    0, 1,\n    1, 1,\n    0, 0,\n    1, 1,\n    1, 0,\n\n    // front of bottom\n    0, 0,\n    1, 1,\n    0, 1,\n    0, 0,\n    1, 0,\n    1, 1,\n\n    // bottom\n    0, 0,\n    0, 1,\n    1, 1,\n    0, 0,\n    1, 1,\n    1, 0,\n\n    // left side\n    0, 0,\n    0, 1,\n    1, 1,\n    0, 0,\n    1, 1,\n    1, 0,\n  ];\n\n  const normals = expandRLEData([\n    // left column front\n    // top rung front\n    // middle rung front\n    18, 0, 0, 1,\n\n    // left column back\n    // top rung back\n    // middle rung back\n    18, 0, 0, -1,\n\n    // top\n    6, 0, 1, 0,\n\n    // top rung front\n    6, 1, 0, 0,\n\n    // under top rung\n    6, 0, -1, 0,\n\n    // between top rung and middle\n    6, 1, 0, 0,\n\n    // top of middle rung\n    6, 0, 1, 0,\n\n    // front of middle rung\n    6, 1, 0, 0,\n\n    // bottom of middle rung.\n    6, 0, -1, 0,\n\n    // front of bottom\n    6, 1, 0, 0,\n\n    // bottom\n    6, 0, -1, 0,\n\n    // left side\n    6, -1, 0, 0,\n  ]);\n\n  const colors = expandRLEData([\n        // left column front\n        // top rung front\n        // middle rung front\n      18, 200,  70, 120,\n\n        // left column back\n        // top rung back\n        // middle rung back\n      18, 80, 70, 200,\n\n        // top\n      6, 70, 200, 210,\n\n        // top rung front\n      6, 200, 200, 70,\n\n        // under top rung\n      6, 210, 100, 70,\n\n        // between top rung and middle\n      6, 210, 160, 70,\n\n        // top of middle rung\n      6, 70, 180, 210,\n\n        // front of middle rung\n      6, 100, 70, 210,\n\n        // bottom of middle rung.\n      6, 76, 210, 100,\n\n        // front of bottom\n      6, 140, 210, 80,\n\n        // bottom\n      6, 90, 130, 110,\n\n        // left side\n      6, 160, 160, 220,\n  ], [255]);\n\n  const numVerts = positions.length / 3;\n\n  const arrays = {\n    position: createAugmentedTypedArray(3, numVerts),\n    texcoord: createAugmentedTypedArray(2,  numVerts),\n    normal: createAugmentedTypedArray(3, numVerts),\n    color: createAugmentedTypedArray(4, numVerts, Uint8Array),\n    indices: createAugmentedTypedArray(3, numVerts / 3, Uint16Array),\n  };\n\n  arrays.position.push(positions);\n  arrays.texcoord.push(texcoords);\n  arrays.normal.push(normals);\n  arrays.color.push(colors);\n\n  for (let ii = 0; ii < numVerts; ++ii) {\n    arrays.indices.push(ii);\n  }\n\n  return arrays;\n}\n\n/**\n * Creates crescent BufferInfo.\n *\n * @param {WebGLRenderingContext} gl The WebGLRenderingContext.\n * @param {number} verticalRadius The vertical radius of the crescent.\n * @param {number} outerRadius The outer radius of the crescent.\n * @param {number} innerRadius The inner radius of the crescent.\n * @param {number} thickness The thickness of the crescent.\n * @param {number} subdivisionsDown number of steps around the crescent.\n * @param {number} [startOffset] Where to start arc. Default 0.\n * @param {number} [endOffset] Where to end arg. Default 1.\n * @return {module:twgl.BufferInfo} The created BufferInfo.\n * @memberOf module:twgl/primitives\n * @function createCresentBufferInfo\n */\n\n/**\n * Creates crescent buffers.\n *\n * @param {WebGLRenderingContext} gl The WebGLRenderingContext.\n * @param {number} verticalRadius The vertical radius of the crescent.\n * @param {number} outerRadius The outer radius of the crescent.\n * @param {number} innerRadius The inner radius of the crescent.\n * @param {number} thickness The thickness of the crescent.\n * @param {number} subdivisionsDown number of steps around the crescent.\n * @param {number} [startOffset] Where to start arc. Default 0.\n * @param {number} [endOffset] Where to end arg. Default 1.\n * @return {Object.<string, WebGLBuffer>} The created buffers.\n * @memberOf module:twgl/primitives\n * @function createCresentBuffers\n */\n\n/**\n * Creates crescent vertices.\n *\n * @param {number} verticalRadius The vertical radius of the crescent.\n * @param {number} outerRadius The outer radius of the crescent.\n * @param {number} innerRadius The inner radius of the crescent.\n * @param {number} thickness The thickness of the crescent.\n * @param {number} subdivisionsDown number of steps around the crescent.\n * @param {number} [startOffset] Where to start arc. Default 0.\n * @param {number} [endOffset] Where to end arg. Default 1.\n * @return {Object.<string, TypedArray>} The created vertices.\n * @memberOf module:twgl/primitives\n * @function createCresentBuffers\n */\n\n/**\n * Creates crescent BufferInfo.\n *\n * @param {WebGLRenderingContext} gl The WebGLRenderingContext.\n * @param {number} verticalRadius The vertical radius of the crescent.\n * @param {number} outerRadius The outer radius of the crescent.\n * @param {number} innerRadius The inner radius of the crescent.\n * @param {number} thickness The thickness of the crescent.\n * @param {number} subdivisionsDown number of steps around the crescent.\n * @param {number} [startOffset] Where to start arc. Default 0.\n * @param {number} [endOffset] Where to end arg. Default 1.\n * @return {module:twgl.BufferInfo} The created BufferInfo.\n * @memberOf module:twgl/primitives\n * @function createCrescentBufferInfo\n */\n\n/**\n * Creates crescent buffers.\n *\n * @param {WebGLRenderingContext} gl The WebGLRenderingContext.\n * @param {number} verticalRadius The vertical radius of the crescent.\n * @param {number} outerRadius The outer radius of the crescent.\n * @param {number} innerRadius The inner radius of the crescent.\n * @param {number} thickness The thickness of the crescent.\n * @param {number} subdivisionsDown number of steps around the crescent.\n * @param {number} [startOffset] Where to start arc. Default 0.\n * @param {number} [endOffset] Where to end arg. Default 1.\n * @return {Object.<string, WebGLBuffer>} The created buffers.\n * @memberOf module:twgl/primitives\n * @function createCrescentBuffers\n */\n\n/**\n * Creates crescent vertices.\n *\n * @param {number} verticalRadius The vertical radius of the crescent.\n * @param {number} outerRadius The outer radius of the crescent.\n * @param {number} innerRadius The inner radius of the crescent.\n * @param {number} thickness The thickness of the crescent.\n * @param {number} subdivisionsDown number of steps around the crescent.\n * @param {number} [startOffset] Where to start arc. Default 0.\n * @param {number} [endOffset] Where to end arg. Default 1.\n * @return {Object.<string, TypedArray>} The created vertices.\n * @memberOf module:twgl/primitives\n */\n function createCrescentVertices(\n    verticalRadius,\n    outerRadius,\n    innerRadius,\n    thickness,\n    subdivisionsDown,\n    startOffset,\n    endOffset) {\n  if (subdivisionsDown <= 0) {\n    throw new Error('subdivisionDown must be > 0');\n  }\n\n  startOffset = startOffset || 0;\n  endOffset   = endOffset || 1;\n\n  const subdivisionsThick = 2;\n\n  const offsetRange = endOffset - startOffset;\n  const numVertices = (subdivisionsDown + 1) * 2 * (2 + subdivisionsThick);\n  const positions   = createAugmentedTypedArray(3, numVertices);\n  const normals     = createAugmentedTypedArray(3, numVertices);\n  const texcoords   = createAugmentedTypedArray(2, numVertices);\n\n  function lerp(a, b, s) {\n    return a + (b - a) * s;\n  }\n\n  function createArc(arcRadius, x, normalMult, normalAdd, uMult, uAdd) {\n    for (let z = 0; z <= subdivisionsDown; z++) {\n      const uBack = x / (subdivisionsThick - 1);\n      const v = z / subdivisionsDown;\n      const xBack = (uBack - 0.5) * 2;\n      const angle = (startOffset + (v * offsetRange)) * Math.PI;\n      const s = Math.sin(angle);\n      const c = Math.cos(angle);\n      const radius = lerp(verticalRadius, arcRadius, s);\n      const px = xBack * thickness;\n      const py = c * verticalRadius;\n      const pz = s * radius;\n      positions.push(px, py, pz);\n      const n = add(multiply$1([0, s, c], normalMult), normalAdd);\n      normals.push(n);\n      texcoords.push(uBack * uMult + uAdd, v);\n    }\n  }\n\n  // Generate the individual vertices in our vertex buffer.\n  for (let x = 0; x < subdivisionsThick; x++) {\n    const uBack = (x / (subdivisionsThick - 1) - 0.5) * 2;\n    createArc(outerRadius, x, [1, 1, 1], [0,     0, 0], 1, 0);\n    createArc(outerRadius, x, [0, 0, 0], [uBack, 0, 0], 0, 0);\n    createArc(innerRadius, x, [1, 1, 1], [0,     0, 0], 1, 0);\n    createArc(innerRadius, x, [0, 0, 0], [uBack, 0, 0], 0, 1);\n  }\n\n  // Do outer surface.\n  const indices = createAugmentedTypedArray(3, (subdivisionsDown * 2) * (2 + subdivisionsThick), Uint16Array);\n\n  function createSurface(leftArcOffset, rightArcOffset) {\n    for (let z = 0; z < subdivisionsDown; ++z) {\n      // Make triangle 1 of quad.\n      indices.push(\n          leftArcOffset + z + 0,\n          leftArcOffset + z + 1,\n          rightArcOffset + z + 0);\n\n      // Make triangle 2 of quad.\n      indices.push(\n          leftArcOffset + z + 1,\n          rightArcOffset + z + 1,\n          rightArcOffset + z + 0);\n    }\n  }\n\n  const numVerticesDown = subdivisionsDown + 1;\n  // front\n  createSurface(numVerticesDown * 0, numVerticesDown * 4);\n  // right\n  createSurface(numVerticesDown * 5, numVerticesDown * 7);\n  // back\n  createSurface(numVerticesDown * 6, numVerticesDown * 2);\n  // left\n  createSurface(numVerticesDown * 3, numVerticesDown * 1);\n\n  return {\n    position: positions,\n    normal:   normals,\n    texcoord: texcoords,\n    indices:  indices,\n  };\n}\n\n/**\n * Creates cylinder BufferInfo. The cylinder will be created around the origin\n * along the y-axis.\n *\n * @param {WebGLRenderingContext} gl The WebGLRenderingContext.\n * @param {number} radius Radius of cylinder.\n * @param {number} height Height of cylinder.\n * @param {number} radialSubdivisions The number of subdivisions around the cylinder.\n * @param {number} verticalSubdivisions The number of subdivisions down the cylinder.\n * @param {boolean} [topCap] Create top cap. Default = true.\n * @param {boolean} [bottomCap] Create bottom cap. Default = true.\n * @return {module:twgl.BufferInfo} The created BufferInfo.\n * @memberOf module:twgl/primitives\n * @function createCylinderBufferInfo\n */\n\n /**\n  * Creates cylinder buffers. The cylinder will be created around the origin\n  * along the y-axis.\n  *\n  * @param {WebGLRenderingContext} gl The WebGLRenderingContext.\n  * @param {number} radius Radius of cylinder.\n  * @param {number} height Height of cylinder.\n  * @param {number} radialSubdivisions The number of subdivisions around the cylinder.\n  * @param {number} verticalSubdivisions The number of subdivisions down the cylinder.\n  * @param {boolean} [topCap] Create top cap. Default = true.\n  * @param {boolean} [bottomCap] Create bottom cap. Default = true.\n  * @return {Object.<string, WebGLBuffer>} The created buffers.\n  * @memberOf module:twgl/primitives\n  * @function createCylinderBuffers\n  */\n\n /**\n  * Creates cylinder vertices. The cylinder will be created around the origin\n  * along the y-axis.\n  *\n  * @param {number} radius Radius of cylinder.\n  * @param {number} height Height of cylinder.\n  * @param {number} radialSubdivisions The number of subdivisions around the cylinder.\n  * @param {number} verticalSubdivisions The number of subdivisions down the cylinder.\n  * @param {boolean} [topCap] Create top cap. Default = true.\n  * @param {boolean} [bottomCap] Create bottom cap. Default = true.\n  * @return {Object.<string, TypedArray>} The created vertices.\n  * @memberOf module:twgl/primitives\n  */\nfunction createCylinderVertices(\n    radius,\n    height,\n    radialSubdivisions,\n    verticalSubdivisions,\n    topCap,\n    bottomCap) {\n  return createTruncatedConeVertices(\n      radius,\n      radius,\n      height,\n      radialSubdivisions,\n      verticalSubdivisions,\n      topCap,\n      bottomCap);\n}\n\n/**\n * Creates BufferInfo for a torus\n *\n * @param {WebGLRenderingContext} gl The WebGLRenderingContext.\n * @param {number} radius radius of center of torus circle.\n * @param {number} thickness radius of torus ring.\n * @param {number} radialSubdivisions The number of subdivisions around the torus.\n * @param {number} bodySubdivisions The number of subdivisions around the body torus.\n * @param {boolean} [startAngle] start angle in radians. Default = 0.\n * @param {boolean} [endAngle] end angle in radians. Default = Math.PI * 2.\n * @return {module:twgl.BufferInfo} The created BufferInfo.\n * @memberOf module:twgl/primitives\n * @function createTorusBufferInfo\n */\n\n/**\n * Creates buffers for a torus\n *\n * @param {WebGLRenderingContext} gl The WebGLRenderingContext.\n * @param {number} radius radius of center of torus circle.\n * @param {number} thickness radius of torus ring.\n * @param {number} radialSubdivisions The number of subdivisions around the torus.\n * @param {number} bodySubdivisions The number of subdivisions around the body torus.\n * @param {boolean} [startAngle] start angle in radians. Default = 0.\n * @param {boolean} [endAngle] end angle in radians. Default = Math.PI * 2.\n * @return {Object.<string, WebGLBuffer>} The created buffers.\n * @memberOf module:twgl/primitives\n * @function createTorusBuffers\n */\n\n/**\n * Creates vertices for a torus\n *\n * @param {number} radius radius of center of torus circle.\n * @param {number} thickness radius of torus ring.\n * @param {number} radialSubdivisions The number of subdivisions around the torus.\n * @param {number} bodySubdivisions The number of subdivisions around the body torus.\n * @param {boolean} [startAngle] start angle in radians. Default = 0.\n * @param {boolean} [endAngle] end angle in radians. Default = Math.PI * 2.\n * @return {Object.<string, TypedArray>} The created vertices.\n * @memberOf module:twgl/primitives\n */\nfunction createTorusVertices(\n    radius,\n    thickness,\n    radialSubdivisions,\n    bodySubdivisions,\n    startAngle,\n    endAngle) {\n  if (radialSubdivisions < 3) {\n    throw new Error('radialSubdivisions must be 3 or greater');\n  }\n\n  if (bodySubdivisions < 3) {\n    throw new Error('verticalSubdivisions must be 3 or greater');\n  }\n\n  startAngle = startAngle || 0;\n  endAngle = endAngle || Math.PI * 2;\n  const range = endAngle - startAngle;\n\n  const radialParts = radialSubdivisions + 1;\n  const bodyParts   = bodySubdivisions + 1;\n  const numVertices = radialParts * bodyParts;\n  const positions   = createAugmentedTypedArray(3, numVertices);\n  const normals     = createAugmentedTypedArray(3, numVertices);\n  const texcoords   = createAugmentedTypedArray(2, numVertices);\n  const indices     = createAugmentedTypedArray(3, (radialSubdivisions) * (bodySubdivisions) * 2, Uint16Array);\n\n  for (let slice = 0; slice < bodyParts; ++slice) {\n    const v = slice / bodySubdivisions;\n    const sliceAngle = v * Math.PI * 2;\n    const sliceSin = Math.sin(sliceAngle);\n    const ringRadius = radius + sliceSin * thickness;\n    const ny = Math.cos(sliceAngle);\n    const y = ny * thickness;\n    for (let ring = 0; ring < radialParts; ++ring) {\n      const u = ring / radialSubdivisions;\n      const ringAngle = startAngle + u * range;\n      const xSin = Math.sin(ringAngle);\n      const zCos = Math.cos(ringAngle);\n      const x = xSin * ringRadius;\n      const z = zCos * ringRadius;\n      const nx = xSin * sliceSin;\n      const nz = zCos * sliceSin;\n      positions.push(x, y, z);\n      normals.push(nx, ny, nz);\n      texcoords.push(u, 1 - v);\n    }\n  }\n\n  for (let slice = 0; slice < bodySubdivisions; ++slice) {  // eslint-disable-line\n    for (let ring = 0; ring < radialSubdivisions; ++ring) {  // eslint-disable-line\n      const nextRingIndex  = 1 + ring;\n      const nextSliceIndex = 1 + slice;\n      indices.push(radialParts * slice          + ring,\n                   radialParts * nextSliceIndex + ring,\n                   radialParts * slice          + nextRingIndex);\n      indices.push(radialParts * nextSliceIndex + ring,\n                   radialParts * nextSliceIndex + nextRingIndex,\n                   radialParts * slice          + nextRingIndex);\n    }\n  }\n\n  return {\n    position: positions,\n    normal:   normals,\n    texcoord: texcoords,\n    indices:  indices,\n  };\n}\n\n\n/**\n * Creates a disc BufferInfo. The disc will be in the xz plane, centered at\n * the origin. When creating, at least 3 divisions, or pie\n * pieces, need to be specified, otherwise the triangles making\n * up the disc will be degenerate. You can also specify the\n * number of radial pieces `stacks`. A value of 1 for\n * stacks will give you a simple disc of pie pieces.  If you\n * want to create an annulus you can set `innerRadius` to a\n * value > 0. Finally, `stackPower` allows you to have the widths\n * increase or decrease as you move away from the center. This\n * is particularly useful when using the disc as a ground plane\n * with a fixed camera such that you don't need the resolution\n * of small triangles near the perimeter. For example, a value\n * of 2 will produce stacks whose outside radius increases with\n * the square of the stack index. A value of 1 will give uniform\n * stacks.\n *\n * @param {WebGLRenderingContext} gl The WebGLRenderingContext.\n * @param {number} radius Radius of the ground plane.\n * @param {number} divisions Number of triangles in the ground plane (at least 3).\n * @param {number} [stacks] Number of radial divisions (default=1).\n * @param {number} [innerRadius] Default 0.\n * @param {number} [stackPower] Power to raise stack size to for decreasing width.\n * @return {module:twgl.BufferInfo} The created BufferInfo.\n * @memberOf module:twgl/primitives\n * @function createDiscBufferInfo\n */\n\n/**\n * Creates disc buffers. The disc will be in the xz plane, centered at\n * the origin. When creating, at least 3 divisions, or pie\n * pieces, need to be specified, otherwise the triangles making\n * up the disc will be degenerate. You can also specify the\n * number of radial pieces `stacks`. A value of 1 for\n * stacks will give you a simple disc of pie pieces.  If you\n * want to create an annulus you can set `innerRadius` to a\n * value > 0. Finally, `stackPower` allows you to have the widths\n * increase or decrease as you move away from the center. This\n * is particularly useful when using the disc as a ground plane\n * with a fixed camera such that you don't need the resolution\n * of small triangles near the perimeter. For example, a value\n * of 2 will produce stacks whose outside radius increases with\n * the square of the stack index. A value of 1 will give uniform\n * stacks.\n *\n * @param {WebGLRenderingContext} gl The WebGLRenderingContext.\n * @param {number} radius Radius of the ground plane.\n * @param {number} divisions Number of triangles in the ground plane (at least 3).\n * @param {number} [stacks] Number of radial divisions (default=1).\n * @param {number} [innerRadius] Default 0.\n * @param {number} [stackPower] Power to raise stack size to for decreasing width.\n * @return {Object.<string, WebGLBuffer>} The created buffers.\n * @memberOf module:twgl/primitives\n * @function createDiscBuffers\n */\n\n/**\n * Creates disc vertices. The disc will be in the xz plane, centered at\n * the origin. When creating, at least 3 divisions, or pie\n * pieces, need to be specified, otherwise the triangles making\n * up the disc will be degenerate. You can also specify the\n * number of radial pieces `stacks`. A value of 1 for\n * stacks will give you a simple disc of pie pieces.  If you\n * want to create an annulus you can set `innerRadius` to a\n * value > 0. Finally, `stackPower` allows you to have the widths\n * increase or decrease as you move away from the center. This\n * is particularly useful when using the disc as a ground plane\n * with a fixed camera such that you don't need the resolution\n * of small triangles near the perimeter. For example, a value\n * of 2 will produce stacks whose outside radius increases with\n * the square of the stack index. A value of 1 will give uniform\n * stacks.\n *\n * @param {number} radius Radius of the ground plane.\n * @param {number} divisions Number of triangles in the ground plane (at least 3).\n * @param {number} [stacks] Number of radial divisions (default=1).\n * @param {number} [innerRadius] Default 0.\n * @param {number} [stackPower] Power to raise stack size to for decreasing width.\n * @return {Object.<string, TypedArray>} The created vertices.\n * @memberOf module:twgl/primitives\n */\nfunction createDiscVertices(\n    radius,\n    divisions,\n    stacks,\n    innerRadius,\n    stackPower) {\n  if (divisions < 3) {\n    throw new Error('divisions must be at least 3');\n  }\n\n  stacks = stacks ? stacks : 1;\n  stackPower = stackPower ? stackPower : 1;\n  innerRadius = innerRadius ? innerRadius : 0;\n\n  // Note: We don't share the center vertex because that would\n  // mess up texture coordinates.\n  const numVertices = (divisions + 1) * (stacks + 1);\n\n  const positions = createAugmentedTypedArray(3, numVertices);\n  const normals   = createAugmentedTypedArray(3, numVertices);\n  const texcoords = createAugmentedTypedArray(2, numVertices);\n  const indices   = createAugmentedTypedArray(3, stacks * divisions * 2, Uint16Array);\n\n  let firstIndex = 0;\n  const radiusSpan = radius - innerRadius;\n  const pointsPerStack = divisions + 1;\n\n  // Build the disk one stack at a time.\n  for (let stack = 0; stack <= stacks; ++stack) {\n    const stackRadius = innerRadius + radiusSpan * Math.pow(stack / stacks, stackPower);\n\n    for (let i = 0; i <= divisions; ++i) {\n      const theta = 2.0 * Math.PI * i / divisions;\n      const x = stackRadius * Math.cos(theta);\n      const z = stackRadius * Math.sin(theta);\n\n      positions.push(x, 0, z);\n      normals.push(0, 1, 0);\n      texcoords.push(1 - (i / divisions), stack / stacks);\n      if (stack > 0 && i !== divisions) {\n        // a, b, c and d are the indices of the vertices of a quad.  unless\n        // the current stack is the one closest to the center, in which case\n        // the vertices a and b connect to the center vertex.\n        const a = firstIndex + (i + 1);\n        const b = firstIndex + i;\n        const c = firstIndex + i - pointsPerStack;\n        const d = firstIndex + (i + 1) - pointsPerStack;\n\n        // Make a quad of the vertices a, b, c, d.\n        indices.push(a, b, c);\n        indices.push(a, c, d);\n      }\n    }\n\n    firstIndex += divisions + 1;\n  }\n\n  return {\n    position: positions,\n    normal: normals,\n    texcoord: texcoords,\n    indices: indices,\n  };\n}\n\n/**\n * creates a random integer between 0 and range - 1 inclusive.\n * @param {number} range\n * @return {number} random value between 0 and range - 1 inclusive.\n * @private\n */\nfunction randInt(range) {\n  return Math.random() * range | 0;\n}\n\n/**\n * Used to supply random colors\n * @callback RandomColorFunc\n * @param {number} ndx index of triangle/quad if unindexed or index of vertex if indexed\n * @param {number} channel 0 = red, 1 = green, 2 = blue, 3 = alpha\n * @return {number} a number from 0 to 255\n * @memberOf module:twgl/primitives\n */\n\n/**\n * @typedef {Object} RandomVerticesOptions\n * @property {number} [vertsPerColor] Defaults to 3 for non-indexed vertices\n * @property {module:twgl/primitives.RandomColorFunc} [rand] A function to generate random numbers\n * @memberOf module:twgl/primitives\n */\n\n/**\n * Creates an augmentedTypedArray of random vertex colors.\n * If the vertices are indexed (have an indices array) then will\n * just make random colors. Otherwise assumes they are triangles\n * and makes one random color for every 3 vertices.\n * @param {Object.<string, AugmentedTypedArray>} vertices Vertices as returned from one of the createXXXVertices functions.\n * @param {module:twgl/primitives.RandomVerticesOptions} [options] options.\n * @return {Object.<string, AugmentedTypedArray>} same vertices as passed in with `color` added.\n * @memberOf module:twgl/primitives\n */\nfunction makeRandomVertexColors(vertices, options) {\n  options = options || {};\n  const numElements = vertices.position.numElements;\n  const vColors = createAugmentedTypedArray(4, numElements, Uint8Array);\n  const rand = options.rand || function(ndx, channel) {\n    return channel < 3 ? randInt(256) : 255;\n  };\n  vertices.color = vColors;\n  if (vertices.indices) {\n    // just make random colors if index\n    for (let ii = 0; ii < numElements; ++ii) {\n      vColors.push(rand(ii, 0), rand(ii, 1), rand(ii, 2), rand(ii, 3));\n    }\n  } else {\n    // make random colors per triangle\n    const numVertsPerColor = options.vertsPerColor || 3;\n    const numSets = numElements / numVertsPerColor;\n    for (let ii = 0; ii < numSets; ++ii) {  // eslint-disable-line\n      const color = [rand(ii, 0), rand(ii, 1), rand(ii, 2), rand(ii, 3)];\n      for (let jj = 0; jj < numVertsPerColor; ++jj) {\n        vColors.push(color);\n      }\n    }\n  }\n  return vertices;\n}\n\n/**\n * creates a function that calls fn to create vertices and then\n * creates a buffers for them\n * @private\n */\nfunction createBufferFunc(fn) {\n  return function(gl) {\n    const arrays = fn.apply(this, Array.prototype.slice.call(arguments, 1));\n    return createBuffersFromArrays(gl, arrays);\n  };\n}\n\n/**\n * creates a function that calls fn to create vertices and then\n * creates a bufferInfo object for them\n * @private\n */\nfunction createBufferInfoFunc(fn) {\n  return function(gl) {\n    const arrays = fn.apply(null,  Array.prototype.slice.call(arguments, 1));\n    return createBufferInfoFromArrays(gl, arrays);\n  };\n}\n\nconst arraySpecPropertyNames = [\n  \"numComponents\",\n  \"size\",\n  \"type\",\n  \"normalize\",\n  \"stride\",\n  \"offset\",\n  \"attrib\",\n  \"name\",\n  \"attribName\",\n];\n\n/**\n * Copy elements from one array to another\n *\n * @param {Array|TypedArray} src source array\n * @param {Array|TypedArray} dst dest array\n * @param {number} dstNdx index in dest to copy src\n * @param {number} [offset] offset to add to copied values\n * @private\n */\nfunction copyElements(src, dst, dstNdx, offset) {\n  offset = offset || 0;\n  const length = src.length;\n  for (let ii = 0; ii < length; ++ii) {\n    dst[dstNdx + ii] = src[ii] + offset;\n  }\n}\n\n/**\n * Creates an array of the same time\n *\n * @param {(number[]|ArrayBufferView|module:twgl.FullArraySpec)} srcArray array who's type to copy\n * @param {number} length size of new array\n * @return {(number[]|ArrayBufferView|module:twgl.FullArraySpec)} array with same type as srcArray\n * @private\n */\nfunction createArrayOfSameType(srcArray, length) {\n  const arraySrc = getArray(srcArray);\n  const newArray = new arraySrc.constructor(length);\n  let newArraySpec = newArray;\n  // If it appears to have been augmented make new one augmented\n  if (arraySrc.numComponents && arraySrc.numElements) {\n    augmentTypedArray(newArray, arraySrc.numComponents);\n  }\n  // If it was a full spec make new one a full spec\n  if (srcArray.data) {\n    newArraySpec = {\n      data: newArray,\n    };\n    copyNamedProperties(arraySpecPropertyNames, srcArray, newArraySpec);\n  }\n  return newArraySpec;\n}\n\n/**\n * Concatenates sets of vertices\n *\n * Assumes the vertices match in composition. For example\n * if one set of vertices has positions, normals, and indices\n * all sets of vertices must have positions, normals, and indices\n * and of the same type.\n *\n * Example:\n *\n *      const cubeVertices = twgl.primitives.createCubeVertices(2);\n *      const sphereVertices = twgl.primitives.createSphereVertices(1, 10, 10);\n *      // move the sphere 2 units up\n *      twgl.primitives.reorientVertices(\n *          sphereVertices, twgl.m4.translation([0, 2, 0]));\n *      // merge the sphere with the cube\n *      const cubeSphereVertices = twgl.primitives.concatVertices(\n *          [cubeVertices, sphereVertices]);\n *      // turn them into WebGL buffers and attrib data\n *      const bufferInfo = twgl.createBufferInfoFromArrays(gl, cubeSphereVertices);\n *\n * @param {module:twgl.Arrays[]} arrays Array of arrays of vertices\n * @return {module:twgl.Arrays} The concatenated vertices.\n * @memberOf module:twgl/primitives\n */\nfunction concatVertices(arrayOfArrays) {\n  const names = {};\n  let baseName;\n  // get names of all arrays.\n  // and numElements for each set of vertices\n  for (let ii = 0; ii < arrayOfArrays.length; ++ii) {\n    const arrays = arrayOfArrays[ii];\n    Object.keys(arrays).forEach(function(name) {  // eslint-disable-line\n      if (!names[name]) {\n        names[name] = [];\n      }\n      if (!baseName && name !== 'indices') {\n        baseName = name;\n      }\n      const arrayInfo = arrays[name];\n      const numComponents = getNumComponents(arrayInfo, name);\n      const array = getArray(arrayInfo);\n      const numElements = array.length / numComponents;\n      names[name].push(numElements);\n    });\n  }\n\n  // compute length of combined array\n  // and return one for reference\n  function getLengthOfCombinedArrays(name) {\n    let length = 0;\n    let arraySpec;\n    for (let ii = 0; ii < arrayOfArrays.length; ++ii) {\n      const arrays = arrayOfArrays[ii];\n      const arrayInfo = arrays[name];\n      const array = getArray(arrayInfo);\n      length += array.length;\n      if (!arraySpec || arrayInfo.data) {\n        arraySpec = arrayInfo;\n      }\n    }\n    return {\n      length: length,\n      spec: arraySpec,\n    };\n  }\n\n  function copyArraysToNewArray(name, base, newArray) {\n    let baseIndex = 0;\n    let offset = 0;\n    for (let ii = 0; ii < arrayOfArrays.length; ++ii) {\n      const arrays = arrayOfArrays[ii];\n      const arrayInfo = arrays[name];\n      const array = getArray(arrayInfo);\n      if (name === 'indices') {\n        copyElements(array, newArray, offset, baseIndex);\n        baseIndex += base[ii];\n      } else {\n        copyElements(array, newArray, offset);\n      }\n      offset += array.length;\n    }\n  }\n\n  const base = names[baseName];\n\n  const newArrays = {};\n  Object.keys(names).forEach(function(name) {\n    const info = getLengthOfCombinedArrays(name);\n    const newArraySpec = createArrayOfSameType(info.spec, info.length);\n    copyArraysToNewArray(name, base, getArray(newArraySpec));\n    newArrays[name] = newArraySpec;\n  });\n  return newArrays;\n}\n\n/**\n * Creates a duplicate set of vertices\n *\n * This is useful for calling reorientVertices when you\n * also want to keep the original available\n *\n * @param {module:twgl.Arrays} arrays of vertices\n * @return {module:twgl.Arrays} The duplicated vertices.\n * @memberOf module:twgl/primitives\n */\nfunction duplicateVertices(arrays) {\n  const newArrays = {};\n  Object.keys(arrays).forEach(function(name) {\n    const arraySpec = arrays[name];\n    const srcArray = getArray(arraySpec);\n    const newArraySpec = createArrayOfSameType(arraySpec, srcArray.length);\n    copyElements(srcArray, getArray(newArraySpec), 0);\n    newArrays[name] = newArraySpec;\n  });\n  return newArrays;\n}\n\nconst create3DFBufferInfo = createBufferInfoFunc(create3DFVertices);\nconst create3DFBuffers = createBufferFunc(create3DFVertices);\nconst createCubeBufferInfo = createBufferInfoFunc(createCubeVertices);\nconst createCubeBuffers = createBufferFunc(createCubeVertices);\nconst createPlaneBufferInfo = createBufferInfoFunc(createPlaneVertices);\nconst createPlaneBuffers = createBufferFunc(createPlaneVertices);\nconst createSphereBufferInfo = createBufferInfoFunc(createSphereVertices);\nconst createSphereBuffers = createBufferFunc(createSphereVertices);\nconst createTruncatedConeBufferInfo = createBufferInfoFunc(createTruncatedConeVertices);\nconst createTruncatedConeBuffers = createBufferFunc(createTruncatedConeVertices);\nconst createXYQuadBufferInfo = createBufferInfoFunc(createXYQuadVertices);\nconst createXYQuadBuffers = createBufferFunc(createXYQuadVertices);\nconst createCrescentBufferInfo = createBufferInfoFunc(createCrescentVertices);\nconst createCrescentBuffers = createBufferFunc(createCrescentVertices);\nconst createCylinderBufferInfo = createBufferInfoFunc(createCylinderVertices);\nconst createCylinderBuffers = createBufferFunc(createCylinderVertices);\nconst createTorusBufferInfo = createBufferInfoFunc(createTorusVertices);\nconst createTorusBuffers = createBufferFunc(createTorusVertices);\nconst createDiscBufferInfo = createBufferInfoFunc(createDiscVertices);\nconst createDiscBuffers = createBufferFunc(createDiscVertices);\n\n// these were mis-spelled until 4.12\nconst createCresentBufferInfo = createCrescentBufferInfo;\nconst createCresentBuffers = createCrescentBuffers;\nconst createCresentVertices = createCrescentVertices;\n\nvar primitives = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  create3DFBufferInfo: create3DFBufferInfo,\n  create3DFBuffers: create3DFBuffers,\n  create3DFVertices: create3DFVertices,\n  createAugmentedTypedArray: createAugmentedTypedArray,\n  createCubeBufferInfo: createCubeBufferInfo,\n  createCubeBuffers: createCubeBuffers,\n  createCubeVertices: createCubeVertices,\n  createPlaneBufferInfo: createPlaneBufferInfo,\n  createPlaneBuffers: createPlaneBuffers,\n  createPlaneVertices: createPlaneVertices,\n  createSphereBufferInfo: createSphereBufferInfo,\n  createSphereBuffers: createSphereBuffers,\n  createSphereVertices: createSphereVertices,\n  createTruncatedConeBufferInfo: createTruncatedConeBufferInfo,\n  createTruncatedConeBuffers: createTruncatedConeBuffers,\n  createTruncatedConeVertices: createTruncatedConeVertices,\n  createXYQuadBufferInfo: createXYQuadBufferInfo,\n  createXYQuadBuffers: createXYQuadBuffers,\n  createXYQuadVertices: createXYQuadVertices,\n  createCresentBufferInfo: createCresentBufferInfo,\n  createCresentBuffers: createCresentBuffers,\n  createCresentVertices: createCresentVertices,\n  createCrescentBufferInfo: createCrescentBufferInfo,\n  createCrescentBuffers: createCrescentBuffers,\n  createCrescentVertices: createCrescentVertices,\n  createCylinderBufferInfo: createCylinderBufferInfo,\n  createCylinderBuffers: createCylinderBuffers,\n  createCylinderVertices: createCylinderVertices,\n  createTorusBufferInfo: createTorusBufferInfo,\n  createTorusBuffers: createTorusBuffers,\n  createTorusVertices: createTorusVertices,\n  createDiscBufferInfo: createDiscBufferInfo,\n  createDiscBuffers: createDiscBuffers,\n  createDiscVertices: createDiscVertices,\n  deindexVertices: deindexVertices,\n  flattenNormals: flattenNormals,\n  makeRandomVertexColors: makeRandomVertexColors,\n  reorientDirections: reorientDirections,\n  reorientNormals: reorientNormals,\n  reorientPositions: reorientPositions,\n  reorientVertices: reorientVertices,\n  concatVertices: concatVertices,\n  duplicateVertices: duplicateVertices\n});\n\n/*\n * Copyright 2019 Gregg Tavares\n *\n * Permission is hereby granted, free of charge, to any person obtaining a\n * copy of this software and associated documentation files (the \"Software\"),\n * to deal in the Software without restriction, including without limitation\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\n * and/or sell copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.  IN NO EVENT SHALL\n * THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\n * DEALINGS IN THE SOFTWARE.\n */\n\n/**\n * Gets the gl version as a number\n * @param {WebGLRenderingContext} gl A WebGLRenderingContext\n * @return {number} version of gl\n * @private\n */\n//function getVersionAsNumber(gl) {\n//  return parseFloat(gl.getParameter(gl.VERSION).substr(6));\n//}\n\n/**\n * Check if context is WebGL 2.0\n * @param {WebGLRenderingContext} gl A WebGLRenderingContext\n * @return {bool} true if it's WebGL 2.0\n * @memberOf module:twgl\n */\nfunction isWebGL2(gl) {\n  // This is the correct check but it's slow\n  //  return gl.getParameter(gl.VERSION).indexOf(\"WebGL 2.0\") === 0;\n  // This might also be the correct check but I'm assuming it's slow-ish\n  // return gl instanceof WebGL2RenderingContext;\n  return !!gl.texStorage2D;\n}\n\n/**\n * Check if context is WebGL 1.0\n * @param {WebGLRenderingContext} gl A WebGLRenderingContext\n * @return {bool} true if it's WebGL 1.0\n * @memberOf module:twgl\n */\nfunction isWebGL1(gl) {\n  // This is the correct check but it's slow\n  // const version = getVersionAsNumber(gl);\n  // return version <= 1.0 && version > 0.0;  // because as of 2016/5 Edge returns 0.96\n  // This might also be the correct check but I'm assuming it's slow-ish\n  // return gl instanceof WebGLRenderingContext;\n  return !gl.texStorage2D;\n}\n\n/**\n * Gets a string for WebGL enum\n *\n * Note: Several enums are the same. Without more\n * context (which function) it's impossible to always\n * give the correct enum. As it is, for matching values\n * it gives all enums. Checking the WebGL2RenderingContext\n * that means\n *\n *      0     = ZERO | POINT | NONE | NO_ERROR\n *      1     = ONE | LINES | SYNC_FLUSH_COMMANDS_BIT\n *      32777 = BLEND_EQUATION_RGB | BLEND_EQUATION_RGB\n *      36662 = COPY_READ_BUFFER | COPY_READ_BUFFER_BINDING\n *      36663 = COPY_WRITE_BUFFER | COPY_WRITE_BUFFER_BINDING\n *      36006 = FRAMEBUFFER_BINDING | DRAW_FRAMEBUFFER_BINDING\n *\n * It's also not useful for bits really unless you pass in individual bits.\n * In other words\n *\n *     const bits = gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT;\n *     twgl.glEnumToString(gl, bits);  // not going to work\n *\n * Note that some enums only exist on extensions. If you\n * want them to show up you need to pass the extension at least\n * once. For example\n *\n *     const ext = gl.getExtension('WEBGL_compressed_texture_s3tc');\n *     if (ext) {\n *        twgl.glEnumToString(ext, 0);  // just prime the function\n *\n *        ..later..\n *\n *        const internalFormat = ext.COMPRESSED_RGB_S3TC_DXT1_EXT;\n *        console.log(twgl.glEnumToString(gl, internalFormat));\n *\n * Notice I didn't have to pass the extension the second time. This means\n * you can have place that generically gets an enum for texture formats for example.\n * and as long as you primed the function with the extensions\n *\n * If you're using `twgl.addExtensionsToContext` to enable your extensions\n * then twgl will automatically get the extension's enums.\n *\n * @param {WebGLRenderingContext} gl A WebGLRenderingContext or any extension object\n * @param {number} value the value of the enum you want to look up.\n * @return {string} enum string or hex value\n * @memberOf module:twgl\n * @function glEnumToString\n */\nconst glEnumToString = (function() {\n  const haveEnumsForType = {};\n  const enums = {};\n\n  function addEnums(gl) {\n    const type = gl.constructor.name;\n    if (!haveEnumsForType[type]) {\n      for (const key in gl) {\n        if (typeof gl[key] === 'number') {\n          const existing = enums[gl[key]];\n          enums[gl[key]] = existing ? `${existing} | ${key}` : key;\n        }\n      }\n      haveEnumsForType[type] = true;\n    }\n  }\n\n  return function glEnumToString(gl, value) {\n    addEnums(gl);\n    return enums[value] || (typeof value === 'number' ? `0x${value.toString(16)}` : value);\n  };\n}());\n\nvar utils = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  glEnumToString: glEnumToString,\n  isWebGL1: isWebGL1,\n  isWebGL2: isWebGL2\n});\n\n/*\n * Copyright 2019 Gregg Tavares\n *\n * Permission is hereby granted, free of charge, to any person obtaining a\n * copy of this software and associated documentation files (the \"Software\"),\n * to deal in the Software without restriction, including without limitation\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\n * and/or sell copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.  IN NO EVENT SHALL\n * THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\n * DEALINGS IN THE SOFTWARE.\n */\nconst defaults$1 = {\n  textureColor: new Uint8Array([128, 192, 255, 255]),\n  textureOptions: {},\n  crossOrigin: undefined,\n};\nconst isArrayBuffer = isArrayBuffer$1;\n\n// Should we make this on demand?\nconst getShared2DContext = function() {\n  let s_ctx;\n  return function getShared2DContext() {\n    s_ctx = s_ctx ||\n        ((typeof document !== 'undefined' && document.createElement)\n          ? document.createElement(\"canvas\").getContext(\"2d\")\n          : null);\n    return s_ctx;\n  };\n}();\n\n// NOTE: Chrome supports 2D canvas in a Worker (behind flag as of v64 but\n//       not only does Firefox NOT support it but Firefox freezes immediately\n//       if you try to create one instead of just returning null and continuing.\n//  : (global.OffscreenCanvas && (new global.OffscreenCanvas(1, 1)).getContext(\"2d\"));  // OffscreenCanvas may not support 2d\n\n// NOTE: We can maybe remove some of the need for the 2d canvas. In WebGL2\n// we can use the various unpack settings. Otherwise we could try using\n// the ability of an ImageBitmap to be cut. Unfortunately cutting an ImageBitmap\n// is async and the current TWGL code expects a non-Async result though that\n// might not be a problem. ImageBitmap though is not available in Edge or Safari\n// as of 2018-01-02\n\n/* PixelFormat */\nconst ALPHA                          = 0x1906;\nconst RGB                            = 0x1907;\nconst RGBA$1                           = 0x1908;\nconst LUMINANCE                      = 0x1909;\nconst LUMINANCE_ALPHA                = 0x190A;\nconst DEPTH_COMPONENT$1                = 0x1902;\nconst DEPTH_STENCIL$1                  = 0x84F9;\n\n/* TextureWrapMode */\n// const REPEAT                         = 0x2901;\n// const MIRRORED_REPEAT                = 0x8370;\nconst CLAMP_TO_EDGE$1                  = 0x812f;\n\n/* TextureMagFilter */\nconst NEAREST                        = 0x2600;\nconst LINEAR$1                         = 0x2601;\n\n/* TextureMinFilter */\n// const NEAREST_MIPMAP_NEAREST         = 0x2700;\n// const LINEAR_MIPMAP_NEAREST          = 0x2701;\n// const NEAREST_MIPMAP_LINEAR          = 0x2702;\n// const LINEAR_MIPMAP_LINEAR           = 0x2703;\n\n/* Texture Target */\nconst TEXTURE_2D$2                     = 0x0de1;\nconst TEXTURE_CUBE_MAP$1               = 0x8513;\nconst TEXTURE_3D$1                     = 0x806f;\nconst TEXTURE_2D_ARRAY$1               = 0x8c1a;\n\n/* Cubemap Targets */\nconst TEXTURE_CUBE_MAP_POSITIVE_X    = 0x8515;\nconst TEXTURE_CUBE_MAP_NEGATIVE_X    = 0x8516;\nconst TEXTURE_CUBE_MAP_POSITIVE_Y    = 0x8517;\nconst TEXTURE_CUBE_MAP_NEGATIVE_Y    = 0x8518;\nconst TEXTURE_CUBE_MAP_POSITIVE_Z    = 0x8519;\nconst TEXTURE_CUBE_MAP_NEGATIVE_Z    = 0x851a;\n\n/* Texture Parameters */\nconst TEXTURE_MIN_FILTER             = 0x2801;\nconst TEXTURE_MAG_FILTER             = 0x2800;\nconst TEXTURE_WRAP_S                 = 0x2802;\nconst TEXTURE_WRAP_T                 = 0x2803;\nconst TEXTURE_WRAP_R                 = 0x8072;\nconst TEXTURE_MIN_LOD                = 0x813a;\nconst TEXTURE_MAX_LOD                = 0x813b;\nconst TEXTURE_BASE_LEVEL             = 0x813c;\nconst TEXTURE_MAX_LEVEL              = 0x813d;\n\n\n/* Pixel store */\nconst UNPACK_ALIGNMENT                   = 0x0cf5;\nconst UNPACK_ROW_LENGTH                  = 0x0cf2;\nconst UNPACK_IMAGE_HEIGHT                = 0x806e;\nconst UNPACK_SKIP_PIXELS                 = 0x0cf4;\nconst UNPACK_SKIP_ROWS                   = 0x0cf3;\nconst UNPACK_SKIP_IMAGES                 = 0x806d;\nconst UNPACK_COLORSPACE_CONVERSION_WEBGL = 0x9243;\nconst UNPACK_PREMULTIPLY_ALPHA_WEBGL     = 0x9241;\nconst UNPACK_FLIP_Y_WEBGL                = 0x9240;\n\nconst R8                           = 0x8229;\nconst R8_SNORM                     = 0x8F94;\nconst R16F                         = 0x822D;\nconst R32F                         = 0x822E;\nconst R8UI                         = 0x8232;\nconst R8I                          = 0x8231;\nconst RG16UI                       = 0x823A;\nconst RG16I                        = 0x8239;\nconst RG32UI                       = 0x823C;\nconst RG32I                        = 0x823B;\nconst RG8                          = 0x822B;\nconst RG8_SNORM                    = 0x8F95;\nconst RG16F                        = 0x822F;\nconst RG32F                        = 0x8230;\nconst RG8UI                        = 0x8238;\nconst RG8I                         = 0x8237;\nconst R16UI                        = 0x8234;\nconst R16I                         = 0x8233;\nconst R32UI                        = 0x8236;\nconst R32I                         = 0x8235;\nconst RGB8                         = 0x8051;\nconst SRGB8                        = 0x8C41;\nconst RGB565$1                       = 0x8D62;\nconst RGB8_SNORM                   = 0x8F96;\nconst R11F_G11F_B10F               = 0x8C3A;\nconst RGB9_E5                      = 0x8C3D;\nconst RGB16F                       = 0x881B;\nconst RGB32F                       = 0x8815;\nconst RGB8UI                       = 0x8D7D;\nconst RGB8I                        = 0x8D8F;\nconst RGB16UI                      = 0x8D77;\nconst RGB16I                       = 0x8D89;\nconst RGB32UI                      = 0x8D71;\nconst RGB32I                       = 0x8D83;\nconst RGBA8                        = 0x8058;\nconst SRGB8_ALPHA8                 = 0x8C43;\nconst RGBA8_SNORM                  = 0x8F97;\nconst RGB5_A1$1                      = 0x8057;\nconst RGBA4$1                        = 0x8056;\nconst RGB10_A2                     = 0x8059;\nconst RGBA16F                      = 0x881A;\nconst RGBA32F                      = 0x8814;\nconst RGBA8UI                      = 0x8D7C;\nconst RGBA8I                       = 0x8D8E;\nconst RGB10_A2UI                   = 0x906F;\nconst RGBA16UI                     = 0x8D76;\nconst RGBA16I                      = 0x8D88;\nconst RGBA32I                      = 0x8D82;\nconst RGBA32UI                     = 0x8D70;\n\nconst DEPTH_COMPONENT16$1            = 0x81A5;\nconst DEPTH_COMPONENT24$1            = 0x81A6;\nconst DEPTH_COMPONENT32F$1           = 0x8CAC;\nconst DEPTH32F_STENCIL8$1            = 0x8CAD;\nconst DEPTH24_STENCIL8$1             = 0x88F0;\n\n/* DataType */\nconst BYTE                         = 0x1400;\nconst UNSIGNED_BYTE$1                = 0x1401;\nconst SHORT                        = 0x1402;\nconst UNSIGNED_SHORT$1               = 0x1403;\nconst INT$1                          = 0x1404;\nconst UNSIGNED_INT$1                 = 0x1405;\nconst FLOAT$1                        = 0x1406;\nconst UNSIGNED_SHORT_4_4_4_4       = 0x8033;\nconst UNSIGNED_SHORT_5_5_5_1       = 0x8034;\nconst UNSIGNED_SHORT_5_6_5         = 0x8363;\nconst HALF_FLOAT                   = 0x140B;\nconst HALF_FLOAT_OES               = 0x8D61;  // Thanks Khronos for making this different >:(\nconst UNSIGNED_INT_2_10_10_10_REV  = 0x8368;\nconst UNSIGNED_INT_10F_11F_11F_REV = 0x8C3B;\nconst UNSIGNED_INT_5_9_9_9_REV     = 0x8C3E;\nconst FLOAT_32_UNSIGNED_INT_24_8_REV = 0x8DAD;\nconst UNSIGNED_INT_24_8            = 0x84FA;\n\nconst RG                           = 0x8227;\nconst RG_INTEGER                   = 0x8228;\nconst RED                          = 0x1903;\nconst RED_INTEGER                  = 0x8D94;\nconst RGB_INTEGER                  = 0x8D98;\nconst RGBA_INTEGER                 = 0x8D99;\n\nconst formatInfo = {};\n{\n  // NOTE: this is named `numColorComponents` vs `numComponents` so we can let Uglify mangle\n  // the name.\n  const f = formatInfo;\n  f[ALPHA]           = { numColorComponents: 1, };\n  f[LUMINANCE]       = { numColorComponents: 1, };\n  f[LUMINANCE_ALPHA] = { numColorComponents: 2, };\n  f[RGB]             = { numColorComponents: 3, };\n  f[RGBA$1]            = { numColorComponents: 4, };\n  f[RED]             = { numColorComponents: 1, };\n  f[RED_INTEGER]     = { numColorComponents: 1, };\n  f[RG]              = { numColorComponents: 2, };\n  f[RG_INTEGER]      = { numColorComponents: 2, };\n  f[RGB]             = { numColorComponents: 3, };\n  f[RGB_INTEGER]     = { numColorComponents: 3, };\n  f[RGBA$1]            = { numColorComponents: 4, };\n  f[RGBA_INTEGER]    = { numColorComponents: 4, };\n  f[DEPTH_COMPONENT$1] = { numColorComponents: 1, };\n  f[DEPTH_STENCIL$1]   = { numColorComponents: 2, };\n}\n\n/**\n * @typedef {Object} TextureFormatDetails\n * @property {number} textureFormat format to pass texImage2D and similar functions.\n * @property {boolean} colorRenderable true if you can render to this format of texture.\n * @property {boolean} textureFilterable true if you can filter the texture, false if you can ony use `NEAREST`.\n * @property {number[]} type Array of possible types you can pass to texImage2D and similar function\n * @property {Object.<number,number>} bytesPerElementMap A map of types to bytes per element\n * @private\n */\n\nlet s_textureInternalFormatInfo;\nfunction getTextureInternalFormatInfo(internalFormat) {\n  if (!s_textureInternalFormatInfo) {\n    // NOTE: these properties need unique names so we can let Uglify mangle the name.\n    const t = {};\n    // unsized formats\n    t[ALPHA]              = { textureFormat: ALPHA,           colorRenderable: true,  textureFilterable: true,  bytesPerElement: [1, 2, 2, 4],        type: [UNSIGNED_BYTE$1, HALF_FLOAT, HALF_FLOAT_OES, FLOAT$1], };\n    t[LUMINANCE]          = { textureFormat: LUMINANCE,       colorRenderable: true,  textureFilterable: true,  bytesPerElement: [1, 2, 2, 4],        type: [UNSIGNED_BYTE$1, HALF_FLOAT, HALF_FLOAT_OES, FLOAT$1], };\n    t[LUMINANCE_ALPHA]    = { textureFormat: LUMINANCE_ALPHA, colorRenderable: true,  textureFilterable: true,  bytesPerElement: [2, 4, 4, 8],        type: [UNSIGNED_BYTE$1, HALF_FLOAT, HALF_FLOAT_OES, FLOAT$1], };\n    t[RGB]                = { textureFormat: RGB,             colorRenderable: true,  textureFilterable: true,  bytesPerElement: [3, 6, 6, 12, 2],    type: [UNSIGNED_BYTE$1, HALF_FLOAT, HALF_FLOAT_OES, FLOAT$1, UNSIGNED_SHORT_5_6_5], };\n    t[RGBA$1]               = { textureFormat: RGBA$1,            colorRenderable: true,  textureFilterable: true,  bytesPerElement: [4, 8, 8, 16, 2, 2], type: [UNSIGNED_BYTE$1, HALF_FLOAT, HALF_FLOAT_OES, FLOAT$1, UNSIGNED_SHORT_4_4_4_4, UNSIGNED_SHORT_5_5_5_1], };\n    t[DEPTH_COMPONENT$1]    = { textureFormat: DEPTH_COMPONENT$1, colorRenderable: true,  textureFilterable: false, bytesPerElement: [2, 4],              type: [UNSIGNED_INT$1, UNSIGNED_SHORT$1], };\n\n    // sized formats\n    t[R8]                 = { textureFormat: RED,             colorRenderable: true,  textureFilterable: true,  bytesPerElement: [1],        type: [UNSIGNED_BYTE$1], };\n    t[R8_SNORM]           = { textureFormat: RED,             colorRenderable: false, textureFilterable: true,  bytesPerElement: [1],        type: [BYTE], };\n    t[R16F]               = { textureFormat: RED,             colorRenderable: false, textureFilterable: true,  bytesPerElement: [4, 2],     type: [FLOAT$1, HALF_FLOAT], };\n    t[R32F]               = { textureFormat: RED,             colorRenderable: false, textureFilterable: false, bytesPerElement: [4],        type: [FLOAT$1], };\n    t[R8UI]               = { textureFormat: RED_INTEGER,     colorRenderable: true,  textureFilterable: false, bytesPerElement: [1],        type: [UNSIGNED_BYTE$1], };\n    t[R8I]                = { textureFormat: RED_INTEGER,     colorRenderable: true,  textureFilterable: false, bytesPerElement: [1],        type: [BYTE], };\n    t[R16UI]              = { textureFormat: RED_INTEGER,     colorRenderable: true,  textureFilterable: false, bytesPerElement: [2],        type: [UNSIGNED_SHORT$1], };\n    t[R16I]               = { textureFormat: RED_INTEGER,     colorRenderable: true,  textureFilterable: false, bytesPerElement: [2],        type: [SHORT], };\n    t[R32UI]              = { textureFormat: RED_INTEGER,     colorRenderable: true,  textureFilterable: false, bytesPerElement: [4],        type: [UNSIGNED_INT$1], };\n    t[R32I]               = { textureFormat: RED_INTEGER,     colorRenderable: true,  textureFilterable: false, bytesPerElement: [4],        type: [INT$1], };\n    t[RG8]                = { textureFormat: RG,              colorRenderable: true,  textureFilterable: true,  bytesPerElement: [2],        type: [UNSIGNED_BYTE$1], };\n    t[RG8_SNORM]          = { textureFormat: RG,              colorRenderable: false, textureFilterable: true,  bytesPerElement: [2],        type: [BYTE], };\n    t[RG16F]              = { textureFormat: RG,              colorRenderable: false, textureFilterable: true,  bytesPerElement: [8, 4],     type: [FLOAT$1, HALF_FLOAT], };\n    t[RG32F]              = { textureFormat: RG,              colorRenderable: false, textureFilterable: false, bytesPerElement: [8],        type: [FLOAT$1], };\n    t[RG8UI]              = { textureFormat: RG_INTEGER,      colorRenderable: true,  textureFilterable: false, bytesPerElement: [2],        type: [UNSIGNED_BYTE$1], };\n    t[RG8I]               = { textureFormat: RG_INTEGER,      colorRenderable: true,  textureFilterable: false, bytesPerElement: [2],        type: [BYTE], };\n    t[RG16UI]             = { textureFormat: RG_INTEGER,      colorRenderable: true,  textureFilterable: false, bytesPerElement: [4],        type: [UNSIGNED_SHORT$1], };\n    t[RG16I]              = { textureFormat: RG_INTEGER,      colorRenderable: true,  textureFilterable: false, bytesPerElement: [4],        type: [SHORT], };\n    t[RG32UI]             = { textureFormat: RG_INTEGER,      colorRenderable: true,  textureFilterable: false, bytesPerElement: [8],        type: [UNSIGNED_INT$1], };\n    t[RG32I]              = { textureFormat: RG_INTEGER,      colorRenderable: true,  textureFilterable: false, bytesPerElement: [8],        type: [INT$1], };\n    t[RGB8]               = { textureFormat: RGB,             colorRenderable: true,  textureFilterable: true,  bytesPerElement: [3],        type: [UNSIGNED_BYTE$1], };\n    t[SRGB8]              = { textureFormat: RGB,             colorRenderable: false, textureFilterable: true,  bytesPerElement: [3],        type: [UNSIGNED_BYTE$1], };\n    t[RGB565$1]             = { textureFormat: RGB,             colorRenderable: true,  textureFilterable: true,  bytesPerElement: [3, 2],     type: [UNSIGNED_BYTE$1, UNSIGNED_SHORT_5_6_5], };\n    t[RGB8_SNORM]         = { textureFormat: RGB,             colorRenderable: false, textureFilterable: true,  bytesPerElement: [3],        type: [BYTE], };\n    t[R11F_G11F_B10F]     = { textureFormat: RGB,             colorRenderable: false, textureFilterable: true,  bytesPerElement: [12, 6, 4], type: [FLOAT$1, HALF_FLOAT, UNSIGNED_INT_10F_11F_11F_REV], };\n    t[RGB9_E5]            = { textureFormat: RGB,             colorRenderable: false, textureFilterable: true,  bytesPerElement: [12, 6, 4], type: [FLOAT$1, HALF_FLOAT, UNSIGNED_INT_5_9_9_9_REV], };\n    t[RGB16F]             = { textureFormat: RGB,             colorRenderable: false, textureFilterable: true,  bytesPerElement: [12, 6],    type: [FLOAT$1, HALF_FLOAT], };\n    t[RGB32F]             = { textureFormat: RGB,             colorRenderable: false, textureFilterable: false, bytesPerElement: [12],       type: [FLOAT$1], };\n    t[RGB8UI]             = { textureFormat: RGB_INTEGER,     colorRenderable: false, textureFilterable: false, bytesPerElement: [3],        type: [UNSIGNED_BYTE$1], };\n    t[RGB8I]              = { textureFormat: RGB_INTEGER,     colorRenderable: false, textureFilterable: false, bytesPerElement: [3],        type: [BYTE], };\n    t[RGB16UI]            = { textureFormat: RGB_INTEGER,     colorRenderable: false, textureFilterable: false, bytesPerElement: [6],        type: [UNSIGNED_SHORT$1], };\n    t[RGB16I]             = { textureFormat: RGB_INTEGER,     colorRenderable: false, textureFilterable: false, bytesPerElement: [6],        type: [SHORT], };\n    t[RGB32UI]            = { textureFormat: RGB_INTEGER,     colorRenderable: false, textureFilterable: false, bytesPerElement: [12],       type: [UNSIGNED_INT$1], };\n    t[RGB32I]             = { textureFormat: RGB_INTEGER,     colorRenderable: false, textureFilterable: false, bytesPerElement: [12],       type: [INT$1], };\n    t[RGBA8]              = { textureFormat: RGBA$1,            colorRenderable: true,  textureFilterable: true,  bytesPerElement: [4],        type: [UNSIGNED_BYTE$1], };\n    t[SRGB8_ALPHA8]       = { textureFormat: RGBA$1,            colorRenderable: true,  textureFilterable: true,  bytesPerElement: [4],        type: [UNSIGNED_BYTE$1], };\n    t[RGBA8_SNORM]        = { textureFormat: RGBA$1,            colorRenderable: false, textureFilterable: true,  bytesPerElement: [4],        type: [BYTE], };\n    t[RGB5_A1$1]            = { textureFormat: RGBA$1,            colorRenderable: true,  textureFilterable: true,  bytesPerElement: [4, 2, 4],  type: [UNSIGNED_BYTE$1, UNSIGNED_SHORT_5_5_5_1, UNSIGNED_INT_2_10_10_10_REV], };\n    t[RGBA4$1]              = { textureFormat: RGBA$1,            colorRenderable: true,  textureFilterable: true,  bytesPerElement: [4, 2],     type: [UNSIGNED_BYTE$1, UNSIGNED_SHORT_4_4_4_4], };\n    t[RGB10_A2]           = { textureFormat: RGBA$1,            colorRenderable: true,  textureFilterable: true,  bytesPerElement: [4],        type: [UNSIGNED_INT_2_10_10_10_REV], };\n    t[RGBA16F]            = { textureFormat: RGBA$1,            colorRenderable: false, textureFilterable: true,  bytesPerElement: [16, 8],    type: [FLOAT$1, HALF_FLOAT], };\n    t[RGBA32F]            = { textureFormat: RGBA$1,            colorRenderable: false, textureFilterable: false, bytesPerElement: [16],       type: [FLOAT$1], };\n    t[RGBA8UI]            = { textureFormat: RGBA_INTEGER,    colorRenderable: true,  textureFilterable: false, bytesPerElement: [4],        type: [UNSIGNED_BYTE$1], };\n    t[RGBA8I]             = { textureFormat: RGBA_INTEGER,    colorRenderable: true,  textureFilterable: false, bytesPerElement: [4],        type: [BYTE], };\n    t[RGB10_A2UI]         = { textureFormat: RGBA_INTEGER,    colorRenderable: true,  textureFilterable: false, bytesPerElement: [4],        type: [UNSIGNED_INT_2_10_10_10_REV], };\n    t[RGBA16UI]           = { textureFormat: RGBA_INTEGER,    colorRenderable: true,  textureFilterable: false, bytesPerElement: [8],        type: [UNSIGNED_SHORT$1], };\n    t[RGBA16I]            = { textureFormat: RGBA_INTEGER,    colorRenderable: true,  textureFilterable: false, bytesPerElement: [8],        type: [SHORT], };\n    t[RGBA32I]            = { textureFormat: RGBA_INTEGER,    colorRenderable: true,  textureFilterable: false, bytesPerElement: [16],       type: [INT$1], };\n    t[RGBA32UI]           = { textureFormat: RGBA_INTEGER,    colorRenderable: true,  textureFilterable: false, bytesPerElement: [16],       type: [UNSIGNED_INT$1], };\n    // Sized Internal\n    t[DEPTH_COMPONENT16$1]  = { textureFormat: DEPTH_COMPONENT$1, colorRenderable: true,  textureFilterable: false, bytesPerElement: [2, 4],     type: [UNSIGNED_SHORT$1, UNSIGNED_INT$1], };\n    t[DEPTH_COMPONENT24$1]  = { textureFormat: DEPTH_COMPONENT$1, colorRenderable: true,  textureFilterable: false, bytesPerElement: [4],        type: [UNSIGNED_INT$1], };\n    t[DEPTH_COMPONENT32F$1] = { textureFormat: DEPTH_COMPONENT$1, colorRenderable: true,  textureFilterable: false, bytesPerElement: [4],        type: [FLOAT$1], };\n    t[DEPTH24_STENCIL8$1]   = { textureFormat: DEPTH_STENCIL$1,   colorRenderable: true,  textureFilterable: false, bytesPerElement: [4],        type: [UNSIGNED_INT_24_8], };\n    t[DEPTH32F_STENCIL8$1]  = { textureFormat: DEPTH_STENCIL$1,   colorRenderable: true,  textureFilterable: false, bytesPerElement: [4],        type: [FLOAT_32_UNSIGNED_INT_24_8_REV], };\n\n    Object.keys(t).forEach(function(internalFormat) {\n      const info = t[internalFormat];\n      info.bytesPerElementMap = {};\n      info.bytesPerElement.forEach(function(bytesPerElement, ndx) {\n        const type = info.type[ndx];\n        info.bytesPerElementMap[type] = bytesPerElement;\n      });\n    });\n    s_textureInternalFormatInfo = t;\n  }\n  return s_textureInternalFormatInfo[internalFormat];\n}\n\n/**\n * Gets the number of bytes per element for a given internalFormat / type\n * @param {number} internalFormat The internalFormat parameter from texImage2D etc..\n * @param {number} type The type parameter for texImage2D etc..\n * @return {number} the number of bytes per element for the given internalFormat, type combo\n * @memberOf module:twgl/textures\n */\nfunction getBytesPerElementForInternalFormat(internalFormat, type) {\n  const info = getTextureInternalFormatInfo(internalFormat);\n  if (!info) {\n    throw \"unknown internal format\";\n  }\n  const bytesPerElement = info.bytesPerElementMap[type];\n  if (bytesPerElement === undefined) {\n    throw \"unknown internal format\";\n  }\n  return bytesPerElement;\n}\n\n/**\n * Info related to a specific texture internalFormat as returned\n * from {@link module:twgl/textures.getFormatAndTypeForInternalFormat}.\n *\n * @typedef {Object} TextureFormatInfo\n * @property {number} format Format to pass to texImage2D and related functions\n * @property {number} type Type to pass to texImage2D and related functions\n * @memberOf module:twgl/textures\n */\n\n/**\n * Gets the format and type for a given internalFormat\n *\n * @param {number} internalFormat The internal format\n * @return {module:twgl/textures.TextureFormatInfo} the corresponding format and type,\n * @memberOf module:twgl/textures\n */\nfunction getFormatAndTypeForInternalFormat(internalFormat) {\n  const info = getTextureInternalFormatInfo(internalFormat);\n  if (!info) {\n    throw \"unknown internal format\";\n  }\n  return {\n    format: info.textureFormat,\n    type: info.type[0],\n  };\n}\n\n/**\n * Returns true if value is power of 2\n * @param {number} value number to check.\n * @return true if value is power of 2\n * @private\n */\nfunction isPowerOf2(value) {\n  return (value & (value - 1)) === 0;\n}\n\n/**\n * Gets whether or not we can generate mips for the given\n * internal format.\n *\n * @param {WebGLRenderingContext} gl the WebGLRenderingContext\n * @param {number} width The width parameter from texImage2D etc..\n * @param {number} height The height parameter from texImage2D etc..\n * @param {number} internalFormat The internalFormat parameter from texImage2D etc..\n * @return {boolean} true if we can generate mips\n * @memberOf module:twgl/textures\n */\nfunction canGenerateMipmap(gl, width, height, internalFormat) {\n  if (!isWebGL2(gl)) {\n    return isPowerOf2(width) && isPowerOf2(height);\n  }\n  const info = getTextureInternalFormatInfo(internalFormat);\n  if (!info) {\n    throw \"unknown internal format\";\n  }\n  return info.colorRenderable && info.textureFilterable;\n}\n\n/**\n * Gets whether or not we can generate mips for the given format\n * @param {number} internalFormat The internalFormat parameter from texImage2D etc..\n * @return {boolean} true if we can generate mips\n * @memberOf module:twgl/textures\n */\nfunction canFilter(internalFormat) {\n  const info = getTextureInternalFormatInfo(internalFormat);\n  if (!info) {\n    throw \"unknown internal format\";\n  }\n  return info.textureFilterable;\n}\n\n/**\n * Gets the number of components for a given image format.\n * @param {number} format the format.\n * @return {number} the number of components for the format.\n * @memberOf module:twgl/textures\n */\nfunction getNumComponentsForFormat(format) {\n  const info = formatInfo[format];\n  if (!info) {\n    throw \"unknown format: \" + format;\n  }\n  return info.numColorComponents;\n}\n\n/**\n * Gets the texture type for a given array type.\n * @param {WebGLRenderingContext} gl the WebGLRenderingContext\n * @return {number} the gl texture type\n * @private\n */\nfunction getTextureTypeForArrayType(gl, src, defaultType) {\n  if (isArrayBuffer(src)) {\n    return getGLTypeForTypedArray(src);\n  }\n  return defaultType || UNSIGNED_BYTE$1;\n}\n\nfunction guessDimensions(gl, target, width, height, numElements) {\n  if (numElements % 1 !== 0) {\n    throw \"can't guess dimensions\";\n  }\n  if (!width && !height) {\n    const size = Math.sqrt(numElements / (target === TEXTURE_CUBE_MAP$1 ? 6 : 1));\n    if (size % 1 === 0) {\n      width = size;\n      height = size;\n    } else {\n      width = numElements;\n      height = 1;\n    }\n  } else if (!height) {\n    height = numElements / width;\n    if (height % 1) {\n      throw \"can't guess dimensions\";\n    }\n  } else if (!width) {\n    width = numElements / height;\n    if (width % 1) {\n      throw \"can't guess dimensions\";\n    }\n  }\n  return {\n    width: width,\n    height: height,\n  };\n}\n\n/**\n * Sets the default texture color.\n *\n * The default texture color is used when loading textures from\n * urls. Because the URL will be loaded async we'd like to be\n * able to use the texture immediately. By putting a 1x1 pixel\n * color in the texture we can start using the texture before\n * the URL has loaded.\n *\n * @param {number[]} color Array of 4 values in the range 0 to 1\n * @deprecated see {@link module:twgl.setDefaults}\n * @memberOf module:twgl/textures\n */\nfunction setDefaultTextureColor(color) {\n  defaults$1.textureColor = new Uint8Array([color[0] * 255, color[1] * 255, color[2] * 255, color[3] * 255]);\n}\n\nfunction setDefaults$1(newDefaults) {\n  copyExistingProperties(newDefaults, defaults$1);\n  if (newDefaults.textureColor) {\n    setDefaultTextureColor(newDefaults.textureColor);\n  }\n}\n\n/**\n * A function to generate the source for a texture.\n * @callback TextureFunc\n * @param {WebGLRenderingContext} gl A WebGLRenderingContext\n * @param {module:twgl.TextureOptions} options the texture options\n * @return {*} Returns any of the things documented for `src` for {@link module:twgl.TextureOptions}.\n * @memberOf module:twgl\n */\n\n/**\n * Texture options passed to most texture functions. Each function will use whatever options\n * are appropriate for its needs. This lets you pass the same options to all functions.\n *\n * Note: A `TexImageSource` is defined in the WebGL spec as a `HTMLImageElement`, `HTMLVideoElement`,\n * `HTMLCanvasElement`, `ImageBitmap`, or `ImageData`.\n *\n * @typedef {Object} TextureOptions\n * @property {number} [target] the type of texture `gl.TEXTURE_2D` or `gl.TEXTURE_CUBE_MAP`. Defaults to `gl.TEXTURE_2D`.\n * @property {number} [level] the mip level to affect. Defaults to 0. Note, if set auto will be considered false unless explicitly set to true.\n * @property {number} [width] the width of the texture. Only used if src is an array or typed array or null.\n * @property {number} [height] the height of a texture. Only used if src is an array or typed array or null.\n * @property {number} [depth] the depth of a texture. Only used if src is an array or type array or null and target is `TEXTURE_3D` .\n * @property {number} [min] the min filter setting (eg. `gl.LINEAR`). Defaults to `gl.NEAREST_MIPMAP_LINEAR`\n *     or if texture is not a power of 2 on both dimensions then defaults to `gl.LINEAR`.\n * @property {number} [mag] the mag filter setting (eg. `gl.LINEAR`). Defaults to `gl.LINEAR`\n * @property {number} [minMag] both the min and mag filter settings.\n * @property {number} [internalFormat] internal format for texture. Defaults to `gl.RGBA`\n * @property {number} [format] format for texture. Defaults to `gl.RGBA`.\n * @property {number} [type] type for texture. Defaults to `gl.UNSIGNED_BYTE` unless `src` is ArrayBufferView. If `src`\n *     is ArrayBufferView defaults to type that matches ArrayBufferView type.\n * @property {number} [wrap] Texture wrapping for both S and T (and R if TEXTURE_3D or WebGLSampler). Defaults to `gl.REPEAT` for 2D unless src is WebGL1 and src not npot and `gl.CLAMP_TO_EDGE` for cube\n * @property {number} [wrapS] Texture wrapping for S. Defaults to `gl.REPEAT` and `gl.CLAMP_TO_EDGE` for cube. If set takes precedence over `wrap`.\n * @property {number} [wrapT] Texture wrapping for T. Defaults to `gl.REPEAT` and `gl.CLAMP_TO_EDGE` for cube. If set takes precedence over `wrap`.\n * @property {number} [wrapR] Texture wrapping for R. Defaults to `gl.REPEAT` and `gl.CLAMP_TO_EDGE` for cube. If set takes precedence over `wrap`.\n * @property {number} [minLod] TEXTURE_MIN_LOD setting\n * @property {number} [maxLod] TEXTURE_MAX_LOD setting\n * @property {number} [baseLevel] TEXTURE_BASE_LEVEL setting\n * @property {number} [maxLevel] TEXTURE_MAX_LEVEL setting\n * @property {number} [unpackAlignment] The `gl.UNPACK_ALIGNMENT` used when uploading an array. Defaults to 1.\n * @property {number[]|ArrayBufferView} [color] Color to initialize this texture with if loading an image asynchronously.\n *     The default use a blue 1x1 pixel texture. You can set another default by calling `twgl.setDefaults`\n *     or you can set an individual texture's initial color by setting this property. Example: `[1, .5, .5, 1]` = pink\n * @property {number} [premultiplyAlpha] Whether or not to premultiply alpha. Defaults to whatever the current setting is.\n *     This lets you set it once before calling `twgl.createTexture` or `twgl.createTextures` and only override\n *     the current setting for specific textures.\n * @property {number} [flipY] Whether or not to flip the texture vertically on upload. Defaults to whatever the current setting is.\n *     This lets you set it once before calling `twgl.createTexture` or `twgl.createTextures` and only override\n *     the current setting for specific textures.\n * @property {number} [colorspaceConversion] Whether or not to let the browser do colorspace conversion of the texture on upload. Defaults to whatever the current setting is.\n *     This lets you set it once before calling `twgl.createTexture` or `twgl.createTextures` and only override\n *     the current setting for specific textures.\n * @property {boolean} [auto] If `undefined` or `true`, in WebGL1, texture filtering is set automatically for non-power of 2 images and\n *    mips are generated for power of 2 images. In WebGL2 mips are generated if they can be. Note: if `level` is set above\n *    then then `auto` is assumed to be `false` unless explicity set to `true`.\n * @property {number[]} [cubeFaceOrder] The order that cube faces are pulled out of an img or set of images. The default is\n *\n *     [gl.TEXTURE_CUBE_MAP_POSITIVE_X,\n *      gl.TEXTURE_CUBE_MAP_NEGATIVE_X,\n *      gl.TEXTURE_CUBE_MAP_POSITIVE_Y,\n *      gl.TEXTURE_CUBE_MAP_NEGATIVE_Y,\n *      gl.TEXTURE_CUBE_MAP_POSITIVE_Z,\n *      gl.TEXTURE_CUBE_MAP_NEGATIVE_Z]\n *\n * @property {(number[]|ArrayBufferView|TexImageSource|TexImageSource[]|string|string[]|module:twgl.TextureFunc)} [src] source for texture\n *\n *    If `string` then it's assumed to be a URL to an image. The image will be downloaded async. A usable\n *    1x1 pixel texture will be returned immediately. The texture will be updated once the image has downloaded.\n *    If `target` is `gl.TEXTURE_CUBE_MAP` will attempt to divide image into 6 square pieces. 1x6, 6x1, 3x2, 2x3.\n *    The pieces will be uploaded in `cubeFaceOrder`\n *\n *    If `string[]` or `TexImageSource[]` and target is `gl.TEXTURE_CUBE_MAP` then it must have 6 entries, one for each face of a cube map.\n *\n *    If `string[]` or `TexImageSource[]` and target is `gl.TEXTURE_2D_ARRAY` then each entry is a slice of the a 2d array texture\n *    and will be scaled to the specified width and height OR to the size of the first image that loads.\n *\n *    If `TexImageSource` then it wil be used immediately to create the contents of the texture. Examples `HTMLImageElement`,\n *    `HTMLCanvasElement`, `HTMLVideoElement`.\n *\n *    If `number[]` or `ArrayBufferView` it's assumed to be data for a texture. If `width` or `height` is\n *    not specified it is guessed as follows. First the number of elements is computed by `src.length / numComponents`\n *    where `numComponents` is derived from `format`. If `target` is `gl.TEXTURE_CUBE_MAP` then `numElements` is divided\n *    by 6. Then\n *\n *    *   If neither `width` nor `height` are specified and `sqrt(numElements)` is an integer then width and height\n *        are set to `sqrt(numElements)`. Otherwise `width = numElements` and `height = 1`.\n *\n *    *   If only one of `width` or `height` is specified then the other equals `numElements / specifiedDimension`.\n *\n * If `number[]` will be converted to `type`.\n *\n * If `src` is a function it will be called with a `WebGLRenderingContext` and these options.\n * Whatever it returns is subject to these rules. So it can return a string url, an `HTMLElement`\n * an array etc...\n *\n * If `src` is undefined then an empty texture will be created of size `width` by `height`.\n *\n * @property {string} [crossOrigin] What to set the crossOrigin property of images when they are downloaded.\n *    default: undefined. Also see {@link module:twgl.setDefaults}.\n *\n * @memberOf module:twgl\n */\n\n/**\n * Sets any packing state that will be set based on the options.\n * @param {module:twgl.TextureOptions} options A TextureOptions object with whatever parameters you want set.\n * @param {WebGLRenderingContext} gl the WebGLRenderingContext\n * @private\n */\nfunction setPackState(gl, options) {\n  if (options.colorspaceConversion !== undefined) {\n    gl.pixelStorei(UNPACK_COLORSPACE_CONVERSION_WEBGL, options.colorspaceConversion);\n  }\n  if (options.premultiplyAlpha !== undefined) {\n    gl.pixelStorei(UNPACK_PREMULTIPLY_ALPHA_WEBGL, options.premultiplyAlpha);\n  }\n  if (options.flipY !== undefined) {\n    gl.pixelStorei(UNPACK_FLIP_Y_WEBGL, options.flipY);\n  }\n}\n\n/**\n * Set skip state to defaults\n * @param {WebGLRenderingContext} gl the WebGLRenderingContext\n * @private\n */\nfunction setSkipStateToDefault(gl) {\n  gl.pixelStorei(UNPACK_ALIGNMENT, 4);\n  if (isWebGL2(gl)) {\n    gl.pixelStorei(UNPACK_ROW_LENGTH, 0);\n    gl.pixelStorei(UNPACK_IMAGE_HEIGHT, 0);\n    gl.pixelStorei(UNPACK_SKIP_PIXELS, 0);\n    gl.pixelStorei(UNPACK_SKIP_ROWS, 0);\n    gl.pixelStorei(UNPACK_SKIP_IMAGES, 0);\n  }\n}\n\n/**\n * Sets the parameters of a texture or sampler\n * @param {WebGLRenderingContext} gl the WebGLRenderingContext\n * @param {number|WebGLSampler} target texture target or sampler\n * @param {function()} parameteriFn texParameteri or samplerParameteri fn\n * @param {WebGLTexture} tex the WebGLTexture to set parameters for\n * @param {module:twgl.TextureOptions} options A TextureOptions object with whatever parameters you want set.\n *   This is often the same options you passed in when you created the texture.\n * @private\n */\nfunction setTextureSamplerParameters(gl, target, parameteriFn, options) {\n  if (options.minMag) {\n    parameteriFn.call(gl, target, TEXTURE_MIN_FILTER, options.minMag);\n    parameteriFn.call(gl, target, TEXTURE_MAG_FILTER, options.minMag);\n  }\n  if (options.min) {\n    parameteriFn.call(gl, target, TEXTURE_MIN_FILTER, options.min);\n  }\n  if (options.mag) {\n    parameteriFn.call(gl, target, TEXTURE_MAG_FILTER, options.mag);\n  }\n  if (options.wrap) {\n    parameteriFn.call(gl, target, TEXTURE_WRAP_S, options.wrap);\n    parameteriFn.call(gl, target, TEXTURE_WRAP_T, options.wrap);\n    if (target === TEXTURE_3D$1 || isSampler(gl, target)) {\n      parameteriFn.call(gl, target, TEXTURE_WRAP_R, options.wrap);\n    }\n  }\n  if (options.wrapR) {\n    parameteriFn.call(gl, target, TEXTURE_WRAP_R, options.wrapR);\n  }\n  if (options.wrapS) {\n    parameteriFn.call(gl, target, TEXTURE_WRAP_S, options.wrapS);\n  }\n  if (options.wrapT) {\n    parameteriFn.call(gl, target, TEXTURE_WRAP_T, options.wrapT);\n  }\n  if (options.minLod) {\n    parameteriFn.call(gl, target, TEXTURE_MIN_LOD, options.minLod);\n  }\n  if (options.maxLod) {\n    parameteriFn.call(gl, target, TEXTURE_MAX_LOD, options.maxLod);\n  }\n  if (options.baseLevel) {\n    parameteriFn.call(gl, target, TEXTURE_BASE_LEVEL, options.baseLevel);\n  }\n  if (options.maxLevel) {\n    parameteriFn.call(gl, target, TEXTURE_MAX_LEVEL, options.maxLevel);\n  }\n}\n\n/**\n * Sets the texture parameters of a texture.\n * @param {WebGLRenderingContext} gl the WebGLRenderingContext\n * @param {WebGLTexture} tex the WebGLTexture to set parameters for\n * @param {module:twgl.TextureOptions} options A TextureOptions object with whatever parameters you want set.\n *   This is often the same options you passed in when you created the texture.\n * @memberOf module:twgl/textures\n */\nfunction setTextureParameters(gl, tex, options) {\n  const target = options.target || TEXTURE_2D$2;\n  gl.bindTexture(target, tex);\n  setTextureSamplerParameters(gl, target, gl.texParameteri, options);\n}\n\n/**\n * Sets the sampler parameters of a sampler.\n * @param {WebGLRenderingContext} gl the WebGLRenderingContext\n * @param {WebGLSampler} sampler the WebGLSampler to set parameters for\n * @param {module:twgl.TextureOptions} options A TextureOptions object with whatever parameters you want set.\n * @memberOf module:twgl/textures\n */\nfunction setSamplerParameters(gl, sampler, options) {\n  setTextureSamplerParameters(gl, sampler, gl.samplerParameteri, options);\n}\n\n/**\n * Creates a new sampler object and sets parameters.\n *\n * Example:\n *\n *      const sampler = twgl.createSampler(gl, {\n *        minMag: gl.NEAREST,         // sets both TEXTURE_MIN_FILTER and TEXTURE_MAG_FILTER\n *        wrap: gl.CLAMP_TO_NEAREST,  // sets both TEXTURE_WRAP_S and TEXTURE_WRAP_T and TEXTURE_WRAP_R\n *      });\n *\n * @param {WebGLRenderingContext} gl the WebGLRenderingContext\n * @param {Object.<string,module:twgl.TextureOptions>} options A object of TextureOptions one per sampler.\n * @return {Object.<string,WebGLSampler>} the created samplers by name\n * @private\n */\nfunction createSampler(gl, options) {\n  const sampler = gl.createSampler();\n  setSamplerParameters(gl, sampler, options);\n  return sampler;\n}\n\n/**\n * Creates a multiple sampler objects and sets parameters on each.\n *\n * Example:\n *\n *      const samplers = twgl.createSamplers(gl, {\n *        nearest: {\n *          minMag: gl.NEAREST,\n *        },\n *        nearestClampS: {\n *          minMag: gl.NEAREST,\n *          wrapS: gl.CLAMP_TO_NEAREST,\n *        },\n *        linear: {\n *          minMag: gl.LINEAR,\n *        },\n *        nearestClamp: {\n *          minMag: gl.NEAREST,\n *          wrap: gl.CLAMP_TO_EDGE,\n *        },\n *        linearClamp: {\n *          minMag: gl.LINEAR,\n *          wrap: gl.CLAMP_TO_EDGE,\n *        },\n *        linearClampT: {\n *          minMag: gl.LINEAR,\n *          wrapT: gl.CLAMP_TO_EDGE,\n *        },\n *      });\n *\n * @param {WebGLRenderingContext} gl the WebGLRenderingContext\n * @param {module:twgl.TextureOptions} [options] A TextureOptions object with whatever parameters you want set on the sampler\n * @private\n */\nfunction createSamplers(gl, samplerOptions) {\n  const samplers = {};\n  Object.keys(samplerOptions).forEach(function(name) {\n    samplers[name] = createSampler(gl, samplerOptions[name]);\n  });\n  return samplers;\n}\n\n/**\n * Makes a 1x1 pixel\n * If no color is passed in uses the default color which can be set by calling `setDefaultTextureColor`.\n * @param {(number[]|ArrayBufferView)} [color] The color using 0-1 values\n * @return {Uint8Array} Unit8Array with color.\n * @private\n */\nfunction make1Pixel(color) {\n  color = color || defaults$1.textureColor;\n  if (isArrayBuffer(color)) {\n    return color;\n  }\n  return new Uint8Array([color[0] * 255, color[1] * 255, color[2] * 255, color[3] * 255]);\n}\n\n/**\n * Sets filtering or generates mips for texture based on width or height\n * If width or height is not passed in uses `options.width` and//or `options.height`\n *\n * @param {WebGLRenderingContext} gl the WebGLRenderingContext\n * @param {WebGLTexture} tex the WebGLTexture to set parameters for\n * @param {module:twgl.TextureOptions} [options] A TextureOptions object with whatever parameters you want set.\n *   This is often the same options you passed in when you created the texture.\n * @param {number} [width] width of texture\n * @param {number} [height] height of texture\n * @param {number} [internalFormat] The internalFormat parameter from texImage2D etc..\n * @memberOf module:twgl/textures\n */\nfunction setTextureFilteringForSize(gl, tex, options, width, height, internalFormat) {\n  options = options || defaults$1.textureOptions;\n  internalFormat = internalFormat || RGBA$1;\n  const target = options.target || TEXTURE_2D$2;\n  width = width || options.width;\n  height = height || options.height;\n  gl.bindTexture(target, tex);\n  if (canGenerateMipmap(gl, width, height, internalFormat)) {\n    gl.generateMipmap(target);\n  } else {\n    const filtering = canFilter(internalFormat) ? LINEAR$1 : NEAREST;\n    gl.texParameteri(target, TEXTURE_MIN_FILTER, filtering);\n    gl.texParameteri(target, TEXTURE_MAG_FILTER, filtering);\n    gl.texParameteri(target, TEXTURE_WRAP_S, CLAMP_TO_EDGE$1);\n    gl.texParameteri(target, TEXTURE_WRAP_T, CLAMP_TO_EDGE$1);\n  }\n}\n\nfunction shouldAutomaticallySetTextureFilteringForSize(options) {\n  return options.auto === true || (options.auto === undefined && options.level === undefined);\n}\n\n/**\n * Gets an array of cubemap face enums\n * @param {WebGLRenderingContext} gl the WebGLRenderingContext\n * @param {module:twgl.TextureOptions} options A TextureOptions object with whatever parameters you want set.\n *   This is often the same options you passed in when you created the texture.\n * @return {number[]} cubemap face enums\n * @private\n */\nfunction getCubeFaceOrder(gl, options) {\n  options = options || {};\n  return options.cubeFaceOrder || [\n      TEXTURE_CUBE_MAP_POSITIVE_X,\n      TEXTURE_CUBE_MAP_NEGATIVE_X,\n      TEXTURE_CUBE_MAP_POSITIVE_Y,\n      TEXTURE_CUBE_MAP_NEGATIVE_Y,\n      TEXTURE_CUBE_MAP_POSITIVE_Z,\n      TEXTURE_CUBE_MAP_NEGATIVE_Z,\n    ];\n}\n\n/**\n * @typedef {Object} FaceInfo\n * @property {number} face gl enum for texImage2D\n * @property {number} ndx face index (0 - 5) into source data\n * @ignore\n */\n\n/**\n * Gets an array of FaceInfos\n * There's a bug in some NVidia drivers that will crash the driver if\n * `gl.TEXTURE_CUBE_MAP_POSITIVE_X` is not uploaded first. So, we take\n * the user's desired order from his faces to WebGL and make sure we\n * do the faces in WebGL order\n *\n * @param {WebGLRenderingContext} gl the WebGLRenderingContext\n * @param {module:twgl.TextureOptions} options A TextureOptions object with whatever parameters you want set.\n * @return {FaceInfo[]} cubemap face infos. Arguably the `face` property of each element is redundant but\n *    it's needed internally to sort the array of `ndx` properties by `face`.\n * @private\n */\nfunction getCubeFacesWithNdx(gl, options) {\n  const faces = getCubeFaceOrder(gl, options);\n  // work around bug in NVidia drivers. We have to upload the first face first else the driver crashes :(\n  const facesWithNdx = faces.map(function(face, ndx) {\n    return { face: face, ndx: ndx };\n  });\n  facesWithNdx.sort(function(a, b) {\n    return a.face - b.face;\n  });\n  return facesWithNdx;\n}\n\n/**\n * Set a texture from the contents of an element. Will also set\n * texture filtering or generate mips based on the dimensions of the element\n * unless `options.auto === false`. If `target === gl.TEXTURE_CUBE_MAP` will\n * attempt to slice image into 1x6, 2x3, 3x2, or 6x1 images, one for each face.\n * @param {WebGLRenderingContext} gl the WebGLRenderingContext\n * @param {WebGLTexture} tex the WebGLTexture to set parameters for\n * @param {HTMLElement} element a canvas, img, or video element.\n * @param {module:twgl.TextureOptions} [options] A TextureOptions object with whatever parameters you want set.\n *   This is often the same options you passed in when you created the texture.\n * @memberOf module:twgl/textures\n * @kind function\n */\nfunction setTextureFromElement(gl, tex, element, options) {\n  options = options || defaults$1.textureOptions;\n  const target = options.target || TEXTURE_2D$2;\n  const level = options.level || 0;\n  let width = element.width;\n  let height = element.height;\n  const internalFormat = options.internalFormat || options.format || RGBA$1;\n  const formatType = getFormatAndTypeForInternalFormat(internalFormat);\n  const format = options.format || formatType.format;\n  const type = options.type || formatType.type;\n  setPackState(gl, options);\n  gl.bindTexture(target, tex);\n  if (target === TEXTURE_CUBE_MAP$1) {\n    // guess the parts\n    const imgWidth  = element.width;\n    const imgHeight = element.height;\n    let size;\n    let slices;\n    if (imgWidth / 6 === imgHeight) {\n      // It's 6x1\n      size = imgHeight;\n      slices = [0, 0, 1, 0, 2, 0, 3, 0, 4, 0, 5, 0];\n    } else if (imgHeight / 6 === imgWidth) {\n      // It's 1x6\n      size = imgWidth;\n      slices = [0, 0, 0, 1, 0, 2, 0, 3, 0, 4, 0, 5];\n    } else if (imgWidth / 3 === imgHeight / 2) {\n      // It's 3x2\n      size = imgWidth / 3;\n      slices = [0, 0, 1, 0, 2, 0, 0, 1, 1, 1, 2, 1];\n    } else if (imgWidth / 2 === imgHeight / 3) {\n      // It's 2x3\n      size = imgWidth / 2;\n      slices = [0, 0, 1, 0, 0, 1, 1, 1, 0, 2, 1, 2];\n    } else {\n      throw \"can't figure out cube map from element: \" + (element.src ? element.src : element.nodeName);\n    }\n    const ctx = getShared2DContext();\n    if (ctx) {\n      ctx.canvas.width = size;\n      ctx.canvas.height = size;\n      width = size;\n      height = size;\n      getCubeFacesWithNdx(gl, options).forEach(function(f) {\n        const xOffset = slices[f.ndx * 2 + 0] * size;\n        const yOffset = slices[f.ndx * 2 + 1] * size;\n        ctx.drawImage(element, xOffset, yOffset, size, size, 0, 0, size, size);\n        gl.texImage2D(f.face, level, internalFormat, format, type, ctx.canvas);\n      });\n      // Free up the canvas memory\n      ctx.canvas.width = 1;\n      ctx.canvas.height = 1;\n    } else if (typeof createImageBitmap !== 'undefined') {\n      // NOTE: It seems like we should prefer ImageBitmap because unlike canvas it's\n      // note lossy? (alpha is not premultiplied? although I'm not sure what\n      width = size;\n      height = size;\n      getCubeFacesWithNdx(gl, options).forEach(function(f) {\n        const xOffset = slices[f.ndx * 2 + 0] * size;\n        const yOffset = slices[f.ndx * 2 + 1] * size;\n        // We can't easily use a default texture color here as it would have to match\n        // the type across all faces where as with a 2D one there's only one face\n        // so we're replacing everything all at once. It also has to be the correct size.\n        // On the other hand we need all faces to be the same size so as one face loads\n        // the rest match else the texture will be un-renderable.\n        gl.texImage2D(f.face, level, internalFormat, size, size, 0, format, type, null);\n        createImageBitmap(element, xOffset, yOffset, size, size, {\n          premultiplyAlpha: 'none',\n          colorSpaceConversion: 'none',\n        })\n        .then(function(imageBitmap) {\n          setPackState(gl, options);\n          gl.bindTexture(target, tex);\n          gl.texImage2D(f.face, level, internalFormat, format, type, imageBitmap);\n          if (shouldAutomaticallySetTextureFilteringForSize(options)) {\n            setTextureFilteringForSize(gl, tex, options, width, height, internalFormat);\n          }\n        });\n      });\n    }\n  } else if (target === TEXTURE_3D$1 || target === TEXTURE_2D_ARRAY$1) {\n    const smallest = Math.min(element.width, element.height);\n    const largest = Math.max(element.width, element.height);\n    const depth = largest / smallest;\n    if (depth % 1 !== 0) {\n      throw \"can not compute 3D dimensions of element\";\n    }\n    const xMult = element.width  === largest ? 1 : 0;\n    const yMult = element.height === largest ? 1 : 0;\n    gl.pixelStorei(UNPACK_ALIGNMENT, 1);\n    gl.pixelStorei(UNPACK_ROW_LENGTH, element.width);\n    gl.pixelStorei(UNPACK_IMAGE_HEIGHT, 0);\n    gl.pixelStorei(UNPACK_SKIP_IMAGES, 0);\n    gl.texImage3D(target, level, internalFormat, smallest, smallest, smallest, 0, format, type, null);\n    for (let d = 0; d < depth; ++d) {\n      const srcX = d * smallest * xMult;\n      const srcY = d * smallest * yMult;\n      gl.pixelStorei(UNPACK_SKIP_PIXELS, srcX);\n      gl.pixelStorei(UNPACK_SKIP_ROWS, srcY);\n      gl.texSubImage3D(target, level, 0, 0, d, smallest, smallest, 1, format, type, element);\n    }\n    setSkipStateToDefault(gl);\n  } else {\n    gl.texImage2D(target, level, internalFormat, format, type, element);\n  }\n  if (shouldAutomaticallySetTextureFilteringForSize(options)) {\n    setTextureFilteringForSize(gl, tex, options, width, height, internalFormat);\n  }\n  setTextureParameters(gl, tex, options);\n}\n\nfunction noop() {\n}\n\n/**\n * Checks whether the url's origin is the same so that we can set the `crossOrigin`\n * @param {string} url url to image\n * @returns {boolean} true if the window's origin is the same as image's url\n * @private\n */\nfunction urlIsSameOrigin(url) {\n  if (typeof document !== 'undefined') {\n    // for IE really\n    const a = document.createElement('a');\n    a.href = url;\n    return a.hostname === location.hostname &&\n           a.port     === location.port &&\n           a.protocol === location.protocol;\n  } else {\n    const localOrigin = (new URL(location.href)).origin;\n    const urlOrigin = (new URL(url, location.href)).origin;\n    return urlOrigin === localOrigin;\n  }\n}\n\nfunction setToAnonymousIfUndefinedAndURLIsNotSameOrigin(url, crossOrigin) {\n  return crossOrigin === undefined && !urlIsSameOrigin(url)\n     ? 'anonymous'\n     : crossOrigin;\n}\n\n/**\n * Loads an image\n * @param {string} url url to image\n * @param {string} crossOrigin\n * @param {function(err, img)} [callback] a callback that's passed an error and the image. The error will be non-null\n *     if there was an error\n * @return {HTMLImageElement} the image being loaded.\n * @private\n */\nfunction loadImage(url, crossOrigin, callback) {\n  callback = callback || noop;\n  let img;\n  crossOrigin = crossOrigin !== undefined ? crossOrigin : defaults$1.crossOrigin;\n  crossOrigin = setToAnonymousIfUndefinedAndURLIsNotSameOrigin(url, crossOrigin);\n  if (typeof Image !== 'undefined') {\n    img = new Image();\n    if (crossOrigin !== undefined) {\n      img.crossOrigin = crossOrigin;\n    }\n\n    const clearEventHandlers = function clearEventHandlers() {\n      img.removeEventListener('error', onError);  // eslint-disable-line\n      img.removeEventListener('load', onLoad);  // eslint-disable-line\n      img = null;\n    };\n\n    const onError = function onError() {\n      const msg = \"couldn't load image: \" + url;\n      error$1(msg);\n      callback(msg, img);\n      clearEventHandlers();\n    };\n\n    const onLoad = function onLoad() {\n      callback(null, img);\n      clearEventHandlers();\n    };\n\n    img.addEventListener('error', onError);\n    img.addEventListener('load', onLoad);\n    img.src = url;\n    return img;\n  } else if (typeof ImageBitmap !== 'undefined') {\n    let err;\n    let bm;\n    const cb = function cb() {\n      callback(err, bm);\n    };\n\n    const options = {};\n    if (crossOrigin) {\n      options.mode = 'cors'; // TODO: not sure how to translate image.crossOrigin\n    }\n    fetch(url, options).then(function(response) {\n      if (!response.ok) {\n        throw response;\n      }\n      return response.blob();\n    }).then(function(blob) {\n      return createImageBitmap(blob, {\n        premultiplyAlpha: 'none',\n        colorSpaceConversion: 'none',\n      });\n    }).then(function(bitmap) {\n      // not sure if this works. We don't want\n      // to catch the user's error. So, call\n      // the callback in a timeout so we're\n      // not in this scope inside the promise.\n      bm = bitmap;\n      setTimeout(cb);\n    }).catch(function(e) {\n      err = e;\n      setTimeout(cb);\n    });\n    img = null;\n  }\n  return img;\n}\n\n/**\n * check if object is a TexImageSource\n *\n * @param {Object} obj Object to test\n * @return {boolean} true if object is a TexImageSource\n * @private\n */\nfunction isTexImageSource(obj) {\n  return (typeof ImageBitmap !== 'undefined' && obj instanceof ImageBitmap) ||\n         (typeof ImageData !== 'undefined'  && obj instanceof ImageData) ||\n         (typeof HTMLElement !== 'undefined'  && obj instanceof HTMLElement);\n}\n\n/**\n * if obj is an TexImageSource then just\n * uses it otherwise if obj is a string\n * then load it first.\n *\n * @param {string|TexImageSource} obj\n * @param {string} crossOrigin\n * @param {function(err, img)} [callback] a callback that's passed an error and the image. The error will be non-null\n *     if there was an error\n * @private\n */\nfunction loadAndUseImage(obj, crossOrigin, callback) {\n  if (isTexImageSource(obj)) {\n    setTimeout(function() {\n      callback(null, obj);\n    });\n    return obj;\n  }\n\n  return loadImage(obj, crossOrigin, callback);\n}\n\n/**\n * Sets a texture to a 1x1 pixel color. If `options.color === false` is nothing happens. If it's not set\n * the default texture color is used which can be set by calling `setDefaultTextureColor`.\n * @param {WebGLRenderingContext} gl the WebGLRenderingContext\n * @param {WebGLTexture} tex the WebGLTexture to set parameters for\n * @param {module:twgl.TextureOptions} [options] A TextureOptions object with whatever parameters you want set.\n *   This is often the same options you passed in when you created the texture.\n * @memberOf module:twgl/textures\n * @private\n */\nfunction setTextureTo1PixelColor(gl, tex, options) {\n  options = options || defaults$1.textureOptions;\n  const target = options.target || TEXTURE_2D$2;\n  gl.bindTexture(target, tex);\n  if (options.color === false) {\n    return;\n  }\n  // Assume it's a URL\n  // Put 1x1 pixels in texture. That makes it renderable immediately regardless of filtering.\n  const color = make1Pixel(options.color);\n  if (target === TEXTURE_CUBE_MAP$1) {\n    for (let ii = 0; ii < 6; ++ii) {\n      gl.texImage2D(TEXTURE_CUBE_MAP_POSITIVE_X + ii, 0, RGBA$1, 1, 1, 0, RGBA$1, UNSIGNED_BYTE$1, color);\n    }\n  } else if (target === TEXTURE_3D$1 || target === TEXTURE_2D_ARRAY$1) {\n    gl.texImage3D(target, 0, RGBA$1, 1, 1, 1, 0, RGBA$1, UNSIGNED_BYTE$1, color);\n  } else {\n    gl.texImage2D(target, 0, RGBA$1, 1, 1, 0, RGBA$1, UNSIGNED_BYTE$1, color);\n  }\n}\n\n/**\n * The src image(s) used to create a texture.\n *\n * When you call {@link module:twgl.createTexture} or {@link module:twgl.createTextures}\n * you can pass in urls for images to load into the textures. If it's a single url\n * then this will be a single HTMLImageElement. If it's an array of urls used for a cubemap\n * this will be a corresponding array of images for the cubemap.\n *\n * @typedef {HTMLImageElement|HTMLImageElement[]} TextureSrc\n * @memberOf module:twgl\n */\n\n/**\n * A callback for when an image finished downloading and been uploaded into a texture\n * @callback TextureReadyCallback\n * @param {*} err If truthy there was an error.\n * @param {WebGLTexture} texture the texture.\n * @param {module:twgl.TextureSrc} source image(s) used to as the src for the texture\n * @memberOf module:twgl\n */\n\n/**\n * A callback for when all images have finished downloading and been uploaded into their respective textures\n * @callback TexturesReadyCallback\n * @param {*} err If truthy there was an error.\n * @param {Object.<string, WebGLTexture>} textures the created textures by name. Same as returned by {@link module:twgl.createTextures}.\n * @param {Object.<string, module:twgl.TextureSrc>} sources the image(s) used for the texture by name.\n * @memberOf module:twgl\n */\n\n/**\n * A callback for when an image finished downloading and been uploaded into a texture\n * @callback CubemapReadyCallback\n * @param {*} err If truthy there was an error.\n * @param {WebGLTexture} tex the texture.\n * @param {HTMLImageElement[]} imgs the images for each face.\n * @memberOf module:twgl\n */\n\n/**\n * A callback for when an image finished downloading and been uploaded into a texture\n * @callback ThreeDReadyCallback\n * @param {*} err If truthy there was an error.\n * @param {WebGLTexture} tex the texture.\n * @param {HTMLImageElement[]} imgs the images for each slice.\n * @memberOf module:twgl\n */\n\n/**\n * Loads a texture from an image from a Url as specified in `options.src`\n * If `options.color !== false` will set the texture to a 1x1 pixel color so that the texture is\n * immediately useable. It will be updated with the contents of the image once the image has finished\n * downloading. Filtering options will be set as appropriate for image unless `options.auto === false`.\n * @param {WebGLRenderingContext} gl the WebGLRenderingContext\n * @param {WebGLTexture} tex the WebGLTexture to set parameters for\n * @param {module:twgl.TextureOptions} [options] A TextureOptions object with whatever parameters you want set.\n * @param {module:twgl.TextureReadyCallback} [callback] A function to be called when the image has finished loading. err will\n *    be non null if there was an error.\n * @return {HTMLImageElement} the image being downloaded.\n * @memberOf module:twgl/textures\n */\nfunction loadTextureFromUrl(gl, tex, options, callback) {\n  callback = callback || noop;\n  options = options || defaults$1.textureOptions;\n  setTextureTo1PixelColor(gl, tex, options);\n  // Because it's async we need to copy the options.\n  options = Object.assign({}, options);\n  const img = loadAndUseImage(options.src, options.crossOrigin, function(err, img) {\n    if (err) {\n      callback(err, tex, img);\n    } else {\n      setTextureFromElement(gl, tex, img, options);\n      callback(null, tex, img);\n    }\n  });\n  return img;\n}\n\n/**\n * Loads a cubemap from 6 urls or TexImageSources as specified in `options.src`. Will set the cubemap to a 1x1 pixel color\n * so that it is usable immediately unless `option.color === false`.\n * @param {WebGLRenderingContext} gl the WebGLRenderingContext\n * @param {WebGLTexture} tex the WebGLTexture to set parameters for\n * @param {module:twgl.TextureOptions} options A TextureOptions object with whatever parameters you want set.\n * @param {module:twgl.CubemapReadyCallback} [callback] A function to be called when all the images have finished loading. err will\n *    be non null if there was an error.\n * @memberOf module:twgl/textures\n * @private\n */\nfunction loadCubemapFromUrls(gl, tex, options, callback) {\n  callback = callback || noop;\n  const urls = options.src;\n  if (urls.length !== 6) {\n    throw \"there must be 6 urls for a cubemap\";\n  }\n  const level = options.level || 0;\n  const internalFormat = options.internalFormat || options.format || RGBA$1;\n  const formatType = getFormatAndTypeForInternalFormat(internalFormat);\n  const format = options.format || formatType.format;\n  const type = options.type || UNSIGNED_BYTE$1;\n  const target = options.target || TEXTURE_2D$2;\n  if (target !== TEXTURE_CUBE_MAP$1) {\n    throw \"target must be TEXTURE_CUBE_MAP\";\n  }\n  setTextureTo1PixelColor(gl, tex, options);\n  // Because it's async we need to copy the options.\n  options = Object.assign({}, options);\n  let numToLoad = 6;\n  const errors = [];\n  const faces = getCubeFaceOrder(gl, options);\n  let imgs;  // eslint-disable-line\n\n  function uploadImg(faceTarget) {\n    return function(err, img) {\n      --numToLoad;\n      if (err) {\n        errors.push(err);\n      } else {\n        if (img.width !== img.height) {\n          errors.push(\"cubemap face img is not a square: \" + img.src);\n        } else {\n          setPackState(gl, options);\n          gl.bindTexture(target, tex);\n\n          // So assuming this is the first image we now have one face that's img sized\n          // and 5 faces that are 1x1 pixel so size the other faces\n          if (numToLoad === 5) {\n            // use the default order\n            getCubeFaceOrder().forEach(function(otherTarget) {\n              // Should we re-use the same face or a color?\n              gl.texImage2D(otherTarget, level, internalFormat, format, type, img);\n            });\n          } else {\n            gl.texImage2D(faceTarget, level, internalFormat, format, type, img);\n          }\n\n          if (shouldAutomaticallySetTextureFilteringForSize(options)) {\n            gl.generateMipmap(target);\n          }\n        }\n      }\n\n      if (numToLoad === 0) {\n        callback(errors.length ? errors : undefined, tex, imgs);\n      }\n    };\n  }\n\n  imgs = urls.map(function(url, ndx) {\n    return loadAndUseImage(url, options.crossOrigin, uploadImg(faces[ndx]));\n  });\n}\n\n/**\n * Loads a 2d array or 3d texture from urls OR TexImageSources as specified in `options.src`.\n * Will set the texture to a 1x1 pixel color\n * so that it is usable immediately unless `option.color === false`.\n *\n * If the width and height is not specified the width and height of the first\n * image loaded will be used. Note that since images are loaded async\n * which image downloads first is unknown.\n *\n * If an image is not the same size as the width and height it will be scaled\n * to that width and height.\n *\n * @param {WebGLRenderingContext} gl the WebGLRenderingContext\n * @param {WebGLTexture} tex the WebGLTexture to set parameters for\n * @param {module:twgl.TextureOptions} options A TextureOptions object with whatever parameters you want set.\n * @param {module:twgl.ThreeDReadyCallback} [callback] A function to be called when all the images have finished loading. err will\n *    be non null if there was an error.\n * @memberOf module:twgl/textures\n * @private\n */\nfunction loadSlicesFromUrls(gl, tex, options, callback) {\n  callback = callback || noop;\n  const urls = options.src;\n  const internalFormat = options.internalFormat || options.format || RGBA$1;\n  const formatType = getFormatAndTypeForInternalFormat(internalFormat);\n  const format = options.format || formatType.format;\n  const type = options.type || UNSIGNED_BYTE$1;\n  const target = options.target || TEXTURE_2D_ARRAY$1;\n  if (target !== TEXTURE_3D$1 && target !== TEXTURE_2D_ARRAY$1) {\n    throw \"target must be TEXTURE_3D or TEXTURE_2D_ARRAY\";\n  }\n  setTextureTo1PixelColor(gl, tex, options);\n  // Because it's async we need to copy the options.\n  options = Object.assign({}, options);\n  let numToLoad = urls.length;\n  const errors = [];\n  let imgs;  // eslint-disable-line\n  const level = options.level || 0;\n  let width = options.width;\n  let height = options.height;\n  const depth = urls.length;\n  let firstImage = true;\n\n  function uploadImg(slice) {\n    return function(err, img) {\n      --numToLoad;\n      if (err) {\n        errors.push(err);\n      } else {\n        setPackState(gl, options);\n        gl.bindTexture(target, tex);\n\n        if (firstImage) {\n          firstImage = false;\n          width = options.width || img.width;\n          height = options.height || img.height;\n          gl.texImage3D(target, level, internalFormat, width, height, depth, 0, format, type, null);\n\n          // put it in every slice otherwise some slices will be 0,0,0,0\n          for (let s = 0; s < depth; ++s) {\n            gl.texSubImage3D(target, level, 0, 0, s, width, height, 1, format, type, img);\n          }\n        } else {\n          let src = img;\n          let ctx;\n          if (img.width !== width || img.height !== height) {\n            // Size the image to fix\n            ctx = getShared2DContext();\n            src = ctx.canvas;\n            ctx.canvas.width = width;\n            ctx.canvas.height = height;\n            ctx.drawImage(img, 0, 0, width, height);\n          }\n\n          gl.texSubImage3D(target, level, 0, 0, slice, width, height, 1, format, type, src);\n\n          // free the canvas memory\n          if (ctx && src === ctx.canvas) {\n            ctx.canvas.width = 0;\n            ctx.canvas.height = 0;\n          }\n        }\n\n        if (shouldAutomaticallySetTextureFilteringForSize(options)) {\n          gl.generateMipmap(target);\n        }\n      }\n\n      if (numToLoad === 0) {\n        callback(errors.length ? errors : undefined, tex, imgs);\n      }\n    };\n  }\n\n  imgs = urls.map(function(url, ndx) {\n    return loadAndUseImage(url, options.crossOrigin, uploadImg(ndx));\n  });\n}\n\n/**\n * Sets a texture from an array or typed array. If the width or height is not provided will attempt to\n * guess the size. See {@link module:twgl.TextureOptions}.\n * @param {WebGLRenderingContext} gl the WebGLRenderingContext\n * @param {WebGLTexture} tex the WebGLTexture to set parameters for\n * @param {(number[]|ArrayBufferView)} src An array or typed arry with texture data.\n * @param {module:twgl.TextureOptions} [options] A TextureOptions object with whatever parameters you want set.\n *   This is often the same options you passed in when you created the texture.\n * @memberOf module:twgl/textures\n */\nfunction setTextureFromArray(gl, tex, src, options) {\n  options = options || defaults$1.textureOptions;\n  const target = options.target || TEXTURE_2D$2;\n  gl.bindTexture(target, tex);\n  let width = options.width;\n  let height = options.height;\n  let depth = options.depth;\n  const level = options.level || 0;\n  const internalFormat = options.internalFormat || options.format || RGBA$1;\n  const formatType = getFormatAndTypeForInternalFormat(internalFormat);\n  const format = options.format || formatType.format;\n  const type = options.type || getTextureTypeForArrayType(gl, src, formatType.type);\n  if (!isArrayBuffer(src)) {\n    const Type = getTypedArrayTypeForGLType(type);\n    src = new Type(src);\n  } else if (src instanceof Uint8ClampedArray) {\n    src = new Uint8Array(src.buffer);\n  }\n\n  const bytesPerElement = getBytesPerElementForInternalFormat(internalFormat, type);\n  const numElements = src.byteLength / bytesPerElement;  // TODO: check UNPACK_ALIGNMENT?\n  if (numElements % 1) {\n    throw \"length wrong size for format: \" + glEnumToString(gl, format);\n  }\n  let dimensions;\n  if (target === TEXTURE_3D$1 || target === TEXTURE_2D_ARRAY$1) {\n    if (!width && !height && !depth) {\n      const size = Math.cbrt(numElements);\n      if (size % 1 !== 0) {\n        throw \"can't guess cube size of array of numElements: \" + numElements;\n      }\n      width = size;\n      height = size;\n      depth = size;\n    } else if (width && (!height || !depth)) {\n      dimensions = guessDimensions(gl, target, height, depth, numElements / width);\n      height = dimensions.width;\n      depth = dimensions.height;\n    } else if (height && (!width || !depth)) {\n      dimensions = guessDimensions(gl, target, width, depth, numElements / height);\n      width = dimensions.width;\n      depth = dimensions.height;\n    } else {\n      dimensions = guessDimensions(gl, target, width, height, numElements / depth);\n      width = dimensions.width;\n      height = dimensions.height;\n    }\n  } else {\n    dimensions = guessDimensions(gl, target, width, height, numElements);\n    width = dimensions.width;\n    height = dimensions.height;\n  }\n  setSkipStateToDefault(gl);\n  gl.pixelStorei(UNPACK_ALIGNMENT, options.unpackAlignment || 1);\n  setPackState(gl, options);\n  if (target === TEXTURE_CUBE_MAP$1) {\n    const elementsPerElement = bytesPerElement / src.BYTES_PER_ELEMENT;\n    const faceSize = numElements / 6 * elementsPerElement;\n\n    getCubeFacesWithNdx(gl, options).forEach(f => {\n      const offset = faceSize * f.ndx;\n      const data = src.subarray(offset, offset + faceSize);\n      gl.texImage2D(f.face, level, internalFormat, width, height, 0, format, type, data);\n    });\n  } else if (target === TEXTURE_3D$1 || target === TEXTURE_2D_ARRAY$1) {\n    gl.texImage3D(target, level, internalFormat, width, height, depth, 0, format, type, src);\n  } else {\n    gl.texImage2D(target, level, internalFormat, width, height, 0, format, type, src);\n  }\n  return {\n    width: width,\n    height: height,\n    depth: depth,\n    type: type,\n  };\n}\n\n/**\n * Sets a texture with no contents of a certain size. In other words calls `gl.texImage2D` with `null`.\n * You must set `options.width` and `options.height`.\n * @param {WebGLRenderingContext} gl the WebGLRenderingContext\n * @param {WebGLTexture} tex the WebGLTexture to set parameters for\n * @param {module:twgl.TextureOptions} options A TextureOptions object with whatever parameters you want set.\n * @memberOf module:twgl/textures\n */\nfunction setEmptyTexture(gl, tex, options) {\n  const target = options.target || TEXTURE_2D$2;\n  gl.bindTexture(target, tex);\n  const level = options.level || 0;\n  const internalFormat = options.internalFormat || options.format || RGBA$1;\n  const formatType = getFormatAndTypeForInternalFormat(internalFormat);\n  const format = options.format || formatType.format;\n  const type = options.type || formatType.type;\n  setPackState(gl, options);\n  if (target === TEXTURE_CUBE_MAP$1) {\n    for (let ii = 0; ii < 6; ++ii) {\n      gl.texImage2D(TEXTURE_CUBE_MAP_POSITIVE_X + ii, level, internalFormat, options.width, options.height, 0, format, type, null);\n    }\n  } else if (target === TEXTURE_3D$1 || target === TEXTURE_2D_ARRAY$1) {\n    gl.texImage3D(target, level, internalFormat, options.width, options.height, options.depth, 0, format, type, null);\n  } else {\n    gl.texImage2D(target, level, internalFormat, options.width, options.height, 0, format, type, null);\n  }\n}\n\n/**\n * Creates a texture based on the options passed in.\n *\n * Note: may reset UNPACK_ALIGNMENT, UNPACK_ROW_LENGTH, UNPACK_IMAGE_HEIGHT, UNPACK_SKIP_IMAGES\n * UNPACK_SKIP_PIXELS, and UNPACK_SKIP_ROWS\n *\n * @param {WebGLRenderingContext} gl the WebGLRenderingContext\n * @param {module:twgl.TextureOptions} [options] A TextureOptions object with whatever parameters you want set.\n * @param {module:twgl.TextureReadyCallback} [callback] A callback called when an image has been downloaded and uploaded to the texture.\n * @return {WebGLTexture} the created texture.\n * @memberOf module:twgl/textures\n */\nfunction createTexture(gl, options, callback) {\n  callback = callback || noop;\n  options = options || defaults$1.textureOptions;\n  const tex = gl.createTexture();\n  const target = options.target || TEXTURE_2D$2;\n  let width  = options.width  || 1;\n  let height = options.height || 1;\n  const internalFormat = options.internalFormat || RGBA$1;\n  gl.bindTexture(target, tex);\n  if (target === TEXTURE_CUBE_MAP$1) {\n    // this should have been the default for cubemaps :(\n    gl.texParameteri(target, TEXTURE_WRAP_S, CLAMP_TO_EDGE$1);\n    gl.texParameteri(target, TEXTURE_WRAP_T, CLAMP_TO_EDGE$1);\n  }\n  let src = options.src;\n  if (src) {\n    if (typeof src === \"function\") {\n      src = src(gl, options);\n    }\n    if (typeof (src) === \"string\") {\n      loadTextureFromUrl(gl, tex, options, callback);\n    } else if (isArrayBuffer(src) ||\n               (Array.isArray(src) && (\n                    typeof src[0] === 'number' ||\n                    Array.isArray(src[0]) ||\n                    isArrayBuffer(src[0]))\n               )\n              ) {\n      const dimensions = setTextureFromArray(gl, tex, src, options);\n      width  = dimensions.width;\n      height = dimensions.height;\n    } else if (Array.isArray(src) && (typeof (src[0]) === 'string' || isTexImageSource(src[0]))) {\n      if (target === TEXTURE_CUBE_MAP$1) {\n        loadCubemapFromUrls(gl, tex, options, callback);\n      } else {\n        loadSlicesFromUrls(gl, tex, options, callback);\n      }\n    } else { // if (isTexImageSource(src))\n      setTextureFromElement(gl, tex, src, options);\n      width  = src.width;\n      height = src.height;\n    }\n  } else {\n    setEmptyTexture(gl, tex, options);\n  }\n  if (shouldAutomaticallySetTextureFilteringForSize(options)) {\n    setTextureFilteringForSize(gl, tex, options, width, height, internalFormat);\n  }\n  setTextureParameters(gl, tex, options);\n  return tex;\n}\n\n/**\n * Resizes a texture based on the options passed in.\n *\n * Note: This is not a generic resize anything function.\n * It's mostly used by {@link module:twgl.resizeFramebufferInfo}\n * It will use `options.src` if it exists to try to determine a `type`\n * otherwise it will assume `gl.UNSIGNED_BYTE`. No data is provided\n * for the texture. Texture parameters will be set accordingly\n *\n * @param {WebGLRenderingContext} gl the WebGLRenderingContext\n * @param {WebGLTexture} tex the texture to resize\n * @param {module:twgl.TextureOptions} options A TextureOptions object with whatever parameters you want set.\n * @param {number} [width] the new width. If not passed in will use `options.width`\n * @param {number} [height] the new height. If not passed in will use `options.height`\n * @param {number} [depth] the new depth. If not passed in will use `options.depth`\n * @memberOf module:twgl/textures\n */\nfunction resizeTexture(gl, tex, options, width, height, depth) {\n  width = width || options.width;\n  height = height || options.height;\n  depth = depth || options.depth;\n  const target = options.target || TEXTURE_2D$2;\n  gl.bindTexture(target, tex);\n  const level = options.level || 0;\n  const internalFormat = options.internalFormat || options.format || RGBA$1;\n  const formatType = getFormatAndTypeForInternalFormat(internalFormat);\n  const format = options.format || formatType.format;\n  let type;\n  const src = options.src;\n  if (!src) {\n    type = options.type || formatType.type;\n  } else if (isArrayBuffer(src) || (Array.isArray(src) && typeof (src[0]) === 'number')) {\n    type = options.type || getTextureTypeForArrayType(gl, src, formatType.type);\n  } else {\n    type = options.type || formatType.type;\n  }\n  if (target === TEXTURE_CUBE_MAP$1) {\n    for (let ii = 0; ii < 6; ++ii) {\n      gl.texImage2D(TEXTURE_CUBE_MAP_POSITIVE_X + ii, level, internalFormat, width, height, 0, format, type, null);\n    }\n  } else if (target === TEXTURE_3D$1 || target === TEXTURE_2D_ARRAY$1) {\n    gl.texImage3D(target, level, internalFormat, width, height, depth, 0, format, type, null);\n  } else {\n    gl.texImage2D(target, level, internalFormat, width, height, 0, format, type, null);\n  }\n}\n\n/**\n * Check if a src is an async request.\n * if src is a string we're going to download an image\n * if src is an array of strings we're going to download cubemap images\n * @param {*} src The src from a TextureOptions\n * @returns {bool} true if src is async.\n * @private\n */\nfunction isAsyncSrc(src) {\n  return typeof src === 'string' ||\n         (Array.isArray(src) && typeof src[0] === 'string');\n}\n\n/**\n * Creates a bunch of textures based on the passed in options.\n *\n * Example:\n *\n *     const textures = twgl.createTextures(gl, {\n *       // a power of 2 image\n *       hftIcon: { src: \"images/hft-icon-16.png\", mag: gl.NEAREST },\n *       // a non-power of 2 image\n *       clover: { src: \"images/clover.jpg\" },\n *       // From a canvas\n *       fromCanvas: { src: ctx.canvas },\n *       // A cubemap from 6 images\n *       yokohama: {\n *         target: gl.TEXTURE_CUBE_MAP,\n *         src: [\n *           'images/yokohama/posx.jpg',\n *           'images/yokohama/negx.jpg',\n *           'images/yokohama/posy.jpg',\n *           'images/yokohama/negy.jpg',\n *           'images/yokohama/posz.jpg',\n *           'images/yokohama/negz.jpg',\n *         ],\n *       },\n *       // A cubemap from 1 image (can be 1x6, 2x3, 3x2, 6x1)\n *       goldengate: {\n *         target: gl.TEXTURE_CUBE_MAP,\n *         src: 'images/goldengate.jpg',\n *       },\n *       // A 2x2 pixel texture from a JavaScript array\n *       checker: {\n *         mag: gl.NEAREST,\n *         min: gl.LINEAR,\n *         src: [\n *           255,255,255,255,\n *           192,192,192,255,\n *           192,192,192,255,\n *           255,255,255,255,\n *         ],\n *       },\n *       // a 1x2 pixel texture from a typed array.\n *       stripe: {\n *         mag: gl.NEAREST,\n *         min: gl.LINEAR,\n *         format: gl.LUMINANCE,\n *         src: new Uint8Array([\n *           255,\n *           128,\n *           255,\n *           128,\n *           255,\n *           128,\n *           255,\n *           128,\n *         ]),\n *         width: 1,\n *       },\n *     });\n *\n * Now\n *\n * *   `textures.hftIcon` will be a 2d texture\n * *   `textures.clover` will be a 2d texture\n * *   `textures.fromCanvas` will be a 2d texture\n * *   `textures.yohohama` will be a cubemap texture\n * *   `textures.goldengate` will be a cubemap texture\n * *   `textures.checker` will be a 2d texture\n * *   `textures.stripe` will be a 2d texture\n *\n * @param {WebGLRenderingContext} gl the WebGLRenderingContext\n * @param {Object.<string,module:twgl.TextureOptions>} options A object of TextureOptions one per texture.\n * @param {module:twgl.TexturesReadyCallback} [callback] A callback called when all textures have been downloaded.\n * @return {Object.<string,WebGLTexture>} the created textures by name\n * @memberOf module:twgl/textures\n */\nfunction createTextures(gl, textureOptions, callback) {\n  callback = callback || noop;\n  let numDownloading = 0;\n  const errors = [];\n  const textures = {};\n  const images = {};\n\n  function callCallbackIfReady() {\n    if (numDownloading === 0) {\n      setTimeout(function() {\n        callback(errors.length ? errors : undefined, textures, images);\n      }, 0);\n    }\n  }\n\n  Object.keys(textureOptions).forEach(function(name) {\n    const options = textureOptions[name];\n    let onLoadFn;\n    if (isAsyncSrc(options.src)) {\n      onLoadFn = function(err, tex, img) {\n        images[name] = img;\n        --numDownloading;\n        if (err) {\n          errors.push(err);\n        }\n        callCallbackIfReady();\n      };\n      ++numDownloading;\n    }\n    textures[name] = createTexture(gl, options, onLoadFn);\n  });\n\n  // queue the callback if there are no images to download.\n  // We do this because if your code is structured to wait for\n  // images to download but then you comment out all the async\n  // images your code would break.\n  callCallbackIfReady();\n\n  return textures;\n}\n\nvar textures = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  setTextureDefaults_: setDefaults$1,\n  createSampler: createSampler,\n  createSamplers: createSamplers,\n  setSamplerParameters: setSamplerParameters,\n  createTexture: createTexture,\n  setEmptyTexture: setEmptyTexture,\n  setTextureFromArray: setTextureFromArray,\n  loadTextureFromUrl: loadTextureFromUrl,\n  setTextureFromElement: setTextureFromElement,\n  setTextureFilteringForSize: setTextureFilteringForSize,\n  setTextureParameters: setTextureParameters,\n  setDefaultTextureColor: setDefaultTextureColor,\n  createTextures: createTextures,\n  resizeTexture: resizeTexture,\n  canGenerateMipmap: canGenerateMipmap,\n  canFilter: canFilter,\n  getNumComponentsForFormat: getNumComponentsForFormat,\n  getBytesPerElementForInternalFormat: getBytesPerElementForInternalFormat,\n  getFormatAndTypeForInternalFormat: getFormatAndTypeForInternalFormat\n});\n\n/*\n * Copyright 2019 Gregg Tavares\n *\n * Permission is hereby granted, free of charge, to any person obtaining a\n * copy of this software and associated documentation files (the \"Software\"),\n * to deal in the Software without restriction, including without limitation\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\n * and/or sell copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.  IN NO EVENT SHALL\n * THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\n * DEALINGS IN THE SOFTWARE.\n */\n\n/**\n * Low level shader program related functions\n *\n * You should generally not need to use these functions. They are provided\n * for those cases where you're doing something out of the ordinary\n * and you need lower level access.\n *\n * For backward compatibility they are available at both `twgl.programs` and `twgl`\n * itself\n *\n * See {@link module:twgl} for core functions\n *\n * @module twgl/programs\n */\n\nconst error = error$1;\nconst warn = warn$1;\nfunction getElementById(id) {\n  return (typeof document !== 'undefined' && document.getElementById)\n      ? document.getElementById(id)\n      : null;\n}\n\nconst TEXTURE0                       = 0x84c0;\nconst DYNAMIC_DRAW                   = 0x88e8;\n\nconst ARRAY_BUFFER                   = 0x8892;\nconst ELEMENT_ARRAY_BUFFER$1           = 0x8893;\nconst UNIFORM_BUFFER                 = 0x8a11;\nconst TRANSFORM_FEEDBACK_BUFFER      = 0x8c8e;\n\nconst TRANSFORM_FEEDBACK             = 0x8e22;\n\nconst COMPILE_STATUS                 = 0x8b81;\nconst LINK_STATUS                    = 0x8b82;\nconst FRAGMENT_SHADER                = 0x8b30;\nconst VERTEX_SHADER                  = 0x8b31;\nconst SEPARATE_ATTRIBS               = 0x8c8d;\n\nconst ACTIVE_UNIFORMS                = 0x8b86;\nconst ACTIVE_ATTRIBUTES              = 0x8b89;\nconst TRANSFORM_FEEDBACK_VARYINGS    = 0x8c83;\nconst ACTIVE_UNIFORM_BLOCKS          = 0x8a36;\nconst UNIFORM_BLOCK_REFERENCED_BY_VERTEX_SHADER   = 0x8a44;\nconst UNIFORM_BLOCK_REFERENCED_BY_FRAGMENT_SHADER = 0x8a46;\nconst UNIFORM_BLOCK_DATA_SIZE                     = 0x8a40;\nconst UNIFORM_BLOCK_ACTIVE_UNIFORM_INDICES        = 0x8a43;\n\nconst FLOAT                         = 0x1406;\nconst FLOAT_VEC2                    = 0x8B50;\nconst FLOAT_VEC3                    = 0x8B51;\nconst FLOAT_VEC4                    = 0x8B52;\nconst INT                           = 0x1404;\nconst INT_VEC2                      = 0x8B53;\nconst INT_VEC3                      = 0x8B54;\nconst INT_VEC4                      = 0x8B55;\nconst BOOL                          = 0x8B56;\nconst BOOL_VEC2                     = 0x8B57;\nconst BOOL_VEC3                     = 0x8B58;\nconst BOOL_VEC4                     = 0x8B59;\nconst FLOAT_MAT2                    = 0x8B5A;\nconst FLOAT_MAT3                    = 0x8B5B;\nconst FLOAT_MAT4                    = 0x8B5C;\nconst SAMPLER_2D                    = 0x8B5E;\nconst SAMPLER_CUBE                  = 0x8B60;\nconst SAMPLER_3D                    = 0x8B5F;\nconst SAMPLER_2D_SHADOW             = 0x8B62;\nconst FLOAT_MAT2x3                  = 0x8B65;\nconst FLOAT_MAT2x4                  = 0x8B66;\nconst FLOAT_MAT3x2                  = 0x8B67;\nconst FLOAT_MAT3x4                  = 0x8B68;\nconst FLOAT_MAT4x2                  = 0x8B69;\nconst FLOAT_MAT4x3                  = 0x8B6A;\nconst SAMPLER_2D_ARRAY              = 0x8DC1;\nconst SAMPLER_2D_ARRAY_SHADOW       = 0x8DC4;\nconst SAMPLER_CUBE_SHADOW           = 0x8DC5;\nconst UNSIGNED_INT                  = 0x1405;\nconst UNSIGNED_INT_VEC2             = 0x8DC6;\nconst UNSIGNED_INT_VEC3             = 0x8DC7;\nconst UNSIGNED_INT_VEC4             = 0x8DC8;\nconst INT_SAMPLER_2D                = 0x8DCA;\nconst INT_SAMPLER_3D                = 0x8DCB;\nconst INT_SAMPLER_CUBE              = 0x8DCC;\nconst INT_SAMPLER_2D_ARRAY          = 0x8DCF;\nconst UNSIGNED_INT_SAMPLER_2D       = 0x8DD2;\nconst UNSIGNED_INT_SAMPLER_3D       = 0x8DD3;\nconst UNSIGNED_INT_SAMPLER_CUBE     = 0x8DD4;\nconst UNSIGNED_INT_SAMPLER_2D_ARRAY = 0x8DD7;\n\nconst TEXTURE_2D$1                    = 0x0DE1;\nconst TEXTURE_CUBE_MAP              = 0x8513;\nconst TEXTURE_3D                    = 0x806F;\nconst TEXTURE_2D_ARRAY              = 0x8C1A;\n\nconst typeMap = {};\n\n/**\n * Returns the corresponding bind point for a given sampler type\n * @private\n */\nfunction getBindPointForSamplerType(gl, type) {\n  return typeMap[type].bindPoint;\n}\n\n// This kind of sucks! If you could compose functions as in `var fn = gl[name];`\n// this code could be a lot smaller but that is sadly really slow (T_T)\n\nfunction floatSetter(gl, location) {\n  return function(v) {\n    gl.uniform1f(location, v);\n  };\n}\n\nfunction floatArraySetter(gl, location) {\n  return function(v) {\n    gl.uniform1fv(location, v);\n  };\n}\n\nfunction floatVec2Setter(gl, location) {\n  return function(v) {\n    gl.uniform2fv(location, v);\n  };\n}\n\nfunction floatVec3Setter(gl, location) {\n  return function(v) {\n    gl.uniform3fv(location, v);\n  };\n}\n\nfunction floatVec4Setter(gl, location) {\n  return function(v) {\n    gl.uniform4fv(location, v);\n  };\n}\n\nfunction intSetter(gl, location) {\n  return function(v) {\n    gl.uniform1i(location, v);\n  };\n}\n\nfunction intArraySetter(gl, location) {\n  return function(v) {\n    gl.uniform1iv(location, v);\n  };\n}\n\nfunction intVec2Setter(gl, location) {\n  return function(v) {\n    gl.uniform2iv(location, v);\n  };\n}\n\nfunction intVec3Setter(gl, location) {\n  return function(v) {\n    gl.uniform3iv(location, v);\n  };\n}\n\nfunction intVec4Setter(gl, location) {\n  return function(v) {\n    gl.uniform4iv(location, v);\n  };\n}\n\nfunction uintSetter(gl, location) {\n  return function(v) {\n    gl.uniform1ui(location, v);\n  };\n}\n\nfunction uintArraySetter(gl, location) {\n  return function(v) {\n    gl.uniform1uiv(location, v);\n  };\n}\n\nfunction uintVec2Setter(gl, location) {\n  return function(v) {\n    gl.uniform2uiv(location, v);\n  };\n}\n\nfunction uintVec3Setter(gl, location) {\n  return function(v) {\n    gl.uniform3uiv(location, v);\n  };\n}\n\nfunction uintVec4Setter(gl, location) {\n  return function(v) {\n    gl.uniform4uiv(location, v);\n  };\n}\n\nfunction floatMat2Setter(gl, location) {\n  return function(v) {\n    gl.uniformMatrix2fv(location, false, v);\n  };\n}\n\nfunction floatMat3Setter(gl, location) {\n  return function(v) {\n    gl.uniformMatrix3fv(location, false, v);\n  };\n}\n\nfunction floatMat4Setter(gl, location) {\n  return function(v) {\n    gl.uniformMatrix4fv(location, false, v);\n  };\n}\n\nfunction floatMat23Setter(gl, location) {\n  return function(v) {\n    gl.uniformMatrix2x3fv(location, false, v);\n  };\n}\n\nfunction floatMat32Setter(gl, location) {\n  return function(v) {\n    gl.uniformMatrix3x2fv(location, false, v);\n  };\n}\n\nfunction floatMat24Setter(gl, location) {\n  return function(v) {\n    gl.uniformMatrix2x4fv(location, false, v);\n  };\n}\n\nfunction floatMat42Setter(gl, location) {\n  return function(v) {\n    gl.uniformMatrix4x2fv(location, false, v);\n  };\n}\n\nfunction floatMat34Setter(gl, location) {\n  return function(v) {\n    gl.uniformMatrix3x4fv(location, false, v);\n  };\n}\n\nfunction floatMat43Setter(gl, location) {\n  return function(v) {\n    gl.uniformMatrix4x3fv(location, false, v);\n  };\n}\n\nfunction samplerSetter(gl, type, unit, location) {\n  const bindPoint = getBindPointForSamplerType(gl, type);\n  return isWebGL2(gl) ? function(textureOrPair) {\n    let texture;\n    let sampler;\n    if (!textureOrPair || isTexture(gl, textureOrPair)) {\n      texture = textureOrPair;\n      sampler = null;\n    } else {\n      texture = textureOrPair.texture;\n      sampler = textureOrPair.sampler;\n    }\n    gl.uniform1i(location, unit);\n    gl.activeTexture(TEXTURE0 + unit);\n    gl.bindTexture(bindPoint, texture);\n    gl.bindSampler(unit, sampler);\n  } : function(texture) {\n    gl.uniform1i(location, unit);\n    gl.activeTexture(TEXTURE0 + unit);\n    gl.bindTexture(bindPoint, texture);\n  };\n}\n\nfunction samplerArraySetter(gl, type, unit, location, size) {\n  const bindPoint = getBindPointForSamplerType(gl, type);\n  const units = new Int32Array(size);\n  for (let ii = 0; ii < size; ++ii) {\n    units[ii] = unit + ii;\n  }\n\n  return isWebGL2(gl) ? function(textures) {\n    gl.uniform1iv(location, units);\n    textures.forEach(function(textureOrPair, index) {\n      gl.activeTexture(TEXTURE0 + units[index]);\n      let texture;\n      let sampler;\n      if (!textureOrPair || isTexture(gl, textureOrPair)) {\n        texture = textureOrPair;\n        sampler = null;\n      } else {\n        texture = textureOrPair.texture;\n        sampler = textureOrPair.sampler;\n      }\n      gl.bindSampler(unit, sampler);\n      gl.bindTexture(bindPoint, texture);\n    });\n  } : function(textures) {\n    gl.uniform1iv(location, units);\n    textures.forEach(function(texture, index) {\n      gl.activeTexture(TEXTURE0 + units[index]);\n      gl.bindTexture(bindPoint, texture);\n    });\n  };\n}\n\ntypeMap[FLOAT]                         = { Type: Float32Array, size:  4, setter: floatSetter,      arraySetter: floatArraySetter, };\ntypeMap[FLOAT_VEC2]                    = { Type: Float32Array, size:  8, setter: floatVec2Setter,  cols: 2, };\ntypeMap[FLOAT_VEC3]                    = { Type: Float32Array, size: 12, setter: floatVec3Setter,  cols: 3, };\ntypeMap[FLOAT_VEC4]                    = { Type: Float32Array, size: 16, setter: floatVec4Setter,  cols: 4, };\ntypeMap[INT]                           = { Type: Int32Array,   size:  4, setter: intSetter,        arraySetter: intArraySetter, };\ntypeMap[INT_VEC2]                      = { Type: Int32Array,   size:  8, setter: intVec2Setter,    cols: 2, };\ntypeMap[INT_VEC3]                      = { Type: Int32Array,   size: 12, setter: intVec3Setter,    cols: 3, };\ntypeMap[INT_VEC4]                      = { Type: Int32Array,   size: 16, setter: intVec4Setter,    cols: 4, };\ntypeMap[UNSIGNED_INT]                  = { Type: Uint32Array,  size:  4, setter: uintSetter,       arraySetter: uintArraySetter, };\ntypeMap[UNSIGNED_INT_VEC2]             = { Type: Uint32Array,  size:  8, setter: uintVec2Setter,   cols: 2, };\ntypeMap[UNSIGNED_INT_VEC3]             = { Type: Uint32Array,  size: 12, setter: uintVec3Setter,   cols: 3, };\ntypeMap[UNSIGNED_INT_VEC4]             = { Type: Uint32Array,  size: 16, setter: uintVec4Setter,   cols: 4, };\ntypeMap[BOOL]                          = { Type: Uint32Array,  size:  4, setter: intSetter,        arraySetter: intArraySetter, };\ntypeMap[BOOL_VEC2]                     = { Type: Uint32Array,  size:  8, setter: intVec2Setter,    cols: 2, };\ntypeMap[BOOL_VEC3]                     = { Type: Uint32Array,  size: 12, setter: intVec3Setter,    cols: 3, };\ntypeMap[BOOL_VEC4]                     = { Type: Uint32Array,  size: 16, setter: intVec4Setter,    cols: 4, };\ntypeMap[FLOAT_MAT2]                    = { Type: Float32Array, size: 32, setter: floatMat2Setter,  rows: 2, cols: 2, };\ntypeMap[FLOAT_MAT3]                    = { Type: Float32Array, size: 48, setter: floatMat3Setter,  rows: 3, cols: 3, };\ntypeMap[FLOAT_MAT4]                    = { Type: Float32Array, size: 64, setter: floatMat4Setter,  rows: 4, cols: 4, };\ntypeMap[FLOAT_MAT2x3]                  = { Type: Float32Array, size: 32, setter: floatMat23Setter, rows: 2, cols: 3, };\ntypeMap[FLOAT_MAT2x4]                  = { Type: Float32Array, size: 32, setter: floatMat24Setter, rows: 2, cols: 4, };\ntypeMap[FLOAT_MAT3x2]                  = { Type: Float32Array, size: 48, setter: floatMat32Setter, rows: 3, cols: 2, };\ntypeMap[FLOAT_MAT3x4]                  = { Type: Float32Array, size: 48, setter: floatMat34Setter, rows: 3, cols: 4, };\ntypeMap[FLOAT_MAT4x2]                  = { Type: Float32Array, size: 64, setter: floatMat42Setter, rows: 4, cols: 2, };\ntypeMap[FLOAT_MAT4x3]                  = { Type: Float32Array, size: 64, setter: floatMat43Setter, rows: 4, cols: 3, };\ntypeMap[SAMPLER_2D]                    = { Type: null,         size:  0, setter: samplerSetter,    arraySetter: samplerArraySetter, bindPoint: TEXTURE_2D$1,       };\ntypeMap[SAMPLER_CUBE]                  = { Type: null,         size:  0, setter: samplerSetter,    arraySetter: samplerArraySetter, bindPoint: TEXTURE_CUBE_MAP, };\ntypeMap[SAMPLER_3D]                    = { Type: null,         size:  0, setter: samplerSetter,    arraySetter: samplerArraySetter, bindPoint: TEXTURE_3D,       };\ntypeMap[SAMPLER_2D_SHADOW]             = { Type: null,         size:  0, setter: samplerSetter,    arraySetter: samplerArraySetter, bindPoint: TEXTURE_2D$1,       };\ntypeMap[SAMPLER_2D_ARRAY]              = { Type: null,         size:  0, setter: samplerSetter,    arraySetter: samplerArraySetter, bindPoint: TEXTURE_2D_ARRAY, };\ntypeMap[SAMPLER_2D_ARRAY_SHADOW]       = { Type: null,         size:  0, setter: samplerSetter,    arraySetter: samplerArraySetter, bindPoint: TEXTURE_2D_ARRAY, };\ntypeMap[SAMPLER_CUBE_SHADOW]           = { Type: null,         size:  0, setter: samplerSetter,    arraySetter: samplerArraySetter, bindPoint: TEXTURE_CUBE_MAP, };\ntypeMap[INT_SAMPLER_2D]                = { Type: null,         size:  0, setter: samplerSetter,    arraySetter: samplerArraySetter, bindPoint: TEXTURE_2D$1,       };\ntypeMap[INT_SAMPLER_3D]                = { Type: null,         size:  0, setter: samplerSetter,    arraySetter: samplerArraySetter, bindPoint: TEXTURE_3D,       };\ntypeMap[INT_SAMPLER_CUBE]              = { Type: null,         size:  0, setter: samplerSetter,    arraySetter: samplerArraySetter, bindPoint: TEXTURE_CUBE_MAP, };\ntypeMap[INT_SAMPLER_2D_ARRAY]          = { Type: null,         size:  0, setter: samplerSetter,    arraySetter: samplerArraySetter, bindPoint: TEXTURE_2D_ARRAY, };\ntypeMap[UNSIGNED_INT_SAMPLER_2D]       = { Type: null,         size:  0, setter: samplerSetter,    arraySetter: samplerArraySetter, bindPoint: TEXTURE_2D$1,       };\ntypeMap[UNSIGNED_INT_SAMPLER_3D]       = { Type: null,         size:  0, setter: samplerSetter,    arraySetter: samplerArraySetter, bindPoint: TEXTURE_3D,       };\ntypeMap[UNSIGNED_INT_SAMPLER_CUBE]     = { Type: null,         size:  0, setter: samplerSetter,    arraySetter: samplerArraySetter, bindPoint: TEXTURE_CUBE_MAP, };\ntypeMap[UNSIGNED_INT_SAMPLER_2D_ARRAY] = { Type: null,         size:  0, setter: samplerSetter,    arraySetter: samplerArraySetter, bindPoint: TEXTURE_2D_ARRAY, };\n\nfunction floatAttribSetter(gl, index) {\n  return function(b) {\n    if (b.value) {\n      gl.disableVertexAttribArray(index);\n      switch (b.value.length) {\n        case 4:\n          gl.vertexAttrib4fv(index, b.value);\n          break;\n        case 3:\n          gl.vertexAttrib3fv(index, b.value);\n          break;\n        case 2:\n          gl.vertexAttrib2fv(index, b.value);\n          break;\n        case 1:\n          gl.vertexAttrib1fv(index, b.value);\n          break;\n        default:\n          throw new Error('the length of a float constant value must be between 1 and 4!');\n      }\n    } else {\n      gl.bindBuffer(ARRAY_BUFFER, b.buffer);\n      gl.enableVertexAttribArray(index);\n      gl.vertexAttribPointer(\n          index, b.numComponents || b.size, b.type || FLOAT, b.normalize || false, b.stride || 0, b.offset || 0);\n      if (gl.vertexAttribDivisor) {\n        gl.vertexAttribDivisor(index, b.divisor || 0);\n      }\n    }\n  };\n}\n\nfunction intAttribSetter(gl, index) {\n  return function(b) {\n    if (b.value) {\n      gl.disableVertexAttribArray(index);\n      if (b.value.length === 4) {\n        gl.vertexAttrib4iv(index, b.value);\n      } else {\n        throw new Error('The length of an integer constant value must be 4!');\n      }\n    } else {\n      gl.bindBuffer(ARRAY_BUFFER, b.buffer);\n      gl.enableVertexAttribArray(index);\n      gl.vertexAttribIPointer(\n          index, b.numComponents || b.size, b.type || INT, b.stride || 0, b.offset || 0);\n      if (gl.vertexAttribDivisor) {\n        gl.vertexAttribDivisor(index, b.divisor || 0);\n      }\n    }\n  };\n}\n\nfunction uintAttribSetter(gl, index) {\n  return function(b) {\n    if (b.value) {\n      gl.disableVertexAttribArray(index);\n      if (b.value.length === 4) {\n        gl.vertexAttrib4uiv(index, b.value);\n      } else {\n        throw new Error('The length of an unsigned integer constant value must be 4!');\n      }\n    } else {\n      gl.bindBuffer(ARRAY_BUFFER, b.buffer);\n      gl.enableVertexAttribArray(index);\n      gl.vertexAttribIPointer(\n          index, b.numComponents || b.size, b.type || UNSIGNED_INT, b.stride || 0, b.offset || 0);\n      if (gl.vertexAttribDivisor) {\n        gl.vertexAttribDivisor(index, b.divisor || 0);\n      }\n    }\n  };\n}\n\nfunction matAttribSetter(gl, index, typeInfo) {\n  const defaultSize = typeInfo.size;\n  const count = typeInfo.count;\n\n  return function(b) {\n    gl.bindBuffer(ARRAY_BUFFER, b.buffer);\n    const numComponents = b.size || b.numComponents || defaultSize;\n    const size = numComponents / count;\n    const type = b.type || FLOAT;\n    const typeInfo = typeMap[type];\n    const stride = typeInfo.size * numComponents;\n    const normalize = b.normalize || false;\n    const offset = b.offset || 0;\n    const rowOffset = stride / count;\n    for (let i = 0; i < count; ++i) {\n      gl.enableVertexAttribArray(index + i);\n      gl.vertexAttribPointer(\n          index + i, size, type, normalize, stride, offset + rowOffset * i);\n      if (gl.vertexAttribDivisor) {\n        gl.vertexAttribDivisor(index + i, b.divisor || 0);\n      }\n    }\n  };\n}\n\n\n\nconst attrTypeMap = {};\nattrTypeMap[FLOAT]             = { size:  4, setter: floatAttribSetter, };\nattrTypeMap[FLOAT_VEC2]        = { size:  8, setter: floatAttribSetter, };\nattrTypeMap[FLOAT_VEC3]        = { size: 12, setter: floatAttribSetter, };\nattrTypeMap[FLOAT_VEC4]        = { size: 16, setter: floatAttribSetter, };\nattrTypeMap[INT]               = { size:  4, setter: intAttribSetter,   };\nattrTypeMap[INT_VEC2]          = { size:  8, setter: intAttribSetter,   };\nattrTypeMap[INT_VEC3]          = { size: 12, setter: intAttribSetter,   };\nattrTypeMap[INT_VEC4]          = { size: 16, setter: intAttribSetter,   };\nattrTypeMap[UNSIGNED_INT]      = { size:  4, setter: uintAttribSetter,  };\nattrTypeMap[UNSIGNED_INT_VEC2] = { size:  8, setter: uintAttribSetter,  };\nattrTypeMap[UNSIGNED_INT_VEC3] = { size: 12, setter: uintAttribSetter,  };\nattrTypeMap[UNSIGNED_INT_VEC4] = { size: 16, setter: uintAttribSetter,  };\nattrTypeMap[BOOL]              = { size:  4, setter: intAttribSetter,   };\nattrTypeMap[BOOL_VEC2]         = { size:  8, setter: intAttribSetter,   };\nattrTypeMap[BOOL_VEC3]         = { size: 12, setter: intAttribSetter,   };\nattrTypeMap[BOOL_VEC4]         = { size: 16, setter: intAttribSetter,   };\nattrTypeMap[FLOAT_MAT2]        = { size:  4, setter: matAttribSetter,   count: 2, };\nattrTypeMap[FLOAT_MAT3]        = { size:  9, setter: matAttribSetter,   count: 3, };\nattrTypeMap[FLOAT_MAT4]        = { size: 16, setter: matAttribSetter,   count: 4, };\n\nconst errorRE = /ERROR:\\s*\\d+:(\\d+)/gi;\nfunction addLineNumbersWithError(src, log = '', lineOffset = 0) {\n  // Note: Error message formats are not defined by any spec so this may or may not work.\n  const matches = [...log.matchAll(errorRE)];\n  const lineNoToErrorMap = new Map(matches.map((m, ndx) => {\n    const lineNo = parseInt(m[1]);\n    const next = matches[ndx + 1];\n    const end = next ? next.index : log.length;\n    const msg = log.substring(m.index, end);\n    return [lineNo - 1, msg];\n  }));\n  return src.split('\\n').map((line, lineNo) => {\n    const err = lineNoToErrorMap.get(lineNo);\n    return `${lineNo + 1 + lineOffset}: ${line}${err ? `\\n\\n^^^ ${err}` : ''}`;\n  }).join('\\n');\n}\n\n/**\n * Error Callback\n * @callback ErrorCallback\n * @param {string} msg error message.\n * @param {number} [lineOffset] amount to add to line number\n * @memberOf module:twgl\n */\n\n/**\n * Program Callback\n * @callback ProgramCallback\n * @param {string} [err] error message, falsy if no error\n * @param {WebGLProgram|module:twgl.ProgramInfo} [result] the program or programInfo\n */\n\nconst spaceRE = /^[ \\t]*\\n/;\n\n/**\n * Remove the first end of line because WebGL 2.0 requires\n * #version 300 es\n * as the first line. No whitespace allowed before that line\n * so\n *\n * <script>\n * #version 300 es\n * </script>\n *\n * Has one line before it which is invalid according to GLSL ES 3.00\n *\n * @param {string} shaderSource The source of the shader\n * @returns {{shaderSource: string, lineOffset: number}}\n * @private\n */\nfunction prepShaderSource(shaderSource) {\n  let lineOffset = 0;\n  if (spaceRE.test(shaderSource)) {\n    lineOffset = 1;\n    shaderSource = shaderSource.replace(spaceRE, '');\n  }\n  return {lineOffset, shaderSource};\n}\n\n/**\n * @param {module:twgl.ProgramOptions} progOptions\n * @param {string} msg\n * @return null\n * @private\n */\nfunction reportError(progOptions, msg) {\n  progOptions.errorCallback(msg);\n  if (progOptions.callback) {\n    setTimeout(() => {\n      progOptions.callback(`${msg}\\n${progOptions.errors.join('\\n')}`);\n    });\n  }\n  return null;\n}\n\n/**\n * Check Shader status\n * @param {WebGLRenderingContext} gl The WebGLRenderingContext to use.\n * @param {number} shaderType The shader type\n * @param {WebGLShader} shader The shader\n * @param {ErrorCallback} [errFn] function to receive error message.\n * @return {string} errors or empty string\n * @private\n */\nfunction checkShaderStatus(gl, shaderType, shader, errFn) {\n  errFn = errFn || error;\n  // Check the compile status\n  const compiled = gl.getShaderParameter(shader, COMPILE_STATUS);\n  if (!compiled) {\n    // Something went wrong during compilation; get the error\n    const lastError = gl.getShaderInfoLog(shader);\n    const {lineOffset, shaderSource} = prepShaderSource(gl.getShaderSource(shader));\n    const error = `${addLineNumbersWithError(shaderSource, lastError, lineOffset)}\\nError compiling ${glEnumToString(gl, shaderType)}: ${lastError}`;\n    errFn(error);\n    return error;\n  }\n  return '';\n}\n\n/**\n * @typedef {Object} FullProgramSpec\n * @property {string[]} shaders the shader source or element ids.\n * @property {function(string)} [errorCallback] callback for errors\n * @property {Object.<string,number>|string[]} [attribLocations] a attribute name to location map, or array of attribute names where index = location.\n * @property {(module:twgl.BufferInfo|Object.<string,module:twgl.AttribInfo>|string[])} [transformFeedbackVaryings] If passed\n *   a BufferInfo will use the attribs names inside. If passed an object of AttribInfos will use the names from that object. Otherwise\n *   you can pass an array of names.\n * @property {number} [transformFeedbackMode] the mode to pass `gl.transformFeedbackVaryings`. Defaults to `SEPARATE_ATTRIBS`.\n * @property {ProgramCallback} [callback] callback for async program compilation.\n * @memberOf module:twgl\n */\n\n/**\n * @typedef {string[]|module:twgl.FullProgramSpec} ProgramSpec\n * @memberOf module:twgl\n */\n\n/**\n * @typedef {Object} ProgramOptions\n * @property {function(string)} [errorCallback] callback for errors\n * @property {Object.<string,number>|string[]} [attribLocations] a attribute name to location map, or array of attribute names where index = location.\n * @property {(module:twgl.BufferInfo|Object.<string,module:twgl.AttribInfo>|string[])} [transformFeedbackVaryings] If passed\n *   a BufferInfo will use the attribs names inside. If passed an object of AttribInfos will use the names from that object. Otherwise\n *   you can pass an array of names.\n * @property {number} [transformFeedbackMode] the mode to pass `gl.transformFeedbackVaryings`. Defaults to `SEPARATE_ATTRIBS`.\n * @property {ProgramCallback} [callback] callback for async program compilation.\n * @memberOf module:twgl\n */\n\n/**\n * Gets the program options based on all these optional arguments\n * @param {module:twgl.ProgramOptions|string[]} [opt_attribs] Options for the program or an array of attribs names. Locations will be assigned by index if not passed in\n * @param {number[]} [opt_locations] The locations for the. A parallel array to opt_attribs letting you assign locations.\n * @param {module:twgl.ErrorCallback} [opt_errorCallback] callback for errors. By default it just prints an error to the console\n *        on error. If you want something else pass an callback. It's passed an error message.\n * @return {module:twgl.ProgramOptions} an instance of ProgramOptions based on the arguments passed in\n * @private\n */\nfunction getProgramOptions(opt_attribs, opt_locations, opt_errorCallback) {\n  let transformFeedbackVaryings;\n  let transformFeedbackMode;\n  let callback;\n  if (typeof opt_locations === 'function') {\n    opt_errorCallback = opt_locations;\n    opt_locations = undefined;\n  }\n  if (typeof opt_attribs === 'function') {\n    opt_errorCallback = opt_attribs;\n    opt_attribs = undefined;\n  } else if (opt_attribs && !Array.isArray(opt_attribs)) {\n    const opt = opt_attribs;\n    opt_errorCallback = opt.errorCallback;\n    opt_attribs = opt.attribLocations;\n    transformFeedbackVaryings = opt.transformFeedbackVaryings;\n    transformFeedbackMode = opt.transformFeedbackMode;\n    callback = opt.callback;\n  }\n\n  const errorCallback = opt_errorCallback || error;\n  const errors = [];\n  const options = {\n    errorCallback(msg, ...args) {\n      errors.push(msg);\n      errorCallback(msg, ...args);\n    },\n    transformFeedbackVaryings,\n    transformFeedbackMode,\n    callback,\n    errors,\n  };\n\n  {\n    let attribLocations = {};\n    if (Array.isArray(opt_attribs)) {\n      opt_attribs.forEach(function(attrib,  ndx) {\n        attribLocations[attrib] = opt_locations ? opt_locations[ndx] : ndx;\n      });\n    } else {\n      attribLocations = opt_attribs || {};\n    }\n    options.attribLocations = attribLocations;\n  }\n\n  return options;\n}\n\nconst defaultShaderType = [\n  \"VERTEX_SHADER\",\n  \"FRAGMENT_SHADER\",\n];\n\nfunction getShaderTypeFromScriptType(gl, scriptType) {\n  if (scriptType.indexOf(\"frag\") >= 0) {\n    return FRAGMENT_SHADER;\n  } else if (scriptType.indexOf(\"vert\") >= 0) {\n    return VERTEX_SHADER;\n  }\n  return undefined;\n}\n\nfunction deleteProgramAndShaders(gl, program, notThese) {\n  const shaders = gl.getAttachedShaders(program);\n  for (const shader of shaders) {\n    if (notThese.has(shader)) {\n      gl.deleteShader(shader);\n    }\n  }\n  gl.deleteProgram(program);\n}\n\nconst wait = (ms = 0) => new Promise(resolve => setTimeout(resolve, ms));\n\nfunction createProgramNoCheck(gl, shaders, programOptions) {\n  const program = gl.createProgram();\n  const {\n    attribLocations,\n    transformFeedbackVaryings,\n    transformFeedbackMode,\n  } = getProgramOptions(programOptions);\n\n  for (let ndx = 0; ndx < shaders.length; ++ndx) {\n    let shader = shaders[ndx];\n    if (typeof shader === 'string') {\n      const elem = getElementById(shader);\n      const src = elem ? elem.text : shader;\n      let type = gl[defaultShaderType[ndx]];\n      if (elem && elem.type) {\n        type = getShaderTypeFromScriptType(gl, elem.type) || type;\n      }\n      shader = gl.createShader(type);\n      gl.shaderSource(shader, prepShaderSource(src).shaderSource);\n      gl.compileShader(shader);\n      gl.attachShader(program, shader);\n    }\n  }\n\n  Object.entries(attribLocations).forEach(([attrib, loc]) => gl.bindAttribLocation(program, loc, attrib));\n\n  {\n    let varyings = transformFeedbackVaryings;\n    if (varyings) {\n      if (varyings.attribs) {\n        varyings = varyings.attribs;\n      }\n      if (!Array.isArray(varyings)) {\n        varyings = Object.keys(varyings);\n      }\n      gl.transformFeedbackVaryings(program, varyings, transformFeedbackMode || SEPARATE_ATTRIBS);\n    }\n  }\n\n  gl.linkProgram(program);\n  return program;\n}\n\n/**\n * Creates a program, attaches (and/or compiles) shaders, binds attrib locations, links the\n * program.\n *\n * NOTE: There are 4 signatures for this function\n *\n *     twgl.createProgram(gl, [vs, fs], options);\n *     twgl.createProgram(gl, [vs, fs], opt_errFunc);\n *     twgl.createProgram(gl, [vs, fs], opt_attribs, opt_errFunc);\n *     twgl.createProgram(gl, [vs, fs], opt_attribs, opt_locations, opt_errFunc);\n *\n * @param {WebGLRenderingContext} gl The WebGLRenderingContext to use.\n * @param {WebGLShader[]|string[]} shaders The shaders to attach, or element ids for their source, or strings that contain their source\n * @param {module:twgl.ProgramOptions|string[]|module:twgl.ErrorCallback} [opt_attribs] Options for the program or an array of attribs names or an error callback. Locations will be assigned by index if not passed in\n * @param {number[]} [opt_locations|module:twgl.ErrorCallback] The locations for the. A parallel array to opt_attribs letting you assign locations or an error callback.\n * @param {module:twgl.ErrorCallback} [opt_errorCallback] callback for errors. By default it just prints an error to the console\n *        on error. If you want something else pass an callback. It's passed an error message.\n * @return {WebGLProgram?} the created program or null if error of a callback was provided.\n * @memberOf module:twgl/programs\n */\nfunction createProgram(\n    gl, shaders, opt_attribs, opt_locations, opt_errorCallback) {\n  // This code is really convoluted, because it may or may not be async\n  // Maybe it would be better to have a separate function\n  const progOptions = getProgramOptions(opt_attribs, opt_locations, opt_errorCallback);\n  const shaderSet = new Set(shaders);\n  const program = createProgramNoCheck(gl, shaders, progOptions);\n\n  function hasErrors(gl, program) {\n    const errors = getProgramErrors(gl, program, progOptions.errorCallback);\n    if (errors) {\n      deleteProgramAndShaders(gl, program, shaderSet);\n    }\n    return errors;\n  }\n\n  if (progOptions.callback) {\n    waitForProgramLinkCompletionAsync(gl, program).then(() => {\n      const errors = hasErrors(gl, program);\n      progOptions.callback(errors, errors ? undefined : program);\n    });\n    return undefined;\n  }\n\n  return hasErrors(gl, program) ? undefined : program;\n}\n\n/**\n * This only works because the functions it wraps the first 2 arguments\n * are gl and any, followed by things that become programOptions\n * @private\n */\nfunction wrapCallbackFnToAsyncFn(fn) {\n  return function(gl, arg1, ...args) {\n    return new Promise((resolve, reject) => {\n      const programOptions = getProgramOptions(...args);\n      programOptions.callback = (err, program) => {\n        if (err) {\n          reject(err);\n        } else {\n          resolve(program);\n        }\n      };\n      fn(gl, arg1, programOptions);\n    });\n  };\n}\n\n/**\n * Same as createProgram but returns a promise\n *\n * NOTE: There are 4 signatures for this function\n *\n *     twgl.createProgramAsync(gl, [vs, fs], options);\n *     twgl.createProgramAsync(gl, [vs, fs], opt_errFunc);\n *     twgl.createProgramAsync(gl, [vs, fs], opt_attribs, opt_errFunc);\n *     twgl.createProgramAsync(gl, [vs, fs], opt_attribs, opt_locations, opt_errFunc);\n *\n * @function\n * @param {WebGLRenderingContext} gl The WebGLRenderingContext to use.\n * @param {WebGLShader[]|string[]} shaders The shaders to attach, or element ids for their source, or strings that contain their source\n * @param {module:twgl.ProgramOptions|string[]|module:twgl.ErrorCallback} [opt_attribs] Options for the program or an array of attribs names or an error callback. Locations will be assigned by index if not passed in\n * @param {number[]} [opt_locations|module:twgl.ErrorCallback] The locations for the. A parallel array to opt_attribs letting you assign locations or an error callback.\n * @param {module:twgl.ErrorCallback} [opt_errorCallback] callback for errors. By default it just prints an error to the console\n *        on error. If you want something else pass an callback. It's passed an error message.\n * @return {Promise<WebGLProgram>} The created program\n * @memberOf module:twgl/programs\n */\nconst createProgramAsync = wrapCallbackFnToAsyncFn(createProgram);\n\n/**\n * Same as createProgramInfo but returns a promise\n * @function\n * @param {WebGLRenderingContext} gl The WebGLRenderingContext\n *        to use.\n * @param {string[]} shaderSources Array of sources for the\n *        shaders or ids. The first is assumed to be the vertex shader,\n *        the second the fragment shader.\n * @param {module:twgl.ProgramOptions|string[]|module:twgl.ErrorCallback} [opt_attribs] Options for the program or an array of attribs names or an error callback. Locations will be assigned by index if not passed in\n * @param {number[]} [opt_locations|module:twgl.ErrorCallback] The locations for the. A parallel array to opt_attribs letting you assign locations or an error callback.\n * @param {module:twgl.ErrorCallback} [opt_errorCallback] callback for errors. By default it just prints an error to the console\n *        on error. If you want something else pass an callback. It's passed an error message.\n * @return {Promise<module:twgl.ProgramInfo>} The created ProgramInfo\n * @memberOf module:twgl/programs\n */\nconst createProgramInfoAsync = wrapCallbackFnToAsyncFn(createProgramInfo);\n\nasync function waitForProgramLinkCompletionAsync(gl, program) {\n  const ext = gl.getExtension('KHR_parallel_shader_compile');\n  const checkFn = ext\n      ? (gl, program) => gl.getProgramParameter(program, ext.COMPLETION_STATUS_KHR)\n      : () => true;\n\n  let waitTime = 0;\n  do {\n    await wait(waitTime);  // must wait at least once\n    waitTime = 1000 / 60;\n  } while (!checkFn(gl, program));\n}\n\nasync function waitForAllProgramsLinkCompletionAsync(gl, programs) {\n  for (const program of Object.values(programs)) {\n    await waitForProgramLinkCompletionAsync(gl, program);\n  }\n}\n\n/**\n * Check a program's link status\n * @param {WebGLRenderingContext} gl The WebGLRenderingContext to use.\n * @param {WebGLProgram} program Program to check\n * @param {ErrorCallback} [errFn] func for errors\n * @return {string?} errors if program is failed, else undefined\n * @private\n */\nfunction getProgramErrors(gl, program, errFn) {\n  errFn = errFn || error;\n  // Check the link status\n  const linked = gl.getProgramParameter(program, LINK_STATUS);\n  if (!linked) {\n    // something went wrong with the link\n    const lastError = gl.getProgramInfoLog(program);\n    errFn(`Error in program linking: ${lastError}`);\n    // print any errors from these shaders\n    const shaders = gl.getAttachedShaders(program);\n    const errors = shaders.map(shader => checkShaderStatus(gl, gl.getShaderParameter(shader, gl.SHADER_TYPE), shader, errFn));\n    return `${lastError}\\n${errors.filter(_ => _).join('\\n')}`;\n  }\n  return undefined;\n}\n\n/**\n * Creates a program from 2 script tags.\n *\n * NOTE: There are 4 signatures for this function\n *\n *     twgl.createProgramFromScripts(gl, [vs, fs], opt_options);\n *     twgl.createProgramFromScripts(gl, [vs, fs], opt_errFunc);\n *     twgl.createProgramFromScripts(gl, [vs, fs], opt_attribs, opt_errFunc);\n *     twgl.createProgramFromScripts(gl, [vs, fs], opt_attribs, opt_locations, opt_errFunc);\n *\n * @param {WebGLRenderingContext} gl The WebGLRenderingContext\n *        to use.\n * @param {string[]} shaderScriptIds Array of ids of the script\n *        tags for the shaders. The first is assumed to be the\n *        vertex shader, the second the fragment shader.\n * @param {module:twgl.ProgramOptions|string[]|module:twgl.ErrorCallback} [opt_attribs] Options for the program or an array of attribs names or an error callback. Locations will be assigned by index if not passed in\n * @param {number[]} [opt_locations|module:twgl.ErrorCallback] The locations for the. A parallel array to opt_attribs letting you assign locations or an error callback.\n * @param {module:twgl.ErrorCallback} [opt_errorCallback] callback for errors. By default it just prints an error to the console\n *        on error. If you want something else pass an callback. It's passed an error message.\n * @return {WebGLProgram?} the created program or null if error or a callback was provided.\n * @memberOf module:twgl/programs\n */\nfunction createProgramFromScripts(\n    gl, shaderScriptIds, opt_attribs, opt_locations, opt_errorCallback) {\n  const progOptions = getProgramOptions(opt_attribs, opt_locations, opt_errorCallback);\n  const shaders = [];\n  for (const scriptId of shaderScriptIds) {\n    const shaderScript = getElementById(scriptId);\n    if (!shaderScript) {\n      return reportError(progOptions, `unknown script element: ${scriptId}`);\n    }\n    shaders.push(shaderScript.text);\n  }\n  return createProgram(gl, shaders, progOptions);\n}\n\n/**\n * Creates a program from 2 sources.\n *\n * NOTE: There are 4 signatures for this function\n *\n *     twgl.createProgramFromSource(gl, [vs, fs], opt_options);\n *     twgl.createProgramFromSource(gl, [vs, fs], opt_errFunc);\n *     twgl.createProgramFromSource(gl, [vs, fs], opt_attribs, opt_errFunc);\n *     twgl.createProgramFromSource(gl, [vs, fs], opt_attribs, opt_locations, opt_errFunc);\n *\n * @param {WebGLRenderingContext} gl The WebGLRenderingContext\n *        to use.\n * @param {string[]} shaderSources Array of sources for the\n *        shaders. The first is assumed to be the vertex shader,\n *        the second the fragment shader.\n * @param {module:twgl.ProgramOptions|string[]|module:twgl.ErrorCallback} [opt_attribs] Options for the program or an array of attribs names or an error callback. Locations will be assigned by index if not passed in\n * @param {number[]} [opt_locations|module:twgl.ErrorCallback] The locations for the. A parallel array to opt_attribs letting you assign locations or an error callback.\n * @param {module:twgl.ErrorCallback} [opt_errorCallback] callback for errors. By default it just prints an error to the console\n *        on error. If you want something else pass an callback. It's passed an error message.\n * @return {WebGLProgram?} the created program or null if error or a callback was provided.\n * @memberOf module:twgl/programs\n */\nfunction createProgramFromSources(\n    gl, shaderSources, opt_attribs, opt_locations, opt_errorCallback) {\n  return createProgram(gl, shaderSources, opt_attribs, opt_locations, opt_errorCallback);\n}\n\n/**\n * Returns true if attribute/uniform is a reserved/built in\n *\n * It makes no sense to me why GL returns these because it's\n * illegal to call `gl.getUniformLocation` and `gl.getAttribLocation`\n * with names that start with `gl_` (and `webgl_` in WebGL)\n *\n * I can only assume they are there because they might count\n * when computing the number of uniforms/attributes used when you want to\n * know if you are near the limit. That doesn't really make sense\n * to me but the fact that these get returned are in the spec.\n *\n * @param {WebGLActiveInfo} info As returned from `gl.getActiveUniform` or\n *    `gl.getActiveAttrib`.\n * @return {bool} true if it's reserved\n * @private\n */\nfunction isBuiltIn(info) {\n  const name = info.name;\n  return name.startsWith(\"gl_\") || name.startsWith(\"webgl_\");\n}\n\nconst tokenRE = /(\\.|\\[|]|\\w+)/g;\nconst isDigit = s => s >= '0' && s <= '9';\nfunction addSetterToUniformTree(fullPath, setter, node, uniformSetters) {\n  const tokens = fullPath.split(tokenRE).filter(s => s !== '');\n  let tokenNdx = 0;\n  let path = '';\n\n  for (;;) {\n    const token = tokens[tokenNdx++];  // has to be name or number\n    path += token;\n    const isArrayIndex = isDigit(token[0]);\n    const accessor = isArrayIndex\n        ? parseInt(token)\n        : token;\n    if (isArrayIndex) {\n      path += tokens[tokenNdx++];  // skip ']'\n    }\n    const isLastToken = tokenNdx === tokens.length;\n    if (isLastToken) {\n      node[accessor] = setter;\n      break;\n    } else {\n      const token = tokens[tokenNdx++];  // has to be . or [\n      const isArray = token === '[';\n      const child = node[accessor] || (isArray ? [] : {});\n      node[accessor] = child;\n      node = child;\n      uniformSetters[path] = uniformSetters[path] || function(node) {\n        return function(value) {\n          setUniformTree(node, value);\n        };\n      }(child);\n      path += token;\n    }\n  }\n}\n\n/**\n * Creates setter functions for all uniforms of a shader\n * program.\n *\n * @see {@link module:twgl.setUniforms}\n *\n * @param {WebGLRenderingContext} gl The WebGLRenderingContext to use.\n * @param {WebGLProgram} program the program to create setters for.\n * @returns {Object.<string, function>} an object with a setter by name for each uniform\n * @memberOf module:twgl/programs\n */\nfunction createUniformSetters(gl, program) {\n  let textureUnit = 0;\n\n  /**\n   * Creates a setter for a uniform of the given program with it's\n   * location embedded in the setter.\n   * @param {WebGLProgram} program\n   * @param {WebGLUniformInfo} uniformInfo\n   * @returns {function} the created setter.\n   */\n  function createUniformSetter(program, uniformInfo, location) {\n    const isArray = uniformInfo.name.endsWith(\"[0]\");\n    const type = uniformInfo.type;\n    const typeInfo = typeMap[type];\n    if (!typeInfo) {\n      throw new Error(`unknown type: 0x${type.toString(16)}`); // we should never get here.\n    }\n    let setter;\n    if (typeInfo.bindPoint) {\n      // it's a sampler\n      const unit = textureUnit;\n      textureUnit += uniformInfo.size;\n      if (isArray) {\n        setter = typeInfo.arraySetter(gl, type, unit, location, uniformInfo.size);\n      } else {\n        setter = typeInfo.setter(gl, type, unit, location, uniformInfo.size);\n      }\n    } else {\n      if (typeInfo.arraySetter && isArray) {\n        setter = typeInfo.arraySetter(gl, location);\n      } else {\n        setter = typeInfo.setter(gl, location);\n      }\n    }\n    setter.location = location;\n    return setter;\n  }\n\n  const uniformSetters = {};\n  const uniformTree = {};\n  const numUniforms = gl.getProgramParameter(program, ACTIVE_UNIFORMS);\n\n  for (let ii = 0; ii < numUniforms; ++ii) {\n    const uniformInfo = gl.getActiveUniform(program, ii);\n    if (isBuiltIn(uniformInfo)) {\n      continue;\n    }\n    let name = uniformInfo.name;\n    // remove the array suffix.\n    if (name.endsWith(\"[0]\")) {\n      name = name.substr(0, name.length - 3);\n    }\n    const location = gl.getUniformLocation(program, uniformInfo.name);\n    // the uniform will have no location if it's in a uniform block\n    if (location) {\n      const setter = createUniformSetter(program, uniformInfo, location);\n      uniformSetters[name] = setter;\n      addSetterToUniformTree(name, setter, uniformTree, uniformSetters);\n    }\n  }\n\n  return uniformSetters;\n}\n\n/**\n * @typedef {Object} TransformFeedbackInfo\n * @property {number} index index of transform feedback\n * @property {number} type GL type\n * @property {number} size 1 - 4\n * @memberOf module:twgl\n */\n\n/**\n * Create TransformFeedbackInfo for passing to bindTransformFeedbackInfo.\n * @param {WebGLRenderingContext} gl The WebGLRenderingContext to use.\n * @param {WebGLProgram} program an existing WebGLProgram.\n * @return {Object<string, module:twgl.TransformFeedbackInfo>}\n * @memberOf module:twgl\n */\nfunction createTransformFeedbackInfo(gl, program) {\n  const info = {};\n  const numVaryings = gl.getProgramParameter(program, TRANSFORM_FEEDBACK_VARYINGS);\n  for (let ii = 0; ii < numVaryings; ++ii) {\n    const varying = gl.getTransformFeedbackVarying(program, ii);\n    info[varying.name] = {\n      index: ii,\n      type: varying.type,\n      size: varying.size,\n    };\n  }\n  return info;\n}\n\n/**\n * Binds buffers for transform feedback.\n *\n * @param {WebGLRenderingContext} gl The WebGLRenderingContext to use.\n * @param {(module:twgl.ProgramInfo|Object<string, module:twgl.TransformFeedbackInfo>)} transformFeedbackInfo A ProgramInfo or TransformFeedbackInfo.\n * @param {(module:twgl.BufferInfo|Object<string, module:twgl.AttribInfo>)} [bufferInfo] A BufferInfo or set of AttribInfos.\n * @memberOf module:twgl\n */\nfunction bindTransformFeedbackInfo(gl, transformFeedbackInfo, bufferInfo) {\n  if (transformFeedbackInfo.transformFeedbackInfo) {\n    transformFeedbackInfo = transformFeedbackInfo.transformFeedbackInfo;\n  }\n  if (bufferInfo.attribs) {\n    bufferInfo = bufferInfo.attribs;\n  }\n  for (const name in bufferInfo) {\n    const varying = transformFeedbackInfo[name];\n    if (varying) {\n      const buf = bufferInfo[name];\n      if (buf.offset) {\n        gl.bindBufferRange(TRANSFORM_FEEDBACK_BUFFER, varying.index, buf.buffer, buf.offset, buf.size);\n      } else {\n        gl.bindBufferBase(TRANSFORM_FEEDBACK_BUFFER, varying.index, buf.buffer);\n      }\n    }\n  }\n}\n\n/**\n * Creates a transform feedback and sets the buffers\n * @param {WebGLRenderingContext} gl The WebGLRenderingContext to use.\n * @param {module:twgl.ProgramInfo} programInfo A ProgramInfo as returned from {@link module:twgl.createProgramInfo}\n * @param {(module:twgl.BufferInfo|Object<string, module:twgl.AttribInfo>)} [bufferInfo] A BufferInfo or set of AttribInfos.\n * @return {WebGLTransformFeedback} the created transform feedback\n * @memberOf module:twgl\n */\nfunction createTransformFeedback(gl, programInfo, bufferInfo) {\n  const tf = gl.createTransformFeedback();\n  gl.bindTransformFeedback(TRANSFORM_FEEDBACK, tf);\n  gl.useProgram(programInfo.program);\n  bindTransformFeedbackInfo(gl, programInfo, bufferInfo);\n  gl.bindTransformFeedback(TRANSFORM_FEEDBACK, null);\n  return tf;\n}\n\n/**\n * @typedef {Object} UniformData\n * @property {string} name The name of the uniform\n * @property {number} type The WebGL type enum for this uniform\n * @property {number} size The number of elements for this uniform\n * @property {number} blockNdx The block index this uniform appears in\n * @property {number} offset The byte offset in the block for this uniform's value\n * @memberOf module:twgl\n */\n\n/**\n * The specification for one UniformBlockObject\n *\n * @typedef {Object} BlockSpec\n * @property {number} index The index of the block.\n * @property {number} size The size in bytes needed for the block\n * @property {number[]} uniformIndices The indices of the uniforms used by the block. These indices\n *    correspond to entries in a UniformData array in the {@link module:twgl.UniformBlockSpec}.\n * @property {bool} usedByVertexShader Self explanatory\n * @property {bool} usedByFragmentShader Self explanatory\n * @property {bool} used Self explanatory\n * @memberOf module:twgl\n */\n\n/**\n * A `UniformBlockSpec` represents the data needed to create and bind\n * UniformBlockObjects for a given program\n *\n * @typedef {Object} UniformBlockSpec\n * @property {Object.<string, module:twgl.BlockSpec>} blockSpecs The BlockSpec for each block by block name\n * @property {UniformData[]} uniformData An array of data for each uniform by uniform index.\n * @memberOf module:twgl\n */\n\n/**\n * Creates a UniformBlockSpec for the given program.\n *\n * A UniformBlockSpec represents the data needed to create and bind\n * UniformBlockObjects\n *\n * @param {WebGL2RenderingContext} gl A WebGL2 Rendering Context\n * @param {WebGLProgram} program A WebGLProgram for a successfully linked program\n * @return {module:twgl.UniformBlockSpec} The created UniformBlockSpec\n * @memberOf module:twgl/programs\n */\nfunction createUniformBlockSpecFromProgram(gl, program) {\n  const numUniforms = gl.getProgramParameter(program, ACTIVE_UNIFORMS);\n  const uniformData = [];\n  const uniformIndices = [];\n\n  for (let ii = 0; ii < numUniforms; ++ii) {\n    uniformIndices.push(ii);\n    uniformData.push({});\n    const uniformInfo = gl.getActiveUniform(program, ii);\n    uniformData[ii].name = uniformInfo.name;\n  }\n\n  [\n    [ \"UNIFORM_TYPE\", \"type\" ],\n    [ \"UNIFORM_SIZE\", \"size\" ],  // num elements\n    [ \"UNIFORM_BLOCK_INDEX\", \"blockNdx\" ],\n    [ \"UNIFORM_OFFSET\", \"offset\", ],\n  ].forEach(function(pair) {\n    const pname = pair[0];\n    const key = pair[1];\n    gl.getActiveUniforms(program, uniformIndices, gl[pname]).forEach(function(value, ndx) {\n      uniformData[ndx][key] = value;\n    });\n  });\n\n  const blockSpecs = {};\n\n  const numUniformBlocks = gl.getProgramParameter(program, ACTIVE_UNIFORM_BLOCKS);\n  for (let ii = 0; ii < numUniformBlocks; ++ii) {\n    const name = gl.getActiveUniformBlockName(program, ii);\n    const blockSpec = {\n      index: gl.getUniformBlockIndex(program, name),\n      usedByVertexShader: gl.getActiveUniformBlockParameter(program, ii, UNIFORM_BLOCK_REFERENCED_BY_VERTEX_SHADER),\n      usedByFragmentShader: gl.getActiveUniformBlockParameter(program, ii, UNIFORM_BLOCK_REFERENCED_BY_FRAGMENT_SHADER),\n      size: gl.getActiveUniformBlockParameter(program, ii, UNIFORM_BLOCK_DATA_SIZE),\n      uniformIndices: gl.getActiveUniformBlockParameter(program, ii, UNIFORM_BLOCK_ACTIVE_UNIFORM_INDICES),\n    };\n    blockSpec.used = blockSpec.usedByVertexShader || blockSpec.usedByFragmentShader;\n    blockSpecs[name] = blockSpec;\n  }\n\n  return {\n    blockSpecs: blockSpecs,\n    uniformData: uniformData,\n  };\n}\n\nconst arraySuffixRE = /\\[\\d+\\]\\.$/;  // better way to check?\n\nconst pad = (v, padding) => ((v + (padding - 1)) / padding | 0) * padding;\n\nfunction createUniformBlockUniformSetter(view, isArray, rows, cols) {\n  if (isArray || rows) {\n    cols = cols || 1;\n    const numElements = view.length;\n    const totalRows = numElements / 4;\n    return function(value) {\n      let dst = 0;\n      let src = 0;\n      for (let row = 0; row < totalRows; ++row) {\n        for (let col = 0; col < cols; ++col) {\n          view[dst++] = value[src++];\n        }\n        dst += 4 - cols;\n      }\n    };\n  } else {\n    return function(value) {\n      if (value.length) {\n        view.set(value);\n      } else {\n        view[0] = value;\n      }\n    };\n  }\n}\n\n/**\n * Represents a UniformBlockObject including an ArrayBuffer with all the uniform values\n * and a corresponding WebGLBuffer to hold those values on the GPU\n *\n * @typedef {Object} UniformBlockInfo\n * @property {string} name The name of the block\n * @property {ArrayBuffer} array The array buffer that contains the uniform values\n * @property {Float32Array} asFloat A float view on the array buffer. This is useful\n *    inspecting the contents of the buffer in the debugger.\n * @property {WebGLBuffer} buffer A WebGL buffer that will hold a copy of the uniform values for rendering.\n * @property {number} [offset] offset into buffer\n * @property {Object<string, ArrayBufferView>} uniforms A uniform name to ArrayBufferView map.\n *   each Uniform has a correctly typed `ArrayBufferView` into array at the correct offset\n *   and length of that uniform. So for example a float uniform would have a 1 float `Float32Array`\n *   view. A single mat4 would have a 16 element `Float32Array` view. An ivec2 would have an\n *   `Int32Array` view, etc.\n * @property {Object<string, function>} setters A setter for this uniform.\n *   The reason to use setters is elements of arrays are padded to vec4 sizes which\n *   means if you want to set an array of 4 floats you'd need to set 16 values\n *   (or set elements 0, 4, 8, 12). In other words\n *   `someBlockInfo.uniforms.some4FloatArrayUniform.set([0, , , , 1, , , , 2, , , , 3])`\n *   where as the setter handles just passing in [0, 1, 2, 3] either directly as in\n *   `someBlockInfo.setter.some4FloatArrayUniform.set([0, 1, 2, 3])` (not recommended)\n *   or via {@link module:twgl.setBlockUniforms}\n * @memberOf module:twgl\n */\n\n/**\n * Creates a `UniformBlockInfo` for the specified block\n *\n * Note: **If the blockName matches no existing blocks a warning is printed to the console and a dummy\n * `UniformBlockInfo` is returned**. This is because when debugging GLSL\n * it is common to comment out large portions of a shader or for example set\n * the final output to a constant. When that happens blocks get optimized out.\n * If this function did not create dummy blocks your code would crash when debugging.\n *\n * @param {WebGL2RenderingContext} gl A WebGL2RenderingContext\n * @param {WebGLProgram} program A WebGLProgram\n * @param {module:twgl.UniformBlockSpec} uniformBlockSpec. A UniformBlockSpec as returned\n *     from {@link module:twgl.createUniformBlockSpecFromProgram}.\n * @param {string} blockName The name of the block.\n * @return {module:twgl.UniformBlockInfo} The created UniformBlockInfo\n * @memberOf module:twgl/programs\n */\nfunction createUniformBlockInfoFromProgram(gl, program, uniformBlockSpec, blockName) {\n  const blockSpecs = uniformBlockSpec.blockSpecs;\n  const uniformData = uniformBlockSpec.uniformData;\n  const blockSpec = blockSpecs[blockName];\n  if (!blockSpec) {\n    warn(\"no uniform block object named:\", blockName);\n    return {\n      name: blockName,\n      uniforms: {},\n    };\n  }\n  const array = new ArrayBuffer(blockSpec.size);\n  const buffer = gl.createBuffer();\n  const uniformBufferIndex = blockSpec.index;\n  gl.bindBuffer(UNIFORM_BUFFER, buffer);\n  gl.uniformBlockBinding(program, blockSpec.index, uniformBufferIndex);\n\n  let prefix = blockName + \".\";\n  if (arraySuffixRE.test(prefix)) {\n    prefix = prefix.replace(arraySuffixRE, \".\");\n  }\n  const uniforms = {};\n  const setters = {};\n  const setterTree = {};\n  blockSpec.uniformIndices.forEach(function(uniformNdx) {\n    const data = uniformData[uniformNdx];\n    let name = data.name;\n    if (name.startsWith(prefix)) {\n      name = name.substr(prefix.length);\n    }\n    const isArray = name.endsWith('[0]');\n    if (isArray) {\n      name = name.substr(0, name.length - 3);\n    }\n    const typeInfo = typeMap[data.type];\n    const Type = typeInfo.Type;\n    const byteLength = isArray\n        ? pad(typeInfo.size, 16) * data.size\n        : typeInfo.size * data.size;\n    const uniformView = new Type(array, data.offset, byteLength / Type.BYTES_PER_ELEMENT);\n    uniforms[name] = uniformView;\n    // Note: I'm not sure what to do here. The original\n    // idea was to create TypedArray views into each part\n    // of the block. This is useful, for example if you have\n    // a block with { mat4: model; mat4 view; mat4 projection; }\n    // you'll get a Float32Array for each one suitable for\n    // passing to most JS math libraries including twgl's and glMatrix.js.\n    //\n    // But, if you have a an array of structures, especially if that\n    // array is large, you get a whole bunch of TypedArray views.\n    // Every one of them has overhead and switching between them all\n    // is probably a cache miss. In that case it would really be better\n    // to just have one view (asFloat) and have all the setters\n    // just reference the correct portion. But, then you can't easily\n    // treat a matrix, or a vec4, as a standalone thing like you can\n    // with all the views.\n    //\n    // Another problem with the views is they are not shared. With\n    // uniforms you have one set of setters. With UniformBlockInfo\n    // you have a set of setters *pre block instance*. That's because\n    // TypedArray views can't be mapped to different buffers.\n    //\n    // My gut right now is if you really want the speed and compactness\n    // then you should probably roll your own solution. TWGL's goal\n    // here is ease of use as AFAICT there is no simple generic efficient\n    // solution.\n    const setter = createUniformBlockUniformSetter(uniformView, isArray, typeInfo.rows, typeInfo.cols);\n    setters[name] = setter;\n    addSetterToUniformTree(name, setter, setterTree, setters);\n  });\n  return {\n    name: blockName,\n    array,\n    asFloat: new Float32Array(array),  // for debugging\n    buffer,\n    uniforms,\n    setters,\n  };\n}\n\n/**\n * Creates a `UniformBlockInfo` for the specified block\n *\n * Note: **If the blockName matches no existing blocks a warning is printed to the console and a dummy\n * `UniformBlockInfo` is returned**. This is because when debugging GLSL\n * it is common to comment out large portions of a shader or for example set\n * the final output to a constant. When that happens blocks get optimized out.\n * If this function did not create dummy blocks your code would crash when debugging.\n *\n * @param {WebGL2RenderingContext} gl A WebGL2RenderingContext\n * @param {module:twgl.ProgramInfo} programInfo a `ProgramInfo`\n *     as returned from {@link module:twgl.createProgramInfo}\n * @param {string} blockName The name of the block.\n * @return {module:twgl.UniformBlockInfo} The created UniformBlockInfo\n * @memberOf module:twgl/programs\n */\nfunction createUniformBlockInfo(gl, programInfo, blockName) {\n  return createUniformBlockInfoFromProgram(gl, programInfo.program, programInfo.uniformBlockSpec, blockName);\n}\n\n/**\n * Binds a uniform block to the matching uniform block point.\n * Matches by blocks by name so blocks must have the same name not just the same\n * structure.\n *\n * If you have changed any values and you upload the values into the corresponding WebGLBuffer\n * call {@link module:twgl.setUniformBlock} instead.\n *\n * @param {WebGL2RenderingContext} gl A WebGL 2 rendering context.\n * @param {(module:twgl.ProgramInfo|module:twgl.UniformBlockSpec)} programInfo a `ProgramInfo`\n *     as returned from {@link module:twgl.createProgramInfo} or or `UniformBlockSpec` as\n *     returned from {@link module:twgl.createUniformBlockSpecFromProgram}.\n * @param {module:twgl.UniformBlockInfo} uniformBlockInfo a `UniformBlockInfo` as returned from\n *     {@link module:twgl.createUniformBlockInfo}.\n * @return {bool} true if buffer was bound. If the programInfo has no block with the same block name\n *     no buffer is bound.\n * @memberOf module:twgl/programs\n */\nfunction bindUniformBlock(gl, programInfo, uniformBlockInfo) {\n  const uniformBlockSpec = programInfo.uniformBlockSpec || programInfo;\n  const blockSpec = uniformBlockSpec.blockSpecs[uniformBlockInfo.name];\n  if (blockSpec) {\n    const bufferBindIndex = blockSpec.index;\n    gl.bindBufferRange(UNIFORM_BUFFER, bufferBindIndex, uniformBlockInfo.buffer, uniformBlockInfo.offset || 0, uniformBlockInfo.array.byteLength);\n    return true;\n  }\n  return false;\n}\n\n/**\n * Uploads the current uniform values to the corresponding WebGLBuffer\n * and binds that buffer to the program's corresponding bind point for the uniform block object.\n *\n * If you haven't changed any values and you only need to bind the uniform block object\n * call {@link module:twgl.bindUniformBlock} instead.\n *\n * @param {WebGL2RenderingContext} gl A WebGL 2 rendering context.\n * @param {(module:twgl.ProgramInfo|module:twgl.UniformBlockSpec)} programInfo a `ProgramInfo`\n *     as returned from {@link module:twgl.createProgramInfo} or or `UniformBlockSpec` as\n *     returned from {@link module:twgl.createUniformBlockSpecFromProgram}.\n * @param {module:twgl.UniformBlockInfo} uniformBlockInfo a `UniformBlockInfo` as returned from\n *     {@link module:twgl.createUniformBlockInfo}.\n * @memberOf module:twgl/programs\n */\nfunction setUniformBlock(gl, programInfo, uniformBlockInfo) {\n  if (bindUniformBlock(gl, programInfo, uniformBlockInfo)) {\n    gl.bufferData(UNIFORM_BUFFER, uniformBlockInfo.array, DYNAMIC_DRAW);\n  }\n}\n\n/**\n * Sets values of a uniform block object\n *\n * @param {module:twgl.UniformBlockInfo} uniformBlockInfo A UniformBlockInfo as returned by {@link module:twgl.createUniformBlockInfo}.\n * @param {Object.<string, ?>} values A uniform name to value map where the value is correct for the given\n *    type of uniform. So for example given a block like\n *\n *       uniform SomeBlock {\n *         float someFloat;\n *         vec2 someVec2;\n *         vec3 someVec3Array[2];\n *         int someInt;\n *       }\n *\n *  You can set the values of the uniform block with\n *\n *       twgl.setBlockUniforms(someBlockInfo, {\n *          someFloat: 12.3,\n *          someVec2: [1, 2],\n *          someVec3Array: [1, 2, 3, 4, 5, 6],\n *          someInt: 5,\n *       }\n *\n *  Arrays can be JavaScript arrays or typed arrays\n *\n *  You can also fill out structure and array values either via\n *  shortcut. Example\n *\n *     // -- in shader --\n *     struct Light {\n *       float intensity;\n *       vec4 color;\n *       float nearFar[2];\n *     };\n *     uniform Lights {\n *       Light lights[2];\n *     };\n *\n *     // in JavaScript\n *\n *     twgl.setBlockUniforms(someBlockInfo, {\n *       lights: [\n *         { intensity: 5.0, color: [1, 0, 0, 1], nearFar[0.1, 10] },\n *         { intensity: 2.0, color: [0, 0, 1, 1], nearFar[0.2, 15] },\n *       ],\n *     });\n *\n *   or the more traditional way\n *\n *     twgl.setBlockUniforms(someBlockInfo, {\n *       \"lights[0].intensity\": 5.0,\n *       \"lights[0].color\": [1, 0, 0, 1],\n *       \"lights[0].nearFar\": [0.1, 10],\n *       \"lights[1].intensity\": 2.0,\n *       \"lights[1].color\": [0, 0, 1, 1],\n *       \"lights[1].nearFar\": [0.2, 15],\n *     });\n *\n *   You can also specify partial paths\n *\n *     twgl.setBlockUniforms(someBlockInfo, {\n *       'lights[1]': { intensity: 5.0, color: [1, 0, 0, 1], nearFar[0.2, 15] },\n *     });\n *\n *   But you can not specify leaf array indices.\n *\n *     twgl.setBlockUniforms(someBlockInfo, {\n *       'lights[1].nearFar[1]': 15,     // BAD! nearFar is a leaf\n *       'lights[1].nearFar': [0.2, 15], // GOOD\n *     });\n *\n *  **IMPORTANT!**, packing in a UniformBlock is unintuitive.\n *  For example the actual layout of `someVec3Array` above in memory\n *  is `1, 2, 3, unused, 4, 5, 6, unused`. twgl takes in 6 values\n *  as shown about and copies them, skipping the padding. This might\n *  be confusing if you're already familiar with Uniform blocks.\n *\n *  If you want to deal with the padding yourself you can access the array\n *  buffer views directly. eg:\n *\n *      someBlockInfo.someVec3Array.set([1, 2, 3, 0, 4, 5, 6, 0]);\n *\n *  Any name that doesn't match will be ignored\n * @memberOf module:twgl/programs\n */\nfunction setBlockUniforms(uniformBlockInfo, values) {\n  const setters = uniformBlockInfo.setters;\n  for (const name in values) {\n    const setter = setters[name];\n    if (setter) {\n      const value = values[name];\n      setter(value);\n    }\n  }\n}\n\nfunction setUniformTree(tree, values) {\n  for (const name in values) {\n    const prop = tree[name];\n    if (typeof prop === 'function') {\n      prop(values[name]);\n    } else {\n      setUniformTree(tree[name], values[name]);\n    }\n  }\n}\n\n/**\n * Set uniforms and binds related textures.\n *\n * example:\n *\n *     const programInfo = createProgramInfo(\n *         gl, [\"some-vs\", \"some-fs\"]);\n *\n *     const tex1 = gl.createTexture();\n *     const tex2 = gl.createTexture();\n *\n *     ... assume we setup the textures with data ...\n *\n *     const uniforms = {\n *       u_someSampler: tex1,\n *       u_someOtherSampler: tex2,\n *       u_someColor: [1,0,0,1],\n *       u_somePosition: [0,1,1],\n *       u_someMatrix: [\n *         1,0,0,0,\n *         0,1,0,0,\n *         0,0,1,0,\n *         0,0,0,0,\n *       ],\n *     };\n *\n *     gl.useProgram(programInfo.program);\n *\n * This will automatically bind the textures AND set the\n * uniforms.\n *\n *     twgl.setUniforms(programInfo, uniforms);\n *\n * For the example above it is equivalent to\n *\n *     let texUnit = 0;\n *     gl.activeTexture(gl.TEXTURE0 + texUnit);\n *     gl.bindTexture(gl.TEXTURE_2D, tex1);\n *     gl.uniform1i(u_someSamplerLocation, texUnit++);\n *     gl.activeTexture(gl.TEXTURE0 + texUnit);\n *     gl.bindTexture(gl.TEXTURE_2D, tex2);\n *     gl.uniform1i(u_someSamplerLocation, texUnit++);\n *     gl.uniform4fv(u_someColorLocation, [1, 0, 0, 1]);\n *     gl.uniform3fv(u_somePositionLocation, [0, 1, 1]);\n *     gl.uniformMatrix4fv(u_someMatrix, false, [\n *         1,0,0,0,\n *         0,1,0,0,\n *         0,0,1,0,\n *         0,0,0,0,\n *       ]);\n *\n * Note it is perfectly reasonable to call `setUniforms` multiple times. For example\n *\n *     const uniforms = {\n *       u_someSampler: tex1,\n *       u_someOtherSampler: tex2,\n *     };\n *\n *     const moreUniforms {\n *       u_someColor: [1,0,0,1],\n *       u_somePosition: [0,1,1],\n *       u_someMatrix: [\n *         1,0,0,0,\n *         0,1,0,0,\n *         0,0,1,0,\n *         0,0,0,0,\n *       ],\n *     };\n *\n *     twgl.setUniforms(programInfo, uniforms);\n *     twgl.setUniforms(programInfo, moreUniforms);\n *\n * You can also add WebGLSamplers to uniform samplers as in\n *\n *     const uniforms = {\n *       u_someSampler: {\n *         texture: someWebGLTexture,\n *         sampler: someWebGLSampler,\n *       },\n *     };\n *\n * In which case both the sampler and texture will be bound to the\n * same unit.\n *\n * @param {(module:twgl.ProgramInfo|Object.<string, function>)} setters a `ProgramInfo` as returned from `createProgramInfo` or the setters returned from\n *        `createUniformSetters`.\n * @param {Object.<string, ?>} values an object with values for the\n *        uniforms.\n *   You can pass multiple objects by putting them in an array or by calling with more arguments.For example\n *\n *     const sharedUniforms = {\n *       u_fogNear: 10,\n *       u_projection: ...\n *       ...\n *     };\n *\n *     const localUniforms = {\n *       u_world: ...\n *       u_diffuseColor: ...\n *     };\n *\n *     twgl.setUniforms(programInfo, sharedUniforms, localUniforms);\n *\n *     // is the same as\n *\n *     twgl.setUniforms(programInfo, [sharedUniforms, localUniforms]);\n *\n *     // is the same as\n *\n *     twgl.setUniforms(programInfo, sharedUniforms);\n *     twgl.setUniforms(programInfo, localUniforms};\n *\n *   You can also fill out structure and array values either via\n *   shortcut. Example\n *\n *     // -- in shader --\n *     struct Light {\n *       float intensity;\n *       vec4 color;\n *       float nearFar[2];\n *     };\n *     uniform Light lights[2];\n *\n *     // in JavaScript\n *\n *     twgl.setUniforms(programInfo, {\n *       lights: [\n *         { intensity: 5.0, color: [1, 0, 0, 1], nearFar[0.1, 10] },\n *         { intensity: 2.0, color: [0, 0, 1, 1], nearFar[0.2, 15] },\n *       ],\n *     });\n *\n *   or the more traditional way\n *\n *     twgl.setUniforms(programInfo, {\n *       \"lights[0].intensity\": 5.0,\n *       \"lights[0].color\": [1, 0, 0, 1],\n *       \"lights[0].nearFar\": [0.1, 10],\n *       \"lights[1].intensity\": 2.0,\n *       \"lights[1].color\": [0, 0, 1, 1],\n *       \"lights[1].nearFar\": [0.2, 15],\n *     });\n *\n *   You can also specify partial paths\n *\n *     twgl.setUniforms(programInfo, {\n *       'lights[1]': { intensity: 5.0, color: [1, 0, 0, 1], nearFar[0.2, 15] },\n *     });\n *\n *   But you can not specify leaf array indices\n *\n *     twgl.setUniforms(programInfo, {\n *       'lights[1].nearFar[1]': 15,     // BAD! nearFar is a leaf\n *       'lights[1].nearFar': [0.2, 15], // GOOD\n *     });\n *\n * @memberOf module:twgl/programs\n */\nfunction setUniforms(setters, ...args) {  // eslint-disable-line\n  const actualSetters = setters.uniformSetters || setters;\n  const numArgs = args.length;\n  for (let aNdx = 0; aNdx < numArgs; ++aNdx) {\n    const values = args[aNdx];\n    if (Array.isArray(values)) {\n      const numValues = values.length;\n      for (let ii = 0; ii < numValues; ++ii) {\n        setUniforms(actualSetters, values[ii]);\n      }\n    } else {\n      for (const name in values) {\n        const setter = actualSetters[name];\n        if (setter) {\n          setter(values[name]);\n        }\n      }\n    }\n  }\n}\n\n/**\n * Alias for `setUniforms`\n * @function\n * @param {(module:twgl.ProgramInfo|Object.<string, function>)} setters a `ProgramInfo` as returned from `createProgramInfo` or the setters returned from\n *        `createUniformSetters`.\n * @param {Object.<string, ?>} values an object with values for the\n * @memberOf module:twgl/programs\n */\nconst setUniformsAndBindTextures = setUniforms;\n\n/**\n * Creates setter functions for all attributes of a shader\n * program. You can pass this to {@link module:twgl.setBuffersAndAttributes} to set all your buffers and attributes.\n *\n * @see {@link module:twgl.setAttributes} for example\n * @param {WebGLRenderingContext} gl The WebGLRenderingContext to use.\n * @param {WebGLProgram} program the program to create setters for.\n * @return {Object.<string, function>} an object with a setter for each attribute by name.\n * @memberOf module:twgl/programs\n */\nfunction createAttributeSetters(gl, program) {\n  const attribSetters = {\n  };\n\n  const numAttribs = gl.getProgramParameter(program, ACTIVE_ATTRIBUTES);\n  for (let ii = 0; ii < numAttribs; ++ii) {\n    const attribInfo = gl.getActiveAttrib(program, ii);\n    if (isBuiltIn(attribInfo)) {\n      continue;\n    }\n    const index = gl.getAttribLocation(program, attribInfo.name);\n    const typeInfo = attrTypeMap[attribInfo.type];\n    const setter = typeInfo.setter(gl, index, typeInfo);\n    setter.location = index;\n    attribSetters[attribInfo.name] = setter;\n  }\n\n  return attribSetters;\n}\n\n/**\n * Sets attributes and binds buffers (deprecated... use {@link module:twgl.setBuffersAndAttributes})\n *\n * Example:\n *\n *     const program = createProgramFromScripts(\n *         gl, [\"some-vs\", \"some-fs\");\n *\n *     const attribSetters = createAttributeSetters(program);\n *\n *     const positionBuffer = gl.createBuffer();\n *     const texcoordBuffer = gl.createBuffer();\n *\n *     const attribs = {\n *       a_position: {buffer: positionBuffer, numComponents: 3},\n *       a_texcoord: {buffer: texcoordBuffer, numComponents: 2},\n *     };\n *\n *     gl.useProgram(program);\n *\n * This will automatically bind the buffers AND set the\n * attributes.\n *\n *     setAttributes(attribSetters, attribs);\n *\n * Properties of attribs. For each attrib you can add\n * properties:\n *\n * *   type: the type of data in the buffer. Default = gl.FLOAT\n * *   normalize: whether or not to normalize the data. Default = false\n * *   stride: the stride. Default = 0\n * *   offset: offset into the buffer. Default = 0\n * *   divisor: the divisor for instances. Default = undefined\n *\n * For example if you had 3 value float positions, 2 value\n * float texcoord and 4 value uint8 colors you'd setup your\n * attribs like this\n *\n *     const attribs = {\n *       a_position: {buffer: positionBuffer, numComponents: 3},\n *       a_texcoord: {buffer: texcoordBuffer, numComponents: 2},\n *       a_color: {\n *         buffer: colorBuffer,\n *         numComponents: 4,\n *         type: gl.UNSIGNED_BYTE,\n *         normalize: true,\n *       },\n *     };\n *\n * @param {Object.<string, function>} setters Attribute setters as returned from createAttributeSetters\n * @param {Object.<string, module:twgl.AttribInfo>} buffers AttribInfos mapped by attribute name.\n * @memberOf module:twgl/programs\n * @deprecated use {@link module:twgl.setBuffersAndAttributes}\n * @private\n */\nfunction setAttributes(setters, buffers) {\n  for (const name in buffers) {\n    const setter = setters[name];\n    if (setter) {\n      setter(buffers[name]);\n    }\n  }\n}\n\n/**\n * Sets attributes and buffers including the `ELEMENT_ARRAY_BUFFER` if appropriate\n *\n * Example:\n *\n *     const programInfo = createProgramInfo(\n *         gl, [\"some-vs\", \"some-fs\");\n *\n *     const arrays = {\n *       position: { numComponents: 3, data: [0, 0, 0, 10, 0, 0, 0, 10, 0, 10, 10, 0], },\n *       texcoord: { numComponents: 2, data: [0, 0, 0, 1, 1, 0, 1, 1],                 },\n *     };\n *\n *     const bufferInfo = createBufferInfoFromArrays(gl, arrays);\n *\n *     gl.useProgram(programInfo.program);\n *\n * This will automatically bind the buffers AND set the\n * attributes.\n *\n *     setBuffersAndAttributes(gl, programInfo, bufferInfo);\n *\n * For the example above it is equivalent to\n *\n *     gl.bindBuffer(gl.ARRAY_BUFFER, positionBuffer);\n *     gl.enableVertexAttribArray(a_positionLocation);\n *     gl.vertexAttribPointer(a_positionLocation, 3, gl.FLOAT, false, 0, 0);\n *     gl.bindBuffer(gl.ARRAY_BUFFER, texcoordBuffer);\n *     gl.enableVertexAttribArray(a_texcoordLocation);\n *     gl.vertexAttribPointer(a_texcoordLocation, 4, gl.FLOAT, false, 0, 0);\n *\n * @param {WebGLRenderingContext} gl A WebGLRenderingContext.\n * @param {(module:twgl.ProgramInfo|Object.<string, function>)} setters A `ProgramInfo` as returned from {@link module:twgl.createProgramInfo} or Attribute setters as returned from {@link module:twgl.createAttributeSetters}\n * @param {(module:twgl.BufferInfo|module:twgl.VertexArrayInfo)} buffers a `BufferInfo` as returned from {@link module:twgl.createBufferInfoFromArrays}.\n *   or a `VertexArrayInfo` as returned from {@link module:twgl.createVertexArrayInfo}\n * @memberOf module:twgl/programs\n */\nfunction setBuffersAndAttributes(gl, programInfo, buffers) {\n  if (buffers.vertexArrayObject) {\n    gl.bindVertexArray(buffers.vertexArrayObject);\n  } else {\n    setAttributes(programInfo.attribSetters || programInfo, buffers.attribs);\n    if (buffers.indices) {\n      gl.bindBuffer(ELEMENT_ARRAY_BUFFER$1, buffers.indices);\n    }\n  }\n}\n\n/**\n * @typedef {Object} ProgramInfo\n * @property {WebGLProgram} program A shader program\n * @property {Object<string, function>} uniformSetters object of setters as returned from createUniformSetters,\n * @property {Object<string, function>} attribSetters object of setters as returned from createAttribSetters,\n * @property {module:twgl.UniformBlockSpec} [uniformBlockSpec] a uniform block spec for making UniformBlockInfos with createUniformBlockInfo etc..\n * @property {Object<string, module:twgl.TransformFeedbackInfo>} [transformFeedbackInfo] info for transform feedbacks\n * @memberOf module:twgl\n */\n\n/**\n * Creates a ProgramInfo from an existing program.\n *\n * A ProgramInfo contains\n *\n *     programInfo = {\n *        program: WebGLProgram,\n *        uniformSetters: object of setters as returned from createUniformSetters,\n *        attribSetters: object of setters as returned from createAttribSetters,\n *     }\n *\n * @param {WebGLRenderingContext} gl The WebGLRenderingContext\n *        to use.\n * @param {WebGLProgram} program an existing WebGLProgram.\n * @return {module:twgl.ProgramInfo} The created ProgramInfo.\n * @memberOf module:twgl/programs\n */\nfunction createProgramInfoFromProgram(gl, program) {\n  const uniformSetters = createUniformSetters(gl, program);\n  const attribSetters = createAttributeSetters(gl, program);\n  const programInfo = {\n    program,\n    uniformSetters,\n    attribSetters,\n  };\n\n  if (isWebGL2(gl)) {\n    programInfo.uniformBlockSpec = createUniformBlockSpecFromProgram(gl, program);\n    programInfo.transformFeedbackInfo = createTransformFeedbackInfo(gl, program);\n  }\n\n  return programInfo;\n}\n\nconst notIdRE = /\\s|{|}|;/;\n\n/**\n * Creates a ProgramInfo from 2 sources.\n *\n * A ProgramInfo contains\n *\n *     programInfo = {\n *        program: WebGLProgram,\n *        uniformSetters: object of setters as returned from createUniformSetters,\n *        attribSetters: object of setters as returned from createAttribSetters,\n *     }\n *\n * NOTE: There are 4 signatures for this function\n *\n *     twgl.createProgramInfo(gl, [vs, fs], options);\n *     twgl.createProgramInfo(gl, [vs, fs], opt_errFunc);\n *     twgl.createProgramInfo(gl, [vs, fs], opt_attribs, opt_errFunc);\n *     twgl.createProgramInfo(gl, [vs, fs], opt_attribs, opt_locations, opt_errFunc);\n *\n * @param {WebGLRenderingContext} gl The WebGLRenderingContext\n *        to use.\n * @param {string[]} shaderSources Array of sources for the\n *        shaders or ids. The first is assumed to be the vertex shader,\n *        the second the fragment shader.\n * @param {module:twgl.ProgramOptions|string[]|module:twgl.ErrorCallback} [opt_attribs] Options for the program or an array of attribs names or an error callback. Locations will be assigned by index if not passed in\n * @param {number[]} [opt_locations|module:twgl.ErrorCallback] The locations for the. A parallel array to opt_attribs letting you assign locations or an error callback.\n * @param {module:twgl.ErrorCallback} [opt_errorCallback] callback for errors. By default it just prints an error to the console\n *        on error. If you want something else pass an callback. It's passed an error message.\n * @return {module:twgl.ProgramInfo?} The created ProgramInfo or null if it failed to link or compile\n * @memberOf module:twgl/programs\n */\nfunction createProgramInfo(\n    gl, shaderSources, opt_attribs, opt_locations, opt_errorCallback) {\n  const progOptions = getProgramOptions(opt_attribs, opt_locations, opt_errorCallback);\n  const errors = [];\n  shaderSources = shaderSources.map(function(source) {\n    // Lets assume if there is no \\n it's an id\n    if (!notIdRE.test(source)) {\n      const script = getElementById(source);\n      if (!script) {\n        const err = `no element with id: ${source}`;\n        progOptions.errorCallback(err);\n        errors.push(err);\n      } else {\n        source = script.text;\n      }\n    }\n    return source;\n  });\n\n  if (errors.length) {\n    return reportError(progOptions, '');\n  }\n\n  const origCallback = progOptions.callback;\n  if (origCallback) {\n    progOptions.callback = (err, program) => {\n      origCallback(err, err ? undefined : createProgramInfoFromProgram(gl, program));\n    };\n  }\n\n  const program = createProgramFromSources(gl, shaderSources, progOptions);\n  if (!program) {\n    return null;\n  }\n\n  return createProgramInfoFromProgram(gl, program);\n}\n\nfunction checkAllPrograms(gl, programs, programSpecs, noDeleteShadersSet, programOptions) {\n  // check errors for everything.\n  for (const [name, program] of Object.entries(programs)) {\n    const options = {...programOptions};\n    const spec = programSpecs[name];\n    if (!Array.isArray(spec)) {\n      Object.assign(options, spec);\n    }\n    const errors = getProgramErrors(gl, program, options.errorCallback);\n    if (errors) {\n      // delete everything we created\n      for (const program of Object.values(programs)) {\n        const shaders = gl.getAttachedShaders(program);\n        gl.deleteProgram(program);\n        for (const shader of shaders) {\n          // Don't delete it if we didn't create it.\n          if (!noDeleteShadersSet.has(shader)) {\n            gl.deleteShader(shader);\n          }\n        }\n      }\n      return errors;\n    }\n  }\n\n  return undefined;\n}\n\n/**\n * Creates multiple programs\n *\n * Note: the reason this function exists is because the fastest way to create multiple\n * programs in WebGL is to create and compile all shaders and link all programs and only\n * afterwards check if they succeeded. In that way, giving all your shaders\n *\n * @see {@link module:twgl.createProgram}\n *\n * Example:\n *\n *     const programs = twgl.createPrograms(gl, {\n *       lambert: [lambertVS, lambertFS],\n *       phong: [phongVS, phoneFS],\n *       particles: {\n *         shaders: [particlesVS, particlesFS],\n *         transformFeedbackVaryings: ['position', 'velocity'],\n *       },\n *     });\n *\n * @param {WebGLRenderingContext} gl the WebGLRenderingContext\n * @param {Object.<string, module:twgl.ProgramSpec>} programSpecs An object of ProgramSpecs, one per program.\n * @param {module:twgl.ProgramOptions} [programOptions] options to apply to all programs\n * @return {Object.<string, WebGLProgram>?} the created programInfos by name\n */\nfunction createPrograms(gl, programSpecs, programOptions = {}) {\n  // Remember existing shaders so that if there is an error we don't delete them\n  const noDeleteShadersSet = new Set();\n\n  // compile and link everything\n  const programs = Object.fromEntries(Object.entries(programSpecs).map(([name, spec]) => {\n    const options = {...programOptions};\n    const shaders = Array.isArray(spec) ? spec : spec.shaders;\n    if (!Array.isArray(spec)) {\n      Object.assign(options, spec);\n    }\n    shaders.forEach(noDeleteShadersSet.add, noDeleteShadersSet);\n    return [name, createProgramNoCheck(gl, shaders, options)];\n  }));\n\n  if (programOptions.callback) {\n    waitForAllProgramsLinkCompletionAsync(gl, programs).then(() => {\n      const errors = checkAllPrograms(gl, programs, programSpecs, noDeleteShadersSet, programOptions);\n      programOptions.callback(errors, errors ? undefined : programs);\n    });\n    return undefined;\n  }\n\n  const errors = checkAllPrograms(gl, programs, programSpecs, noDeleteShadersSet, programOptions);\n  return errors ? undefined : programs;\n}\n\n/**\n * Creates multiple programInfos\n *\n * Note: the reason this function exists is because the fastest way to create multiple\n * programs in WebGL is to create and compile all shaders and link all programs and only\n * afterwards check if they succeeded. In that way, giving all your shaders\n *\n * @see {@link module:twgl.createProgramInfo}\n *\n * Examples:\n *\n *     const programInfos = twgl.createProgramInfos(gl, {\n *       lambert: [lambertVS, lambertFS],\n *       phong: [phongVS, phoneFS],\n *       particles: {\n *         shaders: [particlesVS, particlesFS],\n *         transformFeedbackVaryings: ['position', 'velocity'],\n *       },\n *     });\n *\n * or\n *\n *     const {lambert, phong, particles} = twgl.createProgramInfos(gl, {\n *       lambert: [lambertVS, lambertFS],\n *       phong: [phongVS, phoneFS],\n *       particles: {\n *         shaders: [particlesVS, particlesFS],\n *         transformFeedbackVaryings: ['position', 'velocity'],\n *       },\n *     });\n *\n *\n * @param {WebGLRenderingContext} gl the WebGLRenderingContext\n * @param {Object.<string, module:twgl.ProgramSpec>} programSpecs An object of ProgramSpecs, one per program.\n * @param {module:twgl.ProgramOptions} [programOptions] options to apply to all programs\n * @return {Object.<string, module:twgl.ProgramInfo>?} the created programInfos by name\n */\nfunction createProgramInfos(gl, programSpecs, programOptions) {\n  programOptions = getProgramOptions(programOptions);\n\n  function createProgramInfosForPrograms(gl, programs) {\n    return Object.fromEntries(Object.entries(programs).map(([name, program]) =>\n      [name, createProgramInfoFromProgram(gl, program)]\n    ));\n  }\n\n  const origCallback = programOptions.callback;\n  if (origCallback) {\n    programOptions.callback = (err, programs) => {\n      origCallback(err, err ? undefined : createProgramInfosForPrograms(gl, programs));\n    };\n  }\n\n  const programs = createPrograms(gl, programSpecs, programOptions);\n  if (origCallback || !programs) {\n    return undefined;\n  }\n\n  return createProgramInfosForPrograms(gl, programs);\n}\n\n/**\n * Creates multiple programs asynchronously\n *\n * @see {@link module:twgl.createProgramAsync}\n *\n * Example:\n *\n *     const programs = await twgl.createProgramsAsync(gl, {\n *       lambert: [lambertVS, lambertFS],\n *       phong: [phongVS, phoneFS],\n *       particles: {\n *         shaders: [particlesVS, particlesFS],\n *         transformFeedbackVaryings: ['position', 'velocity'],\n *       },\n *     });\n *\n * @function\n * @param {WebGLRenderingContext} gl the WebGLRenderingContext\n * @param {Object.<string, module:twgl.ProgramSpec>} programSpecs An object of ProgramSpecs, one per program.\n * @param {module:twgl.ProgramOptions} [programOptions] options to apply to all programs\n * @return {Object.<string, WebGLProgram>?} the created programInfos by name\n */\nconst createProgramsAsync = wrapCallbackFnToAsyncFn(createPrograms);\n\n/**\n * Creates multiple programInfos asynchronously\n *\n * @see {@link module:twgl.createProgramInfoAsync}\n *\n * Example:\n *\n *     const programInfos = await twgl.createProgramInfosAsync(gl, {\n *       lambert: [lambertVS, lambertFS],\n *       phong: [phongVS, phoneFS],\n *       particles: {\n *         shaders: [particlesVS, particlesFS],\n *         transformFeedbackVaryings: ['position', 'velocity'],\n *       },\n *     });\n *\n * @function\n * @param {WebGLRenderingContext} gl the WebGLRenderingContext\n * @param {Object.<string, module:twgl.ProgramSpec>} programSpecs An object of ProgramSpecs, one per program.\n * @param {module:twgl.ProgramOptions} [programOptions] options to apply to all programs\n * @return {Promise<Object.<string, module:twgl.ProgramInfo>>} the created programInfos by name\n */\nconst createProgramInfosAsync = wrapCallbackFnToAsyncFn(createProgramInfos);\n\nvar programs = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  createAttributeSetters: createAttributeSetters,\n  createProgram: createProgram,\n  createProgramAsync: createProgramAsync,\n  createPrograms: createPrograms,\n  createProgramsAsync: createProgramsAsync,\n  createProgramFromScripts: createProgramFromScripts,\n  createProgramFromSources: createProgramFromSources,\n  createProgramInfo: createProgramInfo,\n  createProgramInfoAsync: createProgramInfoAsync,\n  createProgramInfos: createProgramInfos,\n  createProgramInfosAsync: createProgramInfosAsync,\n  createProgramInfoFromProgram: createProgramInfoFromProgram,\n  createUniformSetters: createUniformSetters,\n  createUniformBlockSpecFromProgram: createUniformBlockSpecFromProgram,\n  createUniformBlockInfoFromProgram: createUniformBlockInfoFromProgram,\n  createUniformBlockInfo: createUniformBlockInfo,\n  createTransformFeedback: createTransformFeedback,\n  createTransformFeedbackInfo: createTransformFeedbackInfo,\n  bindTransformFeedbackInfo: bindTransformFeedbackInfo,\n  setAttributes: setAttributes,\n  setBuffersAndAttributes: setBuffersAndAttributes,\n  setUniforms: setUniforms,\n  setUniformsAndBindTextures: setUniformsAndBindTextures,\n  setUniformBlock: setUniformBlock,\n  setBlockUniforms: setBlockUniforms,\n  bindUniformBlock: bindUniformBlock\n});\n\n/*\n * Copyright 2019 Gregg Tavares\n *\n * Permission is hereby granted, free of charge, to any person obtaining a\n * copy of this software and associated documentation files (the \"Software\"),\n * to deal in the Software without restriction, including without limitation\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\n * and/or sell copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.  IN NO EVENT SHALL\n * THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\n * DEALINGS IN THE SOFTWARE.\n */\n\nconst TRIANGLES                      = 0x0004;\nconst UNSIGNED_SHORT                 = 0x1403;\n\n/**\n * Drawing related functions\n *\n * For backward compatibility they are available at both `twgl.draw` and `twgl`\n * itself\n *\n * See {@link module:twgl} for core functions\n *\n * @module twgl/draw\n */\n\n/**\n * Calls `gl.drawElements` or `gl.drawArrays`, whichever is appropriate\n *\n * normally you'd call `gl.drawElements` or `gl.drawArrays` yourself\n * but calling this means if you switch from indexed data to non-indexed\n * data you don't have to remember to update your draw call.\n *\n * @param {WebGLRenderingContext} gl A WebGLRenderingContext\n * @param {(module:twgl.BufferInfo|module:twgl.VertexArrayInfo)} bufferInfo A BufferInfo as returned from {@link module:twgl.createBufferInfoFromArrays} or\n *   a VertexArrayInfo as returned from {@link module:twgl.createVertexArrayInfo}\n * @param {number} [type] eg (gl.TRIANGLES, gl.LINES, gl.POINTS, gl.TRIANGLE_STRIP, ...). Defaults to `gl.TRIANGLES`\n * @param {number} [count] An optional count. Defaults to bufferInfo.numElements\n * @param {number} [offset] An optional offset. Defaults to 0.\n * @param {number} [instanceCount] An optional instanceCount. if set then `drawArraysInstanced` or `drawElementsInstanced` will be called\n * @memberOf module:twgl/draw\n */\nfunction drawBufferInfo(gl, bufferInfo, type, count, offset, instanceCount) {\n  type = type === undefined ? TRIANGLES : type;\n  const indices = bufferInfo.indices;\n  const elementType = bufferInfo.elementType;\n  const numElements = count === undefined ? bufferInfo.numElements : count;\n  offset = offset === undefined ? 0 : offset;\n  if (elementType || indices) {\n    if (instanceCount !== undefined) {\n      gl.drawElementsInstanced(type, numElements, elementType === undefined ? UNSIGNED_SHORT : bufferInfo.elementType, offset, instanceCount);\n    } else {\n      gl.drawElements(type, numElements, elementType === undefined ? UNSIGNED_SHORT : bufferInfo.elementType, offset);\n    }\n  } else {\n    if (instanceCount !== undefined) {\n      gl.drawArraysInstanced(type, offset, numElements, instanceCount);\n    } else {\n      gl.drawArrays(type, offset, numElements);\n    }\n  }\n}\n\n/**\n * A DrawObject is useful for putting objects in to an array and passing them to {@link module:twgl.drawObjectList}.\n *\n * You need either a `BufferInfo` or a `VertexArrayInfo`.\n *\n * @typedef {Object} DrawObject\n * @property {boolean} [active] whether or not to draw. Default = `true` (must be `false` to be not true). In other words `undefined` = `true`\n * @property {number} [type] type to draw eg. `gl.TRIANGLES`, `gl.LINES`, etc...\n * @property {module:twgl.ProgramInfo} programInfo A ProgramInfo as returned from {@link module:twgl.createProgramInfo}\n * @property {module:twgl.BufferInfo} [bufferInfo] A BufferInfo as returned from {@link module:twgl.createBufferInfoFromArrays}\n * @property {module:twgl.VertexArrayInfo} [vertexArrayInfo] A VertexArrayInfo as returned from {@link module:twgl.createVertexArrayInfo}\n * @property {Object<string, ?>} uniforms The values for the uniforms.\n *   You can pass multiple objects by putting them in an array. For example\n *\n *     var sharedUniforms = {\n *       u_fogNear: 10,\n *       u_projection: ...\n *       ...\n *     };\n *\n *     var localUniforms = {\n *       u_world: ...\n *       u_diffuseColor: ...\n *     };\n *\n *     var drawObj = {\n *       ...\n *       uniforms: [sharedUniforms, localUniforms],\n *     };\n *\n * @property {number} [offset] the offset to pass to `gl.drawArrays` or `gl.drawElements`. Defaults to 0.\n * @property {number} [count] the count to pass to `gl.drawArrays` or `gl.drawElements`. Defaults to bufferInfo.numElements.\n * @property {number} [instanceCount] the number of instances. Defaults to undefined.\n * @memberOf module:twgl\n */\n\n/**\n * Draws a list of objects\n * @param {WebGLRenderingContext} gl A WebGLRenderingContext\n * @param {DrawObject[]} objectsToDraw an array of objects to draw.\n * @memberOf module:twgl/draw\n */\nfunction drawObjectList(gl, objectsToDraw) {\n  let lastUsedProgramInfo = null;\n  let lastUsedBufferInfo = null;\n\n  objectsToDraw.forEach(function(object) {\n    if (object.active === false) {\n      return;\n    }\n\n    const programInfo = object.programInfo;\n    const bufferInfo = object.vertexArrayInfo || object.bufferInfo;\n    let bindBuffers = false;\n    const type = object.type === undefined ? TRIANGLES : object.type;\n\n    if (programInfo !== lastUsedProgramInfo) {\n      lastUsedProgramInfo = programInfo;\n      gl.useProgram(programInfo.program);\n\n      // We have to rebind buffers when changing programs because we\n      // only bind buffers the program uses. So if 2 programs use the same\n      // bufferInfo but the 1st one uses only positions the when the\n      // we switch to the 2nd one some of the attributes will not be on.\n      bindBuffers = true;\n    }\n\n    // Setup all the needed attributes.\n    if (bindBuffers || bufferInfo !== lastUsedBufferInfo) {\n      if (lastUsedBufferInfo && lastUsedBufferInfo.vertexArrayObject && !bufferInfo.vertexArrayObject) {\n        gl.bindVertexArray(null);\n      }\n      lastUsedBufferInfo = bufferInfo;\n      setBuffersAndAttributes(gl, programInfo, bufferInfo);\n    }\n\n    // Set the uniforms.\n    setUniforms(programInfo, object.uniforms);\n\n    // Draw\n    drawBufferInfo(gl, bufferInfo, type, object.count, object.offset, object.instanceCount);\n  });\n\n  if (lastUsedBufferInfo && lastUsedBufferInfo.vertexArrayObject) {\n    gl.bindVertexArray(null);\n  }\n}\n\nvar draw = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  drawBufferInfo: drawBufferInfo,\n  drawObjectList: drawObjectList\n});\n\n/*\n * Copyright 2019 Gregg Tavares\n *\n * Permission is hereby granted, free of charge, to any person obtaining a\n * copy of this software and associated documentation files (the \"Software\"),\n * to deal in the Software without restriction, including without limitation\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\n * and/or sell copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.  IN NO EVENT SHALL\n * THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\n * DEALINGS IN THE SOFTWARE.\n */\n\nconst FRAMEBUFFER                    = 0x8d40;\nconst RENDERBUFFER                   = 0x8d41;\nconst TEXTURE_2D                     = 0x0de1;\n\nconst UNSIGNED_BYTE                  = 0x1401;\n\n/* PixelFormat */\nconst DEPTH_COMPONENT                = 0x1902;\nconst RGBA                           = 0x1908;\nconst DEPTH_COMPONENT24              = 0x81a6;\nconst DEPTH_COMPONENT32F             = 0x8cac;\nconst DEPTH24_STENCIL8               = 0x88f0;\nconst DEPTH32F_STENCIL8              = 0x8cad;\n\n/* Framebuffer Object. */\nconst RGBA4                          = 0x8056;\nconst RGB5_A1                        = 0x8057;\nconst RGB565                         = 0x8D62;\nconst DEPTH_COMPONENT16              = 0x81A5;\nconst STENCIL_INDEX                  = 0x1901;\nconst STENCIL_INDEX8                 = 0x8D48;\nconst DEPTH_STENCIL                  = 0x84F9;\nconst COLOR_ATTACHMENT0              = 0x8CE0;\nconst DEPTH_ATTACHMENT               = 0x8D00;\nconst STENCIL_ATTACHMENT             = 0x8D20;\nconst DEPTH_STENCIL_ATTACHMENT       = 0x821A;\n\n/* TextureWrapMode */\nconst CLAMP_TO_EDGE                  = 0x812F;\n\n/* TextureMagFilter */\nconst LINEAR                         = 0x2601;\n\n/**\n * The options for a framebuffer attachment.\n *\n * Note: For a `format` that is a texture include all the texture\n * options from {@link module:twgl.TextureOptions} for example\n * `min`, `mag`, `clamp`, etc... Note that unlike {@link module:twgl.TextureOptions}\n * `auto` defaults to `false` for attachment textures but `min` and `mag` default\n * to `gl.LINEAR` and `wrap` defaults to `CLAMP_TO_EDGE`\n *\n * @typedef {Object} AttachmentOptions\n * @property {number} [attachmentPoint] The attachment point. Defaults\n *   to `gl.COLOR_ATTACHMENT0 + ndx` unless type is a depth or stencil type\n *   then it's gl.DEPTH_ATTACHMENT or `gl.DEPTH_STENCIL_ATTACHMENT` depending\n *   on the format or attachment type.\n * @property {number} [format] The format. If one of `gl.RGBA4`,\n *   `gl.RGB565`, `gl.RGB5_A1`, `gl.DEPTH_COMPONENT16`,\n *   `gl.STENCIL_INDEX8` or `gl.DEPTH_STENCIL` then will create a\n *   renderbuffer. Otherwise will create a texture. Default = `gl.RGBA`\n * @property {number} [type] The type. Used for texture. Default = `gl.UNSIGNED_BYTE`.\n * @property {number} [target] The texture target for `gl.framebufferTexture2D`.\n *   Defaults to `gl.TEXTURE_2D`. Set to appropriate face for cube maps.\n * @property {number} [samples] The number of samples. Default = 1\n * @property {number} [level] level for `gl.framebufferTexture2D`. Defaults to 0.\n * @property {number} [layer] layer for `gl.framebufferTextureLayer`. Defaults to undefined.\n *   If set then `gl.framebufferTextureLayer` is called, if not then `gl.framebufferTexture2D`\n * @property {(WebGLRenderbuffer | WebGLTexture)} [attachment] An existing renderbuffer or texture.\n *    If provided will attach this Object. This allows you to share\n *    attachments across framebuffers.\n * @memberOf module:twgl\n * @mixes module:twgl.TextureOptions\n */\n\nconst defaultAttachments = [\n  { format: RGBA, type: UNSIGNED_BYTE, min: LINEAR, wrap: CLAMP_TO_EDGE, },\n  { format: DEPTH_STENCIL, },\n];\n\nconst attachmentsByFormat = {};\nattachmentsByFormat[DEPTH_STENCIL] = DEPTH_STENCIL_ATTACHMENT;\nattachmentsByFormat[STENCIL_INDEX] = STENCIL_ATTACHMENT;\nattachmentsByFormat[STENCIL_INDEX8] = STENCIL_ATTACHMENT;\nattachmentsByFormat[DEPTH_COMPONENT] = DEPTH_ATTACHMENT;\nattachmentsByFormat[DEPTH_COMPONENT16] = DEPTH_ATTACHMENT;\nattachmentsByFormat[DEPTH_COMPONENT24] = DEPTH_ATTACHMENT;\nattachmentsByFormat[DEPTH_COMPONENT32F] = DEPTH_ATTACHMENT;\nattachmentsByFormat[DEPTH24_STENCIL8] = DEPTH_STENCIL_ATTACHMENT;\nattachmentsByFormat[DEPTH32F_STENCIL8] = DEPTH_STENCIL_ATTACHMENT;\n\nfunction getAttachmentPointForFormat(format, internalFormat) {\n  return attachmentsByFormat[format] || attachmentsByFormat[internalFormat];\n}\n\nconst renderbufferFormats = {};\nrenderbufferFormats[RGBA4] = true;\nrenderbufferFormats[RGB5_A1] = true;\nrenderbufferFormats[RGB565] = true;\nrenderbufferFormats[DEPTH_STENCIL] = true;\nrenderbufferFormats[DEPTH_COMPONENT16] = true;\nrenderbufferFormats[STENCIL_INDEX] = true;\nrenderbufferFormats[STENCIL_INDEX8] = true;\n\nfunction isRenderbufferFormat(format) {\n  return renderbufferFormats[format];\n}\n\nconst MAX_COLOR_ATTACHMENT_POINTS = 32;  // even an 3090 only supports 8 but WebGL/OpenGL ES define constants for 32\n\nfunction isColorAttachmentPoint(attachmentPoint) {\n  return attachmentPoint >= COLOR_ATTACHMENT0 && attachmentPoint < COLOR_ATTACHMENT0 + MAX_COLOR_ATTACHMENT_POINTS;\n}\n\n/**\n * @typedef {Object} FramebufferInfo\n * @property {WebGLFramebuffer} framebuffer The WebGLFramebuffer for this framebufferInfo\n * @property {Array.<(WebGLRenderbuffer | WebGLTexture)>} attachments The created attachments in the same order as passed in to {@link module:twgl.createFramebufferInfo}.\n * @property {number} width The width of the framebuffer and its attachments\n * @property {number} height The width of the framebuffer and its attachments\n * @memberOf module:twgl\n */\n\n/**\n * Creates a framebuffer and attachments.\n *\n * This returns a {@link module:twgl.FramebufferInfo} because it needs to return the attachments as well as the framebuffer.\n * It also leaves the framebuffer it just created as the currently bound `FRAMEBUFFER`.\n * Note: If this is WebGL2 or if you called {@link module:twgl.addExtensionsToContext} then it will set the drawBuffers\n * to `[COLOR_ATTACHMENT0, COLOR_ATTACHMENT1, ...]` for how ever many color attachments were created.\n *\n * The simplest usage\n *\n *     // create an RGBA/UNSIGNED_BYTE texture and DEPTH_STENCIL renderbuffer\n *     const fbi = twgl.createFramebufferInfo(gl);\n *\n * More complex usage\n *\n *     // create an RGB565 renderbuffer and a STENCIL_INDEX8 renderbuffer\n *     const attachments = [\n *       { format: RGB565, mag: NEAREST },\n *       { format: STENCIL_INDEX8 },\n *     ]\n *     const fbi = twgl.createFramebufferInfo(gl, attachments);\n *\n * Passing in a specific size\n *\n *     const width = 256;\n *     const height = 256;\n *     const fbi = twgl.createFramebufferInfo(gl, attachments, width, height);\n *\n * **Note!!** It is up to you to check if the framebuffer is renderable by calling `gl.checkFramebufferStatus`.\n * [WebGL1 only guarantees 3 combinations of attachments work](https://www.khronos.org/registry/webgl/specs/latest/1.0/#6.6).\n *\n * @param {WebGLRenderingContext} gl the WebGLRenderingContext\n * @param {module:twgl.AttachmentOptions[]} [attachments] which attachments to create. If not provided the default is a framebuffer with an\n *    `RGBA`, `UNSIGNED_BYTE` texture `COLOR_ATTACHMENT0` and a `DEPTH_STENCIL` renderbuffer `DEPTH_STENCIL_ATTACHMENT`.\n * @param {number} [width] the width for the attachments. Default = size of drawingBuffer\n * @param {number} [height] the height for the attachments. Default = size of drawingBuffer\n * @return {module:twgl.FramebufferInfo} the framebuffer and attachments.\n * @memberOf module:twgl/framebuffers\n */\nfunction createFramebufferInfo(gl, attachments, width, height) {\n  const target = FRAMEBUFFER;\n  const fb = gl.createFramebuffer();\n  gl.bindFramebuffer(target, fb);\n  width  = width  || gl.drawingBufferWidth;\n  height = height || gl.drawingBufferHeight;\n  attachments = attachments || defaultAttachments;\n  const usedColorAttachmentsPoints = [];\n  const framebufferInfo = {\n    framebuffer: fb,\n    attachments: [],\n    width: width,\n    height: height,\n  };\n\n  attachments.forEach(function(attachmentOptions, i) {\n    let attachment = attachmentOptions.attachment;\n    const samples = attachmentOptions.samples;\n    const format = attachmentOptions.format;\n    let attachmentPoint = attachmentOptions.attachmentPoint || getAttachmentPointForFormat(format, attachmentOptions.internalFormat);\n    if (!attachmentPoint) {\n      attachmentPoint = COLOR_ATTACHMENT0 + i;\n    }\n    if (isColorAttachmentPoint(attachmentPoint)) {\n      usedColorAttachmentsPoints.push(attachmentPoint);\n    }\n    if (!attachment) {\n      if (samples !== undefined || isRenderbufferFormat(format)) {\n        attachment = gl.createRenderbuffer();\n        gl.bindRenderbuffer(RENDERBUFFER, attachment);\n        if (samples > 1) {\n          gl.renderbufferStorageMultisample(RENDERBUFFER, samples, format, width, height);\n        } else {\n          gl.renderbufferStorage(RENDERBUFFER, format, width, height);\n        }\n      } else {\n        const textureOptions = Object.assign({}, attachmentOptions);\n        textureOptions.width = width;\n        textureOptions.height = height;\n        if (textureOptions.auto === undefined) {\n          textureOptions.auto = false;\n          textureOptions.min = textureOptions.min || textureOptions.minMag || LINEAR;\n          textureOptions.mag = textureOptions.mag || textureOptions.minMag || LINEAR;\n          textureOptions.wrapS = textureOptions.wrapS || textureOptions.wrap || CLAMP_TO_EDGE;\n          textureOptions.wrapT = textureOptions.wrapT || textureOptions.wrap || CLAMP_TO_EDGE;\n        }\n        attachment = createTexture(gl, textureOptions);\n      }\n    }\n    if (isRenderbuffer(gl, attachment)) {\n      gl.framebufferRenderbuffer(target, attachmentPoint, RENDERBUFFER, attachment);\n    } else if (isTexture(gl, attachment)) {\n      if (attachmentOptions.layer !== undefined) {\n        gl.framebufferTextureLayer(\n          target,\n          attachmentPoint,\n          attachment,\n          attachmentOptions.level || 0,\n          attachmentOptions.layer);\n      } else {\n        gl.framebufferTexture2D(\n            target,\n            attachmentPoint,\n            attachmentOptions.target || TEXTURE_2D,\n            attachment,\n            attachmentOptions.level || 0);\n      }\n    } else {\n      throw new Error('unknown attachment type');\n    }\n    framebufferInfo.attachments.push(attachment);\n  });\n  if (gl.drawBuffers) {\n    gl.drawBuffers(usedColorAttachmentsPoints);\n  }\n  return framebufferInfo;\n}\n\n/**\n * Resizes the attachments of a framebuffer.\n *\n * You need to pass in the same `attachments` as you passed in {@link module:twgl.createFramebufferInfo}\n * because TWGL has no idea the format/type of each attachment.\n *\n * The simplest usage\n *\n *     // create an RGBA/UNSIGNED_BYTE texture and DEPTH_STENCIL renderbuffer\n *     const fbi = twgl.createFramebufferInfo(gl);\n *\n *     ...\n *\n *     function render() {\n *       if (twgl.resizeCanvasToDisplaySize(gl.canvas)) {\n *         // resize the attachments\n *         twgl.resizeFramebufferInfo(gl, fbi);\n *       }\n *\n * More complex usage\n *\n *     // create an RGB565 renderbuffer and a STENCIL_INDEX8 renderbuffer\n *     const attachments = [\n *       { format: RGB565, mag: NEAREST },\n *       { format: STENCIL_INDEX8 },\n *     ]\n *     const fbi = twgl.createFramebufferInfo(gl, attachments);\n *\n *     ...\n *\n *     function render() {\n *       if (twgl.resizeCanvasToDisplaySize(gl.canvas)) {\n *         // resize the attachments to match\n *         twgl.resizeFramebufferInfo(gl, fbi, attachments);\n *       }\n *\n * @param {WebGLRenderingContext} gl the WebGLRenderingContext\n * @param {module:twgl.FramebufferInfo} framebufferInfo a framebufferInfo as returned from {@link module:twgl.createFramebufferInfo}.\n * @param {module:twgl.AttachmentOptions[]} [attachments] the same attachments options as passed to {@link module:twgl.createFramebufferInfo}.\n * @param {number} [width] the width for the attachments. Default = size of drawingBuffer\n * @param {number} [height] the height for the attachments. Default = size of drawingBuffer\n * @memberOf module:twgl/framebuffers\n */\nfunction resizeFramebufferInfo(gl, framebufferInfo, attachments, width, height) {\n  width  = width  || gl.drawingBufferWidth;\n  height = height || gl.drawingBufferHeight;\n  framebufferInfo.width = width;\n  framebufferInfo.height = height;\n  attachments = attachments || defaultAttachments;\n  attachments.forEach(function(attachmentOptions, ndx) {\n    const attachment = framebufferInfo.attachments[ndx];\n    const format = attachmentOptions.format;\n    const samples = attachmentOptions.samples;\n    if (samples !== undefined || isRenderbuffer(gl, attachment)) {\n      gl.bindRenderbuffer(RENDERBUFFER, attachment);\n      if (samples > 1) {\n        gl.renderbufferStorageMultisample(RENDERBUFFER, samples, format, width, height);\n      } else {\n        gl.renderbufferStorage(RENDERBUFFER, format, width, height);\n      }\n    } else if (isTexture(gl, attachment)) {\n      resizeTexture(gl, attachment, attachmentOptions, width, height);\n    } else {\n      throw new Error('unknown attachment type');\n    }\n  });\n}\n\n/**\n * Binds a framebuffer\n *\n * This function pretty much solely exists because I spent hours\n * trying to figure out why something I wrote wasn't working only\n * to realize I forget to set the viewport dimensions.\n * My hope is this function will fix that.\n *\n * It is effectively the same as\n *\n *     gl.bindFramebuffer(gl.FRAMEBUFFER, someFramebufferInfo.framebuffer);\n *     gl.viewport(0, 0, someFramebufferInfo.width, someFramebufferInfo.height);\n *\n * @param {WebGLRenderingContext} gl the WebGLRenderingContext\n * @param {module:twgl.FramebufferInfo|null} [framebufferInfo] a framebufferInfo as returned from {@link module:twgl.createFramebufferInfo}.\n *   If falsy will bind the canvas.\n * @param {number} [target] The target. If not passed `gl.FRAMEBUFFER` will be used.\n * @memberOf module:twgl/framebuffers\n */\n\nfunction bindFramebufferInfo(gl, framebufferInfo, target) {\n  target = target || FRAMEBUFFER;\n  if (framebufferInfo) {\n    gl.bindFramebuffer(target, framebufferInfo.framebuffer);\n    gl.viewport(0, 0, framebufferInfo.width, framebufferInfo.height);\n  } else {\n    gl.bindFramebuffer(target, null);\n    gl.viewport(0, 0, gl.drawingBufferWidth, gl.drawingBufferHeight);\n  }\n}\n\nvar framebuffers = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  bindFramebufferInfo: bindFramebufferInfo,\n  createFramebufferInfo: createFramebufferInfo,\n  resizeFramebufferInfo: resizeFramebufferInfo\n});\n\n/*\n * Copyright 2019 Gregg Tavares\n *\n * Permission is hereby granted, free of charge, to any person obtaining a\n * copy of this software and associated documentation files (the \"Software\"),\n * to deal in the Software without restriction, including without limitation\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\n * and/or sell copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.  IN NO EVENT SHALL\n * THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\n * DEALINGS IN THE SOFTWARE.\n */\n\n/**\n * vertex array object related functions\n *\n * You should generally not need to use these functions. They are provided\n * for those cases where you're doing something out of the ordinary\n * and you need lower level access.\n *\n * For backward compatibility they are available at both `twgl.attributes` and `twgl`\n * itself\n *\n * See {@link module:twgl} for core functions\n *\n * @module twgl/vertexArrays\n */\n\nconst ELEMENT_ARRAY_BUFFER           = 0x8893;\n\n/**\n * @typedef {Object} VertexArrayInfo\n * @property {number} numElements The number of elements to pass to `gl.drawArrays` or `gl.drawElements`.\n * @property {number} [elementType] The type of indices `UNSIGNED_BYTE`, `UNSIGNED_SHORT` etc..\n * @property {WebGLVertexArrayObject} [vertexArrayObject] a vertex array object\n * @memberOf module:twgl\n */\n\n/**\n * Creates a VertexArrayInfo from a BufferInfo and one or more ProgramInfos\n *\n * This can be passed to {@link module:twgl.setBuffersAndAttributes} and to\n * {@link module:twgl:drawBufferInfo}.\n *\n * > **IMPORTANT:** Vertex Array Objects are **not** a direct analog for a BufferInfo. Vertex Array Objects\n *   assign buffers to specific attributes at creation time. That means they can only be used with programs\n *   who's attributes use the same attribute locations for the same purposes.\n *\n * > Bind your attribute locations by passing an array of attribute names to {@link module:twgl.createProgramInfo}\n *   or use WebGL 2's GLSL ES 3's `layout(location = <num>)` to make sure locations match.\n *\n * also\n *\n * > **IMPORTANT:** After calling twgl.setBuffersAndAttribute with a BufferInfo that uses a Vertex Array Object\n *   that Vertex Array Object will be bound. That means **ANY MANIPULATION OF ELEMENT_ARRAY_BUFFER or ATTRIBUTES**\n *   will affect the Vertex Array Object state.\n *\n * > Call `gl.bindVertexArray(null)` to get back manipulating the global attributes and ELEMENT_ARRAY_BUFFER.\n *\n * @param {WebGLRenderingContext} gl A WebGLRenderingContext\n * @param {module:twgl.ProgramInfo|module:twgl.ProgramInfo[]} programInfo a programInfo or array of programInfos\n * @param {module:twgl.BufferInfo} bufferInfo BufferInfo as returned from createBufferInfoFromArrays etc...\n *\n *    You need to make sure every attribute that will be used is bound. So for example assume shader 1\n *    uses attributes A, B, C and shader 2 uses attributes A, B, D. If you only pass in the programInfo\n *    for shader 1 then only attributes A, B, and C will have their attributes set because TWGL doesn't\n *    now attribute D's location.\n *\n *    So, you can pass in both shader 1 and shader 2's programInfo\n *\n * @return {module:twgl.VertexArrayInfo} The created VertexArrayInfo\n *\n * @memberOf module:twgl/vertexArrays\n */\nfunction createVertexArrayInfo(gl, programInfos, bufferInfo) {\n  const vao = gl.createVertexArray();\n  gl.bindVertexArray(vao);\n  if (!programInfos.length) {\n    programInfos = [programInfos];\n  }\n  programInfos.forEach(function(programInfo) {\n    setBuffersAndAttributes(gl, programInfo, bufferInfo);\n  });\n  gl.bindVertexArray(null);\n  return {\n    numElements: bufferInfo.numElements,\n    elementType: bufferInfo.elementType,\n    vertexArrayObject: vao,\n  };\n}\n\n/**\n * Creates a vertex array object and then sets the attributes on it\n *\n * @param {WebGLRenderingContext} gl The WebGLRenderingContext to use.\n * @param {Object.<string, function>} setters Attribute setters as returned from createAttributeSetters\n * @param {Object.<string, module:twgl.AttribInfo>} attribs AttribInfos mapped by attribute name.\n * @param {WebGLBuffer} [indices] an optional ELEMENT_ARRAY_BUFFER of indices\n *\n * @return {WebGLVertexArrayObject|null} The created WebGLVertexArrayObject\n *\n * @memberOf module:twgl/vertexArrays\n */\nfunction createVAOAndSetAttributes(gl, setters, attribs, indices) {\n  const vao = gl.createVertexArray();\n  gl.bindVertexArray(vao);\n  setAttributes(setters, attribs);\n  if (indices) {\n    gl.bindBuffer(ELEMENT_ARRAY_BUFFER, indices);\n  }\n  // We unbind this because otherwise any change to ELEMENT_ARRAY_BUFFER\n  // like when creating buffers for other stuff will mess up this VAO's binding\n  gl.bindVertexArray(null);\n  return vao;\n}\n\n/**\n * Creates a vertex array object and then sets the attributes\n * on it\n *\n * @param {WebGLRenderingContext} gl The WebGLRenderingContext\n *        to use.\n * @param {Object.<string, function>| module:twgl.ProgramInfo} programInfo as returned from createProgramInfo or Attribute setters as returned from createAttributeSetters\n * @param {module:twgl.BufferInfo} bufferInfo BufferInfo as returned from createBufferInfoFromArrays etc...\n * @param {WebGLBuffer} [indices] an optional ELEMENT_ARRAY_BUFFER of indices\n *\n * @return {WebGLVertexArrayObject|null} The created WebGLVertexArrayObject\n *\n * @memberOf module:twgl/vertexArrays\n */\nfunction createVAOFromBufferInfo(gl, programInfo, bufferInfo) {\n  return createVAOAndSetAttributes(gl, programInfo.attribSetters || programInfo, bufferInfo.attribs, bufferInfo.indices);\n}\n\nvar vertexArrays = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  createVertexArrayInfo: createVertexArrayInfo,\n  createVAOAndSetAttributes: createVAOAndSetAttributes,\n  createVAOFromBufferInfo: createVAOFromBufferInfo\n});\n\n/*\n * Copyright 2019 Gregg Tavares\n *\n * Permission is hereby granted, free of charge, to any person obtaining a\n * copy of this software and associated documentation files (the \"Software\"),\n * to deal in the Software without restriction, including without limitation\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\n * and/or sell copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.  IN NO EVENT SHALL\n * THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\n * DEALINGS IN THE SOFTWARE.\n */\nconst defaults = {\n  addExtensionsToContext: true,\n};\n\n/**\n * Various default settings for twgl.\n *\n * Note: You can call this any number of times. Example:\n *\n *     twgl.setDefaults({ textureColor: [1, 0, 0, 1] });\n *     twgl.setDefaults({ attribPrefix: 'a_' });\n *\n * is equivalent to\n *\n *     twgl.setDefaults({\n *       textureColor: [1, 0, 0, 1],\n *       attribPrefix: 'a_',\n *     });\n *\n * @typedef {Object} Defaults\n * @property {string} [attribPrefix] The prefix to stick on attributes\n *\n *   When writing shaders I prefer to name attributes with `a_`, uniforms with `u_` and varyings with `v_`\n *   as it makes it clear where they came from. But, when building geometry I prefer using un-prefixed names.\n *\n *   In other words I'll create arrays of geometry like this\n *\n *       const arrays = {\n *         position: ...\n *         normal: ...\n *         texcoord: ...\n *       };\n *\n *   But need those mapped to attributes and my attributes start with `a_`.\n *\n *   Default: `\"\"`\n *\n * @property {number[]} [textureColor] Array of 4 values in the range 0 to 1\n *\n *   The default texture color is used when loading textures from\n *   urls. Because the URL will be loaded async we'd like to be\n *   able to use the texture immediately. By putting a 1x1 pixel\n *   color in the texture we can start using the texture before\n *   the URL has loaded.\n *\n *   Default: `[0.5, 0.75, 1, 1]`\n *\n * @property {string} [crossOrigin]\n *\n *   If not undefined sets the crossOrigin attribute on images\n *   that twgl creates when downloading images for textures.\n *\n *   Also see {@link module:twgl.TextureOptions}.\n *\n * @property {bool} [addExtensionsToContext]\n *\n *   If true, then, when twgl will try to add any supported WebGL extensions\n *   directly to the context under their normal GL names. For example\n *   if ANGLE_instances_arrays exists then twgl would enable it,\n *   add the functions `vertexAttribDivisor`, `drawArraysInstanced`,\n *   `drawElementsInstanced`, and the constant `VERTEX_ATTRIB_ARRAY_DIVISOR`\n *   to the `WebGLRenderingContext`.\n *\n * @memberOf module:twgl\n */\n\n/**\n * Sets various defaults for twgl.\n *\n * In the interest of terseness which is kind of the point\n * of twgl I've integrated a few of the older functions here\n *\n * @param {module:twgl.Defaults} newDefaults The default settings.\n * @memberOf module:twgl\n */\nfunction setDefaults(newDefaults) {\n  copyExistingProperties(newDefaults, defaults);\n  setDefaults$2(newDefaults);  // eslint-disable-line\n  setDefaults$1(newDefaults);  // eslint-disable-line\n}\n\nconst prefixRE = /^(.*?)_/;\nfunction addExtensionToContext(gl, extensionName) {\n  glEnumToString(gl, 0);\n  const ext = gl.getExtension(extensionName);\n  if (ext) {\n    const enums = {};\n    const fnSuffix = prefixRE.exec(extensionName)[1];\n    const enumSuffix = '_' + fnSuffix;\n    for (const key in ext) {\n      const value = ext[key];\n      const isFunc = typeof (value) === 'function';\n      const suffix = isFunc ? fnSuffix : enumSuffix;\n      let name = key;\n      // examples of where this is not true are WEBGL_compressed_texture_s3tc\n      // and WEBGL_compressed_texture_pvrtc\n      if (key.endsWith(suffix)) {\n        name = key.substring(0, key.length - suffix.length);\n      }\n      if (gl[name] !== undefined) {\n        if (!isFunc && gl[name] !== value) {\n          warn$1(name, gl[name], value, key);\n        }\n      } else {\n        if (isFunc) {\n          gl[name] = function(origFn) {\n            return function() {\n              return origFn.apply(ext, arguments);\n            };\n          }(value);\n        } else {\n          gl[name] = value;\n          enums[name] = value;\n        }\n      }\n    }\n    // pass the modified enums to glEnumToString\n    enums.constructor = {\n      name: ext.constructor.name,\n    };\n    glEnumToString(enums, 0);\n  }\n  return ext;\n}\n\n/*\n * If you're wondering why the code doesn't just iterate\n * over all extensions using `gl.getExtensions` is that it's possible\n * some future extension is incompatible with this code. Rather than\n * have thing suddenly break it seems better to manually add to this\n * list.\n *\n */\nconst supportedExtensions = [\n  'ANGLE_instanced_arrays',\n  'EXT_blend_minmax',\n  'EXT_color_buffer_float',\n  'EXT_color_buffer_half_float',\n  'EXT_disjoint_timer_query',\n  'EXT_disjoint_timer_query_webgl2',\n  'EXT_frag_depth',\n  'EXT_sRGB',\n  'EXT_shader_texture_lod',\n  'EXT_texture_filter_anisotropic',\n  'OES_element_index_uint',\n  'OES_standard_derivatives',\n  'OES_texture_float',\n  'OES_texture_float_linear',\n  'OES_texture_half_float',\n  'OES_texture_half_float_linear',\n  'OES_vertex_array_object',\n  'WEBGL_color_buffer_float',\n  'WEBGL_compressed_texture_atc',\n  'WEBGL_compressed_texture_etc1',\n  'WEBGL_compressed_texture_pvrtc',\n  'WEBGL_compressed_texture_s3tc',\n  'WEBGL_compressed_texture_s3tc_srgb',\n  'WEBGL_depth_texture',\n  'WEBGL_draw_buffers',\n];\n\n/**\n * Attempts to enable all of the following extensions\n * and add their functions and constants to the\n * `WebGLRenderingContext` using their normal non-extension like names.\n *\n *      ANGLE_instanced_arrays\n *      EXT_blend_minmax\n *      EXT_color_buffer_float\n *      EXT_color_buffer_half_float\n *      EXT_disjoint_timer_query\n *      EXT_disjoint_timer_query_webgl2\n *      EXT_frag_depth\n *      EXT_sRGB\n *      EXT_shader_texture_lod\n *      EXT_texture_filter_anisotropic\n *      OES_element_index_uint\n *      OES_standard_derivatives\n *      OES_texture_float\n *      OES_texture_float_linear\n *      OES_texture_half_float\n *      OES_texture_half_float_linear\n *      OES_vertex_array_object\n *      WEBGL_color_buffer_float\n *      WEBGL_compressed_texture_atc\n *      WEBGL_compressed_texture_etc1\n *      WEBGL_compressed_texture_pvrtc\n *      WEBGL_compressed_texture_s3tc\n *      WEBGL_compressed_texture_s3tc_srgb\n *      WEBGL_depth_texture\n *      WEBGL_draw_buffers\n *\n * For example if `ANGLE_instanced_arrays` exists then the functions\n * `drawArraysInstanced`, `drawElementsInstanced`, `vertexAttribDivisor`\n * and the constant `VERTEX_ATTRIB_ARRAY_DIVISOR` are added to the\n * `WebGLRenderingContext`.\n *\n * Note that if you want to know if the extension exists you should\n * probably call `gl.getExtension` for each extension. Alternatively\n * you can check for the existence of the functions or constants that\n * are expected to be added. For example\n *\n *    if (gl.drawBuffers) {\n *      // Either WEBGL_draw_buffers was enabled OR you're running in WebGL2\n *      ....\n *\n * @param {WebGLRenderingContext} gl A WebGLRenderingContext\n * @memberOf module:twgl\n */\nfunction addExtensionsToContext(gl) {\n  for (let ii = 0; ii < supportedExtensions.length; ++ii) {\n    addExtensionToContext(gl, supportedExtensions[ii]);\n  }\n}\n\n/**\n * Creates a webgl context.\n * @param {HTMLCanvasElement} canvas The canvas tag to get\n *     context from. If one is not passed in one will be\n *     created.\n * @return {WebGLRenderingContext} The created context.\n * @private\n */\nfunction create3DContext(canvas, opt_attribs) {\n  const names = [\"webgl\", \"experimental-webgl\"];\n  let context = null;\n  for (let ii = 0; ii < names.length; ++ii) {\n    context = canvas.getContext(names[ii], opt_attribs);\n    if (context) {\n      if (defaults.addExtensionsToContext) {\n        addExtensionsToContext(context);\n      }\n      break;\n    }\n  }\n  return context;\n}\n\n/**\n * Gets a WebGL1 context.\n *\n * Note: Will attempt to enable Vertex Array Objects\n * and add WebGL2 entry points. (unless you first set defaults with\n * `twgl.setDefaults({enableVertexArrayObjects: false})`;\n *\n * @param {HTMLCanvasElement} canvas a canvas element.\n * @param {WebGLContextAttributes} [opt_attribs] optional webgl context creation attributes\n * @return {WebGLRenderingContext} The created context.\n * @memberOf module:twgl\n * @deprecated\n * @private\n */\nfunction getWebGLContext(canvas, opt_attribs) {\n  const gl = create3DContext(canvas, opt_attribs);\n  return gl;\n}\n\n/**\n * Creates a webgl context.\n *\n * Will return a WebGL2 context if possible.\n *\n * You can check if it's WebGL2 with\n *\n *     twgl.isWebGL2(gl);\n *\n * @param {HTMLCanvasElement} canvas The canvas tag to get\n *     context from. If one is not passed in one will be\n *     created.\n * @return {WebGLRenderingContext} The created context.\n */\nfunction createContext(canvas, opt_attribs) {\n  const names = [\"webgl2\", \"webgl\", \"experimental-webgl\"];\n  let context = null;\n  for (let ii = 0; ii < names.length; ++ii) {\n    context = canvas.getContext(names[ii], opt_attribs);\n    if (context) {\n      if (defaults.addExtensionsToContext) {\n        addExtensionsToContext(context);\n      }\n      break;\n    }\n  }\n  return context;\n}\n\n/**\n * Gets a WebGL context.  Will create a WebGL2 context if possible.\n *\n * You can check if it's WebGL2 with\n *\n *    function isWebGL2(gl) {\n *      return gl.getParameter(gl.VERSION).indexOf(\"WebGL 2.0 \") == 0;\n *    }\n *\n * Note: For a WebGL1 context will attempt to enable Vertex Array Objects\n * and add WebGL2 entry points. (unless you first set defaults with\n * `twgl.setDefaults({enableVertexArrayObjects: false})`;\n *\n * @param {HTMLCanvasElement} canvas a canvas element.\n * @param {WebGLContextAttributes} [opt_attribs] optional webgl context creation attributes\n * @return {WebGLRenderingContext} The created context.\n * @memberOf module:twgl\n */\nfunction getContext(canvas, opt_attribs) {\n  const gl = createContext(canvas, opt_attribs);\n  return gl;\n}\n\n/**\n * Resize a canvas to match the size it's displayed.\n * @param {HTMLCanvasElement} canvas The canvas to resize.\n * @param {number} [multiplier] So you can pass in `window.devicePixelRatio` or other scale value if you want to.\n * @return {boolean} true if the canvas was resized.\n * @memberOf module:twgl\n */\nfunction resizeCanvasToDisplaySize(canvas, multiplier) {\n  multiplier = multiplier || 1;\n  multiplier = Math.max(0, multiplier);\n  const width  = canvas.clientWidth  * multiplier | 0;\n  const height = canvas.clientHeight * multiplier | 0;\n  if (canvas.width !== width || canvas.height !== height) {\n    canvas.width = width;\n    canvas.height = height;\n    return true;\n  }\n  return false;\n}\n\nexport { addExtensionsToContext, attributes, bindFramebufferInfo, bindTransformFeedbackInfo, bindUniformBlock, canFilter, canGenerateMipmap, createAttribsFromArrays, createAttributeSetters, createBufferFromArray, createBufferFromTypedArray, createBufferInfoFromArrays, createBuffersFromArrays, createFramebufferInfo, createProgram, createProgramAsync, createProgramFromScripts, createProgramFromSources, createProgramInfo, createProgramInfoAsync, createProgramInfoFromProgram, createProgramInfos, createProgramInfosAsync, createPrograms, createProgramsAsync, createSampler, createSamplers, createTexture, createTextures, createTransformFeedback, createTransformFeedbackInfo, createUniformBlockInfo, createUniformBlockInfoFromProgram, createUniformBlockSpecFromProgram, createUniformSetters, createVAOAndSetAttributes, createVAOFromBufferInfo, createVertexArrayInfo, draw, drawBufferInfo, drawObjectList, framebuffers, getArray$1 as getArray_, getBytesPerElementForInternalFormat, getContext, getFormatAndTypeForInternalFormat, getGLTypeForTypedArray, getGLTypeForTypedArrayType, getNumComponentsForFormat, getNumComponents$1 as getNumComponents_, getTypedArrayTypeForGLType, getWebGLContext, glEnumToString, isArrayBuffer$1 as isArrayBuffer, isWebGL1, isWebGL2, loadTextureFromUrl, m4, primitives, programs, resizeCanvasToDisplaySize, resizeFramebufferInfo, resizeTexture, setAttribInfoBufferFromArray, setDefaults$2 as setAttributeDefaults_, setAttributePrefix, setAttributes, setBlockUniforms, setBuffersAndAttributes, setDefaultTextureColor, setDefaults, setEmptyTexture, setSamplerParameters, setDefaults$1 as setTextureDefaults_, setTextureFilteringForSize, setTextureFromArray, setTextureFromElement, setTextureParameters, setUniformBlock, setUniforms, setUniformsAndBindTextures, textures, typedarrays, utils, v3, vertexArrays };\n","export default {\n    vertex:`#version 300 es\n\n    in vec3 a_position; //x and y are positions and z is id\n    flat out int v_ID;\n    void main() {\n        v_ID = int(a_position.z);\n        gl_Position = vec4(a_position.x, -a_position.y, 1.0, 1.0);\n    }`,\n    fragment: `#version 300 es\n\n    precision highp float;\n    flat in int v_ID; \n    out ivec4 outColor;\n\n    void main() {\n        outColor = ivec4(v_ID, 0, 0, 1);   \n    }`\n} ","export default function createCone(edges: number) {\n    const vertices = new Array();\n    vertices[0] = 0;\n    vertices[1] = 0;\n    vertices[2] = -1;\n    for (let i = 0; i <= edges; i++) {\n        const angle = 2 * Math.PI * i / edges;\n        vertices[i * 3 + 3] = Math.cos(angle);\n        vertices[i * 3 + 4] = Math.sin(angle);\n        vertices[i * 3 + 5] = 1;\n    }\n    return vertices;\n}","export default {\n  vertex: `#version 300 es\n\n    layout(location = 2) in int a_arc_id;\n    layout(location = 1) in vec2 a_position;\n    layout(location = 0) in vec3 a_instance;\n    flat out ivec2 v_ID;\n    void main() {\n        v_ID = ivec2(gl_InstanceID, a_arc_id);\n        gl_Position = vec4(a_instance.xy + vec2(a_position.x, a_position.y), a_instance.z, 1);\n    }`,\n\n  fragment: `#version 300 es\n\n    precision highp float;\n\n    uniform mediump isampler2D u_stencil;\n    uniform int u_background_index;\n    flat in ivec2 v_ID; \n    out ivec4 outColor;\n    \n    void main() {\n        ivec2 coord = ivec2(gl_FragCoord.x, gl_FragCoord.y);\n        ivec4 t = texelFetch(u_stencil, coord, 0);\n        if (t.r == v_ID.y){\n            outColor.r = v_ID.x; \n        } else {\n          outColor.r = -1;\n        }\n    }`,\n};\n","export default {\n    vertex:  `#version 300 es\n\n    layout(location = 0) in vec2 a_texCoord;\n\n    void main() {\n        gl_Position = vec4(a_texCoord, 1, 1);\n    }`,\n\n    fragment:`#version 300 es\n    precision highp float;\n\n    uniform mediump isampler2D voroni;\n\n    out vec4 color;\n\n    void main() {\n        ivec2 tex_size = textureSize(voroni, 0);\n        int my_index = int(gl_FragCoord.x);\n        color = vec4(0.0, 0.0, 0.0, 1.0);\n        ivec2 coord;\n        ivec4 t;\n        int id;\n        for (int x = 0; x < tex_size.x; x++) {\n            coord = ivec2(x, gl_FragCoord.y);\n            t = texelFetch(voroni, coord, 0);\n            id = t.r;\n            if (id == my_index) {\n                color.xy += vec2(coord) + 0.5;\n                color.z += 1.0;\n            }\n        }\n        color.xy /= float(tex_size);\n    }`,\n}","export default {\n    vertex:`#version 300 es\n    \n    layout(location = 1) in vec2 a_origin;\n    out vec2 a_position;\n\n    uniform sampler2D summed;\n\n    void main() {\n        ivec2 tex_size = textureSize(summed, 0);\n        float count = 0.0;\n        a_position = vec2(0.0);\n        vec3 t;\n        for (int y = 0; y < tex_size.y; y++){\n            t = texelFetch(summed, ivec2(gl_VertexID, y), 0).xyz; \n            a_position += t.xy;\n            count += t.z;\n        }\n        /* \n        * these coordinates are normalized betwen 0 and 1 by the previous shader. \n        * but they're being put into back into a vertex buffer\n        * so they need to be re-normalized to vertex coords (between -1 and 1)\n        */\n        if (int(count) > 0){\n            a_position  = (a_position / count) * 2.0 - 1.0;\n        } else {\n            a_position = a_origin;\n        }\n    }`,\n    fragment:`#version 300 es\n    precision highp float;\n\n    void main() {\n    discard;\n    }`\n}","import * as twgl from \"twgl.js\";\nimport stencilShaderSource from \"./shaders/stencilShader\";\nimport createCone from \"./createCone\";\nimport vornoiShader from \"./shaders/vornoiShader\";\nimport intermediateShader from \"./shaders/intermediateShader\";\nimport tfShader from \"./shaders/transformFeedbackShader\";\nexport default class VornoiMesh {\n  transformFeedback: WebGLTransformFeedback;\n  textureWidth: number;\n  textureHeight: number;\n  cycles: number;\n  stencil: number[] = [];\n  offsets: number[] = [];\n  offsetArcIds: number[] = [];\n  vertex = createCone(36);\n  chunks = 0;\n  stencilFrameBufferInfo: twgl.FramebufferInfo;\n  gl: WebGL2RenderingContext;\n  quad = new Float32Array([\n    // First triangle:\n    1.0, 1.0, -1.0, 1.0, -1.0, -1.0,\n    // Second triangle:\n    -1.0, -1.0, 1.0, -1.0, 1.0, 1.0,\n  ]);\n  stencilProgram: twgl.ProgramInfo;\n  vornoiProgram: twgl.ProgramInfo;\n  intermediateProgram: twgl.ProgramInfo;\n  stencilBufferArrays: twgl.Arrays;\n  vornoiBufferArrays: twgl.Arrays;\n  vornoiBufferInfo: twgl.BufferInfo;\n  vornoiFrameBufferInfo: twgl.FramebufferInfo;\n  stencilBufferInfo: twgl.BufferInfo;\n  intermediateFrameBufferInfo: twgl.FramebufferInfo;\n  intermediateBufferArrays = {\n    a_texCoord: {\n      numComponents: 2,\n      data: this.quad,\n    },\n  };\n  intermediateBufferInfo: twgl.BufferInfo;\n  transformFeedbackProgram: twgl.ProgramInfo;\n  feedbackVoaInfo: twgl.VertexArrayInfo;\n  keepOpen = false\n  buffersReady = true\n  callBack: ({payload, keepOpen}:{payload:Float32Array, keepOpen:boolean}) => void;\n\n  constructor(\n    gl: WebGL2RenderingContext,\n    textureWidth: number,\n    textureHeight: number,\n    cycles: number,\n    callback: ({payload, keepOpen}:{payload:Float32Array, keepOpen:boolean}) => void\n  ) {\n    this.textureWidth = textureWidth;\n    this.textureHeight = textureHeight;\n    this.cycles = cycles;\n    this.gl = gl;\n    this.callBack = callback;\n    this.transformFeedback = gl.createTransformFeedback()!;\n  \n    if (!gl.getExtension(\"EXT_color_buffer_float\")) {\n      console.error(\"voroni error: color extention does not exist\");\n    }\n    let redExt:WEBGL_compressed_texture_etc | EXT_texture_compression_rgtc | null = gl.getExtension(\"WEBGL_compressed_texture_etc\") || gl.getExtension('EXT_texture_compression_rgtc')\n    if (!redExt){\n      console.error(\"compressed textures not supported on this machine\")\n    }\n\n    this.stencilProgram = twgl.createProgramInfo(\n      gl,\n      [stencilShaderSource.vertex, stencilShaderSource.fragment],\n      {\n        attribLocations: {\n          a_position: 0,\n        },\n      }\n    );\n    this.stencilBufferArrays = {\n      a_position: {\n        numComponents: 3,\n        data: new Float32Array(this.stencil),\n        drawType: gl.STATIC_DRAW,\n      },\n    };\n    this.stencilBufferInfo = twgl.createBufferInfoFromArrays(\n      gl,\n      this.stencilBufferArrays\n    );\n    \n    this.stencilFrameBufferInfo = twgl.createFramebufferInfo(\n      gl,\n      [\n        //we only need 1 and 0 for the stencil.\n        {\n          internalFormat: gl.R32I,\n          format: gl.RED_INTEGER,\n          type: gl.INT,\n          minMag: gl.NEAREST,\n        },\n      ],\n      textureWidth,\n      textureHeight\n    );\n\n\n\n    this.vornoiProgram = twgl.createProgramInfo(\n      gl,\n      [vornoiShader.vertex, vornoiShader.fragment],\n      {\n        attribLocations: {\n          a_arc_id: 2,\n          a_position: 1,\n          a_instance: 0,\n        },\n      }\n    );\n    this.vornoiFrameBufferInfo = twgl.createFramebufferInfo(\n      gl,\n      [\n        //store only integers on the red channel. these are the ids for each cell\n        {\n          internalFormat: gl.R32I,\n          format: gl.RED_INTEGER,\n          type: gl.INT,\n          minMag: gl.NEAREST,\n        },\n        {\n          attachmentPoint: gl.DEPTH_ATTACHMENT,\n          internalFormat: gl.DEPTH_COMPONENT24,\n          format: gl.DEPTH_COMPONENT,\n        },\n      ],\n      textureWidth,\n      textureHeight\n    );\n    this.vornoiBufferArrays = {\n      a_position: {\n        numComponents: 2,\n        divisor: 1,\n        data: new Float32Array([...this.offsets]),\n        drawType: gl.DYNAMIC_DRAW,\n      },\n      a_arc_id: {\n        numComponents: 1,\n        divisor: 1,\n        data: new Int32Array([...this.offsetArcIds]),\n        drawType: gl.DYNAMIC_DRAW,\n      },\n      a_instance: {\n        numComponents: 3,\n        data: createCone(36),\n      },\n      a_origin: {\n        numComponents: 2,\n        data: new Float32Array([...this.offsets]),\n        drawType: gl.STATIC_DRAW,\n      },\n    };\n    this.vornoiBufferInfo = twgl.createBufferInfoFromArrays(\n      gl,\n      this.vornoiBufferArrays\n    );\n    this.intermediateProgram = twgl.createProgramInfo(\n      gl,\n      [intermediateShader.vertex, intermediateShader.fragment],\n      {\n        attribLocations: {\n          a_texCoord: 0,\n        },\n      }\n    );\n    this.intermediateFrameBufferInfo = twgl.createFramebufferInfo(\n      gl,\n      [\n        //store floating point vec4 values\n        {\n          internalFormat: gl.RGBA32F,\n          format: gl.RGBA,\n          type: gl.FLOAT,\n          minMag: gl.NEAREST,\n        },\n      ],\n      this.offsets.length / 2,\n      textureHeight\n    );\n    this.intermediateBufferInfo = twgl.createBufferInfoFromArrays(\n      gl,\n      this.intermediateBufferArrays\n    );\n    this.transformFeedbackProgram = twgl.createProgramInfo(\n      gl,\n      [tfShader.vertex, tfShader.fragment],\n      {\n        transformFeedbackVaryings: [\"a_position\"],\n        attribLocations: {\n          a_position: 0,\n          a_origin: 1\n        },\n      }\n    );\n    this.feedbackVoaInfo = twgl.createVertexArrayInfo(\n      gl,\n      this.transformFeedbackProgram,\n      this.vornoiBufferInfo\n    );\n  }\n\n  /**\n   * @param stencil [x1 ,y1, id1, ... xn, yn, idn]\n   * where 'x' and 'y' are vertexes of a trianguled polygone and 'id' is a unique integer id of the particluar polygone to which the vertex pair belong\n   */\n  updateStencil(stencil: number[]) {\n    this.stencil = stencil;\n    this.stencilBufferArrays = {\n      a_position: {\n        numComponents: 3,\n        data: new Float32Array(this.stencil),\n        drawType: this.gl.STATIC_DRAW,\n      },\n    };\n    this.gl.deleteBuffer(this.stencilBufferInfo.attribs!.a_position.buffer);\n    this.gl.deleteTexture(this.stencilFrameBufferInfo.attachments[0])\n    this.gl.deleteFramebuffer(this.stencilFrameBufferInfo.framebuffer)\n    this.stencilBufferInfo = twgl.createBufferInfoFromArrays(\n      this.gl,\n      this.stencilBufferArrays\n    );\n    this.stencilFrameBufferInfo = twgl.createFramebufferInfo(\n      this.gl,\n      [\n        //we only need 1 and 0 for the stencil.\n        {\n          internalFormat: this.gl.R32I,\n          format: this.gl.RED_INTEGER,\n          type: this.gl.INT,\n          minMag: this.gl.NEAREST,\n        },\n      ],\n      this.textureWidth,\n      this.textureHeight\n    );\n  }\n\n  /**\n   *\n   * @param offsets [x1, y1, ... xn, yn] cooridnates of the seed points for the initial vornoi cells\n   * @param offsetArcIds [id1, id1, ... idn, idn] length = offsets.length / 2. integer ids of the polygone boundry the contains the corresponding x, y offests.\n   */\n\n  updateOffsets(offsets: number[], offsetArcIds: number[]) {\n    // const { gl, textureHeight, transformFeedback, vornoiBufferArrays } = this\n    this.gl.deleteTexture(this.intermediateFrameBufferInfo.attachments[0])\n    this.gl.deleteFramebuffer(this.intermediateFrameBufferInfo.framebuffer);\n    this.gl.deleteBuffer(this.vornoiBufferInfo.attribs!.a_position.buffer)\n    this.gl.deleteBuffer(this.vornoiBufferInfo.attribs!.a_arc_id.buffer)\n    this.gl.deleteBuffer(this.vornoiBufferInfo.attribs!.a_origin.buffer)\n    this.gl.deleteTransformFeedback(this.transformFeedback)\n    this.offsets = offsets;\n    this.offsetArcIds = offsetArcIds;\n    this.vornoiBufferArrays = {\n      ...this.vornoiBufferArrays,\n      a_position: {\n        numComponents: 2,\n        divisor: 1,\n        data: new Float32Array([...offsets]),\n        drawType: this.gl.DYNAMIC_DRAW,\n      },\n      a_arc_id: {\n        numComponents: 1,\n        divisor: 1,\n        data: new Int32Array(offsetArcIds),\n        drawType: this.gl.DYNAMIC_DRAW,\n      },\n      a_origin: {\n        numComponents: 2,\n        data: new Float32Array([...offsets]),\n        drawType: this.gl.DYNAMIC_DRAW,\n      }\n    };\n    this.vornoiBufferInfo = twgl.createBufferInfoFromArrays(\n      this.gl,\n      this.vornoiBufferArrays\n    );\n \n    this.intermediateFrameBufferInfo = twgl.createFramebufferInfo(\n      this.gl,\n      [\n        //store floating point vec4 values\n        {\n          internalFormat: this.gl.RGBA32F,\n          format: this.gl.RGBA,\n          type: this.gl.FLOAT,\n          minMag: this.gl.NEAREST,\n        },\n      ],\n      //@ts-ignore\n      this.vornoiBufferArrays.a_position.data.length / this.vornoiBufferArrays.a_position.numComponents,\n      this.textureHeight\n    );\n    this.transformFeedback = this.gl.createTransformFeedback()!\n    this.feedbackVoaInfo = twgl.createVertexArrayInfo(\n      this.gl,\n      this.transformFeedbackProgram,\n      this.vornoiBufferInfo\n    );\n    \n    this.gl.bindTransformFeedback(this.gl.TRANSFORM_FEEDBACK, this.transformFeedback);\n    //bind hte voroni buffer to the transfrom feedback object\n    //the feedback program will write to this buffer\n    this.gl.bindBufferBase(\n      this.gl.TRANSFORM_FEEDBACK_BUFFER,\n      0,\n      this.vornoiBufferInfo.attribs!.a_position.buffer\n    );\n    this.gl.bindTransformFeedback(this.gl.TRANSFORM_FEEDBACK, null);\n    this.gl.bindBuffer(this.gl.ARRAY_BUFFER, null);\n  }\n\n  /**\n   * render the background polygones to an uint texture. Each poly gone will be colored accroding to its unique integer id\n   */\n  renderStencil() {\n      this.gl.useProgram(this.stencilProgram.program);\n      twgl.setBuffersAndAttributes(this.gl, this.stencilProgram, this.stencilBufferInfo);\n      //set the background 'color' to -1//\n\n      this.gl.bindFramebuffer(this.gl.FRAMEBUFFER, this.stencilFrameBufferInfo.framebuffer);\n      this.gl.framebufferTexture2D(\n        this.gl.FRAMEBUFFER,\n        this.gl.COLOR_ATTACHMENT0,\n        this.gl.TEXTURE_2D,\n        this.stencilFrameBufferInfo.attachments[0],\n        0\n      );\n      this.gl.viewport(0, 0, this.textureWidth, this.textureHeight);\n      this.gl.clearBufferiv(this.gl.COLOR, 0, new Int32Array([-1, 0, 0, 0]));\n      this.gl.drawArrays(\n        this.gl.TRIANGLES,\n        0,\n        this.stencil.length / this.stencilBufferInfo.attribs!.a_position!.numComponents!\n      );\n      this.gl.bindFramebuffer(this.gl.FRAMEBUFFER, null);\n      // this.debug(\"u_stencil\", this.stencilFrameBufferInfo.attachments[0], 100)\n  }\n  /**\n   * render vornoi cells to a uint texture. Each cell is colord according to its index in the offsets array. this servers as its unique id.\n   * each cell will only be drawn to the canvas if its corresponding arc_id matches the id of the pixel from the stencil texture\n   */\n  renderVornoi() {\n      if (this.offsets.length > 0) {\n        this.gl.useProgram(this.vornoiProgram.program);\n        twgl.setBuffersAndAttributes(this.gl, this.vornoiProgram, this.vornoiBufferInfo);\n        this.gl.bindFramebuffer(this.gl.FRAMEBUFFER, this.vornoiFrameBufferInfo.framebuffer);\n        this.gl.framebufferTexture2D(\n          this.gl.FRAMEBUFFER,\n          this.gl.COLOR_ATTACHMENT0,\n          this.gl.TEXTURE_2D,\n          this.vornoiFrameBufferInfo.attachments[0],\n          0\n        );\n        this.gl.viewport(0, 0, this.textureWidth, this.textureHeight);\n        const uniforms = {\n          u_stencil: this.stencilFrameBufferInfo.attachments[0],\n          u_background_index: this.offsets.length / 3 + 1,\n        };\n        twgl.setUniforms(this.vornoiProgram, uniforms);\n        //set the background 'color' to -1//\n        this.gl.clearBufferiv(this.gl.COLOR, 0, new Int32Array([-1, 0, 0, 0]));\n        this.gl.enable(this.gl.DEPTH_TEST);\n        this.gl.depthFunc(this.gl.LEQUAL);\n        this.gl.clearDepth(1);\n        this.gl.clear(this.gl.DEPTH_BUFFER_BIT);\n        this.gl.drawArraysInstanced(\n          this.gl.TRIANGLE_FAN,\n          0,\n          //@ts-ignore\n          this.vornoiBufferArrays.a_instance.data.length /\n            //@ts-ignore\n            this.vornoiBufferArrays.a_instance.numComponents,\n          //@ts-ignore\n          this.vornoiBufferArrays.a_position.data.length /\n            //@ts-ignore\n            this.vornoiBufferArrays.a_position.numComponents\n        );\n        this.gl.bindFramebuffer(this.gl.FRAMEBUFFER, null);\n        this.gl.bindBuffer(this.gl.ARRAY_BUFFER, null);\n        this.gl.disable(this.gl.DEPTH_TEST);\n        //@ts-ignore\n        // this.debug(\"u_vornoi\", this.vornoiFrameBufferInfo.attachments[0], (vornoiBufferArrays.a_position.data.length / vornoiBufferArrays.a_position.numComponents) + 1)\n      }\n  }\n\n  /**\n   * render sums to a texture that has deminention number_of_cells X vornoi_texture_height.\n   * where the \"columns\" (the x coordinates) are the id of each vornoi cell and the \"rows\" (the y coordinates) are the sum of all that cell's pixles along the coresponding row in the vornoi texture\n   */\n  renderIntermediateTexture() {\n    if (this.offsets.length > 0) {\n      //read from the red texture, containing the voroni cells\n      //write to the column texture, containing the column sums\n      this.gl.useProgram(this.intermediateProgram.program);\n      twgl.setBuffersAndAttributes(\n        this.gl,\n        this.intermediateProgram,\n        this.intermediateBufferInfo\n      );\n      this.gl.bindFramebuffer(\n        this.gl.FRAMEBUFFER,\n        this.intermediateFrameBufferInfo.framebuffer\n      );\n      this.gl.framebufferTexture2D(\n        this.gl.FRAMEBUFFER,\n        this.gl.COLOR_ATTACHMENT0,\n        this.gl.TEXTURE_2D,\n        this.intermediateFrameBufferInfo.attachments[0],\n        0\n      );\n      this.gl.bindTexture(this.gl.TEXTURE_2D, this.vornoiFrameBufferInfo.attachments[0]);\n      this.gl.clearBufferfv(this.gl.COLOR, 0, new Float32Array([-1, 0, 0, 1]))\n      this.gl.drawArrays(this.gl.TRIANGLES, 0, 6);\n      this.gl.bindFramebuffer(this.gl.FRAMEBUFFER, null);\n      this.gl.bindBuffer(this.gl.ARRAY_BUFFER, null);\n    }\n  }\n\n  /**\n   * sum along the columns of the intermediate texture and write the resulting vec2 into the vornoi buffer to seed the next round\n   */\n  transformFeedbackStep() {\n      //read from the intermediate texture and use transfrom feedback to write to the buffer for the voroni program\n      this.gl.useProgram(this.transformFeedbackProgram.program);\n      twgl.setBuffersAndAttributes(\n        this.gl,\n        this.transformFeedbackProgram,\n        this.feedbackVoaInfo\n      );\n\n      this.gl.enable(this.gl.RASTERIZER_DISCARD);\n\n      this.gl.bindTransformFeedback(this.gl.TRANSFORM_FEEDBACK, this.transformFeedback);\n      this.gl.bindBufferBase(\n        this.gl.TRANSFORM_FEEDBACK_BUFFER,\n        0,\n        this.vornoiBufferInfo.attribs!.a_position.buffer\n      );\n      this.gl.beginTransformFeedback(this.gl.POINTS);\n      this.gl.bindTexture(\n        this.gl.TEXTURE_2D,\n        this.intermediateFrameBufferInfo.attachments[0]\n      );\n      this.gl.drawArrays(this.gl.POINTS, 0, this.offsets.length / 2);\n      this.gl.endTransformFeedback();\n      this.gl.bindTransformFeedback(this.gl.TRANSFORM_FEEDBACK, null);\n      this.gl.bindVertexArray(null);\n      //turn on using fragment shaders again\n      this.gl.disable(this.gl.RASTERIZER_DISCARD);\n      this.gl.bindTransformFeedback(this.gl.TRANSFORM_FEEDBACK, null);\n      this.gl.bindBuffer(this.gl.ARRAY_BUFFER, null);\n      this.gl.bindBufferBase(this.gl.TRANSFORM_FEEDBACK_BUFFER, 0, null);\n      this.gl.bindFramebuffer(this.gl.FRAMEBUFFER, null);\n  }\n\n  /**\n   * @param key name of a sampler uniform;\n   * @param tex the texture to samplel\n   * @param colors array of RGB colors. One for each unique value to display;\n   * @returns displays the data on a uint texture using the provided colros;\n   * \n   * \n   * ex:\n   *  for (let i = 0; i < offsets.length / 2; i++) {\n          debugColors.push(Math.random(), Math.random(), Math.random())\n      }\n   *   ... RUN RENDER CYCLE ...\n   *   this.debug(\"u_vornoi\", this.vornoiFrameBufferInfo.attachments[0], debugColors)\n   */\n  debug(key: string, tex: WebGLTexture, colors: number[]) {\n    if (this) {\n      const { gl, quad } = this;\n      if (colors.length > 0) {\n        const vertexShaderSource = `#version 300 es\n            layout(location = 0) in vec2 a_position;\n            void main() {\n              gl_Position = vec4(a_position, 0.0, 1.0);\n            }\n            `;\n        const fragmentShaderSource = `#version 300 es\n            precision mediump float;\n            uniform vec3 colors[${colors.length}];\n            uniform mediump isampler2D ${key};\n            out vec4 outColor;\n            void main() {\n              ivec2 coord = ivec2(gl_FragCoord.xy);\n              ivec4 t = texelFetch(${key}, coord, 0);\n              outColor = vec4(colors[t.r], 1);\n            }\n            // `;\n\n        const uniforms = {\n          [key]: tex,\n        };\n        const debugProgramInfo = twgl.createProgramInfo(\n          gl,\n          [vertexShaderSource, fragmentShaderSource],\n          {\n            attribLocations: {\n              a_position: 0,\n            },\n          }\n        );\n\n        const debugBufferArrays: twgl.Arrays = {\n          a_position: {\n            numComponents: 2,\n            data: quad,\n            drawType: gl.STATIC_DRAW,\n          },\n        };\n        const debugBufferInto = twgl.createBufferInfoFromArrays(\n          gl,\n          debugBufferArrays\n        );\n\n        gl.useProgram(debugProgramInfo.program);\n        twgl.setBuffersAndAttributes(gl, debugProgramInfo, debugBufferInto);\n        const arrayUniform = gl.getUniformLocation(\n          debugProgramInfo.program,\n          \"colors\"\n        );\n        gl.uniform3fv(arrayUniform, new Float32Array(colors));\n        gl.clearColor(-1, 0, 0, 0);\n        gl.clear(gl.COLOR_BUFFER_BIT);\n        twgl.setUniforms(debugProgramInfo, uniforms);\n        gl.drawArrays(gl.TRIANGLES, 0, quad.length / 2);\n      }\n    }\n  }\n\n  render() {\n      // const debugColors:number[] = []\n      // const numberOfArcs = new Set(this.offsetArcIds)\n      // for (let i = 0; i < numberOfArcs.size + 1; i++) {\n      //     debugColors.push(Math.random(), Math.random(), Math.random())\n      // }\n      // console.log('rendering with offsets ', this.offsets)\n      for (let i = 0; i < this.cycles; i++) {\n        this.gl.flush()\n        this.renderVornoi();\n        this.renderIntermediateTexture();\n        this.transformFeedbackStep();\n      }\n      // this.debug(\"u_arc\", this.stencilFrameBufferInfo.attachments[0],debugColors)\n      // this.debug(\"u_vornoi\", this.vornoiFrameBufferInfo.attachments[0], debugColors)\n      return this.getBatchPositions();\n  \n  }\n\n  async renderInChunks(offsets:number[], offsetArcIds:number[]){\n    // console.log('rendering with offsets: ', offsets)\n    let currentArc = 0,\n      currentVectors:number[] = [],\n      currentArcIndexes:number[] = []\n      \n      for (let i = 0; i < offsets.length; i += 2) {\n        //try to group arcs by 300\n        if (currentVectors.length > 600 && currentArc !== offsetArcIds[Math.floor((i + 1) / 2)]){\n          // console.log({currentVectors, currentArcIndexes})\n          this.updateOffsets(currentVectors, currentArcIndexes)\n          this.keepOpen = true\n          // console.log('should send to render: ', {currentVectors, currentArcIndexes, keepOpen:this.keepOpen})\n          await this.render()\n          this.keepOpen = false\n          currentVectors = []\n          currentArcIndexes = []\n        }\n        currentArc = offsetArcIds[Math.floor((i + 1) / 2)]\n        // console.log(`on loop ${i} pushing `, offsets[i], offsets[i + 1])\n        currentVectors.push(offsets[i], offsets[i + 1])\n        currentArcIndexes.push(offsetArcIds[Math.floor((i + 1) / 2)])\n      }\n      if (currentArcIndexes.length > 0){\n        // console.log(\"there are leftovers \", {currentVectors, currentArcIndexes, keepOpen:this.keepOpen})\n        this.updateOffsets(currentVectors, currentArcIndexes)\n        this.render()\n      }\n\n  }\n\n  getBatchPositions() {\n    // console.log('getting positions')\n    const fence = this.gl.fenceSync(this.gl.SYNC_GPU_COMMANDS_COMPLETE, 0);\n    const {keepOpen} = this\n    this.gl.flush();\n    return new Promise((resolve) => {\n      const waitForResult = () => {\n        const status = this.gl.clientWaitSync(fence!, 0, 0);\n        if (\n          status === this.gl.CONDITION_SATISFIED ||\n          status === this.gl.ALREADY_SIGNALED\n          ) {\n          this.gl.deleteSync(fence);\n          const output = new Float32Array(this.offsets.length);\n          this.gl.bindBuffer(\n            this.gl.ARRAY_BUFFER,\n            this.vornoiBufferInfo.attribs!.a_position.buffer\n          );\n          this.gl.getBufferSubData(this.gl.ARRAY_BUFFER, 0, output);\n          this.callBack({payload:output, keepOpen});\n          resolve(\"done\")\n        } else {\n          setTimeout(waitForResult);\n        }\n      }\n      setTimeout(waitForResult);\n    })\n    \n    }\n\n  getPositions() {\n    const fence = this.gl.fenceSync(this.gl.SYNC_GPU_COMMANDS_COMPLETE, 0);\n    const {keepOpen} = this\n    this.gl.flush();\n    const waitForResult = () => {\n        const status = this.gl.clientWaitSync(fence!, 0, 0);\n        if (\n          status === this.gl.CONDITION_SATISFIED ||\n          status === this.gl.ALREADY_SIGNALED\n        ) {\n          this.gl.deleteSync(fence);\n          const output = new Float32Array(this.offsets.length);\n          this.gl.bindBuffer(\n            this.gl.ARRAY_BUFFER,\n            this.vornoiBufferInfo.attribs!.a_position.buffer\n          );\n          this.gl.getBufferSubData(this.gl.ARRAY_BUFFER, 0, output);\n          this.callBack({payload:output, keepOpen});\n        } else {\n          setTimeout(waitForResult);\n        }\n      }\n      setTimeout(waitForResult);\n    }\n}\n","import {dispatch} from \"d3-dispatch\";\nimport {dragDisable, dragEnable} from \"d3-drag\";\nimport {interpolate} from \"d3-interpolate\";\nimport {pointer, select} from \"d3-selection\";\nimport {interrupt} from \"d3-transition\";\nimport constant from \"./constant.js\";\nimport BrushEvent from \"./event.js\";\nimport noevent, {nopropagation} from \"./noevent.js\";\n\nvar MODE_DRAG = {name: \"drag\"},\n    MODE_SPACE = {name: \"space\"},\n    MODE_HANDLE = {name: \"handle\"},\n    MODE_CENTER = {name: \"center\"};\n\nconst {abs, max, min} = Math;\n\nfunction number1(e) {\n  return [+e[0], +e[1]];\n}\n\nfunction number2(e) {\n  return [number1(e[0]), number1(e[1])];\n}\n\nvar X = {\n  name: \"x\",\n  handles: [\"w\", \"e\"].map(type),\n  input: function(x, e) { return x == null ? null : [[+x[0], e[0][1]], [+x[1], e[1][1]]]; },\n  output: function(xy) { return xy && [xy[0][0], xy[1][0]]; }\n};\n\nvar Y = {\n  name: \"y\",\n  handles: [\"n\", \"s\"].map(type),\n  input: function(y, e) { return y == null ? null : [[e[0][0], +y[0]], [e[1][0], +y[1]]]; },\n  output: function(xy) { return xy && [xy[0][1], xy[1][1]]; }\n};\n\nvar XY = {\n  name: \"xy\",\n  handles: [\"n\", \"w\", \"e\", \"s\", \"nw\", \"ne\", \"sw\", \"se\"].map(type),\n  input: function(xy) { return xy == null ? null : number2(xy); },\n  output: function(xy) { return xy; }\n};\n\nvar cursors = {\n  overlay: \"crosshair\",\n  selection: \"move\",\n  n: \"ns-resize\",\n  e: \"ew-resize\",\n  s: \"ns-resize\",\n  w: \"ew-resize\",\n  nw: \"nwse-resize\",\n  ne: \"nesw-resize\",\n  se: \"nwse-resize\",\n  sw: \"nesw-resize\"\n};\n\nvar flipX = {\n  e: \"w\",\n  w: \"e\",\n  nw: \"ne\",\n  ne: \"nw\",\n  se: \"sw\",\n  sw: \"se\"\n};\n\nvar flipY = {\n  n: \"s\",\n  s: \"n\",\n  nw: \"sw\",\n  ne: \"se\",\n  se: \"ne\",\n  sw: \"nw\"\n};\n\nvar signsX = {\n  overlay: +1,\n  selection: +1,\n  n: null,\n  e: +1,\n  s: null,\n  w: -1,\n  nw: -1,\n  ne: +1,\n  se: +1,\n  sw: -1\n};\n\nvar signsY = {\n  overlay: +1,\n  selection: +1,\n  n: -1,\n  e: null,\n  s: +1,\n  w: null,\n  nw: -1,\n  ne: -1,\n  se: +1,\n  sw: +1\n};\n\nfunction type(t) {\n  return {type: t};\n}\n\n// Ignore right-click, since that should open the context menu.\nfunction defaultFilter(event) {\n  return !event.ctrlKey && !event.button;\n}\n\nfunction defaultExtent() {\n  var svg = this.ownerSVGElement || this;\n  if (svg.hasAttribute(\"viewBox\")) {\n    svg = svg.viewBox.baseVal;\n    return [[svg.x, svg.y], [svg.x + svg.width, svg.y + svg.height]];\n  }\n  return [[0, 0], [svg.width.baseVal.value, svg.height.baseVal.value]];\n}\n\nfunction defaultTouchable() {\n  return navigator.maxTouchPoints || (\"ontouchstart\" in this);\n}\n\n// Like d3.local, but with the name “__brush” rather than auto-generated.\nfunction local(node) {\n  while (!node.__brush) if (!(node = node.parentNode)) return;\n  return node.__brush;\n}\n\nfunction empty(extent) {\n  return extent[0][0] === extent[1][0]\n      || extent[0][1] === extent[1][1];\n}\n\nexport function brushSelection(node) {\n  var state = node.__brush;\n  return state ? state.dim.output(state.selection) : null;\n}\n\nexport function brushX() {\n  return brush(X);\n}\n\nexport function brushY() {\n  return brush(Y);\n}\n\nexport default function() {\n  return brush(XY);\n}\n\nfunction brush(dim) {\n  var extent = defaultExtent,\n      filter = defaultFilter,\n      touchable = defaultTouchable,\n      keys = true,\n      listeners = dispatch(\"start\", \"brush\", \"end\"),\n      handleSize = 6,\n      touchending;\n\n  function brush(group) {\n    var overlay = group\n        .property(\"__brush\", initialize)\n      .selectAll(\".overlay\")\n      .data([type(\"overlay\")]);\n\n    overlay.enter().append(\"rect\")\n        .attr(\"class\", \"overlay\")\n        .attr(\"pointer-events\", \"all\")\n        .attr(\"cursor\", cursors.overlay)\n      .merge(overlay)\n        .each(function() {\n          var extent = local(this).extent;\n          select(this)\n              .attr(\"x\", extent[0][0])\n              .attr(\"y\", extent[0][1])\n              .attr(\"width\", extent[1][0] - extent[0][0])\n              .attr(\"height\", extent[1][1] - extent[0][1]);\n        });\n\n    group.selectAll(\".selection\")\n      .data([type(\"selection\")])\n      .enter().append(\"rect\")\n        .attr(\"class\", \"selection\")\n        .attr(\"cursor\", cursors.selection)\n        .attr(\"fill\", \"#777\")\n        .attr(\"fill-opacity\", 0.3)\n        .attr(\"stroke\", \"#fff\")\n        .attr(\"shape-rendering\", \"crispEdges\");\n\n    var handle = group.selectAll(\".handle\")\n      .data(dim.handles, function(d) { return d.type; });\n\n    handle.exit().remove();\n\n    handle.enter().append(\"rect\")\n        .attr(\"class\", function(d) { return \"handle handle--\" + d.type; })\n        .attr(\"cursor\", function(d) { return cursors[d.type]; });\n\n    group\n        .each(redraw)\n        .attr(\"fill\", \"none\")\n        .attr(\"pointer-events\", \"all\")\n        .on(\"mousedown.brush\", started)\n      .filter(touchable)\n        .on(\"touchstart.brush\", started)\n        .on(\"touchmove.brush\", touchmoved)\n        .on(\"touchend.brush touchcancel.brush\", touchended)\n        .style(\"touch-action\", \"none\")\n        .style(\"-webkit-tap-highlight-color\", \"rgba(0,0,0,0)\");\n  }\n\n  brush.move = function(group, selection, event) {\n    if (group.tween) {\n      group\n          .on(\"start.brush\", function(event) { emitter(this, arguments).beforestart().start(event); })\n          .on(\"interrupt.brush end.brush\", function(event) { emitter(this, arguments).end(event); })\n          .tween(\"brush\", function() {\n            var that = this,\n                state = that.__brush,\n                emit = emitter(that, arguments),\n                selection0 = state.selection,\n                selection1 = dim.input(typeof selection === \"function\" ? selection.apply(this, arguments) : selection, state.extent),\n                i = interpolate(selection0, selection1);\n\n            function tween(t) {\n              state.selection = t === 1 && selection1 === null ? null : i(t);\n              redraw.call(that);\n              emit.brush();\n            }\n\n            return selection0 !== null && selection1 !== null ? tween : tween(1);\n          });\n    } else {\n      group\n          .each(function() {\n            var that = this,\n                args = arguments,\n                state = that.__brush,\n                selection1 = dim.input(typeof selection === \"function\" ? selection.apply(that, args) : selection, state.extent),\n                emit = emitter(that, args).beforestart();\n\n            interrupt(that);\n            state.selection = selection1 === null ? null : selection1;\n            redraw.call(that);\n            emit.start(event).brush(event).end(event);\n          });\n    }\n  };\n\n  brush.clear = function(group, event) {\n    brush.move(group, null, event);\n  };\n\n  function redraw() {\n    var group = select(this),\n        selection = local(this).selection;\n\n    if (selection) {\n      group.selectAll(\".selection\")\n          .style(\"display\", null)\n          .attr(\"x\", selection[0][0])\n          .attr(\"y\", selection[0][1])\n          .attr(\"width\", selection[1][0] - selection[0][0])\n          .attr(\"height\", selection[1][1] - selection[0][1]);\n\n      group.selectAll(\".handle\")\n          .style(\"display\", null)\n          .attr(\"x\", function(d) { return d.type[d.type.length - 1] === \"e\" ? selection[1][0] - handleSize / 2 : selection[0][0] - handleSize / 2; })\n          .attr(\"y\", function(d) { return d.type[0] === \"s\" ? selection[1][1] - handleSize / 2 : selection[0][1] - handleSize / 2; })\n          .attr(\"width\", function(d) { return d.type === \"n\" || d.type === \"s\" ? selection[1][0] - selection[0][0] + handleSize : handleSize; })\n          .attr(\"height\", function(d) { return d.type === \"e\" || d.type === \"w\" ? selection[1][1] - selection[0][1] + handleSize : handleSize; });\n    }\n\n    else {\n      group.selectAll(\".selection,.handle\")\n          .style(\"display\", \"none\")\n          .attr(\"x\", null)\n          .attr(\"y\", null)\n          .attr(\"width\", null)\n          .attr(\"height\", null);\n    }\n  }\n\n  function emitter(that, args, clean) {\n    var emit = that.__brush.emitter;\n    return emit && (!clean || !emit.clean) ? emit : new Emitter(that, args, clean);\n  }\n\n  function Emitter(that, args, clean) {\n    this.that = that;\n    this.args = args;\n    this.state = that.__brush;\n    this.active = 0;\n    this.clean = clean;\n  }\n\n  Emitter.prototype = {\n    beforestart: function() {\n      if (++this.active === 1) this.state.emitter = this, this.starting = true;\n      return this;\n    },\n    start: function(event, mode) {\n      if (this.starting) this.starting = false, this.emit(\"start\", event, mode);\n      else this.emit(\"brush\", event);\n      return this;\n    },\n    brush: function(event, mode) {\n      this.emit(\"brush\", event, mode);\n      return this;\n    },\n    end: function(event, mode) {\n      if (--this.active === 0) delete this.state.emitter, this.emit(\"end\", event, mode);\n      return this;\n    },\n    emit: function(type, event, mode) {\n      var d = select(this.that).datum();\n      listeners.call(\n        type,\n        this.that,\n        new BrushEvent(type, {\n          sourceEvent: event,\n          target: brush,\n          selection: dim.output(this.state.selection),\n          mode,\n          dispatch: listeners\n        }),\n        d\n      );\n    }\n  };\n\n  function started(event) {\n    if (touchending && !event.touches) return;\n    if (!filter.apply(this, arguments)) return;\n\n    var that = this,\n        type = event.target.__data__.type,\n        mode = (keys && event.metaKey ? type = \"overlay\" : type) === \"selection\" ? MODE_DRAG : (keys && event.altKey ? MODE_CENTER : MODE_HANDLE),\n        signX = dim === Y ? null : signsX[type],\n        signY = dim === X ? null : signsY[type],\n        state = local(that),\n        extent = state.extent,\n        selection = state.selection,\n        W = extent[0][0], w0, w1,\n        N = extent[0][1], n0, n1,\n        E = extent[1][0], e0, e1,\n        S = extent[1][1], s0, s1,\n        dx = 0,\n        dy = 0,\n        moving,\n        shifting = signX && signY && keys && event.shiftKey,\n        lockX,\n        lockY,\n        points = Array.from(event.touches || [event], t => {\n          const i = t.identifier;\n          t = pointer(t, that);\n          t.point0 = t.slice();\n          t.identifier = i;\n          return t;\n        });\n\n    interrupt(that);\n    var emit = emitter(that, arguments, true).beforestart();\n\n    if (type === \"overlay\") {\n      if (selection) moving = true;\n      const pts = [points[0], points[1] || points[0]];\n      state.selection = selection = [[\n          w0 = dim === Y ? W : min(pts[0][0], pts[1][0]),\n          n0 = dim === X ? N : min(pts[0][1], pts[1][1])\n        ], [\n          e0 = dim === Y ? E : max(pts[0][0], pts[1][0]),\n          s0 = dim === X ? S : max(pts[0][1], pts[1][1])\n        ]];\n      if (points.length > 1) move(event);\n    } else {\n      w0 = selection[0][0];\n      n0 = selection[0][1];\n      e0 = selection[1][0];\n      s0 = selection[1][1];\n    }\n\n    w1 = w0;\n    n1 = n0;\n    e1 = e0;\n    s1 = s0;\n\n    var group = select(that)\n        .attr(\"pointer-events\", \"none\");\n\n    var overlay = group.selectAll(\".overlay\")\n        .attr(\"cursor\", cursors[type]);\n\n    if (event.touches) {\n      emit.moved = moved;\n      emit.ended = ended;\n    } else {\n      var view = select(event.view)\n          .on(\"mousemove.brush\", moved, true)\n          .on(\"mouseup.brush\", ended, true);\n      if (keys) view\n          .on(\"keydown.brush\", keydowned, true)\n          .on(\"keyup.brush\", keyupped, true)\n\n      dragDisable(event.view);\n    }\n\n    redraw.call(that);\n    emit.start(event, mode.name);\n\n    function moved(event) {\n      for (const p of event.changedTouches || [event]) {\n        for (const d of points)\n          if (d.identifier === p.identifier) d.cur = pointer(p, that);\n      }\n      if (shifting && !lockX && !lockY && points.length === 1) {\n        const point = points[0];\n        if (abs(point.cur[0] - point[0]) > abs(point.cur[1] - point[1]))\n          lockY = true;\n        else\n          lockX = true;\n      }\n      for (const point of points)\n        if (point.cur) point[0] = point.cur[0], point[1] = point.cur[1];\n      moving = true;\n      noevent(event);\n      move(event);\n    }\n\n    function move(event) {\n      const point = points[0], point0 = point.point0;\n      var t;\n\n      dx = point[0] - point0[0];\n      dy = point[1] - point0[1];\n\n      switch (mode) {\n        case MODE_SPACE:\n        case MODE_DRAG: {\n          if (signX) dx = max(W - w0, min(E - e0, dx)), w1 = w0 + dx, e1 = e0 + dx;\n          if (signY) dy = max(N - n0, min(S - s0, dy)), n1 = n0 + dy, s1 = s0 + dy;\n          break;\n        }\n        case MODE_HANDLE: {\n          if (points[1]) {\n            if (signX) w1 = max(W, min(E, points[0][0])), e1 = max(W, min(E, points[1][0])), signX = 1;\n            if (signY) n1 = max(N, min(S, points[0][1])), s1 = max(N, min(S, points[1][1])), signY = 1;\n          } else {\n            if (signX < 0) dx = max(W - w0, min(E - w0, dx)), w1 = w0 + dx, e1 = e0;\n            else if (signX > 0) dx = max(W - e0, min(E - e0, dx)), w1 = w0, e1 = e0 + dx;\n            if (signY < 0) dy = max(N - n0, min(S - n0, dy)), n1 = n0 + dy, s1 = s0;\n            else if (signY > 0) dy = max(N - s0, min(S - s0, dy)), n1 = n0, s1 = s0 + dy;\n          }\n          break;\n        }\n        case MODE_CENTER: {\n          if (signX) w1 = max(W, min(E, w0 - dx * signX)), e1 = max(W, min(E, e0 + dx * signX));\n          if (signY) n1 = max(N, min(S, n0 - dy * signY)), s1 = max(N, min(S, s0 + dy * signY));\n          break;\n        }\n      }\n\n      if (e1 < w1) {\n        signX *= -1;\n        t = w0, w0 = e0, e0 = t;\n        t = w1, w1 = e1, e1 = t;\n        if (type in flipX) overlay.attr(\"cursor\", cursors[type = flipX[type]]);\n      }\n\n      if (s1 < n1) {\n        signY *= -1;\n        t = n0, n0 = s0, s0 = t;\n        t = n1, n1 = s1, s1 = t;\n        if (type in flipY) overlay.attr(\"cursor\", cursors[type = flipY[type]]);\n      }\n\n      if (state.selection) selection = state.selection; // May be set by brush.move!\n      if (lockX) w1 = selection[0][0], e1 = selection[1][0];\n      if (lockY) n1 = selection[0][1], s1 = selection[1][1];\n\n      if (selection[0][0] !== w1\n          || selection[0][1] !== n1\n          || selection[1][0] !== e1\n          || selection[1][1] !== s1) {\n        state.selection = [[w1, n1], [e1, s1]];\n        redraw.call(that);\n        emit.brush(event, mode.name);\n      }\n    }\n\n    function ended(event) {\n      nopropagation(event);\n      if (event.touches) {\n        if (event.touches.length) return;\n        if (touchending) clearTimeout(touchending);\n        touchending = setTimeout(function() { touchending = null; }, 500); // Ghost clicks are delayed!\n      } else {\n        dragEnable(event.view, moving);\n        view.on(\"keydown.brush keyup.brush mousemove.brush mouseup.brush\", null);\n      }\n      group.attr(\"pointer-events\", \"all\");\n      overlay.attr(\"cursor\", cursors.overlay);\n      if (state.selection) selection = state.selection; // May be set by brush.move (on start)!\n      if (empty(selection)) state.selection = null, redraw.call(that);\n      emit.end(event, mode.name);\n    }\n\n    function keydowned(event) {\n      switch (event.keyCode) {\n        case 16: { // SHIFT\n          shifting = signX && signY;\n          break;\n        }\n        case 18: { // ALT\n          if (mode === MODE_HANDLE) {\n            if (signX) e0 = e1 - dx * signX, w0 = w1 + dx * signX;\n            if (signY) s0 = s1 - dy * signY, n0 = n1 + dy * signY;\n            mode = MODE_CENTER;\n            move(event);\n          }\n          break;\n        }\n        case 32: { // SPACE; takes priority over ALT\n          if (mode === MODE_HANDLE || mode === MODE_CENTER) {\n            if (signX < 0) e0 = e1 - dx; else if (signX > 0) w0 = w1 - dx;\n            if (signY < 0) s0 = s1 - dy; else if (signY > 0) n0 = n1 - dy;\n            mode = MODE_SPACE;\n            overlay.attr(\"cursor\", cursors.selection);\n            move(event);\n          }\n          break;\n        }\n        default: return;\n      }\n      noevent(event);\n    }\n\n    function keyupped(event) {\n      switch (event.keyCode) {\n        case 16: { // SHIFT\n          if (shifting) {\n            lockX = lockY = shifting = false;\n            move(event);\n          }\n          break;\n        }\n        case 18: { // ALT\n          if (mode === MODE_CENTER) {\n            if (signX < 0) e0 = e1; else if (signX > 0) w0 = w1;\n            if (signY < 0) s0 = s1; else if (signY > 0) n0 = n1;\n            mode = MODE_HANDLE;\n            move(event);\n          }\n          break;\n        }\n        case 32: { // SPACE\n          if (mode === MODE_SPACE) {\n            if (event.altKey) {\n              if (signX) e0 = e1 - dx * signX, w0 = w1 + dx * signX;\n              if (signY) s0 = s1 - dy * signY, n0 = n1 + dy * signY;\n              mode = MODE_CENTER;\n            } else {\n              if (signX < 0) e0 = e1; else if (signX > 0) w0 = w1;\n              if (signY < 0) s0 = s1; else if (signY > 0) n0 = n1;\n              mode = MODE_HANDLE;\n            }\n            overlay.attr(\"cursor\", cursors[type]);\n            move(event);\n          }\n          break;\n        }\n        default: return;\n      }\n      noevent(event);\n    }\n  }\n\n  function touchmoved(event) {\n    emitter(this, arguments).moved(event);\n  }\n\n  function touchended(event) {\n    emitter(this, arguments).ended(event);\n  }\n\n  function initialize() {\n    var state = this.__brush || {selection: null};\n    state.extent = number2(extent.apply(this, arguments));\n    state.dim = dim;\n    return state;\n  }\n\n  brush.extent = function(_) {\n    return arguments.length ? (extent = typeof _ === \"function\" ? _ : constant(number2(_)), brush) : extent;\n  };\n\n  brush.filter = function(_) {\n    return arguments.length ? (filter = typeof _ === \"function\" ? _ : constant(!!_), brush) : filter;\n  };\n\n  brush.touchable = function(_) {\n    return arguments.length ? (touchable = typeof _ === \"function\" ? _ : constant(!!_), brush) : touchable;\n  };\n\n  brush.handleSize = function(_) {\n    return arguments.length ? (handleSize = +_, brush) : handleSize;\n  };\n\n  brush.keyModifiers = function(_) {\n    return arguments.length ? (keys = !!_, brush) : keys;\n  };\n\n  brush.on = function() {\n    var value = listeners.on.apply(listeners, arguments);\n    return value === listeners ? brush : value;\n  };\n\n  return brush;\n}\n","import {select} from \"d3-selection\";\nimport noevent, {nonpassivecapture} from \"./noevent.js\";\n\nexport default function(view) {\n  var root = view.document.documentElement,\n      selection = select(view).on(\"dragstart.drag\", noevent, nonpassivecapture);\n  if (\"onselectstart\" in root) {\n    selection.on(\"selectstart.drag\", noevent, nonpassivecapture);\n  } else {\n    root.__noselect = root.style.MozUserSelect;\n    root.style.MozUserSelect = \"none\";\n  }\n}\n\nexport function yesdrag(view, noclick) {\n  var root = view.document.documentElement,\n      selection = select(view).on(\"dragstart.drag\", null);\n  if (noclick) {\n    selection.on(\"click.drag\", noevent, nonpassivecapture);\n    setTimeout(function() { selection.on(\"click.drag\", null); }, 0);\n  }\n  if (\"onselectstart\" in root) {\n    selection.on(\"selectstart.drag\", null);\n  } else {\n    root.style.MozUserSelect = root.__noselect;\n    delete root.__noselect;\n  }\n}\n","import {dispatch} from \"d3-dispatch\";\nimport {dragDisable, dragEnable} from \"d3-drag\";\nimport {interpolateZoom} from \"d3-interpolate\";\nimport {select, pointer} from \"d3-selection\";\nimport {interrupt} from \"d3-transition\";\nimport constant from \"./constant.js\";\nimport ZoomEvent from \"./event.js\";\nimport {Transform, identity} from \"./transform.js\";\nimport noevent, {nopropagation} from \"./noevent.js\";\n\n// Ignore right-click, since that should open the context menu.\n// except for pinch-to-zoom, which is sent as a wheel+ctrlKey event\nfunction defaultFilter(event) {\n  return (!event.ctrlKey || event.type === 'wheel') && !event.button;\n}\n\nfunction defaultExtent() {\n  var e = this;\n  if (e instanceof SVGElement) {\n    e = e.ownerSVGElement || e;\n    if (e.hasAttribute(\"viewBox\")) {\n      e = e.viewBox.baseVal;\n      return [[e.x, e.y], [e.x + e.width, e.y + e.height]];\n    }\n    return [[0, 0], [e.width.baseVal.value, e.height.baseVal.value]];\n  }\n  return [[0, 0], [e.clientWidth, e.clientHeight]];\n}\n\nfunction defaultTransform() {\n  return this.__zoom || identity;\n}\n\nfunction defaultWheelDelta(event) {\n  return -event.deltaY * (event.deltaMode === 1 ? 0.05 : event.deltaMode ? 1 : 0.002) * (event.ctrlKey ? 10 : 1);\n}\n\nfunction defaultTouchable() {\n  return navigator.maxTouchPoints || (\"ontouchstart\" in this);\n}\n\nfunction defaultConstrain(transform, extent, translateExtent) {\n  var dx0 = transform.invertX(extent[0][0]) - translateExtent[0][0],\n      dx1 = transform.invertX(extent[1][0]) - translateExtent[1][0],\n      dy0 = transform.invertY(extent[0][1]) - translateExtent[0][1],\n      dy1 = transform.invertY(extent[1][1]) - translateExtent[1][1];\n  return transform.translate(\n    dx1 > dx0 ? (dx0 + dx1) / 2 : Math.min(0, dx0) || Math.max(0, dx1),\n    dy1 > dy0 ? (dy0 + dy1) / 2 : Math.min(0, dy0) || Math.max(0, dy1)\n  );\n}\n\nexport default function() {\n  var filter = defaultFilter,\n      extent = defaultExtent,\n      constrain = defaultConstrain,\n      wheelDelta = defaultWheelDelta,\n      touchable = defaultTouchable,\n      scaleExtent = [0, Infinity],\n      translateExtent = [[-Infinity, -Infinity], [Infinity, Infinity]],\n      duration = 250,\n      interpolate = interpolateZoom,\n      listeners = dispatch(\"start\", \"zoom\", \"end\"),\n      touchstarting,\n      touchfirst,\n      touchending,\n      touchDelay = 500,\n      wheelDelay = 150,\n      clickDistance2 = 0,\n      tapDistance = 10;\n\n  function zoom(selection) {\n    selection\n        .property(\"__zoom\", defaultTransform)\n        .on(\"wheel.zoom\", wheeled, {passive: false})\n        .on(\"mousedown.zoom\", mousedowned)\n        .on(\"dblclick.zoom\", dblclicked)\n      .filter(touchable)\n        .on(\"touchstart.zoom\", touchstarted)\n        .on(\"touchmove.zoom\", touchmoved)\n        .on(\"touchend.zoom touchcancel.zoom\", touchended)\n        .style(\"-webkit-tap-highlight-color\", \"rgba(0,0,0,0)\");\n  }\n\n  zoom.transform = function(collection, transform, point, event) {\n    var selection = collection.selection ? collection.selection() : collection;\n    selection.property(\"__zoom\", defaultTransform);\n    if (collection !== selection) {\n      schedule(collection, transform, point, event);\n    } else {\n      selection.interrupt().each(function() {\n        gesture(this, arguments)\n          .event(event)\n          .start()\n          .zoom(null, typeof transform === \"function\" ? transform.apply(this, arguments) : transform)\n          .end();\n      });\n    }\n  };\n\n  zoom.scaleBy = function(selection, k, p, event) {\n    zoom.scaleTo(selection, function() {\n      var k0 = this.__zoom.k,\n          k1 = typeof k === \"function\" ? k.apply(this, arguments) : k;\n      return k0 * k1;\n    }, p, event);\n  };\n\n  zoom.scaleTo = function(selection, k, p, event) {\n    zoom.transform(selection, function() {\n      var e = extent.apply(this, arguments),\n          t0 = this.__zoom,\n          p0 = p == null ? centroid(e) : typeof p === \"function\" ? p.apply(this, arguments) : p,\n          p1 = t0.invert(p0),\n          k1 = typeof k === \"function\" ? k.apply(this, arguments) : k;\n      return constrain(translate(scale(t0, k1), p0, p1), e, translateExtent);\n    }, p, event);\n  };\n\n  zoom.translateBy = function(selection, x, y, event) {\n    zoom.transform(selection, function() {\n      return constrain(this.__zoom.translate(\n        typeof x === \"function\" ? x.apply(this, arguments) : x,\n        typeof y === \"function\" ? y.apply(this, arguments) : y\n      ), extent.apply(this, arguments), translateExtent);\n    }, null, event);\n  };\n\n  zoom.translateTo = function(selection, x, y, p, event) {\n    zoom.transform(selection, function() {\n      var e = extent.apply(this, arguments),\n          t = this.__zoom,\n          p0 = p == null ? centroid(e) : typeof p === \"function\" ? p.apply(this, arguments) : p;\n      return constrain(identity.translate(p0[0], p0[1]).scale(t.k).translate(\n        typeof x === \"function\" ? -x.apply(this, arguments) : -x,\n        typeof y === \"function\" ? -y.apply(this, arguments) : -y\n      ), e, translateExtent);\n    }, p, event);\n  };\n\n  function scale(transform, k) {\n    k = Math.max(scaleExtent[0], Math.min(scaleExtent[1], k));\n    return k === transform.k ? transform : new Transform(k, transform.x, transform.y);\n  }\n\n  function translate(transform, p0, p1) {\n    var x = p0[0] - p1[0] * transform.k, y = p0[1] - p1[1] * transform.k;\n    return x === transform.x && y === transform.y ? transform : new Transform(transform.k, x, y);\n  }\n\n  function centroid(extent) {\n    return [(+extent[0][0] + +extent[1][0]) / 2, (+extent[0][1] + +extent[1][1]) / 2];\n  }\n\n  function schedule(transition, transform, point, event) {\n    transition\n        .on(\"start.zoom\", function() { gesture(this, arguments).event(event).start(); })\n        .on(\"interrupt.zoom end.zoom\", function() { gesture(this, arguments).event(event).end(); })\n        .tween(\"zoom\", function() {\n          var that = this,\n              args = arguments,\n              g = gesture(that, args).event(event),\n              e = extent.apply(that, args),\n              p = point == null ? centroid(e) : typeof point === \"function\" ? point.apply(that, args) : point,\n              w = Math.max(e[1][0] - e[0][0], e[1][1] - e[0][1]),\n              a = that.__zoom,\n              b = typeof transform === \"function\" ? transform.apply(that, args) : transform,\n              i = interpolate(a.invert(p).concat(w / a.k), b.invert(p).concat(w / b.k));\n          return function(t) {\n            if (t === 1) t = b; // Avoid rounding error on end.\n            else { var l = i(t), k = w / l[2]; t = new Transform(k, p[0] - l[0] * k, p[1] - l[1] * k); }\n            g.zoom(null, t);\n          };\n        });\n  }\n\n  function gesture(that, args, clean) {\n    return (!clean && that.__zooming) || new Gesture(that, args);\n  }\n\n  function Gesture(that, args) {\n    this.that = that;\n    this.args = args;\n    this.active = 0;\n    this.sourceEvent = null;\n    this.extent = extent.apply(that, args);\n    this.taps = 0;\n  }\n\n  Gesture.prototype = {\n    event: function(event) {\n      if (event) this.sourceEvent = event;\n      return this;\n    },\n    start: function() {\n      if (++this.active === 1) {\n        this.that.__zooming = this;\n        this.emit(\"start\");\n      }\n      return this;\n    },\n    zoom: function(key, transform) {\n      if (this.mouse && key !== \"mouse\") this.mouse[1] = transform.invert(this.mouse[0]);\n      if (this.touch0 && key !== \"touch\") this.touch0[1] = transform.invert(this.touch0[0]);\n      if (this.touch1 && key !== \"touch\") this.touch1[1] = transform.invert(this.touch1[0]);\n      this.that.__zoom = transform;\n      this.emit(\"zoom\");\n      return this;\n    },\n    end: function() {\n      if (--this.active === 0) {\n        delete this.that.__zooming;\n        this.emit(\"end\");\n      }\n      return this;\n    },\n    emit: function(type) {\n      var d = select(this.that).datum();\n      listeners.call(\n        type,\n        this.that,\n        new ZoomEvent(type, {\n          sourceEvent: this.sourceEvent,\n          target: zoom,\n          type,\n          transform: this.that.__zoom,\n          dispatch: listeners\n        }),\n        d\n      );\n    }\n  };\n\n  function wheeled(event, ...args) {\n    if (!filter.apply(this, arguments)) return;\n    var g = gesture(this, args).event(event),\n        t = this.__zoom,\n        k = Math.max(scaleExtent[0], Math.min(scaleExtent[1], t.k * Math.pow(2, wheelDelta.apply(this, arguments)))),\n        p = pointer(event);\n\n    // If the mouse is in the same location as before, reuse it.\n    // If there were recent wheel events, reset the wheel idle timeout.\n    if (g.wheel) {\n      if (g.mouse[0][0] !== p[0] || g.mouse[0][1] !== p[1]) {\n        g.mouse[1] = t.invert(g.mouse[0] = p);\n      }\n      clearTimeout(g.wheel);\n    }\n\n    // If this wheel event won’t trigger a transform change, ignore it.\n    else if (t.k === k) return;\n\n    // Otherwise, capture the mouse point and location at the start.\n    else {\n      g.mouse = [p, t.invert(p)];\n      interrupt(this);\n      g.start();\n    }\n\n    noevent(event);\n    g.wheel = setTimeout(wheelidled, wheelDelay);\n    g.zoom(\"mouse\", constrain(translate(scale(t, k), g.mouse[0], g.mouse[1]), g.extent, translateExtent));\n\n    function wheelidled() {\n      g.wheel = null;\n      g.end();\n    }\n  }\n\n  function mousedowned(event, ...args) {\n    if (touchending || !filter.apply(this, arguments)) return;\n    var currentTarget = event.currentTarget,\n        g = gesture(this, args, true).event(event),\n        v = select(event.view).on(\"mousemove.zoom\", mousemoved, true).on(\"mouseup.zoom\", mouseupped, true),\n        p = pointer(event, currentTarget),\n        x0 = event.clientX,\n        y0 = event.clientY;\n\n    dragDisable(event.view);\n    nopropagation(event);\n    g.mouse = [p, this.__zoom.invert(p)];\n    interrupt(this);\n    g.start();\n\n    function mousemoved(event) {\n      noevent(event);\n      if (!g.moved) {\n        var dx = event.clientX - x0, dy = event.clientY - y0;\n        g.moved = dx * dx + dy * dy > clickDistance2;\n      }\n      g.event(event)\n       .zoom(\"mouse\", constrain(translate(g.that.__zoom, g.mouse[0] = pointer(event, currentTarget), g.mouse[1]), g.extent, translateExtent));\n    }\n\n    function mouseupped(event) {\n      v.on(\"mousemove.zoom mouseup.zoom\", null);\n      dragEnable(event.view, g.moved);\n      noevent(event);\n      g.event(event).end();\n    }\n  }\n\n  function dblclicked(event, ...args) {\n    if (!filter.apply(this, arguments)) return;\n    var t0 = this.__zoom,\n        p0 = pointer(event.changedTouches ? event.changedTouches[0] : event, this),\n        p1 = t0.invert(p0),\n        k1 = t0.k * (event.shiftKey ? 0.5 : 2),\n        t1 = constrain(translate(scale(t0, k1), p0, p1), extent.apply(this, args), translateExtent);\n\n    noevent(event);\n    if (duration > 0) select(this).transition().duration(duration).call(schedule, t1, p0, event);\n    else select(this).call(zoom.transform, t1, p0, event);\n  }\n\n  function touchstarted(event, ...args) {\n    if (!filter.apply(this, arguments)) return;\n    var touches = event.touches,\n        n = touches.length,\n        g = gesture(this, args, event.changedTouches.length === n).event(event),\n        started, i, t, p;\n\n    nopropagation(event);\n    for (i = 0; i < n; ++i) {\n      t = touches[i], p = pointer(t, this);\n      p = [p, this.__zoom.invert(p), t.identifier];\n      if (!g.touch0) g.touch0 = p, started = true, g.taps = 1 + !!touchstarting;\n      else if (!g.touch1 && g.touch0[2] !== p[2]) g.touch1 = p, g.taps = 0;\n    }\n\n    if (touchstarting) touchstarting = clearTimeout(touchstarting);\n\n    if (started) {\n      if (g.taps < 2) touchfirst = p[0], touchstarting = setTimeout(function() { touchstarting = null; }, touchDelay);\n      interrupt(this);\n      g.start();\n    }\n  }\n\n  function touchmoved(event, ...args) {\n    if (!this.__zooming) return;\n    var g = gesture(this, args).event(event),\n        touches = event.changedTouches,\n        n = touches.length, i, t, p, l;\n\n    noevent(event);\n    for (i = 0; i < n; ++i) {\n      t = touches[i], p = pointer(t, this);\n      if (g.touch0 && g.touch0[2] === t.identifier) g.touch0[0] = p;\n      else if (g.touch1 && g.touch1[2] === t.identifier) g.touch1[0] = p;\n    }\n    t = g.that.__zoom;\n    if (g.touch1) {\n      var p0 = g.touch0[0], l0 = g.touch0[1],\n          p1 = g.touch1[0], l1 = g.touch1[1],\n          dp = (dp = p1[0] - p0[0]) * dp + (dp = p1[1] - p0[1]) * dp,\n          dl = (dl = l1[0] - l0[0]) * dl + (dl = l1[1] - l0[1]) * dl;\n      t = scale(t, Math.sqrt(dp / dl));\n      p = [(p0[0] + p1[0]) / 2, (p0[1] + p1[1]) / 2];\n      l = [(l0[0] + l1[0]) / 2, (l0[1] + l1[1]) / 2];\n    }\n    else if (g.touch0) p = g.touch0[0], l = g.touch0[1];\n    else return;\n\n    g.zoom(\"touch\", constrain(translate(t, p, l), g.extent, translateExtent));\n  }\n\n  function touchended(event, ...args) {\n    if (!this.__zooming) return;\n    var g = gesture(this, args).event(event),\n        touches = event.changedTouches,\n        n = touches.length, i, t;\n\n    nopropagation(event);\n    if (touchending) clearTimeout(touchending);\n    touchending = setTimeout(function() { touchending = null; }, touchDelay);\n    for (i = 0; i < n; ++i) {\n      t = touches[i];\n      if (g.touch0 && g.touch0[2] === t.identifier) delete g.touch0;\n      else if (g.touch1 && g.touch1[2] === t.identifier) delete g.touch1;\n    }\n    if (g.touch1 && !g.touch0) g.touch0 = g.touch1, delete g.touch1;\n    if (g.touch0) g.touch0[1] = this.__zoom.invert(g.touch0[0]);\n    else {\n      g.end();\n      // If this was a dbltap, reroute to the (optional) dblclick.zoom handler.\n      if (g.taps === 2) {\n        t = pointer(t, this);\n        if (Math.hypot(touchfirst[0] - t[0], touchfirst[1] - t[1]) < tapDistance) {\n          var p = select(this).on(\"dblclick.zoom\");\n          if (p) p.apply(this, arguments);\n        }\n      }\n    }\n  }\n\n  zoom.wheelDelta = function(_) {\n    return arguments.length ? (wheelDelta = typeof _ === \"function\" ? _ : constant(+_), zoom) : wheelDelta;\n  };\n\n  zoom.filter = function(_) {\n    return arguments.length ? (filter = typeof _ === \"function\" ? _ : constant(!!_), zoom) : filter;\n  };\n\n  zoom.touchable = function(_) {\n    return arguments.length ? (touchable = typeof _ === \"function\" ? _ : constant(!!_), zoom) : touchable;\n  };\n\n  zoom.extent = function(_) {\n    return arguments.length ? (extent = typeof _ === \"function\" ? _ : constant([[+_[0][0], +_[0][1]], [+_[1][0], +_[1][1]]]), zoom) : extent;\n  };\n\n  zoom.scaleExtent = function(_) {\n    return arguments.length ? (scaleExtent[0] = +_[0], scaleExtent[1] = +_[1], zoom) : [scaleExtent[0], scaleExtent[1]];\n  };\n\n  zoom.translateExtent = function(_) {\n    return arguments.length ? (translateExtent[0][0] = +_[0][0], translateExtent[1][0] = +_[1][0], translateExtent[0][1] = +_[0][1], translateExtent[1][1] = +_[1][1], zoom) : [[translateExtent[0][0], translateExtent[0][1]], [translateExtent[1][0], translateExtent[1][1]]];\n  };\n\n  zoom.constrain = function(_) {\n    return arguments.length ? (constrain = _, zoom) : constrain;\n  };\n\n  zoom.duration = function(_) {\n    return arguments.length ? (duration = +_, zoom) : duration;\n  };\n\n  zoom.interpolate = function(_) {\n    return arguments.length ? (interpolate = _, zoom) : interpolate;\n  };\n\n  zoom.on = function() {\n    var value = listeners.on.apply(listeners, arguments);\n    return value === listeners ? zoom : value;\n  };\n\n  zoom.clickDistance = function(_) {\n    return arguments.length ? (clickDistance2 = (_ = +_) * _, zoom) : Math.sqrt(clickDistance2);\n  };\n\n  zoom.tapDistance = function(_) {\n    return arguments.length ? (tapDistance = +_, zoom) : tapDistance;\n  };\n\n  return zoom;\n}\n","var epsilon2 = 1e-12;\n\nfunction cosh(x) {\n  return ((x = Math.exp(x)) + 1 / x) / 2;\n}\n\nfunction sinh(x) {\n  return ((x = Math.exp(x)) - 1 / x) / 2;\n}\n\nfunction tanh(x) {\n  return ((x = Math.exp(2 * x)) - 1) / (x + 1);\n}\n\nexport default (function zoomRho(rho, rho2, rho4) {\n\n  // p0 = [ux0, uy0, w0]\n  // p1 = [ux1, uy1, w1]\n  function zoom(p0, p1) {\n    var ux0 = p0[0], uy0 = p0[1], w0 = p0[2],\n        ux1 = p1[0], uy1 = p1[1], w1 = p1[2],\n        dx = ux1 - ux0,\n        dy = uy1 - uy0,\n        d2 = dx * dx + dy * dy,\n        i,\n        S;\n\n    // Special case for u0 ≅ u1.\n    if (d2 < epsilon2) {\n      S = Math.log(w1 / w0) / rho;\n      i = function(t) {\n        return [\n          ux0 + t * dx,\n          uy0 + t * dy,\n          w0 * Math.exp(rho * t * S)\n        ];\n      }\n    }\n\n    // General case.\n    else {\n      var d1 = Math.sqrt(d2),\n          b0 = (w1 * w1 - w0 * w0 + rho4 * d2) / (2 * w0 * rho2 * d1),\n          b1 = (w1 * w1 - w0 * w0 - rho4 * d2) / (2 * w1 * rho2 * d1),\n          r0 = Math.log(Math.sqrt(b0 * b0 + 1) - b0),\n          r1 = Math.log(Math.sqrt(b1 * b1 + 1) - b1);\n      S = (r1 - r0) / rho;\n      i = function(t) {\n        var s = t * S,\n            coshr0 = cosh(r0),\n            u = w0 / (rho2 * d1) * (coshr0 * tanh(rho * s + r0) - sinh(r0));\n        return [\n          ux0 + u * dx,\n          uy0 + u * dy,\n          w0 * coshr0 / cosh(rho * s + r0)\n        ];\n      }\n    }\n\n    i.duration = S * 1000 * rho / Math.SQRT2;\n\n    return i;\n  }\n\n  zoom.rho = function(_) {\n    var _1 = Math.max(1e-3, +_), _2 = _1 * _1, _4 = _2 * _2;\n    return zoomRho(_1, _2, _4);\n  };\n\n  return zoom;\n})(Math.SQRT2, 2, 4);\n","export function Transform(k, x, y) {\n  this.k = k;\n  this.x = x;\n  this.y = y;\n}\n\nTransform.prototype = {\n  constructor: Transform,\n  scale: function(k) {\n    return k === 1 ? this : new Transform(this.k * k, this.x, this.y);\n  },\n  translate: function(x, y) {\n    return x === 0 & y === 0 ? this : new Transform(this.k, this.x + this.k * x, this.y + this.k * y);\n  },\n  apply: function(point) {\n    return [point[0] * this.k + this.x, point[1] * this.k + this.y];\n  },\n  applyX: function(x) {\n    return x * this.k + this.x;\n  },\n  applyY: function(y) {\n    return y * this.k + this.y;\n  },\n  invert: function(location) {\n    return [(location[0] - this.x) / this.k, (location[1] - this.y) / this.k];\n  },\n  invertX: function(x) {\n    return (x - this.x) / this.k;\n  },\n  invertY: function(y) {\n    return (y - this.y) / this.k;\n  },\n  rescaleX: function(x) {\n    return x.copy().domain(x.range().map(this.invertX, this).map(x.invert, x));\n  },\n  rescaleY: function(y) {\n    return y.copy().domain(y.range().map(this.invertY, this).map(y.invert, y));\n  },\n  toString: function() {\n    return \"translate(\" + this.x + \",\" + this.y + \") scale(\" + this.k + \")\";\n  }\n};\n\nexport var identity = new Transform(1, 0, 0);\n\ntransform.prototype = Transform.prototype;\n\nexport default function transform(node) {\n  while (!node.__zoom) if (!(node = node.parentNode)) return identity;\n  return node.__zoom;\n}\n","'use strict';\n\nvar slice = Array.prototype.slice;\nvar isArgs = require('./isArguments');\n\nvar origKeys = Object.keys;\nvar keysShim = origKeys ? function keys(o) { return origKeys(o); } : require('./implementation');\n\nvar originalKeys = Object.keys;\n\nkeysShim.shim = function shimObjectKeys() {\n\tif (Object.keys) {\n\t\tvar keysWorksWithArguments = (function () {\n\t\t\t// Safari 5.0 bug\n\t\t\tvar args = Object.keys(arguments);\n\t\t\treturn args && args.length === arguments.length;\n\t\t}(1, 2));\n\t\tif (!keysWorksWithArguments) {\n\t\t\tObject.keys = function keys(object) { // eslint-disable-line func-name-matching\n\t\t\t\tif (isArgs(object)) {\n\t\t\t\t\treturn originalKeys(slice.call(object));\n\t\t\t\t}\n\t\t\t\treturn originalKeys(object);\n\t\t\t};\n\t\t}\n\t} else {\n\t\tObject.keys = keysShim;\n\t}\n\treturn Object.keys || keysShim;\n};\n\nmodule.exports = keysShim;\n","'use strict';\n\nvar keys = require('object-keys');\nvar hasSymbols = typeof Symbol === 'function' && typeof Symbol('foo') === 'symbol';\n\nvar toStr = Object.prototype.toString;\nvar concat = Array.prototype.concat;\nvar origDefineProperty = Object.defineProperty;\n\nvar isFunction = function (fn) {\n\treturn typeof fn === 'function' && toStr.call(fn) === '[object Function]';\n};\n\nvar hasPropertyDescriptors = require('has-property-descriptors')();\n\nvar supportsDescriptors = origDefineProperty && hasPropertyDescriptors;\n\nvar defineProperty = function (object, name, value, predicate) {\n\tif (name in object) {\n\t\tif (predicate === true) {\n\t\t\tif (object[name] === value) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t} else if (!isFunction(predicate) || !predicate()) {\n\t\t\treturn;\n\t\t}\n\t}\n\tif (supportsDescriptors) {\n\t\torigDefineProperty(object, name, {\n\t\t\tconfigurable: true,\n\t\t\tenumerable: false,\n\t\t\tvalue: value,\n\t\t\twritable: true\n\t\t});\n\t} else {\n\t\tobject[name] = value; // eslint-disable-line no-param-reassign\n\t}\n};\n\nvar defineProperties = function (object, map) {\n\tvar predicates = arguments.length > 2 ? arguments[2] : {};\n\tvar props = keys(map);\n\tif (hasSymbols) {\n\t\tprops = concat.call(props, Object.getOwnPropertySymbols(map));\n\t}\n\tfor (var i = 0; i < props.length; i += 1) {\n\t\tdefineProperty(object, props[i], map[props[i]], predicates[props[i]]);\n\t}\n};\n\ndefineProperties.supportsDescriptors = !!supportsDescriptors;\n\nmodule.exports = defineProperties;\n","'use strict';\n\n// modified from https://github.com/es-shims/es6-shim\nvar objectKeys = require('object-keys');\nvar hasSymbols = require('has-symbols/shams')();\nvar callBound = require('call-bind/callBound');\nvar toObject = Object;\nvar $push = callBound('Array.prototype.push');\nvar $propIsEnumerable = callBound('Object.prototype.propertyIsEnumerable');\nvar originalGetSymbols = hasSymbols ? Object.getOwnPropertySymbols : null;\n\n// eslint-disable-next-line no-unused-vars\nmodule.exports = function assign(target, source1) {\n\tif (target == null) { throw new TypeError('target must be an object'); }\n\tvar to = toObject(target); // step 1\n\tif (arguments.length === 1) {\n\t\treturn to; // step 2\n\t}\n\tfor (var s = 1; s < arguments.length; ++s) {\n\t\tvar from = toObject(arguments[s]); // step 3.a.i\n\n\t\t// step 3.a.ii:\n\t\tvar keys = objectKeys(from);\n\t\tvar getSymbols = hasSymbols && (Object.getOwnPropertySymbols || originalGetSymbols);\n\t\tif (getSymbols) {\n\t\t\tvar syms = getSymbols(from);\n\t\t\tfor (var j = 0; j < syms.length; ++j) {\n\t\t\t\tvar key = syms[j];\n\t\t\t\tif ($propIsEnumerable(from, key)) {\n\t\t\t\t\t$push(keys, key);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// step 3.a.iii:\n\t\tfor (var i = 0; i < keys.length; ++i) {\n\t\t\tvar nextKey = keys[i];\n\t\t\tif ($propIsEnumerable(from, nextKey)) { // step 3.a.iii.2\n\t\t\t\tvar propValue = from[nextKey]; // step 3.a.iii.2.a\n\t\t\t\tto[nextKey] = propValue; // step 3.a.iii.2.b\n\t\t\t}\n\t\t}\n\t}\n\n\treturn to; // step 4\n};\n","'use strict';\n\nvar implementation = require('./implementation');\n\nvar lacksProperEnumerationOrder = function () {\n\tif (!Object.assign) {\n\t\treturn false;\n\t}\n\t/*\n\t * v8, specifically in node 4.x, has a bug with incorrect property enumeration order\n\t * note: this does not detect the bug unless there's 20 characters\n\t */\n\tvar str = 'abcdefghijklmnopqrst';\n\tvar letters = str.split('');\n\tvar map = {};\n\tfor (var i = 0; i < letters.length; ++i) {\n\t\tmap[letters[i]] = letters[i];\n\t}\n\tvar obj = Object.assign({}, map);\n\tvar actual = '';\n\tfor (var k in obj) {\n\t\tactual += k;\n\t}\n\treturn str !== actual;\n};\n\nvar assignHasPendingExceptions = function () {\n\tif (!Object.assign || !Object.preventExtensions) {\n\t\treturn false;\n\t}\n\t/*\n\t * Firefox 37 still has \"pending exception\" logic in its Object.assign implementation,\n\t * which is 72% slower than our shim, and Firefox 40's native implementation.\n\t */\n\tvar thrower = Object.preventExtensions({ 1: 2 });\n\ttry {\n\t\tObject.assign(thrower, 'xy');\n\t} catch (e) {\n\t\treturn thrower[1] === 'y';\n\t}\n\treturn false;\n};\n\nmodule.exports = function getPolyfill() {\n\tif (!Object.assign) {\n\t\treturn implementation;\n\t}\n\tif (lacksProperEnumerationOrder()) {\n\t\treturn implementation;\n\t}\n\tif (assignHasPendingExceptions()) {\n\t\treturn implementation;\n\t}\n\treturn Object.assign;\n};\n","'use strict';\n\nvar define = require('define-properties');\nvar getPolyfill = require('./polyfill');\n\nmodule.exports = function shimAssign() {\n\tvar polyfill = getPolyfill();\n\tdefine(\n\t\tObject,\n\t\t{ assign: polyfill },\n\t\t{ assign: function () { return Object.assign !== polyfill; } }\n\t);\n\treturn polyfill;\n};\n","'use strict';\n\nvar defineProperties = require('define-properties');\nvar callBind = require('call-bind');\n\nvar implementation = require('./implementation');\nvar getPolyfill = require('./polyfill');\nvar shim = require('./shim');\n\nvar polyfill = callBind.apply(getPolyfill());\n// eslint-disable-next-line no-unused-vars\nvar bound = function assign(target, source1) {\n\treturn polyfill(Object, arguments);\n};\n\ndefineProperties(bound, {\n\tgetPolyfill: getPolyfill,\n\timplementation: implementation,\n\tshim: shim\n});\n\nmodule.exports = bound;\n","'use strict';\n\nvar functionsHaveConfigurableNames = require('functions-have-names').functionsHaveConfigurableNames();\n\nvar $Object = Object;\nvar $TypeError = TypeError;\n\nmodule.exports = function flags() {\n\tif (this != null && this !== $Object(this)) {\n\t\tthrow new $TypeError('RegExp.prototype.flags getter called on non-object');\n\t}\n\tvar result = '';\n\tif (this.hasIndices) {\n\t\tresult += 'd';\n\t}\n\tif (this.global) {\n\t\tresult += 'g';\n\t}\n\tif (this.ignoreCase) {\n\t\tresult += 'i';\n\t}\n\tif (this.multiline) {\n\t\tresult += 'm';\n\t}\n\tif (this.dotAll) {\n\t\tresult += 's';\n\t}\n\tif (this.unicode) {\n\t\tresult += 'u';\n\t}\n\tif (this.sticky) {\n\t\tresult += 'y';\n\t}\n\treturn result;\n};\n\nif (functionsHaveConfigurableNames && Object.defineProperty) {\n\tObject.defineProperty(module.exports, 'name', { value: 'get flags' });\n}\n","'use strict';\n\nvar implementation = require('./implementation');\n\nvar supportsDescriptors = require('define-properties').supportsDescriptors;\nvar $gOPD = Object.getOwnPropertyDescriptor;\n\nmodule.exports = function getPolyfill() {\n\tif (supportsDescriptors && (/a/mig).flags === 'gim') {\n\t\tvar descriptor = $gOPD(RegExp.prototype, 'flags');\n\t\tif (\n\t\t\tdescriptor\n\t\t\t&& typeof descriptor.get === 'function'\n\t\t\t&& typeof RegExp.prototype.dotAll === 'boolean'\n\t\t\t&& typeof RegExp.prototype.hasIndices === 'boolean'\n\t\t) {\n\t\t\t/* eslint getter-return: 0 */\n\t\t\tvar calls = '';\n\t\t\tvar o = {};\n\t\t\tObject.defineProperty(o, 'hasIndices', {\n\t\t\t\tget: function () {\n\t\t\t\t\tcalls += 'd';\n\t\t\t\t}\n\t\t\t});\n\t\t\tObject.defineProperty(o, 'sticky', {\n\t\t\t\tget: function () {\n\t\t\t\t\tcalls += 'y';\n\t\t\t\t}\n\t\t\t});\n\t\t\tif (calls === 'dy') {\n\t\t\t\treturn descriptor.get;\n\t\t\t}\n\t\t}\n\t}\n\treturn implementation;\n};\n","'use strict';\n\nvar supportsDescriptors = require('define-properties').supportsDescriptors;\nvar getPolyfill = require('./polyfill');\nvar gOPD = Object.getOwnPropertyDescriptor;\nvar defineProperty = Object.defineProperty;\nvar TypeErr = TypeError;\nvar getProto = Object.getPrototypeOf;\nvar regex = /a/;\n\nmodule.exports = function shimFlags() {\n\tif (!supportsDescriptors || !getProto) {\n\t\tthrow new TypeErr('RegExp.prototype.flags requires a true ES5 environment that supports property descriptors');\n\t}\n\tvar polyfill = getPolyfill();\n\tvar proto = getProto(regex);\n\tvar descriptor = gOPD(proto, 'flags');\n\tif (!descriptor || descriptor.get !== polyfill) {\n\t\tdefineProperty(proto, 'flags', {\n\t\t\tconfigurable: true,\n\t\t\tenumerable: false,\n\t\t\tget: polyfill\n\t\t});\n\t}\n\treturn polyfill;\n};\n","'use strict';\n\nvar define = require('define-properties');\nvar callBind = require('call-bind');\n\nvar implementation = require('./implementation');\nvar getPolyfill = require('./polyfill');\nvar shim = require('./shim');\n\nvar flagsBound = callBind(getPolyfill());\n\ndefine(flagsBound, {\n\tgetPolyfill: getPolyfill,\n\timplementation: implementation,\n\tshim: shim\n});\n\nmodule.exports = flagsBound;\n","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","'use strict';\n\nvar hasToStringTag = require('has-tostringtag/shams')();\nvar callBound = require('call-bind/callBound');\n\nvar $toString = callBound('Object.prototype.toString');\n\nvar isStandardArguments = function isArguments(value) {\n\tif (hasToStringTag && value && typeof value === 'object' && Symbol.toStringTag in value) {\n\t\treturn false;\n\t}\n\treturn $toString(value) === '[object Arguments]';\n};\n\nvar isLegacyArguments = function isArguments(value) {\n\tif (isStandardArguments(value)) {\n\t\treturn true;\n\t}\n\treturn value !== null &&\n\t\ttypeof value === 'object' &&\n\t\ttypeof value.length === 'number' &&\n\t\tvalue.length >= 0 &&\n\t\t$toString(value) !== '[object Array]' &&\n\t\t$toString(value.callee) === '[object Function]';\n};\n\nvar supportsStandardArguments = (function () {\n\treturn isStandardArguments(arguments);\n}());\n\nisStandardArguments.isLegacyArguments = isLegacyArguments; // for tests\n\nmodule.exports = supportsStandardArguments ? isStandardArguments : isLegacyArguments;\n","'use strict';\n\nvar GetIntrinsic = require('get-intrinsic');\nvar has = require('has');\nvar channel = require('side-channel')();\n\nvar $TypeError = GetIntrinsic('%TypeError%');\n\nvar SLOT = {\n\tassert: function (O, slot) {\n\t\tif (!O || (typeof O !== 'object' && typeof O !== 'function')) {\n\t\t\tthrow new $TypeError('`O` is not an object');\n\t\t}\n\t\tif (typeof slot !== 'string') {\n\t\t\tthrow new $TypeError('`slot` must be a string');\n\t\t}\n\t\tchannel.assert(O);\n\t\tif (!SLOT.has(O, slot)) {\n\t\t\tthrow new $TypeError('`' + slot + '` is not present on `O`');\n\t\t}\n\t},\n\tget: function (O, slot) {\n\t\tif (!O || (typeof O !== 'object' && typeof O !== 'function')) {\n\t\t\tthrow new $TypeError('`O` is not an object');\n\t\t}\n\t\tif (typeof slot !== 'string') {\n\t\t\tthrow new $TypeError('`slot` must be a string');\n\t\t}\n\t\tvar slots = channel.get(O);\n\t\treturn slots && slots['$' + slot];\n\t},\n\thas: function (O, slot) {\n\t\tif (!O || (typeof O !== 'object' && typeof O !== 'function')) {\n\t\t\tthrow new $TypeError('`O` is not an object');\n\t\t}\n\t\tif (typeof slot !== 'string') {\n\t\t\tthrow new $TypeError('`slot` must be a string');\n\t\t}\n\t\tvar slots = channel.get(O);\n\t\treturn !!slots && has(slots, '$' + slot);\n\t},\n\tset: function (O, slot, V) {\n\t\tif (!O || (typeof O !== 'object' && typeof O !== 'function')) {\n\t\t\tthrow new $TypeError('`O` is not an object');\n\t\t}\n\t\tif (typeof slot !== 'string') {\n\t\t\tthrow new $TypeError('`slot` must be a string');\n\t\t}\n\t\tvar slots = channel.get(O);\n\t\tif (!slots) {\n\t\t\tslots = {};\n\t\t\tchannel.set(O, slots);\n\t\t}\n\t\tslots['$' + slot] = V;\n\t}\n};\n\nif (Object.freeze) {\n\tObject.freeze(SLOT);\n}\n\nmodule.exports = SLOT;\n","'use strict';\n\nvar SLOT = require('internal-slot');\n\nvar $SyntaxError = SyntaxError;\nvar $StopIteration = typeof StopIteration === 'object' ? StopIteration : null;\n\nmodule.exports = function getStopIterationIterator(origIterator) {\n\tif (!$StopIteration) {\n\t\tthrow new $SyntaxError('this environment lacks StopIteration');\n\t}\n\n\tSLOT.set(origIterator, '[[Done]]', false);\n\n\tvar siIterator = {\n\t\tnext: function next() {\n\t\t\tvar iterator = SLOT.get(this, '[[Iterator]]');\n\t\t\tvar done = SLOT.get(iterator, '[[Done]]');\n\t\t\ttry {\n\t\t\t\treturn {\n\t\t\t\t\tdone: done,\n\t\t\t\t\tvalue: done ? void undefined : iterator.next()\n\t\t\t\t};\n\t\t\t} catch (e) {\n\t\t\t\tSLOT.set(iterator, '[[Done]]', true);\n\t\t\t\tif (e !== $StopIteration) {\n\t\t\t\t\tthrow e;\n\t\t\t\t}\n\t\t\t\treturn {\n\t\t\t\t\tdone: true,\n\t\t\t\t\tvalue: void undefined\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\t};\n\n\tSLOT.set(siIterator, '[[Iterator]]', origIterator);\n\n\treturn siIterator;\n};\n","'use strict';\n\n/* eslint global-require: 0 */\n// the code is structured this way so that bundlers can\n// alias out `has-symbols` to `() => true` or `() => false` if your target\n// environments' Symbol capabilities are known, and then use\n// dead code elimination on the rest of this module.\n//\n// Similarly, `isarray` can be aliased to `Array.isArray` if\n// available in all target environments.\n\nvar isArguments = require('is-arguments');\nvar getStopIterationIterator = require('stop-iteration-iterator');\n\nif (require('has-symbols')() || require('has-symbols/shams')()) {\n\tvar $iterator = Symbol.iterator;\n\t// Symbol is available natively or shammed\n\t// natively:\n\t//  - Chrome >= 38\n\t//  - Edge 12-14?, Edge >= 15 for sure\n\t//  - FF >= 36\n\t//  - Safari >= 9\n\t//  - node >= 0.12\n\tmodule.exports = function getIterator(iterable) {\n\t\t// alternatively, `iterable[$iterator]?.()`\n\t\tif (iterable != null && typeof iterable[$iterator] !== 'undefined') {\n\t\t\treturn iterable[$iterator]();\n\t\t}\n\t\tif (isArguments(iterable)) {\n\t\t\t// arguments objects lack Symbol.iterator\n\t\t\t// - node 0.12\n\t\t\treturn Array.prototype[$iterator].call(iterable);\n\t\t}\n\t};\n} else {\n\t// Symbol is not available, native or shammed\n\tvar isArray = require('isarray');\n\tvar isString = require('is-string');\n\tvar GetIntrinsic = require('get-intrinsic');\n\tvar $Map = GetIntrinsic('%Map%', true);\n\tvar $Set = GetIntrinsic('%Set%', true);\n\tvar callBound = require('call-bind/callBound');\n\tvar $arrayPush = callBound('Array.prototype.push');\n\tvar $charCodeAt = callBound('String.prototype.charCodeAt');\n\tvar $stringSlice = callBound('String.prototype.slice');\n\n\tvar advanceStringIndex = function advanceStringIndex(S, index) {\n\t\tvar length = S.length;\n\t\tif ((index + 1) >= length) {\n\t\t\treturn index + 1;\n\t\t}\n\n\t\tvar first = $charCodeAt(S, index);\n\t\tif (first < 0xD800 || first > 0xDBFF) {\n\t\t\treturn index + 1;\n\t\t}\n\n\t\tvar second = $charCodeAt(S, index + 1);\n\t\tif (second < 0xDC00 || second > 0xDFFF) {\n\t\t\treturn index + 1;\n\t\t}\n\n\t\treturn index + 2;\n\t};\n\n\tvar getArrayIterator = function getArrayIterator(arraylike) {\n\t\tvar i = 0;\n\t\treturn {\n\t\t\tnext: function next() {\n\t\t\t\tvar done = i >= arraylike.length;\n\t\t\t\tvar value;\n\t\t\t\tif (!done) {\n\t\t\t\t\tvalue = arraylike[i];\n\t\t\t\t\ti += 1;\n\t\t\t\t}\n\t\t\t\treturn {\n\t\t\t\t\tdone: done,\n\t\t\t\t\tvalue: value\n\t\t\t\t};\n\t\t\t}\n\t\t};\n\t};\n\n\tvar getNonCollectionIterator = function getNonCollectionIterator(iterable, noPrimordialCollections) {\n\t\tif (isArray(iterable) || isArguments(iterable)) {\n\t\t\treturn getArrayIterator(iterable);\n\t\t}\n\t\tif (isString(iterable)) {\n\t\t\tvar i = 0;\n\t\t\treturn {\n\t\t\t\tnext: function next() {\n\t\t\t\t\tvar nextIndex = advanceStringIndex(iterable, i);\n\t\t\t\t\tvar value = $stringSlice(iterable, i, nextIndex);\n\t\t\t\t\ti = nextIndex;\n\t\t\t\t\treturn {\n\t\t\t\t\t\tdone: nextIndex > iterable.length,\n\t\t\t\t\t\tvalue: value\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\n\t\t// es6-shim and es-shims' es-map use a string \"_es6-shim iterator_\" property on different iterables, such as MapIterator.\n\t\tif (noPrimordialCollections && typeof iterable['_es6-shim iterator_'] !== 'undefined') {\n\t\t\treturn iterable['_es6-shim iterator_']();\n\t\t}\n\t};\n\n\tif (!$Map && !$Set) {\n\t\t// the only language iterables are Array, String, arguments\n\t\t// - Safari <= 6.0\n\t\t// - Chrome < 38\n\t\t// - node < 0.12\n\t\t// - FF < 13\n\t\t// - IE < 11\n\t\t// - Edge < 11\n\n\t\tmodule.exports = function getIterator(iterable) {\n\t\t\tif (iterable != null) {\n\t\t\t\treturn getNonCollectionIterator(iterable, true);\n\t\t\t}\n\t\t};\n\t} else {\n\t\t// either Map or Set are available, but Symbol is not\n\t\t// - es6-shim on an ES5 browser\n\t\t// - Safari 6.2 (maybe 6.1?)\n\t\t// - FF v[13, 36)\n\t\t// - IE 11\n\t\t// - Edge 11\n\t\t// - Safari v[6, 9)\n\n\t\tvar isMap = require('is-map');\n\t\tvar isSet = require('is-set');\n\n\t\t// Firefox >= 27, IE 11, Safari 6.2 - 9, Edge 11, es6-shim in older envs, all have forEach\n\t\tvar $mapForEach = callBound('Map.prototype.forEach', true);\n\t\tvar $setForEach = callBound('Set.prototype.forEach', true);\n\t\tif (typeof process === 'undefined' || !process.versions || !process.versions.node) { // \"if is not node\"\n\n\t\t\t// Firefox 17 - 26 has `.iterator()`, whose iterator `.next()` either\n\t\t\t// returns a value, or throws a StopIteration object. These browsers\n\t\t\t// do not have any other mechanism for iteration.\n\t\t\tvar $mapIterator = callBound('Map.prototype.iterator', true);\n\t\t\tvar $setIterator = callBound('Set.prototype.iterator', true);\n\t\t}\n\t\t// Firefox 27-35, and some older es6-shim versions, use a string \"@@iterator\" property\n\t\t// this returns a proper iterator object, so we should use it instead of forEach.\n\t\t// newer es6-shim versions use a string \"_es6-shim iterator_\" property.\n\t\tvar $mapAtAtIterator = callBound('Map.prototype.@@iterator', true) || callBound('Map.prototype._es6-shim iterator_', true);\n\t\tvar $setAtAtIterator = callBound('Set.prototype.@@iterator', true) || callBound('Set.prototype._es6-shim iterator_', true);\n\n\t\tvar getCollectionIterator = function getCollectionIterator(iterable) {\n\t\t\tif (isMap(iterable)) {\n\t\t\t\tif ($mapIterator) {\n\t\t\t\t\treturn getStopIterationIterator($mapIterator(iterable));\n\t\t\t\t}\n\t\t\t\tif ($mapAtAtIterator) {\n\t\t\t\t\treturn $mapAtAtIterator(iterable);\n\t\t\t\t}\n\t\t\t\tif ($mapForEach) {\n\t\t\t\t\tvar entries = [];\n\t\t\t\t\t$mapForEach(iterable, function (v, k) {\n\t\t\t\t\t\t$arrayPush(entries, [k, v]);\n\t\t\t\t\t});\n\t\t\t\t\treturn getArrayIterator(entries);\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (isSet(iterable)) {\n\t\t\t\tif ($setIterator) {\n\t\t\t\t\treturn getStopIterationIterator($setIterator(iterable));\n\t\t\t\t}\n\t\t\t\tif ($setAtAtIterator) {\n\t\t\t\t\treturn $setAtAtIterator(iterable);\n\t\t\t\t}\n\t\t\t\tif ($setForEach) {\n\t\t\t\t\tvar values = [];\n\t\t\t\t\t$setForEach(iterable, function (v) {\n\t\t\t\t\t\t$arrayPush(values, v);\n\t\t\t\t\t});\n\t\t\t\t\treturn getArrayIterator(values);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tmodule.exports = function getIterator(iterable) {\n\t\t\treturn getCollectionIterator(iterable) || getNonCollectionIterator(iterable);\n\t\t};\n\t}\n}\n","'use strict';\n\nvar numberIsNaN = function (value) {\n\treturn value !== value;\n};\n\nmodule.exports = function is(a, b) {\n\tif (a === 0 && b === 0) {\n\t\treturn 1 / a === 1 / b;\n\t}\n\tif (a === b) {\n\t\treturn true;\n\t}\n\tif (numberIsNaN(a) && numberIsNaN(b)) {\n\t\treturn true;\n\t}\n\treturn false;\n};\n\n","'use strict';\n\nvar getPolyfill = require('./polyfill');\nvar define = require('define-properties');\n\nmodule.exports = function shimObjectIs() {\n\tvar polyfill = getPolyfill();\n\tdefine(Object, { is: polyfill }, {\n\t\tis: function testObjectIs() {\n\t\t\treturn Object.is !== polyfill;\n\t\t}\n\t});\n\treturn polyfill;\n};\n","'use strict';\n\nvar define = require('define-properties');\nvar callBind = require('call-bind');\n\nvar implementation = require('./implementation');\nvar getPolyfill = require('./polyfill');\nvar shim = require('./shim');\n\nvar polyfill = callBind(getPolyfill(), Object);\n\ndefine(polyfill, {\n\tgetPolyfill: getPolyfill,\n\timplementation: implementation,\n\tshim: shim\n});\n\nmodule.exports = polyfill;\n","'use strict';\n\nvar implementation = require('./implementation');\n\nmodule.exports = function getPolyfill() {\n\treturn typeof Object.is === 'function' ? Object.is : implementation;\n};\n","'use strict';\n\nvar fnToStr = Function.prototype.toString;\nvar reflectApply = typeof Reflect === 'object' && Reflect !== null && Reflect.apply;\nvar badArrayLike;\nvar isCallableMarker;\nif (typeof reflectApply === 'function' && typeof Object.defineProperty === 'function') {\n\ttry {\n\t\tbadArrayLike = Object.defineProperty({}, 'length', {\n\t\t\tget: function () {\n\t\t\t\tthrow isCallableMarker;\n\t\t\t}\n\t\t});\n\t\tisCallableMarker = {};\n\t\t// eslint-disable-next-line no-throw-literal\n\t\treflectApply(function () { throw 42; }, null, badArrayLike);\n\t} catch (_) {\n\t\tif (_ !== isCallableMarker) {\n\t\t\treflectApply = null;\n\t\t}\n\t}\n} else {\n\treflectApply = null;\n}\n\nvar constructorRegex = /^\\s*class\\b/;\nvar isES6ClassFn = function isES6ClassFunction(value) {\n\ttry {\n\t\tvar fnStr = fnToStr.call(value);\n\t\treturn constructorRegex.test(fnStr);\n\t} catch (e) {\n\t\treturn false; // not a function\n\t}\n};\n\nvar tryFunctionObject = function tryFunctionToStr(value) {\n\ttry {\n\t\tif (isES6ClassFn(value)) { return false; }\n\t\tfnToStr.call(value);\n\t\treturn true;\n\t} catch (e) {\n\t\treturn false;\n\t}\n};\nvar toStr = Object.prototype.toString;\nvar objectClass = '[object Object]';\nvar fnClass = '[object Function]';\nvar genClass = '[object GeneratorFunction]';\nvar ddaClass = '[object HTMLAllCollection]'; // IE 11\nvar ddaClass2 = '[object HTML document.all class]';\nvar ddaClass3 = '[object HTMLCollection]'; // IE 9-10\nvar hasToStringTag = typeof Symbol === 'function' && !!Symbol.toStringTag; // better: use `has-tostringtag`\n\nvar isIE68 = !(0 in [,]); // eslint-disable-line no-sparse-arrays, comma-spacing\n\nvar isDDA = function isDocumentDotAll() { return false; };\nif (typeof document === 'object') {\n\t// Firefox 3 canonicalizes DDA to undefined when it's not accessed directly\n\tvar all = document.all;\n\tif (toStr.call(all) === toStr.call(document.all)) {\n\t\tisDDA = function isDocumentDotAll(value) {\n\t\t\t/* globals document: false */\n\t\t\t// in IE 6-8, typeof document.all is \"object\" and it's truthy\n\t\t\tif ((isIE68 || !value) && (typeof value === 'undefined' || typeof value === 'object')) {\n\t\t\t\ttry {\n\t\t\t\t\tvar str = toStr.call(value);\n\t\t\t\t\treturn (\n\t\t\t\t\t\tstr === ddaClass\n\t\t\t\t\t\t|| str === ddaClass2\n\t\t\t\t\t\t|| str === ddaClass3 // opera 12.16\n\t\t\t\t\t\t|| str === objectClass // IE 6-8\n\t\t\t\t\t) && value('') == null; // eslint-disable-line eqeqeq\n\t\t\t\t} catch (e) { /**/ }\n\t\t\t}\n\t\t\treturn false;\n\t\t};\n\t}\n}\n\nmodule.exports = reflectApply\n\t? function isCallable(value) {\n\t\tif (isDDA(value)) { return true; }\n\t\tif (!value) { return false; }\n\t\tif (typeof value !== 'function' && typeof value !== 'object') { return false; }\n\t\ttry {\n\t\t\treflectApply(value, null, badArrayLike);\n\t\t} catch (e) {\n\t\t\tif (e !== isCallableMarker) { return false; }\n\t\t}\n\t\treturn !isES6ClassFn(value) && tryFunctionObject(value);\n\t}\n\t: function isCallable(value) {\n\t\tif (isDDA(value)) { return true; }\n\t\tif (!value) { return false; }\n\t\tif (typeof value !== 'function' && typeof value !== 'object') { return false; }\n\t\tif (hasToStringTag) { return tryFunctionObject(value); }\n\t\tif (isES6ClassFn(value)) { return false; }\n\t\tvar strClass = toStr.call(value);\n\t\tif (strClass !== fnClass && strClass !== genClass && !(/^\\[object HTML/).test(strClass)) { return false; }\n\t\treturn tryFunctionObject(value);\n\t};\n","'use strict';\n\nvar isCallable = require('is-callable');\n\nvar toStr = Object.prototype.toString;\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\n\nvar forEachArray = function forEachArray(array, iterator, receiver) {\n    for (var i = 0, len = array.length; i < len; i++) {\n        if (hasOwnProperty.call(array, i)) {\n            if (receiver == null) {\n                iterator(array[i], i, array);\n            } else {\n                iterator.call(receiver, array[i], i, array);\n            }\n        }\n    }\n};\n\nvar forEachString = function forEachString(string, iterator, receiver) {\n    for (var i = 0, len = string.length; i < len; i++) {\n        // no such thing as a sparse string.\n        if (receiver == null) {\n            iterator(string.charAt(i), i, string);\n        } else {\n            iterator.call(receiver, string.charAt(i), i, string);\n        }\n    }\n};\n\nvar forEachObject = function forEachObject(object, iterator, receiver) {\n    for (var k in object) {\n        if (hasOwnProperty.call(object, k)) {\n            if (receiver == null) {\n                iterator(object[k], k, object);\n            } else {\n                iterator.call(receiver, object[k], k, object);\n            }\n        }\n    }\n};\n\nvar forEach = function forEach(list, iterator, thisArg) {\n    if (!isCallable(iterator)) {\n        throw new TypeError('iterator must be a function');\n    }\n\n    var receiver;\n    if (arguments.length >= 3) {\n        receiver = thisArg;\n    }\n\n    if (toStr.call(list) === '[object Array]') {\n        forEachArray(list, iterator, receiver);\n    } else if (typeof list === 'string') {\n        forEachString(list, iterator, receiver);\n    } else {\n        forEachObject(list, iterator, receiver);\n    }\n};\n\nmodule.exports = forEach;\n","'use strict';\n\nvar possibleNames = [\n\t'BigInt64Array',\n\t'BigUint64Array',\n\t'Float32Array',\n\t'Float64Array',\n\t'Int16Array',\n\t'Int32Array',\n\t'Int8Array',\n\t'Uint16Array',\n\t'Uint32Array',\n\t'Uint8Array',\n\t'Uint8ClampedArray'\n];\n\nvar g = typeof globalThis === 'undefined' ? global : globalThis;\n\nmodule.exports = function availableTypedArrays() {\n\tvar out = [];\n\tfor (var i = 0; i < possibleNames.length; i++) {\n\t\tif (typeof g[possibleNames[i]] === 'function') {\n\t\t\tout[out.length] = possibleNames[i];\n\t\t}\n\t}\n\treturn out;\n};\n","'use strict';\n\nvar forEach = require('for-each');\nvar availableTypedArrays = require('available-typed-arrays');\nvar callBound = require('call-bind/callBound');\n\nvar $toString = callBound('Object.prototype.toString');\nvar hasToStringTag = require('has-tostringtag/shams')();\nvar gOPD = require('gopd');\n\nvar g = typeof globalThis === 'undefined' ? global : globalThis;\nvar typedArrays = availableTypedArrays();\n\nvar $indexOf = callBound('Array.prototype.indexOf', true) || function indexOf(array, value) {\n\tfor (var i = 0; i < array.length; i += 1) {\n\t\tif (array[i] === value) {\n\t\t\treturn i;\n\t\t}\n\t}\n\treturn -1;\n};\nvar $slice = callBound('String.prototype.slice');\nvar toStrTags = {};\nvar getPrototypeOf = Object.getPrototypeOf; // require('getprototypeof');\nif (hasToStringTag && gOPD && getPrototypeOf) {\n\tforEach(typedArrays, function (typedArray) {\n\t\tvar arr = new g[typedArray]();\n\t\tif (Symbol.toStringTag in arr) {\n\t\t\tvar proto = getPrototypeOf(arr);\n\t\t\tvar descriptor = gOPD(proto, Symbol.toStringTag);\n\t\t\tif (!descriptor) {\n\t\t\t\tvar superProto = getPrototypeOf(proto);\n\t\t\t\tdescriptor = gOPD(superProto, Symbol.toStringTag);\n\t\t\t}\n\t\t\ttoStrTags[typedArray] = descriptor.get;\n\t\t}\n\t});\n}\n\nvar tryTypedArrays = function tryAllTypedArrays(value) {\n\tvar anyTrue = false;\n\tforEach(toStrTags, function (getter, typedArray) {\n\t\tif (!anyTrue) {\n\t\t\ttry {\n\t\t\t\tanyTrue = getter.call(value) === typedArray;\n\t\t\t} catch (e) { /**/ }\n\t\t}\n\t});\n\treturn anyTrue;\n};\n\nmodule.exports = function isTypedArray(value) {\n\tif (!value || typeof value !== 'object') { return false; }\n\tif (!hasToStringTag || !(Symbol.toStringTag in value)) {\n\t\tvar tag = $slice($toString(value), 8, -1);\n\t\treturn $indexOf(typedArrays, tag) > -1;\n\t}\n\tif (!gOPD) { return false; }\n\treturn tryTypedArrays(value);\n};\n","'use strict';\n\nvar GetIntrinsic = require('get-intrinsic');\n\nvar $gOPD = GetIntrinsic('%Object.getOwnPropertyDescriptor%', true);\n\nif ($gOPD) {\n\ttry {\n\t\t$gOPD([], 'length');\n\t} catch (e) {\n\t\t// IE 8 has a broken gOPD\n\t\t$gOPD = null;\n\t}\n}\n\nmodule.exports = $gOPD;\n","'use strict';\n\nvar callBind = require('call-bind');\nvar callBound = require('call-bind/callBound');\nvar GetIntrinsic = require('get-intrinsic');\nvar isTypedArray = require('is-typed-array');\n\nvar $ArrayBuffer = GetIntrinsic('ArrayBuffer', true);\nvar $Float32Array = GetIntrinsic('Float32Array', true);\nvar $byteLength = callBound('ArrayBuffer.prototype.byteLength', true);\n\n// in node 0.10, ArrayBuffers have no prototype methods, but have an own slot-checking `slice` method\nvar abSlice = $ArrayBuffer && !$byteLength && new $ArrayBuffer().slice;\nvar $abSlice = abSlice && callBind(abSlice);\n\nmodule.exports = $byteLength || $abSlice\n\t? function isArrayBuffer(obj) {\n\t\tif (!obj || typeof obj !== 'object') {\n\t\t\treturn false;\n\t\t}\n\t\ttry {\n\t\t\tif ($byteLength) {\n\t\t\t\t$byteLength(obj);\n\t\t\t} else {\n\t\t\t\t$abSlice(obj, 0);\n\t\t\t}\n\t\t\treturn true;\n\t\t} catch (e) {\n\t\t\treturn false;\n\t\t}\n\t}\n\t: $Float32Array\n\t\t// in node 0.8, ArrayBuffers have no prototype or own methods\n\t\t? function IsArrayBuffer(obj) {\n\t\t\ttry {\n\t\t\t\treturn (new $Float32Array(obj)).buffer === obj && !isTypedArray(obj);\n\t\t\t} catch (e) {\n\t\t\t\treturn typeof obj === 'object' && e.name === 'RangeError';\n\t\t\t}\n\t\t}\n\t\t: function isArrayBuffer(obj) { // eslint-disable-line no-unused-vars\n\t\t\treturn false;\n\t\t};\n","'use strict';\n\nvar getDay = Date.prototype.getDay;\nvar tryDateObject = function tryDateGetDayCall(value) {\n\ttry {\n\t\tgetDay.call(value);\n\t\treturn true;\n\t} catch (e) {\n\t\treturn false;\n\t}\n};\n\nvar toStr = Object.prototype.toString;\nvar dateClass = '[object Date]';\nvar hasToStringTag = require('has-tostringtag/shams')();\n\nmodule.exports = function isDateObject(value) {\n\tif (typeof value !== 'object' || value === null) {\n\t\treturn false;\n\t}\n\treturn hasToStringTag ? tryDateObject(value) : toStr.call(value) === dateClass;\n};\n","'use strict';\n\nvar callBound = require('call-bind/callBound');\nvar hasToStringTag = require('has-tostringtag/shams')();\nvar has;\nvar $exec;\nvar isRegexMarker;\nvar badStringifier;\n\nif (hasToStringTag) {\n\thas = callBound('Object.prototype.hasOwnProperty');\n\t$exec = callBound('RegExp.prototype.exec');\n\tisRegexMarker = {};\n\n\tvar throwRegexMarker = function () {\n\t\tthrow isRegexMarker;\n\t};\n\tbadStringifier = {\n\t\ttoString: throwRegexMarker,\n\t\tvalueOf: throwRegexMarker\n\t};\n\n\tif (typeof Symbol.toPrimitive === 'symbol') {\n\t\tbadStringifier[Symbol.toPrimitive] = throwRegexMarker;\n\t}\n}\n\nvar $toString = callBound('Object.prototype.toString');\nvar gOPD = Object.getOwnPropertyDescriptor;\nvar regexClass = '[object RegExp]';\n\nmodule.exports = hasToStringTag\n\t// eslint-disable-next-line consistent-return\n\t? function isRegex(value) {\n\t\tif (!value || typeof value !== 'object') {\n\t\t\treturn false;\n\t\t}\n\n\t\tvar descriptor = gOPD(value, 'lastIndex');\n\t\tvar hasLastIndexDataProperty = descriptor && has(descriptor, 'value');\n\t\tif (!hasLastIndexDataProperty) {\n\t\t\treturn false;\n\t\t}\n\n\t\ttry {\n\t\t\t$exec(value, badStringifier);\n\t\t} catch (e) {\n\t\t\treturn e === isRegexMarker;\n\t\t}\n\t}\n\t: function isRegex(value) {\n\t\t// In older browsers, typeof regex incorrectly returns 'function'\n\t\tif (!value || (typeof value !== 'object' && typeof value !== 'function')) {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn $toString(value) === regexClass;\n\t};\n","'use strict';\n\nvar callBound = require('call-bind/callBound');\n\nvar $byteLength = callBound('SharedArrayBuffer.prototype.byteLength', true);\n\nmodule.exports = $byteLength\n\t? function isSharedArrayBuffer(obj) {\n\t\tif (!obj || typeof obj !== 'object') {\n\t\t\treturn false;\n\t\t}\n\t\ttry {\n\t\t\t$byteLength(obj);\n\t\t\treturn true;\n\t\t} catch (e) {\n\t\t\treturn false;\n\t\t}\n\t}\n\t: function isSharedArrayBuffer(obj) { // eslint-disable-line no-unused-vars\n\t\treturn false;\n\t};\n","'use strict';\n\nvar numToStr = Number.prototype.toString;\nvar tryNumberObject = function tryNumberObject(value) {\n\ttry {\n\t\tnumToStr.call(value);\n\t\treturn true;\n\t} catch (e) {\n\t\treturn false;\n\t}\n};\nvar toStr = Object.prototype.toString;\nvar numClass = '[object Number]';\nvar hasToStringTag = require('has-tostringtag/shams')();\n\nmodule.exports = function isNumberObject(value) {\n\tif (typeof value === 'number') {\n\t\treturn true;\n\t}\n\tif (typeof value !== 'object') {\n\t\treturn false;\n\t}\n\treturn hasToStringTag ? tryNumberObject(value) : toStr.call(value) === numClass;\n};\n","'use strict';\n\nvar callBound = require('call-bind/callBound');\nvar $boolToStr = callBound('Boolean.prototype.toString');\nvar $toString = callBound('Object.prototype.toString');\n\nvar tryBooleanObject = function booleanBrandCheck(value) {\n\ttry {\n\t\t$boolToStr(value);\n\t\treturn true;\n\t} catch (e) {\n\t\treturn false;\n\t}\n};\nvar boolClass = '[object Boolean]';\nvar hasToStringTag = require('has-tostringtag/shams')();\n\nmodule.exports = function isBoolean(value) {\n\tif (typeof value === 'boolean') {\n\t\treturn true;\n\t}\n\tif (value === null || typeof value !== 'object') {\n\t\treturn false;\n\t}\n\treturn hasToStringTag && Symbol.toStringTag in value ? tryBooleanObject(value) : $toString(value) === boolClass;\n};\n","'use strict';\n\nvar toStr = Object.prototype.toString;\nvar hasSymbols = require('has-symbols')();\n\nif (hasSymbols) {\n\tvar symToStr = Symbol.prototype.toString;\n\tvar symStringRegex = /^Symbol\\(.*\\)$/;\n\tvar isSymbolObject = function isRealSymbolObject(value) {\n\t\tif (typeof value.valueOf() !== 'symbol') {\n\t\t\treturn false;\n\t\t}\n\t\treturn symStringRegex.test(symToStr.call(value));\n\t};\n\n\tmodule.exports = function isSymbol(value) {\n\t\tif (typeof value === 'symbol') {\n\t\t\treturn true;\n\t\t}\n\t\tif (toStr.call(value) !== '[object Symbol]') {\n\t\t\treturn false;\n\t\t}\n\t\ttry {\n\t\t\treturn isSymbolObject(value);\n\t\t} catch (e) {\n\t\t\treturn false;\n\t\t}\n\t};\n} else {\n\n\tmodule.exports = function isSymbol(value) {\n\t\t// this environment does not support Symbols.\n\t\treturn false && value;\n\t};\n}\n","'use strict';\n\nvar hasBigInts = require('has-bigints')();\n\nif (hasBigInts) {\n\tvar bigIntValueOf = BigInt.prototype.valueOf;\n\tvar tryBigInt = function tryBigIntObject(value) {\n\t\ttry {\n\t\t\tbigIntValueOf.call(value);\n\t\t\treturn true;\n\t\t} catch (e) {\n\t\t}\n\t\treturn false;\n\t};\n\n\tmodule.exports = function isBigInt(value) {\n\t\tif (\n\t\t\tvalue === null\n\t\t\t|| typeof value === 'undefined'\n\t\t\t|| typeof value === 'boolean'\n\t\t\t|| typeof value === 'string'\n\t\t\t|| typeof value === 'number'\n\t\t\t|| typeof value === 'symbol'\n\t\t\t|| typeof value === 'function'\n\t\t) {\n\t\t\treturn false;\n\t\t}\n\t\tif (typeof value === 'bigint') {\n\t\t\treturn true;\n\t\t}\n\n\t\treturn tryBigInt(value);\n\t};\n} else {\n\tmodule.exports = function isBigInt(value) {\n\t\treturn false && value;\n\t};\n}\n","'use strict';\n\nvar isString = require('is-string');\nvar isNumber = require('is-number-object');\nvar isBoolean = require('is-boolean-object');\nvar isSymbol = require('is-symbol');\nvar isBigInt = require('is-bigint');\n\n// eslint-disable-next-line consistent-return\nmodule.exports = function whichBoxedPrimitive(value) {\n\t// eslint-disable-next-line eqeqeq\n\tif (value == null || (typeof value !== 'object' && typeof value !== 'function')) {\n\t\treturn null;\n\t}\n\tif (isString(value)) {\n\t\treturn 'String';\n\t}\n\tif (isNumber(value)) {\n\t\treturn 'Number';\n\t}\n\tif (isBoolean(value)) {\n\t\treturn 'Boolean';\n\t}\n\tif (isSymbol(value)) {\n\t\treturn 'Symbol';\n\t}\n\tif (isBigInt(value)) {\n\t\treturn 'BigInt';\n\t}\n};\n","'use strict';\n\nvar $WeakMap = typeof WeakMap === 'function' && WeakMap.prototype ? WeakMap : null;\nvar $WeakSet = typeof WeakSet === 'function' && WeakSet.prototype ? WeakSet : null;\n\nvar exported;\n\nif (!$WeakMap) {\n\t// eslint-disable-next-line no-unused-vars\n\texported = function isWeakMap(x) {\n\t\t// `WeakMap` is not present in this environment.\n\t\treturn false;\n\t};\n}\n\nvar $mapHas = $WeakMap ? $WeakMap.prototype.has : null;\nvar $setHas = $WeakSet ? $WeakSet.prototype.has : null;\nif (!exported && !$mapHas) {\n\t// eslint-disable-next-line no-unused-vars\n\texported = function isWeakMap(x) {\n\t\t// `WeakMap` does not have a `has` method\n\t\treturn false;\n\t};\n}\n\nmodule.exports = exported || function isWeakMap(x) {\n\tif (!x || typeof x !== 'object') {\n\t\treturn false;\n\t}\n\ttry {\n\t\t$mapHas.call(x, $mapHas);\n\t\tif ($setHas) {\n\t\t\ttry {\n\t\t\t\t$setHas.call(x, $setHas);\n\t\t\t} catch (e) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\treturn x instanceof $WeakMap; // core-js workaround, pre-v3\n\t} catch (e) {}\n\treturn false;\n};\n","'use strict';\n\nvar GetIntrinsic = require('get-intrinsic');\nvar callBound = require('call-bind/callBound');\n\nvar $WeakSet = GetIntrinsic('%WeakSet%', true);\n\nvar $setHas = callBound('WeakSet.prototype.has', true);\n\nif ($setHas) {\n\tvar $mapHas = callBound('WeakMap.prototype.has', true);\n\n\tmodule.exports = function isWeakSet(x) {\n\t\tif (!x || typeof x !== 'object') {\n\t\t\treturn false;\n\t\t}\n\t\ttry {\n\t\t\t$setHas(x, $setHas);\n\t\t\tif ($mapHas) {\n\t\t\t\ttry {\n\t\t\t\t\t$mapHas(x, $mapHas);\n\t\t\t\t} catch (e) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn x instanceof $WeakSet; // core-js workaround, pre-v3\n\t\t} catch (e) {}\n\t\treturn false;\n\t};\n} else {\n\t// eslint-disable-next-line no-unused-vars\n\tmodule.exports = function isWeakSet(x) {\n\t\t// `WeakSet` does not exist, or does not have a `has` method\n\t\treturn false;\n\t};\n}\n","'use strict';\n\nvar isMap = require('is-map');\nvar isSet = require('is-set');\nvar isWeakMap = require('is-weakmap');\nvar isWeakSet = require('is-weakset');\n\nmodule.exports = function whichCollection(value) {\n\tif (value && typeof value === 'object') {\n\t\tif (isMap(value)) {\n\t\t\treturn 'Map';\n\t\t}\n\t\tif (isSet(value)) {\n\t\t\treturn 'Set';\n\t\t}\n\t\tif (isWeakMap(value)) {\n\t\t\treturn 'WeakMap';\n\t\t}\n\t\tif (isWeakSet(value)) {\n\t\t\treturn 'WeakSet';\n\t\t}\n\t}\n\treturn false;\n};\n","'use strict';\n\nvar forEach = require('for-each');\nvar availableTypedArrays = require('available-typed-arrays');\nvar callBound = require('call-bind/callBound');\nvar gOPD = require('gopd');\n\nvar $toString = callBound('Object.prototype.toString');\nvar hasToStringTag = require('has-tostringtag/shams')();\n\nvar g = typeof globalThis === 'undefined' ? global : globalThis;\nvar typedArrays = availableTypedArrays();\n\nvar $slice = callBound('String.prototype.slice');\nvar toStrTags = {};\nvar getPrototypeOf = Object.getPrototypeOf; // require('getprototypeof');\nif (hasToStringTag && gOPD && getPrototypeOf) {\n\tforEach(typedArrays, function (typedArray) {\n\t\tif (typeof g[typedArray] === 'function') {\n\t\t\tvar arr = new g[typedArray]();\n\t\t\tif (Symbol.toStringTag in arr) {\n\t\t\t\tvar proto = getPrototypeOf(arr);\n\t\t\t\tvar descriptor = gOPD(proto, Symbol.toStringTag);\n\t\t\t\tif (!descriptor) {\n\t\t\t\t\tvar superProto = getPrototypeOf(proto);\n\t\t\t\t\tdescriptor = gOPD(superProto, Symbol.toStringTag);\n\t\t\t\t}\n\t\t\t\ttoStrTags[typedArray] = descriptor.get;\n\t\t\t}\n\t\t}\n\t});\n}\n\nvar tryTypedArrays = function tryAllTypedArrays(value) {\n\tvar foundName = false;\n\tforEach(toStrTags, function (getter, typedArray) {\n\t\tif (!foundName) {\n\t\t\ttry {\n\t\t\t\tvar name = getter.call(value);\n\t\t\t\tif (name === typedArray) {\n\t\t\t\t\tfoundName = name;\n\t\t\t\t}\n\t\t\t} catch (e) {}\n\t\t}\n\t});\n\treturn foundName;\n};\n\nvar isTypedArray = require('is-typed-array');\n\nmodule.exports = function whichTypedArray(value) {\n\tif (!isTypedArray(value)) { return false; }\n\tif (!hasToStringTag || !(Symbol.toStringTag in value)) { return $slice($toString(value), 8, -1); }\n\treturn tryTypedArrays(value);\n};\n","'use strict';\n\nvar assign = require('object.assign');\nvar callBound = require('call-bind/callBound');\nvar flags = require('regexp.prototype.flags');\nvar GetIntrinsic = require('get-intrinsic');\nvar getIterator = require('es-get-iterator');\nvar getSideChannel = require('side-channel');\nvar is = require('object-is');\nvar isArguments = require('is-arguments');\nvar isArray = require('isarray');\nvar isArrayBuffer = require('is-array-buffer');\nvar isDate = require('is-date-object');\nvar isRegex = require('is-regex');\nvar isSharedArrayBuffer = require('is-shared-array-buffer');\nvar objectKeys = require('object-keys');\nvar whichBoxedPrimitive = require('which-boxed-primitive');\nvar whichCollection = require('which-collection');\nvar whichTypedArray = require('which-typed-array');\n\nvar byteLength = callBound('ArrayBuffer.prototype.byteLength', true)\n\t|| function byteLength(ab) { return ab.byteLength; }; // in node < 0.11, byteLength is an own nonconfigurable property\nvar sabByteLength = callBound('SharedArrayBuffer.prototype.byteLength', true);\n\nvar $getTime = callBound('Date.prototype.getTime');\nvar gPO = Object.getPrototypeOf;\nvar $objToString = callBound('Object.prototype.toString');\n\nvar $Set = GetIntrinsic('%Set%', true);\nvar $mapHas = callBound('Map.prototype.has', true);\nvar $mapGet = callBound('Map.prototype.get', true);\nvar $mapSize = callBound('Map.prototype.size', true);\nvar $setAdd = callBound('Set.prototype.add', true);\nvar $setDelete = callBound('Set.prototype.delete', true);\nvar $setHas = callBound('Set.prototype.has', true);\nvar $setSize = callBound('Set.prototype.size', true);\n\n// taken from https://github.com/browserify/commonjs-assert/blob/bba838e9ba9e28edf3127ce6974624208502f6bc/internal/util/comparisons.js#L401-L414\nfunction setHasEqualElement(set, val1, opts, channel) {\n  var i = getIterator(set);\n  var result;\n  while ((result = i.next()) && !result.done) {\n    if (internalDeepEqual(val1, result.value, opts, channel)) { // eslint-disable-line no-use-before-define\n      // Remove the matching element to make sure we do not check that again.\n      $setDelete(set, result.value);\n      return true;\n    }\n  }\n\n  return false;\n}\n\n// taken from https://github.com/browserify/commonjs-assert/blob/bba838e9ba9e28edf3127ce6974624208502f6bc/internal/util/comparisons.js#L416-L439\nfunction findLooseMatchingPrimitives(prim) {\n  if (typeof prim === 'undefined') {\n    return null;\n  }\n  if (typeof prim === 'object') { // Only pass in null as object!\n    return void 0;\n  }\n  if (typeof prim === 'symbol') {\n    return false;\n  }\n  if (typeof prim === 'string' || typeof prim === 'number') {\n    // Loose equal entries exist only if the string is possible to convert to a regular number and not NaN.\n    return +prim === +prim; // eslint-disable-line no-implicit-coercion\n  }\n  return true;\n}\n\n// taken from https://github.com/browserify/commonjs-assert/blob/bba838e9ba9e28edf3127ce6974624208502f6bc/internal/util/comparisons.js#L449-L460\nfunction mapMightHaveLoosePrim(a, b, prim, item, opts, channel) {\n  var altValue = findLooseMatchingPrimitives(prim);\n  if (altValue != null) {\n    return altValue;\n  }\n  var curB = $mapGet(b, altValue);\n  var looseOpts = assign({}, opts, { strict: false });\n  if (\n    (typeof curB === 'undefined' && !$mapHas(b, altValue))\n    // eslint-disable-next-line no-use-before-define\n    || !internalDeepEqual(item, curB, looseOpts, channel)\n  ) {\n    return false;\n  }\n  // eslint-disable-next-line no-use-before-define\n  return !$mapHas(a, altValue) && internalDeepEqual(item, curB, looseOpts, channel);\n}\n\n// taken from https://github.com/browserify/commonjs-assert/blob/bba838e9ba9e28edf3127ce6974624208502f6bc/internal/util/comparisons.js#L441-L447\nfunction setMightHaveLoosePrim(a, b, prim) {\n  var altValue = findLooseMatchingPrimitives(prim);\n  if (altValue != null) {\n    return altValue;\n  }\n\n  return $setHas(b, altValue) && !$setHas(a, altValue);\n}\n\n// taken from https://github.com/browserify/commonjs-assert/blob/bba838e9ba9e28edf3127ce6974624208502f6bc/internal/util/comparisons.js#L518-L533\nfunction mapHasEqualEntry(set, map, key1, item1, opts, channel) {\n  var i = getIterator(set);\n  var result;\n  var key2;\n  while ((result = i.next()) && !result.done) {\n    key2 = result.value;\n    if (\n      // eslint-disable-next-line no-use-before-define\n      internalDeepEqual(key1, key2, opts, channel)\n      // eslint-disable-next-line no-use-before-define\n      && internalDeepEqual(item1, $mapGet(map, key2), opts, channel)\n    ) {\n      $setDelete(set, key2);\n      return true;\n    }\n  }\n\n  return false;\n}\n\nfunction internalDeepEqual(actual, expected, options, channel) {\n  var opts = options || {};\n\n  // 7.1. All identical values are equivalent, as determined by ===.\n  if (opts.strict ? is(actual, expected) : actual === expected) {\n    return true;\n  }\n\n  var actualBoxed = whichBoxedPrimitive(actual);\n  var expectedBoxed = whichBoxedPrimitive(expected);\n  if (actualBoxed !== expectedBoxed) {\n    return false;\n  }\n\n  // 7.3. Other pairs that do not both pass typeof value == 'object', equivalence is determined by ==.\n  if (!actual || !expected || (typeof actual !== 'object' && typeof expected !== 'object')) {\n    return opts.strict ? is(actual, expected) : actual == expected; // eslint-disable-line eqeqeq\n  }\n\n  /*\n   * 7.4. For all other Object pairs, including Array objects, equivalence is\n   * determined by having the same number of owned properties (as verified\n   * with Object.prototype.hasOwnProperty.call), the same set of keys\n   * (although not necessarily the same order), equivalent values for every\n   * corresponding key, and an identical 'prototype' property. Note: this\n   * accounts for both named and indexed properties on Arrays.\n   */\n  // see https://github.com/nodejs/node/commit/d3aafd02efd3a403d646a3044adcf14e63a88d32 for memos/channel inspiration\n\n  var hasActual = channel.has(actual);\n  var hasExpected = channel.has(expected);\n  var sentinel;\n  if (hasActual && hasExpected) {\n    if (channel.get(actual) === channel.get(expected)) {\n      return true;\n    }\n  } else {\n    sentinel = {};\n  }\n  if (!hasActual) { channel.set(actual, sentinel); }\n  if (!hasExpected) { channel.set(expected, sentinel); }\n\n  // eslint-disable-next-line no-use-before-define\n  return objEquiv(actual, expected, opts, channel);\n}\n\nfunction isBuffer(x) {\n  if (!x || typeof x !== 'object' || typeof x.length !== 'number') {\n    return false;\n  }\n  if (typeof x.copy !== 'function' || typeof x.slice !== 'function') {\n    return false;\n  }\n  if (x.length > 0 && typeof x[0] !== 'number') {\n    return false;\n  }\n\n  return !!(x.constructor && x.constructor.isBuffer && x.constructor.isBuffer(x));\n}\n\nfunction setEquiv(a, b, opts, channel) {\n  if ($setSize(a) !== $setSize(b)) {\n    return false;\n  }\n  var iA = getIterator(a);\n  var iB = getIterator(b);\n  var resultA;\n  var resultB;\n  var set;\n  while ((resultA = iA.next()) && !resultA.done) {\n    if (resultA.value && typeof resultA.value === 'object') {\n      if (!set) { set = new $Set(); }\n      $setAdd(set, resultA.value);\n    } else if (!$setHas(b, resultA.value)) {\n      if (opts.strict) { return false; }\n      if (!setMightHaveLoosePrim(a, b, resultA.value)) {\n        return false;\n      }\n      if (!set) { set = new $Set(); }\n      $setAdd(set, resultA.value);\n    }\n  }\n  if (set) {\n    while ((resultB = iB.next()) && !resultB.done) {\n      // We have to check if a primitive value is already matching and only if it's not, go hunting for it.\n      if (resultB.value && typeof resultB.value === 'object') {\n        if (!setHasEqualElement(set, resultB.value, opts.strict, channel)) {\n          return false;\n        }\n      } else if (\n        !opts.strict\n        && !$setHas(a, resultB.value)\n        && !setHasEqualElement(set, resultB.value, opts.strict, channel)\n      ) {\n        return false;\n      }\n    }\n    return $setSize(set) === 0;\n  }\n  return true;\n}\n\nfunction mapEquiv(a, b, opts, channel) {\n  if ($mapSize(a) !== $mapSize(b)) {\n    return false;\n  }\n  var iA = getIterator(a);\n  var iB = getIterator(b);\n  var resultA;\n  var resultB;\n  var set;\n  var key;\n  var item1;\n  var item2;\n  while ((resultA = iA.next()) && !resultA.done) {\n    key = resultA.value[0];\n    item1 = resultA.value[1];\n    if (key && typeof key === 'object') {\n      if (!set) { set = new $Set(); }\n      $setAdd(set, key);\n    } else {\n      item2 = $mapGet(b, key);\n      if ((typeof item2 === 'undefined' && !$mapHas(b, key)) || !internalDeepEqual(item1, item2, opts, channel)) {\n        if (opts.strict) {\n          return false;\n        }\n        if (!mapMightHaveLoosePrim(a, b, key, item1, opts, channel)) {\n          return false;\n        }\n        if (!set) { set = new $Set(); }\n        $setAdd(set, key);\n      }\n    }\n  }\n\n  if (set) {\n    while ((resultB = iB.next()) && !resultB.done) {\n      key = resultB.value[0];\n      item2 = resultB.value[1];\n      if (key && typeof key === 'object') {\n        if (!mapHasEqualEntry(set, a, key, item2, opts, channel)) {\n          return false;\n        }\n      } else if (\n        !opts.strict\n        && (!a.has(key) || !internalDeepEqual($mapGet(a, key), item2, opts, channel))\n        && !mapHasEqualEntry(set, a, key, item2, assign({}, opts, { strict: false }), channel)\n      ) {\n        return false;\n      }\n    }\n    return $setSize(set) === 0;\n  }\n  return true;\n}\n\nfunction objEquiv(a, b, opts, channel) {\n  /* eslint max-statements: [2, 100], max-lines-per-function: [2, 120], max-depth: [2, 5], max-lines: [2, 400] */\n  var i, key;\n\n  if (typeof a !== typeof b) { return false; }\n  if (a == null || b == null) { return false; }\n\n  if ($objToString(a) !== $objToString(b)) { return false; }\n\n  if (isArguments(a) !== isArguments(b)) { return false; }\n\n  var aIsArray = isArray(a);\n  var bIsArray = isArray(b);\n  if (aIsArray !== bIsArray) { return false; }\n\n  // TODO: replace when a cross-realm brand check is available\n  var aIsError = a instanceof Error;\n  var bIsError = b instanceof Error;\n  if (aIsError !== bIsError) { return false; }\n  if (aIsError || bIsError) {\n    if (a.name !== b.name || a.message !== b.message) { return false; }\n  }\n\n  var aIsRegex = isRegex(a);\n  var bIsRegex = isRegex(b);\n  if (aIsRegex !== bIsRegex) { return false; }\n  if ((aIsRegex || bIsRegex) && (a.source !== b.source || flags(a) !== flags(b))) {\n    return false;\n  }\n\n  var aIsDate = isDate(a);\n  var bIsDate = isDate(b);\n  if (aIsDate !== bIsDate) { return false; }\n  if (aIsDate || bIsDate) { // && would work too, because both are true or both false here\n    if ($getTime(a) !== $getTime(b)) { return false; }\n  }\n  if (opts.strict && gPO && gPO(a) !== gPO(b)) { return false; }\n\n  var aWhich = whichTypedArray(a);\n  var bWhich = whichTypedArray(b);\n  if ((aWhich || bWhich) && aWhich !== bWhich) {\n    return false;\n  }\n\n  var aIsBuffer = isBuffer(a);\n  var bIsBuffer = isBuffer(b);\n  if (aIsBuffer !== bIsBuffer) { return false; }\n  if (aIsBuffer || bIsBuffer) { // && would work too, because both are true or both false here\n    if (a.length !== b.length) { return false; }\n    for (i = 0; i < a.length; i++) {\n      if (a[i] !== b[i]) { return false; }\n    }\n    return true;\n  }\n\n  var aIsArrayBuffer = isArrayBuffer(a);\n  var bIsArrayBuffer = isArrayBuffer(b);\n  if (aIsArrayBuffer !== bIsArrayBuffer) { return false; }\n  if (aIsArrayBuffer || bIsArrayBuffer) { // && would work too, because both are true or both false here\n    if (byteLength(a) !== byteLength(b)) { return false; }\n    return typeof Uint8Array === 'function' && internalDeepEqual(new Uint8Array(a), new Uint8Array(b), opts, channel);\n  }\n\n  var aIsSAB = isSharedArrayBuffer(a);\n  var bIsSAB = isSharedArrayBuffer(b);\n  if (aIsSAB !== bIsSAB) { return false; }\n  if (aIsSAB || bIsSAB) { // && would work too, because both are true or both false here\n    if (sabByteLength(a) !== sabByteLength(b)) { return false; }\n    return typeof Uint8Array === 'function' && internalDeepEqual(new Uint8Array(a), new Uint8Array(b), opts, channel);\n  }\n\n  if (typeof a !== typeof b) { return false; }\n\n  var ka = objectKeys(a);\n  var kb = objectKeys(b);\n  // having the same number of owned properties (keys incorporates hasOwnProperty)\n  if (ka.length !== kb.length) { return false; }\n\n  // the same set of keys (although not necessarily the same order),\n  ka.sort();\n  kb.sort();\n  // ~~~cheap key test\n  for (i = ka.length - 1; i >= 0; i--) {\n    if (ka[i] != kb[i]) { return false; } // eslint-disable-line eqeqeq\n  }\n\n  // equivalent values for every corresponding key, and ~~~possibly expensive deep test\n  for (i = ka.length - 1; i >= 0; i--) {\n    key = ka[i];\n    if (!internalDeepEqual(a[key], b[key], opts, channel)) { return false; }\n  }\n\n  var aCollection = whichCollection(a);\n  var bCollection = whichCollection(b);\n  if (aCollection !== bCollection) {\n    return false;\n  }\n  if (aCollection === 'Set' || bCollection === 'Set') { // aCollection === bCollection\n    return setEquiv(a, b, opts, channel);\n  }\n  if (aCollection === 'Map') { // aCollection === bCollection\n    return mapEquiv(a, b, opts, channel);\n  }\n\n  return true;\n}\n\nmodule.exports = function deepEqual(a, b, opts) {\n  return internalDeepEqual(a, b, opts, getSideChannel());\n};\n","!function(t,n){\"object\"==typeof exports&&\"undefined\"!=typeof module?n(exports):\"function\"==typeof define&&define.amd?define([\"exports\"],n):n(t.flubber=t.flubber||{})}(this,function(t){\"use strict\";function n(t){return 10===t||13===t||8232===t||8233===t||32===t||9===t||11===t||12===t||160===t||t>=5760&&an.indexOf(t)>=0}function e(t){switch(32|t){case 109:case 122:case 108:case 104:case 118:case 99:case 115:case 113:case 116:case 97:case 114:return!0}return!1}function r(t){return t>=48&&t<=57}function i(t){return t>=48&&t<=57||43===t||45===t||46===t}function a(t){this.index=0,this.path=t,this.max=t.length,this.result=[],this.param=0,this.err=\"\",this.segmentStart=0,this.data=[]}function o(t){for(;t.index<t.max&&n(t.path.charCodeAt(t.index));)t.index++}function s(t){var n,e=t.index,i=e,a=t.max,o=!1,s=!1,h=!1,u=!1;if(i>=a)return void(t.err=\"SvgPath: missed param (at pos \"+i+\")\");if(n=t.path.charCodeAt(i),43!==n&&45!==n||(i++,n=i<a?t.path.charCodeAt(i):0),!r(n)&&46!==n)return void(t.err=\"SvgPath: param should start with 0..9 or `.` (at pos \"+i+\")\");if(46!==n){if(o=48===n,i++,n=i<a?t.path.charCodeAt(i):0,o&&i<a&&n&&r(n))return void(t.err=\"SvgPath: numbers started with `0` such as `09` are ilegal (at pos \"+e+\")\");for(;i<a&&r(t.path.charCodeAt(i));)i++,s=!0;n=i<a?t.path.charCodeAt(i):0}if(46===n){for(u=!0,i++;r(t.path.charCodeAt(i));)i++,h=!0;n=i<a?t.path.charCodeAt(i):0}if(101===n||69===n){if(u&&!s&&!h)return void(t.err=\"SvgPath: invalid float exponent (at pos \"+i+\")\");if(i++,n=i<a?t.path.charCodeAt(i):0,43!==n&&45!==n||i++,!(i<a&&r(t.path.charCodeAt(i))))return void(t.err=\"SvgPath: invalid float exponent (at pos \"+i+\")\");for(;i<a&&r(t.path.charCodeAt(i));)i++}t.index=i,t.param=parseFloat(t.path.slice(e,i))+0}function h(t){var n,e;n=t.path[t.segmentStart],e=n.toLowerCase();var r=t.data;if(\"m\"===e&&r.length>2&&(t.result.push([n,r[0],r[1]]),r=r.slice(2),e=\"l\",n=\"m\"===n?\"l\":\"L\"),\"r\"===e)t.result.push([n].concat(r));else for(;r.length>=rn[e]&&(t.result.push([n].concat(r.splice(0,rn[e]))),rn[e]););}function u(t){var n,r,a,u,c=t.max;if(t.segmentStart=t.index,n=t.path.charCodeAt(t.index),!e(n))return void(t.err=\"SvgPath: bad command \"+t.path[t.index]+\" (at pos \"+t.index+\")\");if(a=rn[t.path[t.index].toLowerCase()],t.index++,o(t),t.data=[],!a)return void h(t);for(r=!1;;){for(u=a;u>0;u--){if(s(t),t.err.length)return;t.data.push(t.param),o(t),r=!1,t.index<c&&44===t.path.charCodeAt(t.index)&&(t.index++,o(t),r=!0)}if(!r){if(t.index>=t.max)break;if(!i(t.path.charCodeAt(t.index)))break}}h(t)}function c(t,n){return[t[0]*n[0]+t[2]*n[1],t[1]*n[0]+t[3]*n[1],t[0]*n[2]+t[2]*n[3],t[1]*n[2]+t[3]*n[3],t[0]*n[4]+t[2]*n[5]+t[4],t[1]*n[4]+t[3]*n[5]+t[5]]}function f(){if(!(this instanceof f))return new f;this.queue=[],this.cache=null}function l(t,n,e,r){var i=t*r-n*e<0?-1:1,a=Math.sqrt(t*t+n*n),o=Math.sqrt(t*t+n*n),s=t*e+n*r,h=s/(a*o);return h>1&&(h=1),h<-1&&(h=-1),i*Math.acos(h)}function p(t,n,e,r,i,a,o,s,h,u){var c=u*(t-e)/2+h*(n-r)/2,f=-h*(t-e)/2+u*(n-r)/2,p=o*o,g=s*s,v=c*c,x=f*f,y=p*g-p*x-g*v;y<0&&(y=0),y/=p*x+g*v,y=Math.sqrt(y)*(i===a?-1:1);var d=y*o/s*f,m=y*-s/o*c,M=u*d-h*m+(t+e)/2,w=h*d+u*m+(n+r)/2,b=(c-d)/o,L=(f-m)/s,A=(-c-d)/o,q=(-f-m)/s,k=l(1,0,b,L),P=l(b,L,A,q);return 0===a&&P>0&&(P-=ln),1===a&&P<0&&(P+=ln),[M,w,k,P]}function g(t,n){var e=4/3*Math.tan(n/4),r=Math.cos(t),i=Math.sin(t),a=Math.cos(t+n),o=Math.sin(t+n);return[r,i,r-i*e,i+r*e,a+o*e,o-a*e,a,o]}function v(t,n,e){if(!(this instanceof v))return new v(t,n,e);this.rx=t,this.ry=n,this.ax=e}function x(t){if(!(this instanceof x))return new x(t);var n=on(t);this.segments=n.segments,this.err=n.err,this.__stack=[]}function y(t){var n=t.match(wn);return n?n.map(Number):[]}function d(t,n,e,r,i,a,o,s){this.a={x:t,y:n},this.b={x:e,y:r},this.c={x:i,y:a},this.d={x:o,y:s},null!==o&&void 0!==o&&null!==s&&void 0!==s?(this.getArcLength=_,this.getPoint=L,this.getDerivative=M):(this.getArcLength=A,this.getPoint=b,this.getDerivative=m),this.init()}function m(t,n,e){return{x:2*(1-e)*(t[1]-t[0])+2*e*(t[2]-t[1]),y:2*(1-e)*(n[1]-n[0])+2*e*(n[2]-n[1])}}function M(t,n,e){return b([3*(t[1]-t[0]),3*(t[2]-t[1]),3*(t[3]-t[2])],[3*(n[1]-n[0]),3*(n[2]-n[1]),3*(n[3]-n[2])],e)}function w(t,n,e,r,i){for(var a=1,o=t/n,s=(t-e(r,i,o))/n;a>.001;){var h=e(r,i,o+s),u=e(r,i,o-s),c=Math.abs(t-h)/n,f=Math.abs(t-u)/n;c<a?(a=c,o+=s):f<a?(a=f,o-=s):s/=2}return o}function b(t,n,e){return{x:(1-e)*(1-e)*t[0]+2*(1-e)*e*t[1]+e*e*t[2],y:(1-e)*(1-e)*n[0]+2*(1-e)*e*n[1]+e*e*n[2]}}function L(t,n,e){return{x:(1-e)*(1-e)*(1-e)*t[0]+3*(1-e)*(1-e)*e*t[1]+3*(1-e)*e*e*t[2]+e*e*e*t[3],y:(1-e)*(1-e)*(1-e)*n[0]+3*(1-e)*(1-e)*e*n[1]+3*(1-e)*e*e*n[2]+e*e*e*n[3]}}function A(t,n,e){void 0===e&&(e=1);var r=t[0]-2*t[1]+t[2],i=n[0]-2*n[1]+n[2],a=2*t[1]-2*t[0],o=2*n[1]-2*n[0],s=4*(r*r+i*i),h=4*(r*a+i*o),u=a*a+o*o;if(0===s)return e*Math.sqrt(Math.pow(t[2]-t[0],2)+Math.pow(n[2]-n[0],2));var c=h/(2*s),f=u/s,l=e+c,p=f-c*c;return Math.sqrt(s)/2*(l*Math.sqrt(l*l+p)-c*Math.sqrt(c*c+p)+p*Math.log(Math.abs((l+Math.sqrt(l*l+p))/(c+Math.sqrt(c*c+p)))))}function q(t,n){return qn[t][n]}function k(t,n,e){var r,i,a,o=e.length-1;if(0===o)return 0;if(0===t){for(i=0,a=0;a<=o;a++)i+=q(o,a)*Math.pow(1-n,o-a)*Math.pow(n,a)*e[a];return i}for(r=new Array(o),a=0;a<o;a++)r[a]=o*(e[a+1]-e[a]);return k(t-1,n,r)}function P(t,n,e){var r=k(1,e,t),i=k(1,e,n),a=r*r+i*i;return Math.sqrt(a)}function _(t,n,e){var r,i,a,o;void 0===e&&(e=1);for(r=e/2,i=0,a=0;a<20;a++)o=r*Ln[20][a]+r,i+=An[20][a]*P(t,n,o);return r*i}function E(t,n,e,r){var i=t*r-n*e<0?-1:1,a=t*e+n*r;return a>1&&(a=1),a<-1&&(a=-1),i*Math.acos(a)}function S(t,n,e,r,i,a,o,s,h,u){var c=u*(t-e)/2+h*(n-r)/2,f=-h*(t-e)/2+u*(n-r)/2,l=o*o,p=s*s,g=c*c,v=f*f,x=l*p-l*v-p*g;x<0&&(x=0),x/=l*v+p*g,x=Math.sqrt(x)*(i===a?-1:1);var y=x*o/s*f,d=x*-s/o*c,m=u*y-h*d+(t+e)/2,M=h*y+u*d+(n+r)/2,w=(c-y)/o,b=(f-d)/s,L=(-c-y)/o,A=(-f-d)/s,q=E(1,0,w,b),k=E(w,b,L,A);return 0===a&&k>0&&(k-=kn),1===a&&k<0&&(k+=kn),[m,M,q,k]}function C(t,n){var e=4/3*Math.tan(n/4),r=Math.cos(t),i=Math.sin(t),a=Math.cos(t+n),o=Math.sin(t+n);return[r,i,r-i*e,i+r*e,a+o*e,o-a*e,a,o]}function Z(t,n,e,r,i,a,o,s,h){var u=0,c=[],f=[];Pn(t,n,e,r,i,a,o,s,h).forEach(function(t){var n=new bn(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]),e=n.getTotalLength();u+=e,c.push(e),f.push(n)}),this.length=u,this.partialLengths=c,this.curves=f}function T(t,n,e,r){this.x0=t,this.x1=n,this.y0=e,this.y1=r}function F(t,n){return Math.sqrt((t[0]-n[0])*(t[0]-n[0])+(t[1]-n[1])*(t[1]-n[1]))}function z(t,n,e){return[t[0]+(n[0]-t[0])*e,t[1]+(n[1]-t[1])*e]}function j(t,n){return F(t,n)<1e-9}function I(t,n,e){var r=t.map(function(t,e){return V(t,n[e])});return function(t){var n=r.map(function(n){return n(t)});return e?H(n):n}}function V(t,n){return function(e){return t.map(function(t,r){return t+e*(n[r]-t)})}}function X(t){return\"number\"==typeof t&&isFinite(t)}function Y(t){return G(t)?nn(t):[(t[0][0]+t[t.length-1][0])/2,(t[0][1]+t[t.length-1][1])/2]}function G(t){for(var n=0;n<t.length-2;n++){var e=t[n],r=t[n+1],i=t[n+2];if(e[0]*(r[1]-i[1])+r[0]*(i[1]-e[1])+i[0]*(e[1]-r[1]))return!0}return!1}function O(t){return new yn(t).abs()}function D(t){return t.toString().split(\"M\").map(function(t,n){return t=t.trim(),n&&t?\"M\"+t:t}).filter(function(t){return t})}function H(t){return\"M\"+t.join(\"L\")+\"Z\"}function N(t){return D(O(t))}function Q(t,n){var e=O(t);return U(e)||R(e,n)}function U(t){var n=t.segments||[],e=[];if(!n.length||\"M\"!==n[0][0])return!1;for(var r=0;r<n.length;r++){var i=n[r],a=i[0],o=i[1],s=i[2];if(\"M\"===a&&r||\"Z\"===a)break;if(\"M\"===a||\"L\"===a)e.push([o,s]);else if(\"H\"===a)e.push([o,e[e.length-1][1]]);else{if(\"V\"!==a)return!1;e.push([e[e.length-1][0],o])}}return!!e.length&&{ring:e}}function R(t,n){var e,r,i=D(t)[0],a=[],o=3;if(!i)throw new TypeError(Cn);r=B(i),e=r.getTotalLength(),n&&X(n)&&n>0&&(o=Math.max(o,Math.ceil(e/n)));for(var s=0;s<o;s++){var h=r.getPointAtLength(e*s/o);a.push([h.x,h.y])}return{ring:a,skipBisect:!0}}function B(t){if(\"undefined\"!=typeof window&&window&&window.document)try{var n=window.document.createElementNS(\"http://www.w3.org/2000/svg\",\"path\");return n.setAttributeNS(null,\"d\",t),n}catch(t){}return Sn(t)}function W(t,n){for(var e=t.length+n,r=en(t)/n,i=0,a=0,o=r/2;t.length<e;){var s=t[i],h=t[(i+1)%t.length],u=F(s,h);o<=a+u?(t.splice(i+1,0,u?z(s,h,(o-a)/u):s.slice(0)),o+=r):(a+=u,i++)}}function $(t,n){void 0===n&&(n=1/0);for(var e=0;e<t.length;e++)for(var r=t[e],i=e===t.length-1?t[0]:t[e+1];F(r,i)>n;)i=z(r,i,.5),t.splice(e+1,0,i)}function J(t,n){var e,r,i;if(\"string\"==typeof t){var a=Q(t,n);t=a.ring,i=a.skipBisect}else if(!Array.isArray(t))throw new TypeError(Cn);if(e=t.slice(0),!K(e))throw new TypeError(Cn);return e.length>1&&j(e[0],e[e.length-1])&&e.pop(),r=tn(e),r>0&&e.reverse(),!i&&n&&X(n)&&n>0&&$(e,n),e}function K(t){return t.every(function(t){return Array.isArray(t)&&t.length>=2&&X(t[0])&&X(t[1])})}function tt(t,n,e){var r;return r=t.length-n.length,W(t,r<0?-1*r:0),W(n,r>0?r:0),Tn(t,n),I(t,n,e)}function nt(t,n,e){e=e||2;var r=n&&n.length,i=r?n[0]*e:t.length,a=et(t,0,i,e,!0),o=[];if(!a)return o;var s,h,u,c,f,l,p;if(r&&(a=ut(t,n,a,e)),t.length>80*e){s=u=t[0],h=c=t[1];for(var g=e;g<i;g+=e)f=t[g],l=t[g+1],f<s&&(s=f),l<h&&(h=l),f>u&&(u=f),l>c&&(c=l);p=Math.max(u-s,c-h)}return it(a,o,e,s,h,p),o}function et(t,n,e,r,i){var a,o;if(i===Et(t,n,e,r)>0)for(a=n;a<e;a+=r)o=kt(a,t[a],t[a+1],o);else for(a=e-r;a>=n;a-=r)o=kt(a,t[a],t[a+1],o);return o&&Mt(o,o.next)&&(Pt(o),o=o.next),o}function rt(t,n){if(!t)return t;n||(n=t);var e,r=t;do{if(e=!1,r.steiner||!Mt(r,r.next)&&0!==mt(r.prev,r,r.next))r=r.next;else{if(Pt(r),(r=n=r.prev)===r.next)return null;e=!0}}while(e||r!==n);return n}function it(t,n,e,r,i,a,o){if(t){!o&&a&&pt(t,r,i,a);for(var s,h,u=t;t.prev!==t.next;)if(s=t.prev,h=t.next,a?ot(t,r,i,a):at(t))n.push(s.i/e),n.push(t.i/e),n.push(h.i/e),Pt(t),t=h.next,u=h.next;else if((t=h)===u){o?1===o?(t=st(t,n,e),it(t,n,e,r,i,a,2)):2===o&&ht(t,n,e,r,i,a):it(rt(t),n,e,r,i,a,1);break}}}function at(t){var n=t.prev,e=t,r=t.next;if(mt(n,e,r)>=0)return!1;for(var i=t.next.next;i!==t.prev;){if(yt(n.x,n.y,e.x,e.y,r.x,r.y,i.x,i.y)&&mt(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}function ot(t,n,e,r){var i=t.prev,a=t,o=t.next;if(mt(i,a,o)>=0)return!1;for(var s=i.x<a.x?i.x<o.x?i.x:o.x:a.x<o.x?a.x:o.x,h=i.y<a.y?i.y<o.y?i.y:o.y:a.y<o.y?a.y:o.y,u=i.x>a.x?i.x>o.x?i.x:o.x:a.x>o.x?a.x:o.x,c=i.y>a.y?i.y>o.y?i.y:o.y:a.y>o.y?a.y:o.y,f=vt(s,h,n,e,r),l=vt(u,c,n,e,r),p=t.nextZ;p&&p.z<=l;){if(p!==t.prev&&p!==t.next&&yt(i.x,i.y,a.x,a.y,o.x,o.y,p.x,p.y)&&mt(p.prev,p,p.next)>=0)return!1;p=p.nextZ}for(p=t.prevZ;p&&p.z>=f;){if(p!==t.prev&&p!==t.next&&yt(i.x,i.y,a.x,a.y,o.x,o.y,p.x,p.y)&&mt(p.prev,p,p.next)>=0)return!1;p=p.prevZ}return!0}function st(t,n,e){var r=t;do{var i=r.prev,a=r.next.next;!Mt(i,a)&&wt(i,r,r.next,a)&&Lt(i,a)&&Lt(a,i)&&(n.push(i.i/e),n.push(r.i/e),n.push(a.i/e),Pt(r),Pt(r.next),r=t=a),r=r.next}while(r!==t);return r}function ht(t,n,e,r,i,a){var o=t;do{for(var s=o.next.next;s!==o.prev;){if(o.i!==s.i&&dt(o,s)){var h=qt(o,s);return o=rt(o,o.next),h=rt(h,h.next),it(o,n,e,r,i,a),void it(h,n,e,r,i,a)}s=s.next}o=o.next}while(o!==t)}function ut(t,n,e,r){var i,a,o,s,h,u=[];for(i=0,a=n.length;i<a;i++)o=n[i]*r,s=i<a-1?n[i+1]*r:t.length,h=et(t,o,s,r,!1),h===h.next&&(h.steiner=!0),u.push(xt(h));for(u.sort(ct),i=0;i<u.length;i++)ft(u[i],e),e=rt(e,e.next);return e}function ct(t,n){return t.x-n.x}function ft(t,n){if(n=lt(t,n)){var e=qt(n,t);rt(e,e.next)}}function lt(t,n){var e,r=n,i=t.x,a=t.y,o=-1/0;do{if(a<=r.y&&a>=r.next.y){var s=r.x+(a-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(s<=i&&s>o){if(o=s,s===i){if(a===r.y)return r;if(a===r.next.y)return r.next}e=r.x<r.next.x?r:r.next}}r=r.next}while(r!==n);if(!e)return null;if(i===o)return e.prev;var h,u=e,c=e.x,f=e.y,l=1/0;for(r=e.next;r!==u;)i>=r.x&&r.x>=c&&yt(a<f?i:o,a,c,f,a<f?o:i,a,r.x,r.y)&&((h=Math.abs(a-r.y)/(i-r.x))<l||h===l&&r.x>e.x)&&Lt(r,t)&&(e=r,l=h),r=r.next;return e}function pt(t,n,e,r){var i=t;do{null===i.z&&(i.z=vt(i.x,i.y,n,e,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,gt(i)}function gt(t){var n,e,r,i,a,o,s,h,u=1;do{for(e=t,t=null,a=null,o=0;e;){for(o++,r=e,s=0,n=0;n<u&&(s++,r=r.nextZ);n++);for(h=u;s>0||h>0&&r;)0===s?(i=r,r=r.nextZ,h--):0!==h&&r?e.z<=r.z?(i=e,e=e.nextZ,s--):(i=r,r=r.nextZ,h--):(i=e,e=e.nextZ,s--),a?a.nextZ=i:t=i,i.prevZ=a,a=i;e=r}a.nextZ=null,u*=2}while(o>1);return t}function vt(t,n,e,r,i){return t=32767*(t-e)/i,n=32767*(n-r)/i,t=16711935&(t|t<<8),t=252645135&(t|t<<4),t=858993459&(t|t<<2),t=1431655765&(t|t<<1),n=16711935&(n|n<<8),n=252645135&(n|n<<4),n=858993459&(n|n<<2),n=1431655765&(n|n<<1),t|n<<1}function xt(t){var n=t,e=t;do{n.x<e.x&&(e=n),n=n.next}while(n!==t);return e}function yt(t,n,e,r,i,a,o,s){return(i-o)*(n-s)-(t-o)*(a-s)>=0&&(t-o)*(r-s)-(e-o)*(n-s)>=0&&(e-o)*(a-s)-(i-o)*(r-s)>=0}function dt(t,n){return t.next.i!==n.i&&t.prev.i!==n.i&&!bt(t,n)&&Lt(t,n)&&Lt(n,t)&&At(t,n)}function mt(t,n,e){return(n.y-t.y)*(e.x-n.x)-(n.x-t.x)*(e.y-n.y)}function Mt(t,n){return t.x===n.x&&t.y===n.y}function wt(t,n,e,r){return!!(Mt(t,n)&&Mt(e,r)||Mt(t,r)&&Mt(e,n))||mt(t,n,e)>0!=mt(t,n,r)>0&&mt(e,r,t)>0!=mt(e,r,n)>0}function bt(t,n){var e=t;do{if(e.i!==t.i&&e.next.i!==t.i&&e.i!==n.i&&e.next.i!==n.i&&wt(e,e.next,t,n))return!0;e=e.next}while(e!==t);return!1}function Lt(t,n){return mt(t.prev,t,t.next)<0?mt(t,n,t.next)>=0&&mt(t,t.prev,n)>=0:mt(t,n,t.prev)<0||mt(t,t.next,n)<0}function At(t,n){var e=t,r=!1,i=(t.x+n.x)/2,a=(t.y+n.y)/2;do{e.y>a!=e.next.y>a&&i<(e.next.x-e.x)*(a-e.y)/(e.next.y-e.y)+e.x&&(r=!r),e=e.next}while(e!==t);return r}function qt(t,n){var e=new _t(t.i,t.x,t.y),r=new _t(n.i,n.x,n.y),i=t.next,a=n.prev;return t.next=n,n.prev=t,e.next=i,i.prev=e,r.next=e,e.prev=r,a.next=r,r.prev=a,r}function kt(t,n,e,r){var i=new _t(t,n,e);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function Pt(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function _t(t,n,e){this.i=t,this.x=n,this.y=e,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function Et(t,n,e,r){for(var i=0,a=n,o=e-r;a<e;a+=r)i+=(t[o]-t[a])*(t[a+1]+t[o+1]),o=a;return i}function St(t,n){var e=n.id,r=n.bbox,i=null==n.properties?{}:n.properties,a=Ct(t,n);return null==e&&null==r?{type:\"Feature\",properties:i,geometry:a}:null==r?{type:\"Feature\",id:e,properties:i,geometry:a}:{type:\"Feature\",id:e,bbox:r,properties:i,geometry:a}}function Ct(t,n){function e(t,n){n.length&&n.pop();for(var e=u[t<0?~t:t],r=0,i=e.length;r<i;++r)n.push(h(e[r],r));t<0&&Vn(n,i)}function r(t){return h(t)}function i(t){for(var n=[],r=0,i=t.length;r<i;++r)e(t[r],n);return n.length<2&&n.push(n[0]),n}function a(t){for(var n=i(t);n.length<4;)n.push(n[0]);return n}function o(t){return t.map(a)}function s(t){var n,e=t.type;switch(e){case\"GeometryCollection\":return{type:e,geometries:t.geometries.map(s)};case\"Point\":n=r(t.coordinates);break;case\"MultiPoint\":n=t.coordinates.map(r);break;case\"LineString\":n=i(t.arcs);break;case\"MultiLineString\":n=t.arcs.map(i);break;case\"Polygon\":n=o(t.arcs);break;case\"MultiPolygon\":n=t.arcs.map(o);break;default:return null}return{type:e,coordinates:n}}var h=In(t.transform),u=t.arcs;return s(n)}function Zt(t){for(var n,e=-1,r=t.length,i=t[r-1],a=0;++e<r;)n=i,i=t[e],a+=n[0]*i[1]-n[1]*i[0];return Math.abs(a)}function Tt(t,n){function e(t){switch(t.type){case\"GeometryCollection\":t.geometries.forEach(e);break;case\"Polygon\":r(t.arcs);break;case\"MultiPolygon\":t.arcs.forEach(r)}}function r(t){t.forEach(function(n){n.forEach(function(n){(a[n=n<0?~n:n]||(a[n]=[])).push(t)})}),o.push(t)}function i(n){return Zt(Ct(t,{type:\"Polygon\",arcs:[n]}).coordinates[0])}var a={},o=[],s=[];return n.forEach(e),o.forEach(function(t){if(!t._){var n=[],e=[t];for(t._=1,s.push(n);t=e.pop();)n.push(t),t.forEach(function(t){t.forEach(function(t){a[t<0?~t:t].forEach(function(t){t._||(t._=1,e.push(t))})})})}}),o.forEach(function(t){delete t._}),{type:\"MultiPolygon\",arcs:s.map(function(n){var e,r=[];if(n.forEach(function(t){t.forEach(function(t){t.forEach(function(t){a[t<0?~t:t].length<2&&r.push(t)})})}),r=Yn(t,r),(e=r.length)>1)for(var o,s,h=1,u=i(r[0]);h<e;++h)(o=i(r[h]))>u&&(s=r[0],r[0]=r[h],r[h]=s,u=o);return r})}}function Ft(t){return function(n,e){return Dn(t(n),e)}}function zt(t,n){var e={},r={type:\"Topology\",objects:{triangles:{type:\"GeometryCollection\",geometries:[]}},arcs:[]};return t.forEach(function(t){var i=[];t.forEach(function(t,a){var o=t[0]<t[1]?t.join(\",\"):t[1]+\",\"+t[0],s=t.map(function(t){return n[t]});o in e?i.push(~e[o]):(i.push(e[o]=r.arcs.length),r.arcs.push(s))}),r.objects.triangles.geometries.push({type:\"Polygon\",area:Math.abs(tn(t.map(function(t){return n[t[0]]}))),arcs:[i]})}),r.objects.triangles.geometries.sort(function(t,n){return t.area-n.area}),r}function jt(t,n){for(var e=t.objects.triangles.geometries,r=Hn(function(t){return t.area}).left;e.length>n;)!function(){var n=e[0],i=On(e)[0][0],a=e[i],o=Tt(t,[n,a]);o.area=n.area+a.area,o.type=\"Polygon\",o.arcs=o.arcs[0],e.splice(i,1),e.shift(),e.splice(r(e,o.area),0,o)}();if(n>e.length)throw new RangeError(\"Can't collapse topology into \"+n+\" pieces.\");return Xn(t,t.objects.triangles).features.map(function(t){return t.geometry.coordinates[0].pop(),t.geometry.coordinates[0]})}function It(t){for(var n=zn(t.reduce(function(t,n){return t.concat([n[0]],[n[1]])},[])),e=[],r=0,i=n.length;r<i;r+=3)e.push([[n[r],n[r+1]],[n[r+1],n[r+2]],[n[r+2],n[r]]]);return e}function Vt(t,n,e){function r(t,n,o){void 0===n&&(n=[]),void 0===o&&(o=0);for(var s=0;s<t.length;s++){var h=t.splice(s,1),u=e[h[0]][n.length];o+u<i&&(t.length?r(t.slice(),n.concat(h),o+u):(i=o+u,a=n.concat(h))),t.length&&t.splice(s,0,h[0])}}var i=1/0,a=t.map(function(t,n){return n});return r(a),a}function Xt(t,n){var e=F(Y(t),Y(n));return e*e}function Yt(t,n,e){void 0===e&&(e={});var r=e.maxSegmentLength;void 0===r&&(r=10);var i=e.string;void 0===i&&(i=!0);var a=e.single;void 0===a&&(a=!1);var o=J(t,r);o.length<n.length+2&&W(o,n.length+2-o.length);var s,h=Qn(o,n.length),u=n.map(function(t){return J(t,r)}),c=\"string\"==typeof t&&t;return a&&!n.every(function(t){return\"string\"==typeof t})||(s=n.slice(0)),Dt(h,u,{match:!0,string:i,single:a,t0:c,t1:s})}function Gt(t,n,e){void 0===e&&(e={});var r=e.maxSegmentLength;void 0===r&&(r=10);var i=e.string;void 0===i&&(i=!0);var a=e.single;void 0===a&&(a=!1);var o=Yt(n,t,{maxSegmentLength:r,string:i,single:a});return a?function(t){return o(1-t)}:o.map(function(t){return function(n){return t(1-n)}})}function Ot(t,n,e){void 0===e&&(e={});var r=e.maxSegmentLength;void 0===r&&(r=10);var i=e.string;void 0===i&&(i=!0);var a=e.single;if(void 0===a&&(a=!1),!Array.isArray(t)||!Array.isArray(n)||t.length!==n.length||!t.length)throw new TypeError(Zn);var o,s,h=function(t){return J(t,r)},u=t.map(h),c=n.map(h);return a?(t.every(function(t){return\"string\"==typeof t})&&(o=t.slice(0)),n.every(function(t){return\"string\"==typeof t})&&(s=n.slice(0))):(o=t.slice(0),s=n.slice(0)),Dt(u,c,{string:i,single:a,t0:o,t1:s,match:!1})}function Dt(t,n,e){void 0===e&&(e={});var r=e.string,i=e.single,a=e.t0,o=e.t1,s=e.match,h=s?Un(t,n):t.map(function(t,n){return n}),u=h.map(function(e,i){return tt(t[e],n[i],r)});if(s&&Array.isArray(a)&&(a=h.map(function(t){return a[t]})),i&&r&&(Array.isArray(a)&&(a=a.join(\" \")),Array.isArray(o)&&(o=o.join(\" \"))),i){var c=r?function(t){return u.map(function(n){return n(t)}).join(\" \")}:function(t){return u.map(function(n){return n(t)})};return r&&(a||o)?function(t){return t<1e-4&&a||1-t<1e-4&&o||c(t)}:c}return r?(a=Array.isArray(a)?a.map(function(t){return\"string\"==typeof t&&t}):[],o=Array.isArray(o)?o.map(function(t){return\"string\"==typeof t&&t}):[],u.map(function(t,n){return a[n]||o[n]?function(e){return e<1e-4&&a[n]||1-e<1e-4&&o[n]||t(e)}:t})):u}function Ht(t,n,e,r,i){return Rt(Bt(t,n,e),r,Jt(t,n,e),2*Math.PI*e,i)}function Nt(t,n,e,r,i){var a=Ht(n,e,r,t,i);return function(t){return a(1-t)}}function Qt(t,n,e,r,i,a){return Rt(Wt(t,n,e,r),i,Kt(t,n,e,r),2*e+2*r,a)}function Ut(t,n,e,r,i,a){var o=Qt(n,e,r,i,t,a);return function(t){return o(1-t)}}function Rt(t,n,e,r,i){void 0===i&&(i={});var a=i.maxSegmentLength;void 0===a&&(a=10);var o=i.string;void 0===o&&(o=!0);var s,h,u=J(n,a);return X(r)&&u.length<r/a&&W(u,Math.ceil(r/a-u.length)),s=t(u),h=I(s,u,o),o?function(t){return t<1e-4?e:h(t)}:h}function Bt(t,n,e){return function(r){var i=Y(r),a=en(r.concat([r[0]])),o=Math.atan2(r[0][1]-i[1],r[0][0]-i[0]),s=0;return r.map(function(i,h){var u;return h&&(s+=F(i,r[h-1])),u=o+2*Math.PI*(a?s/a:h/r.length),[Math.cos(u)*e+t,Math.sin(u)*e+n]})}}function Wt(t,n,e,r){return function(i){var a=Y(i),o=en(i.concat([i[0]])),s=Math.atan2(i[0][1]-a[1],i[0][0]-a[0]),h=0;s<0&&(s=2*Math.PI+s);var u=s/(2*Math.PI);return i.map(function(a,s){s&&(h+=F(a,i[s-1]));var c=$t((u+(o?h/o:s/i.length))%1);return[t+c[0]*e,n+c[1]*r]})}}function $t(t){return t<=1/8?[1,.5+4*t]:t<=3/8?[1.5-4*t,1]:t<=5/8?[0,2.5-4*t]:t<=7/8?[4*t-2.5,0]:[1,4*t-3.5]}function Jt(t,n,e){var r=t-e+\",\"+n,i=t+e+\",\"+n,a=\"A\"+e+\",\"+e+\",0,1,1,\";return\"M\"+r+a+i+a+r+\"Z\"}function Kt(t,n,e,r){var i=t+e,a=n+r;return\"M\"+t+\",\"+n+\"L\"+i+\",\"+n+\"L\"+i+\",\"+a+\"L\"+t+\",\"+a+\"Z\"}var tn=function(t){for(var n,e=-1,r=t.length,i=t[r-1],a=0;++e<r;)n=i,i=t[e],a+=n[1]*i[0]-n[0]*i[1];return a/2},nn=function(t){for(var n,e,r=-1,i=t.length,a=0,o=0,s=t[i-1],h=0;++r<i;)n=s,s=t[r],h+=e=n[0]*s[1]-s[0]*n[1],a+=(n[0]+s[0])*e,o+=(n[1]+s[1])*e;return h*=3,[a/h,o/h]},en=function(t){for(var n,e,r=-1,i=t.length,a=t[i-1],o=a[0],s=a[1],h=0;++r<i;)n=o,e=s,a=t[r],o=a[0],s=a[1],n-=o,e-=s,h+=Math.sqrt(n*n+e*e);return h},rn={a:7,c:6,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,z:0},an=[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279],on=function(t){var n=new a(t),e=n.max;for(o(n);n.index<e&&!n.err.length;)u(n);return n.err.length?n.result=[]:n.result.length&&(\"mM\".indexOf(n.result[0][0])<0?(n.err=\"SvgPath: string should start with `M` or `m`\",n.result=[]):n.result[0][0]=\"M\"),{err:n.err,segments:n.result}};f.prototype.matrix=function(t){return 1===t[0]&&0===t[1]&&0===t[2]&&1===t[3]&&0===t[4]&&0===t[5]?this:(this.cache=null,this.queue.push(t),this)},f.prototype.translate=function(t,n){return 0===t&&0===n||(this.cache=null,this.queue.push([1,0,0,1,t,n])),this},f.prototype.scale=function(t,n){return 1===t&&1===n||(this.cache=null,this.queue.push([t,0,0,n,0,0])),this},f.prototype.rotate=function(t,n,e){var r,i,a;return 0!==t&&(this.translate(n,e),r=t*Math.PI/180,i=Math.cos(r),a=Math.sin(r),this.queue.push([i,a,-a,i,0,0]),this.cache=null,this.translate(-n,-e)),this},f.prototype.skewX=function(t){return 0!==t&&(this.cache=null,this.queue.push([1,0,Math.tan(t*Math.PI/180),1,0,0])),this},f.prototype.skewY=function(t){return 0!==t&&(this.cache=null,this.queue.push([1,Math.tan(t*Math.PI/180),0,1,0,0])),this},f.prototype.toArray=function(){var t=this;if(this.cache)return this.cache;if(!this.queue.length)return this.cache=[1,0,0,1,0,0],this.cache;if(this.cache=this.queue[0],1===this.queue.length)return this.cache;for(var n=1;n<this.queue.length;n++)t.cache=c(t.cache,t.queue[n]);return this.cache},f.prototype.calc=function(t,n,e){var r;return this.queue.length?(this.cache||(this.cache=this.toArray()),r=this.cache,[t*r[0]+n*r[2]+(e?0:r[4]),t*r[1]+n*r[3]+(e?0:r[5])]):[t,n]};var sn=f,hn={matrix:!0,scale:!0,rotate:!0,translate:!0,skewX:!0,skewY:!0},un=/\\s*(matrix|translate|scale|rotate|skewX|skewY)\\s*\\(\\s*(.+?)\\s*\\)[\\s,]*/,cn=/[\\s,]+/,fn=function(t){var n,e,r=new sn;return t.split(un).forEach(function(t){if(t.length){if(void 0!==hn[t])return void(n=t);switch(e=t.split(cn).map(function(t){return+t||0}),n){case\"matrix\":return void(6===e.length&&r.matrix(e));case\"scale\":return void(1===e.length?r.scale(e[0],e[0]):2===e.length&&r.scale(e[0],e[1]));case\"rotate\":return void(1===e.length?r.rotate(e[0],0,0):3===e.length&&r.rotate(e[0],e[1],e[2]));case\"translate\":return void(1===e.length?r.translate(e[0],0):2===e.length&&r.translate(e[0],e[1]));case\"skewX\":return void(1===e.length&&r.skewX(e[0]));case\"skewY\":return void(1===e.length&&r.skewY(e[0]))}}}),r},ln=2*Math.PI,pn=function(t,n,e,r,i,a,o,s,h){var u=Math.sin(h*ln/360),c=Math.cos(h*ln/360),f=c*(t-e)/2+u*(n-r)/2,l=-u*(t-e)/2+c*(n-r)/2;if(0===f&&0===l)return[];if(0===o||0===s)return[];o=Math.abs(o),s=Math.abs(s);var v=f*f/(o*o)+l*l/(s*s);v>1&&(o*=Math.sqrt(v),s*=Math.sqrt(v));var x=p(t,n,e,r,i,a,o,s,u,c),y=[],d=x[2],m=x[3],M=Math.max(Math.ceil(Math.abs(m)/(ln/4)),1);m/=M;for(var w=0;w<M;w++)y.push(g(d,m)),d+=m;return y.map(function(t){for(var n=0;n<t.length;n+=2){var e=t[n+0],r=t[n+1];e*=o,r*=s;var i=c*e-u*r,a=u*e+c*r;t[n+0]=i+x[0],t[n+1]=a+x[1]}return t})},gn=Math.PI/180;v.prototype.transform=function(t){var n=Math.cos(this.ax*gn),e=Math.sin(this.ax*gn),r=[this.rx*(t[0]*n+t[2]*e),this.rx*(t[1]*n+t[3]*e),this.ry*(-t[0]*e+t[2]*n),this.ry*(-t[1]*e+t[3]*n)],i=r[0]*r[0]+r[2]*r[2],a=r[1]*r[1]+r[3]*r[3],o=((r[0]-r[3])*(r[0]-r[3])+(r[2]+r[1])*(r[2]+r[1]))*((r[0]+r[3])*(r[0]+r[3])+(r[2]-r[1])*(r[2]-r[1])),s=(i+a)/2;if(o<1e-10*s)return this.rx=this.ry=Math.sqrt(s),this.ax=0,this;var h=r[0]*r[1]+r[2]*r[3];o=Math.sqrt(o);var u=s+o/2,c=s-o/2;return this.ax=Math.abs(h)<1e-10&&Math.abs(u-a)<1e-10?90:180*Math.atan(Math.abs(h)>Math.abs(u-a)?(u-i)/h:h/(u-a))/Math.PI,this.ax>=0?(this.rx=Math.sqrt(u),this.ry=Math.sqrt(c)):(this.ax+=90,this.rx=Math.sqrt(c),this.ry=Math.sqrt(u)),this},v.prototype.isDegenerate=function(){return this.rx<1e-10*this.ry||this.ry<1e-10*this.rx};var vn=v;x.prototype.__matrix=function(t){var n,e=this;t.queue.length&&this.iterate(function(r,i,a,o){var s,h,u,c;switch(r[0]){case\"v\":s=t.calc(0,r[1],!0),h=0===s[0]?[\"v\",s[1]]:[\"l\",s[0],s[1]];break;case\"V\":s=t.calc(a,r[1],!1),h=s[0]===t.calc(a,o,!1)[0]?[\"V\",s[1]]:[\"L\",s[0],s[1]];break;case\"h\":s=t.calc(r[1],0,!0),h=0===s[1]?[\"h\",s[0]]:[\"l\",s[0],s[1]];break;case\"H\":s=t.calc(r[1],o,!1),h=s[1]===t.calc(a,o,!1)[1]?[\"H\",s[0]]:[\"L\",s[0],s[1]];break;case\"a\":case\"A\":var f=t.toArray(),l=vn(r[1],r[2],r[3]).transform(f);if(f[0]*f[3]-f[1]*f[2]<0&&(r[5]=r[5]?\"0\":\"1\"),s=t.calc(r[6],r[7],\"a\"===r[0]),\"A\"===r[0]&&r[6]===a&&r[7]===o||\"a\"===r[0]&&0===r[6]&&0===r[7]){h=[\"a\"===r[0]?\"l\":\"L\",s[0],s[1]];break}h=l.isDegenerate()?[\"a\"===r[0]?\"l\":\"L\",s[0],s[1]]:[r[0],l.rx,l.ry,l.ax,r[4],r[5],s[0],s[1]];break;case\"m\":c=i>0,s=t.calc(r[1],r[2],c),h=[\"m\",s[0],s[1]];break;default:for(u=r[0],h=[u],c=u.toLowerCase()===u,n=1;n<r.length;n+=2)s=t.calc(r[n],r[n+1],c),h.push(s[0],s[1])}e.segments[i]=h},!0)},x.prototype.__evaluateStack=function(){var t,n,e=this;if(this.__stack.length){if(1===this.__stack.length)return this.__matrix(this.__stack[0]),void(this.__stack=[]);for(t=sn(),n=this.__stack.length;--n>=0;)t.matrix(e.__stack[n].toArray());this.__matrix(t),this.__stack=[]}},x.prototype.toString=function(){var t,n,e=this,r=[];this.__evaluateStack();for(var i=0;i<this.segments.length;i++)n=e.segments[i][0],t=i>0&&\"m\"!==n&&\"M\"!==n&&n===e.segments[i-1][0],r=r.concat(t?e.segments[i].slice(1):e.segments[i]);return r.join(\" \").replace(/ ?([achlmqrstvz]) ?/gi,\"$1\").replace(/ \\-/g,\"-\").replace(/zm/g,\"z m\")},x.prototype.translate=function(t,n){return this.__stack.push(sn().translate(t,n||0)),this},x.prototype.scale=function(t,n){return this.__stack.push(sn().scale(t,n||0===n?n:t)),this},x.prototype.rotate=function(t,n,e){return this.__stack.push(sn().rotate(t,n||0,e||0)),this},x.prototype.skewX=function(t){return this.__stack.push(sn().skewX(t)),this},x.prototype.skewY=function(t){return this.__stack.push(sn().skewY(t)),this},x.prototype.matrix=function(t){return this.__stack.push(sn().matrix(t)),this},x.prototype.transform=function(t){return t.trim()?(this.__stack.push(fn(t)),this):this},x.prototype.round=function(t){var n,e=0,r=0,i=0,a=0;return t=t||0,this.__evaluateStack(),this.segments.forEach(function(o){var s=o[0].toLowerCase()===o[0];switch(o[0]){case\"H\":case\"h\":return s&&(o[1]+=i),i=o[1]-o[1].toFixed(t),void(o[1]=+o[1].toFixed(t));case\"V\":case\"v\":return s&&(o[1]+=a),a=o[1]-o[1].toFixed(t),void(o[1]=+o[1].toFixed(t));case\"Z\":case\"z\":return i=e,void(a=r);case\"M\":case\"m\":return s&&(o[1]+=i,o[2]+=a),i=o[1]-o[1].toFixed(t),a=o[2]-o[2].toFixed(t),e=i,r=a,o[1]=+o[1].toFixed(t),void(o[2]=+o[2].toFixed(t));case\"A\":case\"a\":return s&&(o[6]+=i,o[7]+=a),i=o[6]-o[6].toFixed(t),a=o[7]-o[7].toFixed(t),o[1]=+o[1].toFixed(t),o[2]=+o[2].toFixed(t),o[3]=+o[3].toFixed(t+2),o[6]=+o[6].toFixed(t),void(o[7]=+o[7].toFixed(t));default:return n=o.length,s&&(o[n-2]+=i,o[n-1]+=a),i=o[n-2]-o[n-2].toFixed(t),a=o[n-1]-o[n-1].toFixed(t),void o.forEach(function(n,e){e&&(o[e]=+o[e].toFixed(t))})}}),this},x.prototype.iterate=function(t,n){var e,r,i,a=this.segments,o={},s=!1,h=0,u=0,c=0,f=0;if(n||this.__evaluateStack(),a.forEach(function(n,e){var r=t(n,e,h,u);Array.isArray(r)&&(o[e]=r,s=!0);var i=n[0]===n[0].toLowerCase();switch(n[0]){case\"m\":case\"M\":return h=n[1]+(i?h:0),u=n[2]+(i?u:0),c=h,void(f=u);case\"h\":case\"H\":return void(h=n[1]+(i?h:0));case\"v\":case\"V\":return void(u=n[1]+(i?u:0));case\"z\":case\"Z\":return h=c,void(u=f);default:h=n[n.length-2]+(i?h:0),u=n[n.length-1]+(i?u:0)}}),!s)return this;for(i=[],e=0;e<a.length;e++)if(void 0!==o[e])for(r=0;r<o[e].length;r++)i.push(o[e][r]);else i.push(a[e]);return this.segments=i,this},x.prototype.abs=function(){return this.iterate(function(t,n,e,r){var i,a=t[0],o=a.toUpperCase();if(a!==o)switch(t[0]=o,a){case\"v\":return void(t[1]+=r);case\"a\":return t[6]+=e,void(t[7]+=r);default:for(i=1;i<t.length;i++)t[i]+=i%2?e:r}},!0),this},x.prototype.rel=function(){return this.iterate(function(t,n,e,r){var i,a=t[0],o=a.toLowerCase();if(a!==o&&(0!==n||\"M\"!==a))switch(t[0]=o,a){case\"V\":return void(t[1]-=r);case\"A\":return t[6]-=e,void(t[7]-=r);default:for(i=1;i<t.length;i++)t[i]-=i%2?e:r}},!0),this},x.prototype.unarc=function(){return this.iterate(function(t,n,e,r){var i,a,o,s=[],h=t[0];return\"A\"!==h&&\"a\"!==h?null:(\"a\"===h?(a=e+t[6],o=r+t[7]):(a=t[6],o=t[7]),i=pn(e,r,a,o,t[4],t[5],t[1],t[2],t[3]),0===i.length?[[\"a\"===t[0]?\"l\":\"L\",t[6],t[7]]]:(i.forEach(function(t){s.push([\"C\",t[2],t[3],t[4],t[5],t[6],t[7]])}),s))}),this},x.prototype.unshort=function(){var t,n,e,r,i,a=this.segments;return this.iterate(function(o,s,h,u){var c,f=o[0],l=f.toUpperCase();s&&(\"T\"===l?(c=\"t\"===f,e=a[s-1],\"Q\"===e[0]?(t=e[1]-h,n=e[2]-u):\"q\"===e[0]?(t=e[1]-e[3],n=e[2]-e[4]):(t=0,n=0),r=-t,i=-n,c||(r+=h,i+=u),a[s]=[c?\"q\":\"Q\",r,i,o[1],o[2]]):\"S\"===l&&(c=\"s\"===f,e=a[s-1],\"C\"===e[0]?(t=e[3]-h,n=e[4]-u):\"c\"===e[0]?(t=e[3]-e[5],n=e[4]-e[6]):(t=0,n=0),r=-t,i=-n,c||(r+=h,i+=u),a[s]=[c?\"c\":\"C\",r,i,o[1],o[2],o[3],o[4]]))}),this};var xn=x,yn=xn,dn={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},mn=/([astvzqmhlc])([^astvzqmhlc]*)/gi,Mn=function(t){var n=[];return t.replace(mn,function(t,e,r){var i=e.toLowerCase();for(r=y(r),\"m\"===i&&r.length>2&&(n.push([e].concat(r.splice(0,2))),i=\"l\",e=\"m\"===e?\"l\":\"L\");r.length>=0;){if(r.length===dn[i])return r.unshift(e),n.push(r);if(r.length<dn[i])throw new Error(\"malformed path data\");n.push([e].concat(r.splice(0,dn[i])))}}),n},wn=/-?[0-9]*\\.?[0-9]+(?:e[-+]?\\d+)?/gi,bn=function(t,n,e,r,i,a,o,s){return new d(t,n,e,r,i,a,o,s)};d.prototype={constructor:d,init:function(){this.length=this.getArcLength([this.a.x,this.b.x,this.c.x,this.d.x],[this.a.y,this.b.y,this.c.y,this.d.y])},getTotalLength:function(){return this.length},getPointAtLength:function(t){var n=w(t,this.length,this.getArcLength,[this.a.x,this.b.x,this.c.x,this.d.x],[this.a.y,this.b.y,this.c.y,this.d.y]);return this.getPoint([this.a.x,this.b.x,this.c.x,this.d.x],[this.a.y,this.b.y,this.c.y,this.d.y],n)},getTangentAtLength:function(t){var n=w(t,this.length,this.getArcLength,[this.a.x,this.b.x,this.c.x,this.d.x],[this.a.y,this.b.y,this.c.y,this.d.y]),e=this.getDerivative([this.a.x,this.b.x,this.c.x,this.d.x],[this.a.y,this.b.y,this.c.y,this.d.y],n),r=Math.sqrt(e.x*e.x+e.y*e.y);return r>0?{x:e.x/r,y:e.y/r}:{x:0,y:0}},getPropertiesAtLength:function(t){var n,e=w(t,this.length,this.getArcLength,[this.a.x,this.b.x,this.c.x,this.d.x],[this.a.y,this.b.y,this.c.y,this.d.y]),r=this.getDerivative([this.a.x,this.b.x,this.c.x,this.d.x],[this.a.y,this.b.y,this.c.y,this.d.y],e),i=Math.sqrt(r.x*r.x+r.y*r.y);n=i>0?{x:r.x/i,y:r.y/i}:{\nx:0,y:0};var a=this.getPoint([this.a.x,this.b.x,this.c.x,this.d.x],[this.a.y,this.b.y,this.c.y,this.d.y],e);return{x:a.x,y:a.y,tangentX:n.x,tangentY:n.y}}};var Ln=[[],[],[-.5773502691896257,.5773502691896257],[0,-.7745966692414834,.7745966692414834],[-.33998104358485626,.33998104358485626,-.8611363115940526,.8611363115940526],[0,-.5384693101056831,.5384693101056831,-.906179845938664,.906179845938664],[.6612093864662645,-.6612093864662645,-.2386191860831969,.2386191860831969,-.932469514203152,.932469514203152],[0,.4058451513773972,-.4058451513773972,-.7415311855993945,.7415311855993945,-.9491079123427585,.9491079123427585],[-.1834346424956498,.1834346424956498,-.525532409916329,.525532409916329,-.7966664774136267,.7966664774136267,-.9602898564975363,.9602898564975363],[0,-.8360311073266358,.8360311073266358,-.9681602395076261,.9681602395076261,-.3242534234038089,.3242534234038089,-.6133714327005904,.6133714327005904],[-.14887433898163122,.14887433898163122,-.4333953941292472,.4333953941292472,-.6794095682990244,.6794095682990244,-.8650633666889845,.8650633666889845,-.9739065285171717,.9739065285171717],[0,-.26954315595234496,.26954315595234496,-.5190961292068118,.5190961292068118,-.7301520055740494,.7301520055740494,-.8870625997680953,.8870625997680953,-.978228658146057,.978228658146057],[-.1252334085114689,.1252334085114689,-.3678314989981802,.3678314989981802,-.5873179542866175,.5873179542866175,-.7699026741943047,.7699026741943047,-.9041172563704749,.9041172563704749,-.9815606342467192,.9815606342467192],[0,-.2304583159551348,.2304583159551348,-.44849275103644687,.44849275103644687,-.6423493394403402,.6423493394403402,-.8015780907333099,.8015780907333099,-.9175983992229779,.9175983992229779,-.9841830547185881,.9841830547185881],[-.10805494870734367,.10805494870734367,-.31911236892788974,.31911236892788974,-.5152486363581541,.5152486363581541,-.6872929048116855,.6872929048116855,-.827201315069765,.827201315069765,-.9284348836635735,.9284348836635735,-.9862838086968123,.9862838086968123],[0,-.20119409399743451,.20119409399743451,-.3941513470775634,.3941513470775634,-.5709721726085388,.5709721726085388,-.7244177313601701,.7244177313601701,-.8482065834104272,.8482065834104272,-.937273392400706,.937273392400706,-.9879925180204854,.9879925180204854],[-.09501250983763744,.09501250983763744,-.2816035507792589,.2816035507792589,-.45801677765722737,.45801677765722737,-.6178762444026438,.6178762444026438,-.755404408355003,.755404408355003,-.8656312023878318,.8656312023878318,-.9445750230732326,.9445750230732326,-.9894009349916499,.9894009349916499],[0,-.17848418149584785,.17848418149584785,-.3512317634538763,.3512317634538763,-.5126905370864769,.5126905370864769,-.6576711592166907,.6576711592166907,-.7815140038968014,.7815140038968014,-.8802391537269859,.8802391537269859,-.9506755217687678,.9506755217687678,-.9905754753144174,.9905754753144174],[-.0847750130417353,.0847750130417353,-.2518862256915055,.2518862256915055,-.41175116146284263,.41175116146284263,-.5597708310739475,.5597708310739475,-.6916870430603532,.6916870430603532,-.8037049589725231,.8037049589725231,-.8926024664975557,.8926024664975557,-.9558239495713977,.9558239495713977,-.9915651684209309,.9915651684209309],[0,-.16035864564022537,.16035864564022537,-.31656409996362983,.31656409996362983,-.46457074137596094,.46457074137596094,-.600545304661681,.600545304661681,-.7209661773352294,.7209661773352294,-.8227146565371428,.8227146565371428,-.9031559036148179,.9031559036148179,-.96020815213483,.96020815213483,-.9924068438435844,.9924068438435844],[-.07652652113349734,.07652652113349734,-.22778585114164507,.22778585114164507,-.37370608871541955,.37370608871541955,-.5108670019508271,.5108670019508271,-.636053680726515,.636053680726515,-.7463319064601508,.7463319064601508,-.8391169718222188,.8391169718222188,-.912234428251326,.912234428251326,-.9639719272779138,.9639719272779138,-.9931285991850949,.9931285991850949],[0,-.1455618541608951,.1455618541608951,-.2880213168024011,.2880213168024011,-.4243421202074388,.4243421202074388,-.5516188358872198,.5516188358872198,-.6671388041974123,.6671388041974123,-.7684399634756779,.7684399634756779,-.8533633645833173,.8533633645833173,-.9200993341504008,.9200993341504008,-.9672268385663063,.9672268385663063,-.9937521706203895,.9937521706203895],[-.06973927331972223,.06973927331972223,-.20786042668822127,.20786042668822127,-.34193582089208424,.34193582089208424,-.469355837986757,.469355837986757,-.5876404035069116,.5876404035069116,-.6944872631866827,.6944872631866827,-.7878168059792081,.7878168059792081,-.8658125777203002,.8658125777203002,-.926956772187174,.926956772187174,-.9700604978354287,.9700604978354287,-.9942945854823992,.9942945854823992],[0,-.1332568242984661,.1332568242984661,-.26413568097034495,.26413568097034495,-.3903010380302908,.3903010380302908,-.5095014778460075,.5095014778460075,-.6196098757636461,.6196098757636461,-.7186613631319502,.7186613631319502,-.8048884016188399,.8048884016188399,-.8767523582704416,.8767523582704416,-.9329710868260161,.9329710868260161,-.9725424712181152,.9725424712181152,-.9947693349975522,.9947693349975522],[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213]],An=[[],[],[1,1],[.8888888888888888,.5555555555555556,.5555555555555556],[.6521451548625461,.6521451548625461,.34785484513745385,.34785484513745385],[.5688888888888889,.47862867049936647,.47862867049936647,.23692688505618908,.23692688505618908],[.3607615730481386,.3607615730481386,.46791393457269104,.46791393457269104,.17132449237917036,.17132449237917036],[.4179591836734694,.3818300505051189,.3818300505051189,.27970539148927664,.27970539148927664,.1294849661688697,.1294849661688697],[.362683783378362,.362683783378362,.31370664587788727,.31370664587788727,.22238103445337448,.22238103445337448,.10122853629037626,.10122853629037626],[.3302393550012598,.1806481606948574,.1806481606948574,.08127438836157441,.08127438836157441,.31234707704000286,.31234707704000286,.26061069640293544,.26061069640293544],[.29552422471475287,.29552422471475287,.26926671930999635,.26926671930999635,.21908636251598204,.21908636251598204,.1494513491505806,.1494513491505806,.06667134430868814,.06667134430868814],[.2729250867779006,.26280454451024665,.26280454451024665,.23319376459199048,.23319376459199048,.18629021092773426,.18629021092773426,.1255803694649046,.1255803694649046,.05566856711617366,.05566856711617366],[.24914704581340277,.24914704581340277,.2334925365383548,.2334925365383548,.20316742672306592,.20316742672306592,.16007832854334622,.16007832854334622,.10693932599531843,.10693932599531843,.04717533638651183,.04717533638651183],[.2325515532308739,.22628318026289723,.22628318026289723,.2078160475368885,.2078160475368885,.17814598076194574,.17814598076194574,.13887351021978725,.13887351021978725,.09212149983772845,.09212149983772845,.04048400476531588,.04048400476531588],[.2152638534631578,.2152638534631578,.2051984637212956,.2051984637212956,.18553839747793782,.18553839747793782,.15720316715819355,.15720316715819355,.12151857068790319,.12151857068790319,.08015808715976021,.08015808715976021,.03511946033175186,.03511946033175186],[.2025782419255613,.19843148532711158,.19843148532711158,.1861610000155622,.1861610000155622,.16626920581699392,.16626920581699392,.13957067792615432,.13957067792615432,.10715922046717194,.10715922046717194,.07036604748810812,.07036604748810812,.03075324199611727,.03075324199611727],[.1894506104550685,.1894506104550685,.18260341504492358,.18260341504492358,.16915651939500254,.16915651939500254,.14959598881657674,.14959598881657674,.12462897125553388,.12462897125553388,.09515851168249279,.09515851168249279,.062253523938647894,.062253523938647894,.027152459411754096,.027152459411754096],[.17944647035620653,.17656270536699264,.17656270536699264,.16800410215645004,.16800410215645004,.15404576107681028,.15404576107681028,.13513636846852548,.13513636846852548,.11188384719340397,.11188384719340397,.08503614831717918,.08503614831717918,.0554595293739872,.0554595293739872,.02414830286854793,.02414830286854793],[.1691423829631436,.1691423829631436,.16427648374583273,.16427648374583273,.15468467512626524,.15468467512626524,.14064291467065065,.14064291467065065,.12255520671147846,.12255520671147846,.10094204410628717,.10094204410628717,.07642573025488905,.07642573025488905,.0497145488949698,.0497145488949698,.02161601352648331,.02161601352648331],[.1610544498487837,.15896884339395434,.15896884339395434,.15276604206585967,.15276604206585967,.1426067021736066,.1426067021736066,.12875396253933621,.12875396253933621,.11156664554733399,.11156664554733399,.09149002162245,.09149002162245,.06904454273764123,.06904454273764123,.0448142267656996,.0448142267656996,.019461788229726478,.019461788229726478],[.15275338713072584,.15275338713072584,.14917298647260374,.14917298647260374,.14209610931838204,.14209610931838204,.13168863844917664,.13168863844917664,.11819453196151841,.11819453196151841,.10193011981724044,.10193011981724044,.08327674157670475,.08327674157670475,.06267204833410907,.06267204833410907,.04060142980038694,.04060142980038694,.017614007139152118,.017614007139152118],[.14608113364969041,.14452440398997005,.14452440398997005,.13988739479107315,.13988739479107315,.13226893863333747,.13226893863333747,.12183141605372853,.12183141605372853,.10879729916714838,.10879729916714838,.09344442345603386,.09344442345603386,.0761001136283793,.0761001136283793,.057134425426857205,.057134425426857205,.036953789770852494,.036953789770852494,.016017228257774335,.016017228257774335],[.13925187285563198,.13925187285563198,.13654149834601517,.13654149834601517,.13117350478706238,.13117350478706238,.12325237681051242,.12325237681051242,.11293229608053922,.11293229608053922,.10041414444288096,.10041414444288096,.08594160621706773,.08594160621706773,.06979646842452049,.06979646842452049,.052293335152683286,.052293335152683286,.03377490158481415,.03377490158481415,.0146279952982722,.0146279952982722],[.13365457218610619,.1324620394046966,.1324620394046966,.12890572218808216,.12890572218808216,.12304908430672953,.12304908430672953,.11499664022241136,.11499664022241136,.10489209146454141,.10489209146454141,.09291576606003515,.09291576606003515,.07928141177671895,.07928141177671895,.06423242140852585,.06423242140852585,.04803767173108467,.04803767173108467,.030988005856979445,.030988005856979445,.013411859487141771,.013411859487141771],[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872]],qn=[[1],[1,1],[1,2,1],[1,3,3,1]],kn=2*Math.PI,Pn=function(t,n,e,r,i,a,o,s,h){var u=Math.sin(i*kn/360),c=Math.cos(i*kn/360),f=c*(t-s)/2+u*(n-h)/2,l=-u*(t-s)/2+c*(n-h)/2;if(0===f&&0===l)return[];if(0===e||0===r)return[];e=Math.abs(e),r=Math.abs(r);var p=f*f/(e*e)+l*l/(r*r);p>1&&(e*=Math.sqrt(p),r*=Math.sqrt(p));var g=S(t,n,s,h,a,o,e,r,u,c),v=[],x=g[2],y=g[3],d=Math.max(Math.ceil(Math.abs(y)/(kn/4)),1);y/=d;for(var m=0;m<d;m++)v.push(C(x,y)),x+=y;return v.map(function(t){for(var n=0;n<t.length;n+=2){var i=t[n+0],a=t[n+1];i*=e,a*=r;var o=c*i-u*a,s=u*i+c*a;t[n+0]=o+g[0],t[n+1]=s+g[1]}return t})},_n=function(t,n,e,r,i,a,o,s,h){return new Z(t,n,e,r,i,a,o,s,h)};Z.prototype={constructor:Z,init:function(){},getTotalLength:function(){return this.length},getPointAtLength:function(t){var n=this;t<0?t=0:t>this.length&&(t=this.length);for(var e=this.partialLengths.length-1;this.partialLengths[e]>=t&&this.partialLengths[e]>0;)e--;e<this.partialLengths.length-1&&e++;for(var r=0,i=0;i<e;i++)r+=n.partialLengths[i];return this.curves[e].getPointAtLength(t-r)},getTangentAtLength:function(t){var n=this;t<0?t=0:t>this.length&&(t=this.length);for(var e=this.partialLengths.length-1;this.partialLengths[e]>=t&&this.partialLengths[e]>0;)e--;e<this.partialLengths.length-1&&e++;for(var r=0,i=0;i<e;i++)r+=n.partialLengths[i];return this.curves[e].getTangentAtLength(t-r)},getPropertiesAtLength:function(t){var n=this.getTangentAtLength(t),e=this.getPointAtLength(t);return{x:e.x,y:e.y,tangentX:n.x,tangentY:n.y}}};var En=function(t,n,e,r){return new T(t,n,e,r)};T.prototype.getTotalLength=function(){return Math.sqrt(Math.pow(this.x0-this.x1,2)+Math.pow(this.y0-this.y1,2))},T.prototype.getPointAtLength=function(t){var n=t/Math.sqrt(Math.pow(this.x0-this.x1,2)+Math.pow(this.y0-this.y1,2)),e=(this.x1-this.x0)*n,r=(this.y1-this.y0)*n;return{x:this.x0+e,y:this.y0+r}},T.prototype.getTangentAtLength=function(){var t=Math.sqrt((this.x1-this.x0)*(this.x1-this.x0)+(this.y1-this.y0)*(this.y1-this.y0));return{x:(this.x1-this.x0)/t,y:(this.y1-this.y0)/t}},T.prototype.getPropertiesAtLength=function(t){var n=this.getPointAtLength(t),e=this.getTangentAtLength();return{x:n.x,y:n.y,tangentX:e.x,tangentY:e.y}};var Sn=function(t){function n(t){if(!t)return null;for(var a,o=Mn(t),s=[0,0],h=[0,0],u=0;u<o.length;u++)\"M\"===o[u][0]?(s=[o[u][1],o[u][2]],i.push(null)):\"m\"===o[u][0]?(s=[o[u][1]+s[0],o[u][2]+s[1]],i.push(null)):\"L\"===o[u][0]?(e+=Math.sqrt(Math.pow(s[0]-o[u][1],2)+Math.pow(s[1]-o[u][2],2)),i.push(new En(s[0],o[u][1],s[1],o[u][2])),s=[o[u][1],o[u][2]]):\"l\"===o[u][0]?(e+=Math.sqrt(Math.pow(o[u][1],2)+Math.pow(o[u][2],2)),i.push(new En(s[0],o[u][1]+s[0],s[1],o[u][2]+s[1])),s=[o[u][1]+s[0],o[u][2]+s[1]]):\"H\"===o[u][0]?(e+=Math.abs(s[0]-o[u][1]),i.push(new En(s[0],o[u][1],s[1],s[1])),s[0]=o[u][1]):\"h\"===o[u][0]?(e+=Math.abs(o[u][1]),i.push(new En(s[0],s[0]+o[u][1],s[1],s[1])),s[0]=o[u][1]+s[0]):\"V\"===o[u][0]?(e+=Math.abs(s[1]-o[u][1]),i.push(new En(s[0],s[0],s[1],o[u][1])),s[1]=o[u][1]):\"v\"===o[u][0]?(e+=Math.abs(o[u][1]),i.push(new En(s[0],s[0],s[1],s[1]+o[u][1])),s[1]=o[u][1]+s[1]):\"z\"===o[u][0]||\"Z\"===o[u][0]?(e+=Math.sqrt(Math.pow(o[0][1]-s[0],2)+Math.pow(o[0][2]-s[1],2)),i.push(new En(s[0],o[0][1],s[1],o[0][2])),s=[o[0][1],o[0][2]]):\"C\"===o[u][0]?(a=new bn(s[0],s[1],o[u][1],o[u][2],o[u][3],o[u][4],o[u][5],o[u][6]),e+=a.getTotalLength(),s=[o[u][5],o[u][6]],i.push(a)):\"c\"===o[u][0]?(a=new bn(s[0],s[1],s[0]+o[u][1],s[1]+o[u][2],s[0]+o[u][3],s[1]+o[u][4],s[0]+o[u][5],s[1]+o[u][6]),e+=a.getTotalLength(),s=[o[u][5]+s[0],o[u][6]+s[1]],i.push(a)):\"S\"===o[u][0]?(a=u>0&&[\"C\",\"c\",\"S\",\"s\"].indexOf(o[u-1][0])>-1?new bn(s[0],s[1],2*s[0]-o[u-1][o[u-1].length-4],2*s[1]-o[u-1][o[u-1].length-3],o[u][1],o[u][2],o[u][3],o[u][4]):new bn(s[0],s[1],s[0],s[1],o[u][1],o[u][2],o[u][3],o[u][4]),e+=a.getTotalLength(),s=[o[u][3],o[u][4]],i.push(a)):\"s\"===o[u][0]?(a=u>0&&[\"C\",\"c\",\"S\",\"s\"].indexOf(o[u-1][0])>-1?new bn(s[0],s[1],s[0]+a.d.x-a.c.x,s[1]+a.d.y-a.c.y,s[0]+o[u][1],s[1]+o[u][2],s[0]+o[u][3],s[1]+o[u][4]):new bn(s[0],s[1],s[0],s[1],s[0]+o[u][1],s[1]+o[u][2],s[0]+o[u][3],s[1]+o[u][4]),e+=a.getTotalLength(),s=[o[u][3]+s[0],o[u][4]+s[1]],i.push(a)):\"Q\"===o[u][0]?(a=new bn(s[0],s[1],o[u][1],o[u][2],o[u][3],o[u][4]),e+=a.getTotalLength(),i.push(a),s=[o[u][3],o[u][4]],h=[o[u][1],o[u][2]]):\"q\"===o[u][0]?(a=new bn(s[0],s[1],s[0]+o[u][1],s[1]+o[u][2],s[0]+o[u][3],s[1]+o[u][4]),e+=a.getTotalLength(),h=[s[0]+o[u][1],s[1]+o[u][2]],s=[o[u][3]+s[0],o[u][4]+s[1]],i.push(a)):\"T\"===o[u][0]?(a=u>0&&[\"Q\",\"q\",\"T\",\"t\"].indexOf(o[u-1][0])>-1?new bn(s[0],s[1],2*s[0]-h[0],2*s[1]-h[1],o[u][1],o[u][2]):new En(s[0],o[u][1],s[1],o[u][2]),i.push(a),e+=a.getTotalLength(),h=[2*s[0]-h[0],2*s[1]-h[1]],s=[o[u][1],o[u][2]]):\"t\"===o[u][0]?(a=u>0&&[\"Q\",\"q\",\"T\",\"t\"].indexOf(o[u-1][0])>-1?new bn(s[0],s[1],2*s[0]-h[0],2*s[1]-h[1],s[0]+o[u][1],s[1]+o[u][2]):new En(s[0],s[0]+o[u][1],s[1],s[1]+o[u][2]),e+=a.getTotalLength(),h=[2*s[0]-h[0],2*s[1]-h[1]],s=[o[u][1]+s[0],o[u][2]+s[0]],i.push(a)):\"A\"===o[u][0]?(a=new _n(s[0],s[1],o[u][1],o[u][2],o[u][3],o[u][4],o[u][5],o[u][6],o[u][7]),e+=a.getTotalLength(),s=[o[u][6],o[u][7]],i.push(a)):\"a\"===o[u][0]&&(a=new _n(s[0],s[1],o[u][1],o[u][2],o[u][3],o[u][4],o[u][5],s[0]+o[u][6],s[1]+o[u][7]),e+=a.getTotalLength(),s=[s[0]+o[u][6],s[1]+o[u][7]],i.push(a)),r.push(e);return n}var e=0,r=[],i=[];n.getTotalLength=function(){return e},n.getPointAtLength=function(t){var n=a(t);return i[n.i].getPointAtLength(n.fraction)},n.getTangentAtLength=function(t){var n=a(t);return i[n.i].getTangentAtLength(n.fraction)},n.getPropertiesAtLength=function(t){var n=a(t);return i[n.i].getPropertiesAtLength(n.fraction)};var a=function(t){t<0?t=0:t>e&&(t=e);for(var n=r.length-1;r[n]>=t&&r[n]>0;)n--;return n++,{fraction:t-r[n-1],i:n}};return n(t)},Cn='All shapes must be supplied as arrays of [x, y] points or an SVG path string (https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/d).\\nExample valid ways of supplying a shape would be:\\n[[0, 0], [10, 0], [10, 10]]\\n\"M0,0 L10,0 L10,10Z\"\\n',Zn=\"flubber.all() expects two arrays of equal length as arguments. Each element in both arrays should be an array of [x, y] points or an SVG path string (https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/d).\",Tn=function(t,n){for(var e,r,i,a=t.length,o=1/0,s=0;s<a;s++)!function(i){r=0,n.forEach(function(n,e){var o=F(t[(i+e)%a],n);r+=o*o}),r<o&&(o=r,e=i)}(s);e&&(i=t.splice(0,e),t.splice.apply(t,[t.length,0].concat(i)))},Fn=function(t,n,e){void 0===e&&(e={});var r=e.maxSegmentLength;void 0===r&&(r=10);var i=e.string;void 0===i&&(i=!0);var a=J(t,r),o=J(n,r),s=tt(a,o,i);return!i||\"string\"!=typeof t&&\"string\"!=typeof n?s:function(e){return e<1e-4&&\"string\"==typeof t?t:1-e<1e-4&&\"string\"==typeof n?n:s(e)}},zn=nt;nt.deviation=function(t,n,e,r){var i=n&&n.length,a=i?n[0]*e:t.length,o=Math.abs(Et(t,0,a,e));if(i)for(var s=0,h=n.length;s<h;s++){var u=n[s]*e,c=s<h-1?n[s+1]*e:t.length;o-=Math.abs(Et(t,u,c,e))}var f=0;for(s=0;s<r.length;s+=3){var l=r[s]*e,p=r[s+1]*e,g=r[s+2]*e;f+=Math.abs((t[l]-t[g])*(t[p+1]-t[l+1])-(t[l]-t[p])*(t[g+1]-t[l+1]))}return 0===o&&0===f?0:Math.abs((f-o)/o)},nt.flatten=function(t){for(var n=t[0][0].length,e={vertices:[],holes:[],dimensions:n},r=0,i=0;i<t.length;i++){for(var a=0;a<t[i].length;a++)for(var o=0;o<n;o++)e.vertices.push(t[i][a][o]);i>0&&(r+=t[i-1].length,e.holes.push(r))}return e};var jn=function(t){return t},In=function(t){if(null==t)return jn;var n,e,r=t.scale[0],i=t.scale[1],a=t.translate[0],o=t.translate[1];return function(t,s){s||(n=e=0);var h=2,u=t.length,c=new Array(u);for(c[0]=(n+=t[0])*r+a,c[1]=(e+=t[1])*i+o;h<u;)c[h]=t[h],++h;return c}},Vn=function(t,n){for(var e,r=t.length,i=r-n;i<--r;)e=t[i],t[i++]=t[r],t[r]=e},Xn=function(t,n){return\"GeometryCollection\"===n.type?{type:\"FeatureCollection\",features:n.geometries.map(function(n){return St(t,n)})}:St(t,n)},Yn=function(t,n){function e(n){var e,r=t.arcs[n<0?~n:n],i=r[0];return t.transform?(e=[0,0],r.forEach(function(t){e[0]+=t[0],e[1]+=t[1]})):e=r[r.length-1],n<0?[e,i]:[i,e]}function r(t,n){for(var e in t){var r=t[e];delete n[r.start],delete r.start,delete r.end,r.forEach(function(t){i[t<0?~t:t]=1}),s.push(r)}}var i={},a={},o={},s=[],h=-1;return n.forEach(function(e,r){var i,a=t.arcs[e<0?~e:e];a.length<3&&!a[1][0]&&!a[1][1]&&(i=n[++h],n[h]=e,n[r]=i)}),n.forEach(function(t){var n,r,i=e(t),s=i[0],h=i[1];if(n=o[s])if(delete o[n.end],n.push(t),n.end=h,r=a[h]){delete a[r.start];var u=r===n?n:n.concat(r);a[u.start=n.start]=o[u.end=r.end]=u}else a[n.start]=o[n.end]=n;else if(n=a[h])if(delete a[n.start],n.unshift(t),n.start=s,r=o[s]){delete o[r.end];var c=r===n?n:r.concat(n);a[c.start=r.start]=o[c.end=n.end]=c}else a[n.start]=o[n.end]=n;else n=[t],a[n.start=s]=o[n.end=h]=n}),r(o,a),r(a,o),n.forEach(function(t){i[t<0?~t:t]||s.push([t])}),s},Gn=function(t,n){for(var e=0,r=t.length;e<r;){var i=e+r>>>1;t[i]<n?e=i+1:r=i}return e},On=function(t){function n(t,n){t.forEach(function(t){t<0&&(t=~t);var e=i[t];e?e.push(n):i[t]=[n]})}function e(t,e){t.forEach(function(t){n(t,e)})}function r(t,n){\"GeometryCollection\"===t.type?t.geometries.forEach(function(t){r(t,n)}):t.type in o&&o[t.type](t.arcs,n)}var i={},a=t.map(function(){return[]}),o={LineString:n,MultiLineString:e,Polygon:e,MultiPolygon:function(t,n){t.forEach(function(t){e(t,n)})}};t.forEach(r);for(var s in i)for(var h=i[s],u=h.length,c=0;c<u;++c)for(var f=c+1;f<u;++f){var l,p=h[c],g=h[f];(l=a[p])[s=Gn(l,g)]!==g&&l.splice(s,0,g),(l=a[g])[s=Gn(l,p)]!==p&&l.splice(s,0,p)}return a},Dn=function(t,n){return t<n?-1:t>n?1:t>=n?0:NaN},Hn=function(t){return 1===t.length&&(t=Ft(t)),{left:function(n,e,r,i){for(null==r&&(r=0),null==i&&(i=n.length);r<i;){var a=r+i>>>1;t(n[a],e)<0?r=a+1:i=a}return r},right:function(n,e,r,i){for(null==r&&(r=0),null==i&&(i=n.length);r<i;){var a=r+i>>>1;t(n[a],e)>0?i=a:r=a+1}return r}}},Nn=Hn(Dn),Qn=(Nn.right,Math.sqrt(50),Math.sqrt(10),Math.sqrt(2),function(t,n){return jt(zt(It(t),t),n)}),Un=function(t,n){if(t.length>8)return t.map(function(t,n){return n});var e=t.map(function(t){return n.map(function(n){return Xt(t,n)})});return Vt(t,n,e)};t.interpolate=Fn,t.separate=Yt,t.combine=Gt,t.interpolateAll=Ot,t.splitPathString=N,t.toPathString=H,t.fromCircle=Ht,t.toCircle=Nt,t.fromRect=Qt,t.toRect=Ut,Object.defineProperty(t,\"__esModule\",{value:!0})});\n","import {select} from \"d3\";\nimport { timer } from \"d3-timer\";\nimport deepEqual from \"deep-equal\";\n//@ts-ignore\nimport { interpolate } from 'flubber';\nimport { interpolateString } from \"d3-interpolate\";\n\n\n\ntype UpdateHandler = () => void\ntype Subscriber = (data:any) => void\n\nfunction shapes():typeof chart {\n    //params\n    let data:Datum[],\n        radius:number,\n        colorSet:string[],\n        colorValues:{[key:string]:string},\n        shapeSet:string[],\n        shapeValues:{[key:string]:string},\n        // drag:any,\n        boot:boolean,\n        subscribers:Subscriber[] = [],\n        subscribe:Subscriber,\n        drawShapes:UpdateHandler,\n        alertSubscribers:UpdateHandler,\n        updateData:UpdateHandler,\n        updateRadius:UpdateHandler,\n        updateColorSet:UpdateHandler,\n        updateColorValues:UpdateHandler,\n        updateShapeSet:UpdateHandler,\n        updateShapeValues:UpdateHandler,\n        updateBorderValues:UpdateHandler\n\n    function chart(selection:d3.Selection<Document, unknown, null, undefined>) {\n        selection.each(function () {\n\n            // const canvas = select(this)\n\n            const shapeGroup = select(this).append(\"custom\"),\n                duration = 200\n            let current:{[id:string]:string} = {}\n            updateData = function() {\n                console.log({data})\n                //remove unused data from table            \n                const shapesUpdate = shapeGroup\n                    .selectAll<HTMLElement, Datum>('custom.shape')\n                    .data(data, function(d){\n                        return d.id || select(this).attr('id')\n                    }) \n\n                shapesUpdate\n                    .exit()\n                    .remove()\n                    // .each(function () {\n                    //     const node = select(this)\n                    //     const id = node.attr('id')\n                    //     node.remove()\n                    //     // delete current[id]\n                    // })\n                    \n                transition(shapesUpdate)\n                const shapesEnter = shapesUpdate.enter()\n                \n                shapesEnter\n                    .append(\"custom\")\n                    .classed('shape', true)\n                    .attr('id', d => d.id)\n                    .append('path')\n                    .attr('x', d => d.x)\n                    .attr('y', d => d.y)\n                    .attr('d', d => shapeValues[d.shapeValue])\n                    .attr('fill', d => colorValues[d.colorValue])\n                    .attr('opacity', 1)\n                    .each(d => {\n                        current = {...current,[d.id]:shapeValues[d.shapeValue]}\n                    })\n            }\n            \n            updateRadius = function(){\n                updateData()\n            }\n\n            updateColorSet = function () {\n                updateData()\n            }\n\n            updateColorValues = function () {\n                if (data.every(d => colorValues[d.colorValue])){\n                    updateData()\n                }\n            }\n\n            updateShapeSet = function () {\n                updateData()\n            }\n\n            updateShapeValues = function () {\n                data.forEach(d => current = {...current,[d.id]:shapeValues[d.shapeValue]})\n                if (data.every(d => shapeValues[d.shapeValue])){\n                    updateData()\n                }\n            }\n\n\n            alertSubscribers = function () {\n                // subscribers.forEach(subscriber => {\n                //     subscriber({...table})\n                // })\n            }\n\n            //helper functions\n\n            function updateSubscribers(){\n                    alertSubscribers()\n            }\n\n            function transition(selection:d3.Selection<HTMLElement,Datum,any,any>) {\n                //stop timer and clear canvas\n                const t = timer(function(elapsed) {\n                    // let e = Math.min(1,ease(elapsed/300))\n                    drawShapes();\n                    if (elapsed > 300) t.stop();\n                })\n                // if (!data.every(d => shapeValues[d.shapeValue])) return\n                selection\n                    .select('path')\n                    .transition()\n                    .duration(duration)\n                    .attr('fill', d => colorValues[d.colorValue])\n                    .attr('x', d => d.x)\n                    .attr('y', d => d.y)\n                    .attr('opacity', \n                        (d):number => \n                            colorSet.includes(d.colorValue) && \n                            shapeSet.includes(d.shapeValue) ?\n                            1 : 0\n                    )\n                    .attrTween(\"d\", function(d){\n                        const from = current[d.id],\n                        to = shapeValues[d.shapeValue]\n                        const\n                        fromPathCommands = from.match(/[a-zA-Z]/g),\n                        toPathCommands = to.match(/[a-zA-Z]/g)\n                        //only use flubber if the paths are for different shapes\n                        const i = deepEqual(fromPathCommands,toPathCommands,{strict:true}) ? interpolateString(from, to) : interpolate(from,to)                \n                        return (t:number):string => {\n                                return i(t)\n                        }\n                    })\n                    .end()\n                    .catch(() => {return})\n                    .then(() => {\n                        selection\n                            .each(d => current = {...current,[d.id]:shapeValues[d.shapeValue]})\n                        alertSubscribers()\n                    })\n\n            }\n\n            //boot\n\n        });\n    }\n    //gets and setters\n    chart.data = function(value:Datum[]) {\n            // if (!arguments.length) return data;\n            data = value;\n            if (typeof updateData === 'function') updateData();\n        return chart;\n\t};\n\n    chart.colorSet = function(value:Array<string>) {    \n        // if (!arguments.length) return colorSet;\n        colorSet = value;\n        if (typeof updateColorSet === 'function') updateColorSet();\n    return chart;\n    };\n\n    chart.colorValues = function(value:{[key:string]:string}) {    \n        colorValues = value;\n        if (typeof updateColorValues === 'function') updateColorValues();\n    return chart;\n    };\n\n    chart.shapeValues = function(value:{[key:string]:string}) {    \n        if (!arguments.length) return shapeValues;\n        shapeValues = value;\n        if (typeof updateShapeValues === 'function') updateShapeValues();\n    return chart;\n    };\n\n    type C = typeof chart\n\n    chart.shapeSet = function(value:string[]): C | string[] {    \n        if (!arguments.length) return shapeSet;\n        shapeSet = value;\n        if (typeof updateShapeSet === 'function') updateShapeSet();\n    return chart;\n    };\n\n\n    chart.radius = function(value:number){\n        if (!arguments.length) return radius;\n        radius = value;\n        if (typeof updateRadius === 'function') updateRadius();\n    return chart\n    }\n\n    chart.boot = function (value:typeof boot):typeof chart {\n        boot = value\n        return chart\n    }\n\n    chart.subscribe = function (value:Subscriber) {\n        subscribers = [...subscribers,value]\n        return chart\n    }\n\n    chart.drawShapes = function (value:UpdateHandler) {\n        drawShapes = value\n        return chart\n    }\n\n    return chart\n}\n\nexport default shapes","import constant from \"./constant.js\";\nimport {withPath} from \"./path.js\";\nimport asterisk from \"./symbol/asterisk.js\";\nimport circle from \"./symbol/circle.js\";\nimport cross from \"./symbol/cross.js\";\nimport diamond from \"./symbol/diamond.js\";\nimport diamond2 from \"./symbol/diamond2.js\";\nimport plus from \"./symbol/plus.js\";\nimport square from \"./symbol/square.js\";\nimport square2 from \"./symbol/square2.js\";\nimport star from \"./symbol/star.js\";\nimport triangle from \"./symbol/triangle.js\";\nimport triangle2 from \"./symbol/triangle2.js\";\nimport wye from \"./symbol/wye.js\";\nimport times from \"./symbol/times.js\";\n\n// These symbols are designed to be filled.\nexport const symbolsFill = [\n  circle,\n  cross,\n  diamond,\n  square,\n  star,\n  triangle,\n  wye\n];\n\n// These symbols are designed to be stroked (with a width of 1.5px and round caps).\nexport const symbolsStroke = [\n  circle,\n  plus,\n  times,\n  triangle2,\n  asterisk,\n  square2,\n  diamond2\n];\n\nexport default function Symbol(type, size) {\n  let context = null,\n      path = withPath(symbol);\n\n  type = typeof type === \"function\" ? type : constant(type || circle);\n  size = typeof size === \"function\" ? size : constant(size === undefined ? 64 : +size);\n\n  function symbol() {\n    let buffer;\n    if (!context) context = buffer = path();\n    type.apply(this, arguments).draw(context, +size.apply(this, arguments));\n    if (buffer) return context = null, buffer + \"\" || null;\n  }\n\n  symbol.type = function(_) {\n    return arguments.length ? (type = typeof _ === \"function\" ? _ : constant(_), symbol) : type;\n  };\n\n  symbol.size = function(_) {\n    return arguments.length ? (size = typeof _ === \"function\" ? _ : constant(+_), symbol) : size;\n  };\n\n  symbol.context = function(_) {\n    return arguments.length ? (context = _ == null ? null : _, symbol) : context;\n  };\n\n  return symbol;\n}\n","import {min, sqrt} from \"../math.js\";\n\nconst sqrt3 = sqrt(3);\n\nexport default {\n  draw(context, size) {\n    const r = sqrt(size + min(size / 28, 0.75)) * 0.59436;\n    const t = r / 2;\n    const u = t * sqrt3;\n    context.moveTo(0, r);\n    context.lineTo(0, -r);\n    context.moveTo(-u, -t);\n    context.lineTo(u, t);\n    context.moveTo(-u, t);\n    context.lineTo(u, -t);\n  }\n};\n","import {pi, sqrt, tau} from \"../math.js\";\n\nexport default {\n  draw(context, size) {\n    const r = sqrt(size / pi);\n    context.moveTo(r, 0);\n    context.arc(0, 0, r, 0, tau);\n  }\n};\n","import {sqrt} from \"../math.js\";\n\nexport default {\n  draw(context, size) {\n    const r = sqrt(size / 5) / 2;\n    context.moveTo(-3 * r, -r);\n    context.lineTo(-r, -r);\n    context.lineTo(-r, -3 * r);\n    context.lineTo(r, -3 * r);\n    context.lineTo(r, -r);\n    context.lineTo(3 * r, -r);\n    context.lineTo(3 * r, r);\n    context.lineTo(r, r);\n    context.lineTo(r, 3 * r);\n    context.lineTo(-r, 3 * r);\n    context.lineTo(-r, r);\n    context.lineTo(-3 * r, r);\n    context.closePath();\n  }\n};\n","import {sqrt} from \"../math.js\";\n\nconst tan30 = sqrt(1 / 3);\nconst tan30_2 = tan30 * 2;\n\nexport default {\n  draw(context, size) {\n    const y = sqrt(size / tan30_2);\n    const x = y * tan30;\n    context.moveTo(0, -y);\n    context.lineTo(x, 0);\n    context.lineTo(0, y);\n    context.lineTo(-x, 0);\n    context.closePath();\n  }\n};\n","import {sqrt} from \"../math.js\";\n\nexport default {\n  draw(context, size) {\n    const w = sqrt(size);\n    const x = -w / 2;\n    context.rect(x, x, w, w);\n  }\n};\n","import {sqrt} from \"../math.js\";\n\nexport default {\n  draw(context, size) {\n    const r = sqrt(size) * 0.62625;\n    context.moveTo(0, -r);\n    context.lineTo(r, 0);\n    context.lineTo(0, r);\n    context.lineTo(-r, 0);\n    context.closePath();\n  }\n};\n","import {min, sqrt} from \"../math.js\";\n\nexport default {\n  draw(context, size) {\n    const r = sqrt(size - min(size / 7, 2)) * 0.87559;\n    context.moveTo(-r, 0);\n    context.lineTo(r, 0);\n    context.moveTo(0, r);\n    context.lineTo(0, -r);\n  }\n};\n","import {sqrt} from \"../math.js\";\n\nexport default {\n  draw(context, size) {\n    const r = sqrt(size) * 0.4431;\n    context.moveTo(r, r);\n    context.lineTo(r, -r);\n    context.lineTo(-r, -r);\n    context.lineTo(-r, r);\n    context.closePath();\n  }\n};\n","import {sin, cos, sqrt, pi, tau} from \"../math.js\";\n\nconst ka = 0.89081309152928522810;\nconst kr = sin(pi / 10) / sin(7 * pi / 10);\nconst kx = sin(tau / 10) * kr;\nconst ky = -cos(tau / 10) * kr;\n\nexport default {\n  draw(context, size) {\n    const r = sqrt(size * ka);\n    const x = kx * r;\n    const y = ky * r;\n    context.moveTo(0, -r);\n    context.lineTo(x, y);\n    for (let i = 1; i < 5; ++i) {\n      const a = tau * i / 5;\n      const c = cos(a);\n      const s = sin(a);\n      context.lineTo(s * r, -c * r);\n      context.lineTo(c * x - s * y, s * x + c * y);\n    }\n    context.closePath();\n  }\n};\n","import {sqrt} from \"../math.js\";\n\nconst sqrt3 = sqrt(3);\n\nexport default {\n  draw(context, size) {\n    const y = -sqrt(size / (sqrt3 * 3));\n    context.moveTo(0, y * 2);\n    context.lineTo(-sqrt3 * y, -y);\n    context.lineTo(sqrt3 * y, -y);\n    context.closePath();\n  }\n};\n","import {sqrt} from \"../math.js\";\n\nconst sqrt3 = sqrt(3);\n\nexport default {\n  draw(context, size) {\n    const s = sqrt(size) * 0.6824;\n    const t = s  / 2;\n    const u = (s * sqrt3) / 2; // cos(Math.PI / 6)\n    context.moveTo(0, -s);\n    context.lineTo(u, t);\n    context.lineTo(-u, t);\n    context.closePath();\n  }\n};\n","import {sqrt} from \"../math.js\";\n\nconst c = -0.5;\nconst s = sqrt(3) / 2;\nconst k = 1 / sqrt(12);\nconst a = (k / 2 + 1) * 3;\n\nexport default {\n  draw(context, size) {\n    const r = sqrt(size / a);\n    const x0 = r / 2, y0 = r * k;\n    const x1 = x0, y1 = r * k + r;\n    const x2 = -x1, y2 = y1;\n    context.moveTo(x0, y0);\n    context.lineTo(x1, y1);\n    context.lineTo(x2, y2);\n    context.lineTo(c * x0 - s * y0, s * x0 + c * y0);\n    context.lineTo(c * x1 - s * y1, s * x1 + c * y1);\n    context.lineTo(c * x2 - s * y2, s * x2 + c * y2);\n    context.lineTo(c * x0 + s * y0, c * y0 - s * x0);\n    context.lineTo(c * x1 + s * y1, c * y1 - s * x1);\n    context.lineTo(c * x2 + s * y2, c * y2 - s * x2);\n    context.closePath();\n  }\n};\n","import {min, sqrt} from \"../math.js\";\n\nexport default {\n  draw(context, size) {\n    const r = sqrt(size - min(size / 6, 1.7)) * 0.6189;\n    context.moveTo(-r, -r);\n    context.lineTo(r, r);\n    context.moveTo(-r, r);\n    context.lineTo(r, -r);\n  }\n};\n","import { \n    symbol,\n    symbolCircle,\n    symbolTriangle,\n    symbolSquare,\n    symbolCross,\n    symbolDiamond,\n    symbolStar,\n    symbolWye, \n    SymbolType } from \"d3-shape\";\n\n//return all the \nconst shapes = (symbolName:SymbolName, radius:number):string => {\n\n    const area = Math.PI * (radius * radius)\n    const symbols:{[keys in SymbolName]:SymbolType} = {\n        circle: symbolCircle,\n        triangle:symbolTriangle,\n        square:symbolSquare,\n        cross:symbolCross,\n        diamond:symbolDiamond,\n        star:symbolStar,\n        wye:symbolWye\n    }\n    return symbol(symbols[symbolName], area)() || 'empty'\n}\n\nexport default shapes","import VornoiMesh from \"../static/lloydClass\";\nimport xmldom from \"../domparser_bundle\";\nimport renderShapes from \"../d3/rednerShapes\";\nimport shapes from \"../static/shapes\";\n// import { select } from \"d3-selection\";// gh-pages can't find this, so I have to import all of d3\nimport * as d3 from \"d3\";\n\n\n\nlet vornoi: InstanceType<typeof VornoiMesh>;\nlet ctx: OffscreenCanvasRenderingContext2D;\nlet textureWidth = 0;\nlet textureHeight = 0;\nlet chunkColors = ['#a6cee3','#1f78b4','#b2df8a','#33a02c','#fb9a99','#e31a1c','#fdbf6f','#ff7f00','#cab2d6','#6a3d9a','#ffff99','#b15928']\nlet backgroundRadius = 0;\nlet shapeRenderer = renderShapes()\nlet data:Datum[] = []\nlet arcIndexs:number[] = []\nlet inputData:Datum[] = []\nlet colors:string[] = []\nlet previouslyPayloadLength = 0\n\nconst DOMImplementation = xmldom.DOMImplementation;\nlet dom: Document = new DOMImplementation().createDocument()\n\nself.addEventListener(\"message\", (eve) => {\n  const {\n    type,\n    computeCanvas,\n    canvas,\n    colorScale,\n    colorValues,\n    stencil,\n    offsets,\n    offsetArcIds,\n    textureW,\n    textureH,\n    radius,\n    ids\n  }: {\n    canvas: OffscreenCanvas;\n    colorScale: {[key:string]:string},\n    computeCanvas: OffscreenCanvas;\n    colorValues :string[];\n    stencil: number[];\n    offsets: number[];\n    offsetArcIds: number[];\n    textureW: number;\n    textureH: number;\n    radius: number;\n    ids: Datum[];\n    type: \"init\" | \"update_stencil\" | \"update_offsets\" | \"render\" | \"render_in_chunks\" | \"draw\" | \"update_ids\" | \"update_color_scale\" | \"update_color_values\" | \"update_data_values\";\n  } = eve.data;\n  switch (type) {\n    case \"init\": {\n      console.log({colorScale})\n      backgroundRadius = radius\n      ctx = canvas.getContext(\"2d\")!;\n      textureWidth = textureW;\n      textureHeight = textureH;\n      init(computeCanvas);\n      shapeRenderer.data([])\n      shapeRenderer.colorSet(chunkColors)\n      shapeRenderer.colorValues(colorScale)\n      shapeRenderer.shapeSet([shapes('circle', 5)])\n      shapeRenderer.shapeValues({\"bob\":shapes('circle', 5)})\n      shapeRenderer.drawShapes(() => draw())\n      console.log({shapeRenderer, dom})\n      d3.select(dom).call(shapeRenderer)\n    }\n    break;\n    case \"update_stencil\":\n      {\n        if (vornoi) {\n          vornoi.updateStencil(stencil);\n          vornoi.renderStencil();\n        }\n      }\n      break;\n    case \"update_offsets\":\n      {\n        if (offsets && offsetArcIds && vornoi) {\n          vornoi.updateOffsets(offsets, offsetArcIds);\n          vornoi.renderVornoi();\n        }\n      }\n      break;\n    case \"render_in_chunks\":\n      {\n        if (offsets && offsetArcIds && vornoi){\n          arcIndexs = offsetArcIds;\n          // chunk = 0\n          data = []\n          vornoi.renderInChunks(offsets, offsetArcIds)\n        }\n      }\n      break;\n    case \"draw\":{\n      if (offsets) handlePositions({payload:new Float32Array(offsets), keepOpen:false})\n    }\n    break;\n    case \"update_ids\":{\n      if (ids){\n        console.log({ids})\n        inputData = ids;\n      }\n    }\n    break;\n    case \"render\":\n      {\n        if (vornoi) vornoi.render();\n      }\n      break;\n    case \"update_color_values\":{\n      if (colorValues){\n        colors = colorValues\n        for (let i = 0; i < data.length; i++) {\n          if (inputData[i]){\n            inputData[i].colorValue = colorValues[i]\n          }\n          data[i].colorValue = colorValues[i];\n        }\n      }\n      console.log(\"colors updated: \", data)\n    }\n    break;\n    case \"update_color_scale\":{\n      if (colorScale) {\n        shapeRenderer.colorValues(colorScale)\n        shapeRenderer.data(data)\n      }\n    } break;\n  }\n});\n\nfunction handlePositions({payload, keepOpen}:{payload:Float32Array, keepOpen:boolean}) {\n  console.log({keepOpen, previouslyPayloadLength})\n  for (let i = 0; i < payload.length; i += 2) {\n    /* \n     * ids are sorted and positions are sorted, before they are sent to the shape worker. This has the effect of presisting ids\n    */\n    const index = Math.floor((i + 1) / 2) + previouslyPayloadLength/2\n    const {id,colorValue,shapeValue} = inputData[index]\n    const d:Datum = {id, x:payload[i], y:payload[i + 1], colorValue, shapeValue}\n    data.push(d)\n  }\n  previouslyPayloadLength += payload.length;\n  if (!keepOpen){\n    shapeRenderer.data(data)\n    previouslyPayloadLength = 0;\n  }\n}\n\nfunction draw() {\n  const elements = d3.select(dom).selectAll<HTMLElement, any>(`custom.shape`)\n  ctx.save();\n  ctx.clearRect(0, 0, 1280 * 2, 720 * 2);\n  elements.each(function () {\n    const node = d3.select<HTMLElement, Datum>(this).select('path'),\n                xCoord = +node.attr('x'),\n                yCoord = +node.attr('y'),\n                fill = node.attr('fill')\n                ctx.fillStyle = fill;\n                ctx.strokeStyle = \"#FFFFFF\"\n                ctx.lineWidth = .5\n                ctx.setTransform(2, 0, 0, 2,(xCoord * backgroundRadius) + 1280 , -(yCoord  * backgroundRadius) + 720)\n                ctx.beginPath();\n                // ctx.globalAlpha = +node.attr('opacity') // something's up with opacity\n                const svgPath = node.attr('d')\n                if (svgPath){\n                    ctx.fill(new Path2D(svgPath))\n                    ctx.stroke(new Path2D(svgPath))\n                }\n  })\n  ctx.globalAlpha = 1;\n  ctx.restore()\n}\n\nfunction init(canvas: OffscreenCanvas) {\n  const gl = canvas.getContext(\"webgl2\");\n  if (gl) {\n    if (!gl!.getExtension(\"EXT_color_buffer_float\")) {\n      console.error(\"voroni error: color extention does not exist\");\n    }\n    // let floatExtention = gl.getExtension(\"EXT_texture_compression_bptc\")\n    // if (!floatExtention){\n    //   console.error(\"compressed floating point texture not avaiable on this machine\")\n    // }\n    vornoi = new VornoiMesh(gl, textureWidth, textureHeight, 200, handlePositions);\n  }\n}\n"],"names":["$60f04de442b17c54$var$toStr","Object","prototype","toString","module","exports","value","str","call","isArgs","length","callee","$34ca526af6238457$var$keysShim","keys","$34ca526af6238457$var$has","hasOwnProperty","$34ca526af6238457$var$toStr","$34ca526af6238457$var$isArgs","parcelRequire","$34ca526af6238457$var$isEnumerable","propertyIsEnumerable","$34ca526af6238457$var$hasDontEnumBug","$34ca526af6238457$var$hasProtoEnumBug","$34ca526af6238457$var$dontEnums","$34ca526af6238457$var$equalsConstructorPrototype","o","ctor","constructor","$34ca526af6238457$var$excludedKeys","$applicationCache","$console","$external","$frame","$frameElement","$frames","$innerHeight","$innerWidth","$onmozfullscreenchange","$onmozfullscreenerror","$outerHeight","$outerWidth","$pageXOffset","$pageYOffset","$parent","$scrollLeft","$scrollTop","$scrollX","$scrollY","$self","$webkitIndexedDB","$webkitStorageInfo","$window","$34ca526af6238457$var$hasAutomationEqualityBug","window","k","e","object","isObject","isFunction","isArguments","isString","theKeys","TypeError","skipProto","i","push","String","j","name","skipConstructor","$34ca526af6238457$var$equalsConstructorPrototypeIfNotBuggy","$f62a8286bc284d62$var$$defineProperty","$kTdIe","$f62a8286bc284d62$var$hasPropertyDescriptors","hasArrayLengthDefineBug","$03ecb3f267615189$var$undefined","$03ecb3f267615189$var$$SyntaxError","SyntaxError","$03ecb3f267615189$var$$Function","Function","$03ecb3f267615189$var$$TypeError","$03ecb3f267615189$var$getEvalledConstructor","expressionSyntax","$03ecb3f267615189$var$$gOPD","getOwnPropertyDescriptor","$03ecb3f267615189$var$throwTypeError","$03ecb3f267615189$var$ThrowTypeError","calleeThrows","arguments","get","gOPDthrows","$03ecb3f267615189$var$hasSymbols","$03ecb3f267615189$var$getProto","getPrototypeOf","x","__proto__","$03ecb3f267615189$var$needsEval","$03ecb3f267615189$var$TypedArray","Uint8Array","$03ecb3f267615189$var$INTRINSICS","AggregateError","Array","ArrayBuffer","Symbol","iterator","Atomics","BigInt","BigInt64Array","BigUint64Array","Boolean","DataView","Date","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","Error","eval","EvalError","Float32Array","Float64Array","FinalizationRegistry","Int8Array","Int16Array","Int32Array","isFinite","isNaN","JSON","Map","Math","Number","parseFloat","parseInt","Promise","Proxy","RangeError","ReferenceError","Reflect","RegExp","Set","SharedArrayBuffer","Uint8ClampedArray","Uint16Array","Uint32Array","URIError","WeakMap","WeakRef","WeakSet","error","$03ecb3f267615189$var$errorProto","$03ecb3f267615189$var$doEval","doEval","fn","gen","$03ecb3f267615189$var$LEGACY_ALIASES","$03ecb3f267615189$var$$concat","$960Ty","concat","$03ecb3f267615189$var$$spliceApply","apply","splice","$03ecb3f267615189$var$$replace","replace","$03ecb3f267615189$var$$strSlice","slice","$03ecb3f267615189$var$$exec","exec","$03ecb3f267615189$var$rePropName","$03ecb3f267615189$var$reEscapeChar","$03ecb3f267615189$var$stringToPath","string","first","last","result","match","number","quote","subString","$03ecb3f267615189$var$getBaseIntrinsic","allowMissing","alias","intrinsicName","$5JAbb","parts","intrinsicBaseName","intrinsic","intrinsicRealName","skipFurtherCaching","isOwn","part","desc","$428cc10958c9186f$var$origSymbol","$jDJsV","getOwnPropertySymbols","obj","sym","symObj","getOwnPropertyNames","syms","descriptor","enumerable","bind","$5o52Z","$3ec31beb47f053d8$var$ERROR_MESSAGE","$3ec31beb47f053d8$var$slice","$3ec31beb47f053d8$var$toStr","$3ec31beb47f053d8$var$funcType","that","target","this","bound","args","boundLength","max","boundArgs","join","Empty","$78c49201df7aa3dd$var$$indexOf","$k9nBK","$eab6f5f3f2c1f912$var$$apply","$eab6f5f3f2c1f912$var$$call","$eab6f5f3f2c1f912$var$$reflectApply","$eab6f5f3f2c1f912$var$$gOPD","$eab6f5f3f2c1f912$var$$defineProperty","$eab6f5f3f2c1f912$var$$max","originalFunction","func","configurable","$eab6f5f3f2c1f912$var$applyBind","$9880ca2b068f51b4$var$functionsHaveNames","$9880ca2b068f51b4$var$gOPD","functionsHaveConfigurableNames","$9880ca2b068f51b4$var$$bind","boundFunctionsHaveNames","toStringTag","$32bc0d7ff11d787b$var$$TypeError","$32bc0d7ff11d787b$var$$WeakMap","$32bc0d7ff11d787b$var$$Map","$32bc0d7ff11d787b$var$$weakMapGet","$amQm3","$32bc0d7ff11d787b$var$$weakMapSet","$32bc0d7ff11d787b$var$$weakMapHas","$32bc0d7ff11d787b$var$$mapGet","$32bc0d7ff11d787b$var$$mapSet","$32bc0d7ff11d787b$var$$mapHas","$32bc0d7ff11d787b$var$listGetNode","list","key","curr","prev","next","$wm","$m","$o","channel","assert","has","$iuc89","objects","node","$32bc0d7ff11d787b$var$listGet","$32bc0d7ff11d787b$var$listHas","set","$32bc0d7ff11d787b$var$listSet","$d75470306b79809b$var$hasMap","$d75470306b79809b$var$mapSizeDescriptor","$d75470306b79809b$var$mapSize","$d75470306b79809b$var$mapForEach","forEach","$d75470306b79809b$var$hasSet","$d75470306b79809b$var$setSizeDescriptor","$d75470306b79809b$var$setSize","$d75470306b79809b$var$setForEach","$d75470306b79809b$var$weakMapHas","$d75470306b79809b$var$weakSetHas","$d75470306b79809b$var$weakRefDeref","deref","$d75470306b79809b$var$booleanValueOf","valueOf","$d75470306b79809b$var$objectToString","$d75470306b79809b$var$functionToString","$d75470306b79809b$var$$match","$d75470306b79809b$var$$slice","$d75470306b79809b$var$$replace","$d75470306b79809b$var$$toUpperCase","toUpperCase","$d75470306b79809b$var$$toLowerCase","toLowerCase","$d75470306b79809b$var$$test","test","$d75470306b79809b$var$$concat","$d75470306b79809b$var$$join","$d75470306b79809b$var$$arrSlice","$d75470306b79809b$var$$floor","floor","$d75470306b79809b$var$bigIntValueOf","$d75470306b79809b$var$gOPS","$d75470306b79809b$var$symToString","$d75470306b79809b$var$hasShammedSymbols","$d75470306b79809b$var$toStringTag","$d75470306b79809b$var$isEnumerable","$d75470306b79809b$var$gPO","O","$d75470306b79809b$var$addNumericSeparator","num","Infinity","sepRegex","int","intStr","dec","$d75470306b79809b$var$inspectCustom","$fW3lo","custom","$d75470306b79809b$var$inspectSymbol","$d75470306b79809b$var$isSymbol","$d75470306b79809b$var$wrapQuotes","s","defaultStyle","opts","quoteChar","quoteStyle","$d75470306b79809b$var$quote","$d75470306b79809b$var$isArray","$d75470306b79809b$var$toStr","$d75470306b79809b$var$isRegExp","inspect_","options","depth","seen","$d75470306b79809b$var$has","maxStringLength","customInspect","indent","numericSeparator","$d75470306b79809b$var$inspectString","bigIntStr","maxDepth","baseIndent","base","$d75470306b79809b$var$getIndent","$d75470306b79809b$var$indexOf","inspect","from","noIndent","newOpts","f","m","$d75470306b79809b$var$nameOf","$d75470306b79809b$var$arrObjKeys","symString","$d75470306b79809b$var$markBoxed","HTMLElement","nodeName","getAttribute","attrs","attributes","childNodes","xs","$d75470306b79809b$var$singleLineValues","$d75470306b79809b$var$indentedJoin","$d75470306b79809b$var$isError","cause","$d75470306b79809b$var$isMap","mapParts","$d75470306b79809b$var$collectionOf","$d75470306b79809b$var$isSet","setParts","$d75470306b79809b$var$isWeakMap","$d75470306b79809b$var$weakCollectionOf","$d75470306b79809b$var$isWeakSet","$d75470306b79809b$var$isWeakRef","$d75470306b79809b$var$isNumber","$d75470306b79809b$var$isBigInt","$d75470306b79809b$var$isBoolean","$d75470306b79809b$var$isString","$d75470306b79809b$var$isDate","ys","isPlainObject","protoTag","stringTag","tag","$d75470306b79809b$var$hasOwn","indexOf","l","remaining","trailer","$d75470306b79809b$var$lowbyte","c","n","charCodeAt","type","size","entries","lineJoiner","isArr","symMap","$ee2c2dce28358b74$var$toString","isArray","arr","$588900714e9d02f9$var$strValue","$588900714e9d02f9$var$toStr","$588900714e9d02f9$var$hasToStringTag","$588900714e9d02f9$var$tryStringObject","$2e171040053aa685$var$exported","$2e171040053aa685$var$$Map","$2e171040053aa685$var$$Set","$2e171040053aa685$var$$mapHas","$2e171040053aa685$var$$setHas","$b84d74f69e89d0e1$var$exported","$b84d74f69e89d0e1$var$$Map","$b84d74f69e89d0e1$var$$Set","$b84d74f69e89d0e1$var$$mapHas","$b84d74f69e89d0e1$var$$setHas","$88a8e0c590d8d05a$var$$BigInt","$fa279bc6b8f5d91c$var$VecType","$fa279bc6b8f5d91c$var$create$1","y","z","dst","$fa279bc6b8f5d91c$var$add","a","b","$fa279bc6b8f5d91c$var$multiply$1","$fa279bc6b8f5d91c$var$MatType","$fa279bc6b8f5d91c$var$identity","$fa279bc6b8f5d91c$var$inverse","m00","m01","m02","m03","m10","m11","m12","m13","m20","m21","m22","m23","m30","m31","m32","m33","tmp_0","tmp_1","tmp_2","tmp_3","tmp_4","tmp_5","tmp_6","tmp_7","tmp_8","tmp_9","tmp_10","tmp_11","tmp_12","tmp_13","tmp_14","tmp_15","tmp_16","tmp_17","tmp_18","tmp_19","tmp_20","tmp_21","tmp_22","tmp_23","t0","t1","t2","t3","d","$fa279bc6b8f5d91c$var$transformPoint","v","v0","v1","v2","$fa279bc6b8f5d91c$var$transformDirection","$fa279bc6b8f5d91c$var$BYTE$2","$fa279bc6b8f5d91c$var$UNSIGNED_BYTE$3","$fa279bc6b8f5d91c$var$SHORT$2","$fa279bc6b8f5d91c$var$UNSIGNED_SHORT$3","$fa279bc6b8f5d91c$var$INT$3","$fa279bc6b8f5d91c$var$UNSIGNED_INT$3","$fa279bc6b8f5d91c$var$FLOAT$3","$fa279bc6b8f5d91c$var$glTypeToTypedArray","tt","$fa279bc6b8f5d91c$export$bddf845047a0e959","typedArray","$fa279bc6b8f5d91c$export$9546290c15d36fce","typedArrayType","$fa279bc6b8f5d91c$export$3dc63662699923fc","CTOR","$fa279bc6b8f5d91c$export$9dd3754ae86f0017","buffer","$fa279bc6b8f5d91c$var$error$1","console","$fa279bc6b8f5d91c$var$isTypeWeakMaps","$fa279bc6b8f5d91c$var$isType","weakMap","isOfType","undefined","substring","$fa279bc6b8f5d91c$var$isRenderbuffer","gl","t","WebGLRenderbuffer","$fa279bc6b8f5d91c$var$isTexture","WebGLTexture","$fa279bc6b8f5d91c$var$STATIC_DRAW","$fa279bc6b8f5d91c$var$ARRAY_BUFFER$1","$fa279bc6b8f5d91c$var$ELEMENT_ARRAY_BUFFER$2","$fa279bc6b8f5d91c$var$BUFFER_SIZE","$fa279bc6b8f5d91c$var$BYTE$1","$fa279bc6b8f5d91c$var$UNSIGNED_BYTE$2","$fa279bc6b8f5d91c$var$SHORT$1","$fa279bc6b8f5d91c$var$UNSIGNED_SHORT$2","$fa279bc6b8f5d91c$var$INT$2","$fa279bc6b8f5d91c$var$UNSIGNED_INT$2","$fa279bc6b8f5d91c$var$FLOAT$2","$fa279bc6b8f5d91c$var$defaults$2","attribPrefix","$fa279bc6b8f5d91c$var$setBufferFromTypedArray","array","drawType","bindBuffer","bufferData","$fa279bc6b8f5d91c$export$6ea00fe9d038b3f9","WebGLBuffer","createBuffer","$fa279bc6b8f5d91c$var$isIndices","$fa279bc6b8f5d91c$export$251e3bdee27f62a4","data","$fa279bc6b8f5d91c$var$texcoordRE","$fa279bc6b8f5d91c$var$colorRE","$fa279bc6b8f5d91c$export$bfceede8dab24cbd","arrayName","numValues","numComponents","length1","$fa279bc6b8f5d91c$var$guessNumComponentsFromName","$fa279bc6b8f5d91c$var$makeTypedArray","Type","$fa279bc6b8f5d91c$var$typedArrayTypeFromGLTypeOrTypedArrayCtor","glTypeOrTypedArrayCtor","$fa279bc6b8f5d91c$var$attribBufferFromBuffer","arrayType","$fa279bc6b8f5d91c$var$attribBufferFromSize","numBytes","BYTES_PER_ELEMENT","$fa279bc6b8f5d91c$var$attribBufferFromArrayLike","$fa279bc6b8f5d91c$export$df835e2df67be3fe","arrays","attribs","attribName","attrib","normalization","normalize","stride","offset","divisor","$fa279bc6b8f5d91c$var$positionKeys","$fa279bc6b8f5d91c$var$getNumElementsFromAttributes","ii","getBufferParameter","totalElements","numElements","$fa279bc6b8f5d91c$export$140f5b0225138840","srcBufferInfo","newAttribs","bufferInfo","assign","indices","newIndices","elementType","$fa279bc6b8f5d91c$export$2750db2b7c74f6a0","$fa279bc6b8f5d91c$export$69d8acce17089372","buffers","$fa279bc6b8f5d91c$var$getNumElementsFromNonIndexedArrays","$fa279bc6b8f5d91c$var$augmentTypedArray","cursor","jj","reset","opt_index","defineProperty","$fa279bc6b8f5d91c$var$createAugmentedTypedArray","opt_type","$fa279bc6b8f5d91c$var$applyFuncToV3Array","matrix","len","tmp","$fa279bc6b8f5d91c$var$transformNormal","mi","$fa279bc6b8f5d91c$var$reorientDirections","$fa279bc6b8f5d91c$var$reorientNormals","$fa279bc6b8f5d91c$var$reorientPositions","$fa279bc6b8f5d91c$var$reorientVertices","$fa279bc6b8f5d91c$var$createXYQuadVertices","xOffset","yOffset","position","normal","texcoord","$fa279bc6b8f5d91c$var$createPlaneVertices","width","subdivisionsWidth","subdivisionsDepth","numVertices","positions","normals","texcoords","u","numVertsAcross","$fa279bc6b8f5d91c$var$createSphereVertices","radius","subdivisionsAxis","subdivisionsHeight","opt_startLatitudeInRadians","opt_endLatitudeInRadians","opt_startLongitudeInRadians","opt_endLongitudeInRadians","latRange","PI","longRange","theta","phi","sinTheta","sin","cosTheta","cos","sinPhi","ux","uy","uz","numVertsAround","$fa279bc6b8f5d91c$var$CUBE_FACE_INDICES","$fa279bc6b8f5d91c$var$createCubeVertices","cornerVertices","faceNormals","uvCoords","faceIndices","uv","$fa279bc6b8f5d91c$var$createTruncatedConeVertices","bottomRadius","topRadius","height","radialSubdivisions","verticalSubdivisions","opt_topCap","opt_bottomCap","topCap","bottomCap","extra","vertsAroundEdge","slant","atan2","cosSlant","sinSlant","end","yy","ringRadius","$fa279bc6b8f5d91c$var$expandRLEData","rleData","padding","runLength","element","$fa279bc6b8f5d91c$var$create3DFVertices","colors","numVerts","color","$fa279bc6b8f5d91c$var$createCrescentVertices","verticalRadius","outerRadius","innerRadius","thickness","subdivisionsDown","startOffset","endOffset","subdivisionsThick","offsetRange","lerp","createArc","arcRadius","normalMult","normalAdd","uMult","uAdd","uBack","xBack","angle","px","py","pz","createSurface","leftArcOffset","rightArcOffset","numVerticesDown","$fa279bc6b8f5d91c$var$createCylinderVertices","$fa279bc6b8f5d91c$var$createTorusVertices","bodySubdivisions","startAngle","endAngle","range","radialParts","bodyParts","sliceAngle","sliceSin","ny","ring","ringAngle","xSin","zCos","nx","nz","nextRingIndex","nextSliceIndex","$fa279bc6b8f5d91c$var$createDiscVertices","divisions","stacks","stackPower","firstIndex","radiusSpan","pointsPerStack","stack","stackRadius","pow","$fa279bc6b8f5d91c$var$createBufferFunc","$fa279bc6b8f5d91c$var$createBufferInfoFunc","$fa279bc6b8f5d91c$export$e3518b1ac7891039","texStorage2D","$fa279bc6b8f5d91c$export$e97753eae63e4e62","haveEnumsForType","enums","existing","addEnums","$fa279bc6b8f5d91c$var$defaults$1","textureColor","textureOptions","crossOrigin","$fa279bc6b8f5d91c$var$isArrayBuffer","$fa279bc6b8f5d91c$var$getShared2DContext","s_ctx","document","createElement","getContext","$fa279bc6b8f5d91c$var$ALPHA","$fa279bc6b8f5d91c$var$RGB","$fa279bc6b8f5d91c$var$RGBA$1","$fa279bc6b8f5d91c$var$LUMINANCE","$fa279bc6b8f5d91c$var$LUMINANCE_ALPHA","$fa279bc6b8f5d91c$var$DEPTH_COMPONENT$1","$fa279bc6b8f5d91c$var$DEPTH_STENCIL$1","$fa279bc6b8f5d91c$var$CLAMP_TO_EDGE$1","$fa279bc6b8f5d91c$var$NEAREST","$fa279bc6b8f5d91c$var$LINEAR$1","$fa279bc6b8f5d91c$var$TEXTURE_2D$2","$fa279bc6b8f5d91c$var$TEXTURE_CUBE_MAP$1","$fa279bc6b8f5d91c$var$TEXTURE_3D$1","$fa279bc6b8f5d91c$var$TEXTURE_2D_ARRAY$1","$fa279bc6b8f5d91c$var$TEXTURE_CUBE_MAP_POSITIVE_X","$fa279bc6b8f5d91c$var$TEXTURE_CUBE_MAP_NEGATIVE_X","$fa279bc6b8f5d91c$var$TEXTURE_CUBE_MAP_POSITIVE_Y","$fa279bc6b8f5d91c$var$TEXTURE_CUBE_MAP_NEGATIVE_Y","$fa279bc6b8f5d91c$var$TEXTURE_CUBE_MAP_POSITIVE_Z","$fa279bc6b8f5d91c$var$TEXTURE_CUBE_MAP_NEGATIVE_Z","$fa279bc6b8f5d91c$var$TEXTURE_MIN_FILTER","$fa279bc6b8f5d91c$var$TEXTURE_MAG_FILTER","$fa279bc6b8f5d91c$var$TEXTURE_WRAP_S","$fa279bc6b8f5d91c$var$TEXTURE_WRAP_T","$fa279bc6b8f5d91c$var$TEXTURE_WRAP_R","$fa279bc6b8f5d91c$var$TEXTURE_MIN_LOD","$fa279bc6b8f5d91c$var$TEXTURE_MAX_LOD","$fa279bc6b8f5d91c$var$TEXTURE_BASE_LEVEL","$fa279bc6b8f5d91c$var$TEXTURE_MAX_LEVEL","$fa279bc6b8f5d91c$var$UNPACK_ALIGNMENT","$fa279bc6b8f5d91c$var$UNPACK_ROW_LENGTH","$fa279bc6b8f5d91c$var$UNPACK_IMAGE_HEIGHT","$fa279bc6b8f5d91c$var$UNPACK_SKIP_PIXELS","$fa279bc6b8f5d91c$var$UNPACK_SKIP_ROWS","$fa279bc6b8f5d91c$var$UNPACK_SKIP_IMAGES","$fa279bc6b8f5d91c$var$UNPACK_COLORSPACE_CONVERSION_WEBGL","$fa279bc6b8f5d91c$var$UNPACK_PREMULTIPLY_ALPHA_WEBGL","$fa279bc6b8f5d91c$var$UNPACK_FLIP_Y_WEBGL","$fa279bc6b8f5d91c$var$R8","$fa279bc6b8f5d91c$var$R8_SNORM","$fa279bc6b8f5d91c$var$R16F","$fa279bc6b8f5d91c$var$R32F","$fa279bc6b8f5d91c$var$R8UI","$fa279bc6b8f5d91c$var$R8I","$fa279bc6b8f5d91c$var$RG16UI","$fa279bc6b8f5d91c$var$RG16I","$fa279bc6b8f5d91c$var$RG32UI","$fa279bc6b8f5d91c$var$RG32I","$fa279bc6b8f5d91c$var$RG8","$fa279bc6b8f5d91c$var$RG8_SNORM","$fa279bc6b8f5d91c$var$RG16F","$fa279bc6b8f5d91c$var$RG32F","$fa279bc6b8f5d91c$var$RG8UI","$fa279bc6b8f5d91c$var$RG8I","$fa279bc6b8f5d91c$var$R16UI","$fa279bc6b8f5d91c$var$R16I","$fa279bc6b8f5d91c$var$R32UI","$fa279bc6b8f5d91c$var$R32I","$fa279bc6b8f5d91c$var$RGB8","$fa279bc6b8f5d91c$var$SRGB8","$fa279bc6b8f5d91c$var$RGB565$1","$fa279bc6b8f5d91c$var$RGB8_SNORM","$fa279bc6b8f5d91c$var$R11F_G11F_B10F","$fa279bc6b8f5d91c$var$RGB9_E5","$fa279bc6b8f5d91c$var$RGB16F","$fa279bc6b8f5d91c$var$RGB32F","$fa279bc6b8f5d91c$var$RGB8UI","$fa279bc6b8f5d91c$var$RGB8I","$fa279bc6b8f5d91c$var$RGB16UI","$fa279bc6b8f5d91c$var$RGB16I","$fa279bc6b8f5d91c$var$RGB32UI","$fa279bc6b8f5d91c$var$RGB32I","$fa279bc6b8f5d91c$var$RGBA8","$fa279bc6b8f5d91c$var$SRGB8_ALPHA8","$fa279bc6b8f5d91c$var$RGBA8_SNORM","$fa279bc6b8f5d91c$var$RGB5_A1$1","$fa279bc6b8f5d91c$var$RGBA4$1","$fa279bc6b8f5d91c$var$RGB10_A2","$fa279bc6b8f5d91c$var$RGBA16F","$fa279bc6b8f5d91c$var$RGBA32F","$fa279bc6b8f5d91c$var$RGBA8UI","$fa279bc6b8f5d91c$var$RGBA8I","$fa279bc6b8f5d91c$var$RGB10_A2UI","$fa279bc6b8f5d91c$var$RGBA16UI","$fa279bc6b8f5d91c$var$RGBA16I","$fa279bc6b8f5d91c$var$RGBA32I","$fa279bc6b8f5d91c$var$RGBA32UI","$fa279bc6b8f5d91c$var$DEPTH_COMPONENT16$1","$fa279bc6b8f5d91c$var$DEPTH_COMPONENT24$1","$fa279bc6b8f5d91c$var$DEPTH_COMPONENT32F$1","$fa279bc6b8f5d91c$var$DEPTH32F_STENCIL8$1","$fa279bc6b8f5d91c$var$DEPTH24_STENCIL8$1","$fa279bc6b8f5d91c$var$BYTE","$fa279bc6b8f5d91c$var$UNSIGNED_BYTE$1","$fa279bc6b8f5d91c$var$SHORT","$fa279bc6b8f5d91c$var$UNSIGNED_SHORT$1","$fa279bc6b8f5d91c$var$INT$1","$fa279bc6b8f5d91c$var$UNSIGNED_INT$1","$fa279bc6b8f5d91c$var$FLOAT$1","$fa279bc6b8f5d91c$var$UNSIGNED_SHORT_4_4_4_4","$fa279bc6b8f5d91c$var$UNSIGNED_SHORT_5_5_5_1","$fa279bc6b8f5d91c$var$UNSIGNED_SHORT_5_6_5","$fa279bc6b8f5d91c$var$HALF_FLOAT","$fa279bc6b8f5d91c$var$HALF_FLOAT_OES","$fa279bc6b8f5d91c$var$UNSIGNED_INT_2_10_10_10_REV","$fa279bc6b8f5d91c$var$UNSIGNED_INT_10F_11F_11F_REV","$fa279bc6b8f5d91c$var$UNSIGNED_INT_5_9_9_9_REV","$fa279bc6b8f5d91c$var$FLOAT_32_UNSIGNED_INT_24_8_REV","$fa279bc6b8f5d91c$var$UNSIGNED_INT_24_8","$fa279bc6b8f5d91c$var$RG","$fa279bc6b8f5d91c$var$RG_INTEGER","$fa279bc6b8f5d91c$var$RED","$fa279bc6b8f5d91c$var$RED_INTEGER","$fa279bc6b8f5d91c$var$RGB_INTEGER","$fa279bc6b8f5d91c$var$RGBA_INTEGER","$fa279bc6b8f5d91c$var$formatInfo","numColorComponents","$fa279bc6b8f5d91c$var$s_textureInternalFormatInfo","$fa279bc6b8f5d91c$var$getTextureInternalFormatInfo","internalFormat","textureFormat","colorRenderable","textureFilterable","bytesPerElement","info","bytesPerElementMap","ndx","$fa279bc6b8f5d91c$export$df2d41bf86d3b760","$fa279bc6b8f5d91c$export$7972c3060d7259fe","format","$fa279bc6b8f5d91c$var$isPowerOf2","$fa279bc6b8f5d91c$export$2058af87f75a4771","$fa279bc6b8f5d91c$export$586e511f2aeecefd","$fa279bc6b8f5d91c$var$getTextureTypeForArrayType","src","defaultType","$fa279bc6b8f5d91c$var$guessDimensions","sqrt","$fa279bc6b8f5d91c$var$setPackState","colorspaceConversion","pixelStorei","premultiplyAlpha","flipY","$fa279bc6b8f5d91c$var$setSkipStateToDefault","$fa279bc6b8f5d91c$var$setTextureSamplerParameters","parameteriFn","minMag","min","mag","wrap","WebGLSampler","wrapR","wrapS","wrapT","minLod","maxLod","baseLevel","maxLevel","$fa279bc6b8f5d91c$export$145d4976a6287cac","tex","bindTexture","texParameteri","$fa279bc6b8f5d91c$export$494a924bf2d77d9a","generateMipmap","filtering","$fa279bc6b8f5d91c$var$shouldAutomaticallySetTextureFilteringForSize","auto","level","$fa279bc6b8f5d91c$var$getCubeFaceOrder","cubeFaceOrder","$fa279bc6b8f5d91c$var$getCubeFacesWithNdx","facesWithNdx","map","face","sort","$fa279bc6b8f5d91c$export$8119aa4cbf12798b","formatType","imgWidth","imgHeight","slices","ctx","canvas","drawImage","texImage2D","createImageBitmap","colorSpaceConversion","then","imageBitmap","smallest","largest","xMult","yMult","texImage3D","srcX","srcY","texSubImage3D","$fa279bc6b8f5d91c$var$noop","$fa279bc6b8f5d91c$var$setToAnonymousIfUndefinedAndURLIsNotSameOrigin","url","href","hostname","location","port","protocol","localOrigin","URL","origin","$fa279bc6b8f5d91c$var$urlIsSameOrigin","$fa279bc6b8f5d91c$var$isTexImageSource","ImageBitmap","ImageData","$fa279bc6b8f5d91c$var$loadAndUseImage","callback","setTimeout","img","Image","clearEventHandlers","removeEventListener","onError","onLoad","msg","addEventListener","err","bm","cb","mode","fetch","response","ok","blob","bitmap","catch","$fa279bc6b8f5d91c$var$loadImage","$fa279bc6b8f5d91c$var$setTextureTo1PixelColor","$fa279bc6b8f5d91c$var$make1Pixel","$fa279bc6b8f5d91c$export$a0ce1a7e01ad3b32","$fa279bc6b8f5d91c$var$loadCubemapFromUrls","urls","numToLoad","errors","faces","imgs","faceTarget","otherTarget","$fa279bc6b8f5d91c$var$loadSlicesFromUrls","firstImage","$fa279bc6b8f5d91c$export$3d91b74019c3ded9","byteLength","dimensions","cbrt","unpackAlignment","faceSize","subarray","$fa279bc6b8f5d91c$export$541fcc5ad0f34e5a","$fa279bc6b8f5d91c$export$37b981a8c575f415","createTexture","$fa279bc6b8f5d91c$var$error","$fa279bc6b8f5d91c$var$getElementById","id","getElementById","$fa279bc6b8f5d91c$var$TEXTURE0","$fa279bc6b8f5d91c$var$ARRAY_BUFFER","$fa279bc6b8f5d91c$var$ELEMENT_ARRAY_BUFFER$1","$fa279bc6b8f5d91c$var$COMPILE_STATUS","$fa279bc6b8f5d91c$var$LINK_STATUS","$fa279bc6b8f5d91c$var$FRAGMENT_SHADER","$fa279bc6b8f5d91c$var$VERTEX_SHADER","$fa279bc6b8f5d91c$var$SEPARATE_ATTRIBS","$fa279bc6b8f5d91c$var$ACTIVE_UNIFORMS","$fa279bc6b8f5d91c$var$ACTIVE_ATTRIBUTES","$fa279bc6b8f5d91c$var$TRANSFORM_FEEDBACK_VARYINGS","$fa279bc6b8f5d91c$var$ACTIVE_UNIFORM_BLOCKS","$fa279bc6b8f5d91c$var$UNIFORM_BLOCK_REFERENCED_BY_VERTEX_SHADER","$fa279bc6b8f5d91c$var$UNIFORM_BLOCK_REFERENCED_BY_FRAGMENT_SHADER","$fa279bc6b8f5d91c$var$UNIFORM_BLOCK_DATA_SIZE","$fa279bc6b8f5d91c$var$UNIFORM_BLOCK_ACTIVE_UNIFORM_INDICES","$fa279bc6b8f5d91c$var$FLOAT","$fa279bc6b8f5d91c$var$INT","$fa279bc6b8f5d91c$var$UNSIGNED_INT","$fa279bc6b8f5d91c$var$TEXTURE_2D$1","$fa279bc6b8f5d91c$var$TEXTURE_CUBE_MAP","$fa279bc6b8f5d91c$var$TEXTURE_3D","$fa279bc6b8f5d91c$var$TEXTURE_2D_ARRAY","$fa279bc6b8f5d91c$var$typeMap","$fa279bc6b8f5d91c$var$getBindPointForSamplerType","bindPoint","$fa279bc6b8f5d91c$var$intSetter","location1","uniform1i","$fa279bc6b8f5d91c$var$intArraySetter","uniform1iv","$fa279bc6b8f5d91c$var$intVec2Setter","uniform2iv","$fa279bc6b8f5d91c$var$intVec3Setter","uniform3iv","$fa279bc6b8f5d91c$var$intVec4Setter","uniform4iv","$fa279bc6b8f5d91c$var$samplerSetter","unit","textureOrPair","texture","sampler","activeTexture","bindSampler","$fa279bc6b8f5d91c$var$samplerArraySetter","units","textures","index","$fa279bc6b8f5d91c$var$floatAttribSetter","disableVertexAttribArray","vertexAttrib4fv","vertexAttrib3fv","vertexAttrib2fv","vertexAttrib1fv","enableVertexAttribArray","vertexAttribPointer","vertexAttribDivisor","$fa279bc6b8f5d91c$var$intAttribSetter","vertexAttrib4iv","vertexAttribIPointer","$fa279bc6b8f5d91c$var$uintAttribSetter","vertexAttrib4uiv","$fa279bc6b8f5d91c$var$matAttribSetter","typeInfo","defaultSize","count","rowOffset","setter","uniform1f","arraySetter","uniform1fv","uniform2fv","cols","uniform3fv","uniform4fv","uniform1ui","uniform1uiv","uniform2uiv","uniform3uiv","uniform4uiv","uniformMatrix2fv","rows","uniformMatrix3fv","uniformMatrix4fv","uniformMatrix2x3fv","uniformMatrix2x4fv","uniformMatrix3x2fv","uniformMatrix3x4fv","uniformMatrix4x2fv","uniformMatrix4x3fv","$fa279bc6b8f5d91c$var$attrTypeMap","$fa279bc6b8f5d91c$var$errorRE","$fa279bc6b8f5d91c$var$spaceRE","$fa279bc6b8f5d91c$var$prepShaderSource","shaderSource","lineOffset","$fa279bc6b8f5d91c$var$reportError","progOptions","errorCallback","$fa279bc6b8f5d91c$var$checkShaderStatus","shaderType","shader","errFn","getShaderParameter","lastError","getShaderInfoLog","getShaderSource","log","matches","matchAll","lineNoToErrorMap","lineNo","split","line","$fa279bc6b8f5d91c$var$addLineNumbersWithError","$fa279bc6b8f5d91c$var$getProgramOptions","opt_attribs","opt_locations","opt_errorCallback","transformFeedbackVaryings","transformFeedbackMode","opt","attribLocations","$fa279bc6b8f5d91c$var$defaultShaderType","$fa279bc6b8f5d91c$var$wait","ms","resolve","$fa279bc6b8f5d91c$var$createProgramNoCheck","shaders","programOptions","program","createProgram","elem","text","scriptType","createShader","compileShader","attachShader","loc","bindAttribLocation","varyings","linkProgram","$fa279bc6b8f5d91c$export$327d24a04cd0dc17","shaderSet","hasErrors","$fa279bc6b8f5d91c$var$getProgramErrors","notThese","getAttachedShaders","deleteShader","deleteProgram","$fa279bc6b8f5d91c$var$deleteProgramAndShaders","$fa279bc6b8f5d91c$var$waitForProgramLinkCompletionAsync","$fa279bc6b8f5d91c$var$wrapCallbackFnToAsyncFn","arg1","reject","$fa279bc6b8f5d91c$export$2965a73560492a94","async","ext","getExtension","checkFn","getProgramParameter","COMPLETION_STATUS_KHR","waitTime","getProgramInfoLog","SHADER_TYPE","filter","_","$fa279bc6b8f5d91c$export$87c7c742dccfe3af","shaderSources","$fa279bc6b8f5d91c$var$isBuiltIn","startsWith","$fa279bc6b8f5d91c$var$tokenRE","$fa279bc6b8f5d91c$var$isDigit","$fa279bc6b8f5d91c$var$addSetterToUniformTree","fullPath","uniformSetters","tokens","tokenNdx","path","token","isArrayIndex","accessor","child","$fa279bc6b8f5d91c$var$setUniformTree","$fa279bc6b8f5d91c$export$fe2460765a628597","textureUnit","createUniformSetter","uniformInfo","endsWith","uniformTree","numUniforms","getActiveUniform","substr","getUniformLocation","$fa279bc6b8f5d91c$export$ca1b1131a9f3199c","numVaryings","varying","getTransformFeedbackVarying","$fa279bc6b8f5d91c$export$7b680ab060795ae5","uniformData","uniformIndices","pair","pname","getActiveUniforms","blockSpecs","numUniformBlocks","getActiveUniformBlockName","blockSpec","getUniformBlockIndex","usedByVertexShader","getActiveUniformBlockParameter","usedByFragmentShader","used","tree","values","prop","$fa279bc6b8f5d91c$export$1fa517b18dd66830","setters","actualSetters","numArgs","aNdx","$fa279bc6b8f5d91c$export$ca2da2c8098eca9b","attribSetters","numAttribs","attribInfo","getActiveAttrib","getAttribLocation","$fa279bc6b8f5d91c$export$74da2cba014bdc09","$fa279bc6b8f5d91c$export$186607e23079b9e5","programInfo","vertexArrayObject","bindVertexArray","$fa279bc6b8f5d91c$export$9d683a1d425bd0b2","uniformBlockSpec","transformFeedbackInfo","$fa279bc6b8f5d91c$var$notIdRE","source","script","origCallback","$fa279bc6b8f5d91c$var$checkAllPrograms","programs","programSpecs","noDeleteShadersSet","spec","$fa279bc6b8f5d91c$export$b61153735437f1bf","fromEntries","add","$fa279bc6b8f5d91c$var$waitForAllProgramsLinkCompletionAsync","$fa279bc6b8f5d91c$export$fa533ee18d55b1e0","createProgramInfosForPrograms","$fa279bc6b8f5d91c$var$FRAMEBUFFER","$fa279bc6b8f5d91c$var$RENDERBUFFER","$fa279bc6b8f5d91c$var$TEXTURE_2D","$fa279bc6b8f5d91c$var$DEPTH_STENCIL","$fa279bc6b8f5d91c$var$COLOR_ATTACHMENT0","$fa279bc6b8f5d91c$var$DEPTH_ATTACHMENT","$fa279bc6b8f5d91c$var$DEPTH_STENCIL_ATTACHMENT","$fa279bc6b8f5d91c$var$CLAMP_TO_EDGE","$fa279bc6b8f5d91c$var$LINEAR","$fa279bc6b8f5d91c$var$defaultAttachments","$fa279bc6b8f5d91c$var$attachmentsByFormat","$fa279bc6b8f5d91c$var$renderbufferFormats","$fa279bc6b8f5d91c$var$MAX_COLOR_ATTACHMENT_POINTS","$fa279bc6b8f5d91c$export$5203e5b1731cd791","attachments","fb","createFramebuffer","bindFramebuffer","drawingBufferWidth","drawingBufferHeight","usedColorAttachmentsPoints","framebufferInfo","framebuffer","attachmentOptions","attachment","samples","attachmentPoint","$fa279bc6b8f5d91c$var$getAttachmentPointForFormat","$fa279bc6b8f5d91c$var$isColorAttachmentPoint","$fa279bc6b8f5d91c$var$isRenderbufferFormat","createRenderbuffer","bindRenderbuffer","renderbufferStorageMultisample","renderbufferStorage","framebufferRenderbuffer","layer","framebufferTextureLayer","framebufferTexture2D","drawBuffers","$fa279bc6b8f5d91c$export$3a550f69329a008c","programInfos","vao","createVertexArray","$b5d60b682ce93da3$export$2e2bcd8739ae039","vertex","fragment","$50c04ca1251479e8$export$2e2bcd8739ae039","edges","vertices","$742af19308eca60d$export$2e2bcd8739ae039","$caf1cc5c82db766c$export$2e2bcd8739ae039","$6eeb9310d979cadd$export$2e2bcd8739ae039","$bb3cb276cca8a34c$export$2e2bcd8739ae039","stencil","offsets","offsetArcIds","chunks","quad","intermediateBufferArrays","a_texCoord","keepOpen","buffersReady","textureWidth","textureHeight","cycles","callBack","transformFeedback","createTransformFeedback","stencilProgram","a_position","stencilBufferArrays","STATIC_DRAW","stencilBufferInfo","stencilFrameBufferInfo","R32I","RED_INTEGER","INT","NEAREST","vornoiProgram","a_arc_id","a_instance","vornoiFrameBufferInfo","DEPTH_ATTACHMENT","DEPTH_COMPONENT24","DEPTH_COMPONENT","vornoiBufferArrays","DYNAMIC_DRAW","a_origin","vornoiBufferInfo","intermediateProgram","intermediateFrameBufferInfo","RGBA32F","RGBA","FLOAT","intermediateBufferInfo","transformFeedbackProgram","feedbackVoaInfo","updateStencil","deleteBuffer","deleteTexture","deleteFramebuffer","updateOffsets","deleteTransformFeedback","bindTransformFeedback","TRANSFORM_FEEDBACK","bindBufferBase","TRANSFORM_FEEDBACK_BUFFER","ARRAY_BUFFER","renderStencil","useProgram","FRAMEBUFFER","COLOR_ATTACHMENT0","TEXTURE_2D","viewport","clearBufferiv","COLOR","drawArrays","TRIANGLES","renderVornoi","uniforms","u_stencil","u_background_index","enable","DEPTH_TEST","depthFunc","LEQUAL","clearDepth","clear","DEPTH_BUFFER_BIT","drawArraysInstanced","TRIANGLE_FAN","disable","renderIntermediateTexture","clearBufferfv","transformFeedbackStep","RASTERIZER_DISCARD","beginTransformFeedback","POINTS","endTransformFeedback","debug","debugProgramInfo","debugBufferInto","arrayUniform","clearColor","COLOR_BUFFER_BIT","render","flush","getBatchPositions","currentArc","currentVectors","currentArcIndexes","fence","fenceSync","SYNC_GPU_COMMANDS_COMPLETE","waitForResult","status","clientWaitSync","CONDITION_SATISFIED","ALREADY_SIGNALED","deleteSync","output","getBufferSubData","payload","getPositions","abs","$7e559dfd99cf9284$var$abs","$7e559dfd99cf9284$var$max","$7e559dfd99cf9284$var$min","$7e559dfd99cf9284$var$number1","$7e559dfd99cf9284$var$number2","$7e559dfd99cf9284$var$type","$90bd0b8d1d7ff6bd$var$epsilon2","$90bd0b8d1d7ff6bd$var$cosh","exp","zoomRho","rho","rho2","rho4","zoom","p0","p1","S","ux0","uy0","w0","ux1","uy1","w1","dx","dy","d2","d1","b0","b1","r0","r1","coshr0","$90bd0b8d1d7ff6bd$var$sinh","duration","SQRT2","_1","_2","$36dc23e23038171b$export$563a914cafbdc389","scale","translate","point","applyX","applyY","invert","invertX","invertY","rescaleX","copy","domain","rescaleY","$a5ed28569fedf42d$var$slice","$a5ed28569fedf42d$var$origKeys","$a5ed28569fedf42d$var$keysShim","$a5ed28569fedf42d$var$originalKeys","shim","keysWorksWithArguments","$8k095","$a5ed28569fedf42d$exports","$bc2d2124fd200e7f$var$hasSymbols","$bc2d2124fd200e7f$var$toStr","$bc2d2124fd200e7f$var$concat","$bc2d2124fd200e7f$var$origDefineProperty","$bc2d2124fd200e7f$var$hasPropertyDescriptors","$bc2d2124fd200e7f$var$supportsDescriptors","$bc2d2124fd200e7f$var$defineProperty","predicate","writable","$bc2d2124fd200e7f$var$defineProperties","predicates","props","supportsDescriptors","$bc2d2124fd200e7f$exports","$bde56854e1d5d2e3$var$hasSymbols","$bde56854e1d5d2e3$var$toObject","$bde56854e1d5d2e3$var$$push","$bde56854e1d5d2e3$var$$propIsEnumerable","$bde56854e1d5d2e3$var$originalGetSymbols","$bde56854e1d5d2e3$exports","source1","to","getSymbols","nextKey","propValue","$cab9238365fab4cf$exports","letters","actual","$cab9238365fab4cf$var$lacksProperEnumerationOrder","preventExtensions","thrower","$cab9238365fab4cf$var$assignHasPendingExceptions","$fb1c192d58d9c9d1$exports","polyfill","$5a4609cfd477ec48$var$polyfill","$5a4609cfd477ec48$var$bound","getPolyfill","implementation","$5a4609cfd477ec48$exports","$d898c68966294c33$var$functionsHaveConfigurableNames","$d898c68966294c33$var$$Object","$d898c68966294c33$var$$TypeError","$d898c68966294c33$exports","hasIndices","global","ignoreCase","multiline","dotAll","unicode","sticky","$9d946e13c6bd6ec0$var$$gOPD","$9d946e13c6bd6ec0$exports","$9d946e13c6bd6ec0$require$supportsDescriptors","flags","calls","$04f0cdbde357ff4b$var$gOPD","$04f0cdbde357ff4b$var$defineProperty","$04f0cdbde357ff4b$var$TypeErr","$04f0cdbde357ff4b$var$getProto","$04f0cdbde357ff4b$var$regex","$04f0cdbde357ff4b$exports","$04f0cdbde357ff4b$require$supportsDescriptors","proto","$62a567439306fe1f$var$flagsBound","$62a567439306fe1f$exports","$0987d568a3c4bf7b$var$cachedSetTimeout","$0987d568a3c4bf7b$var$cachedClearTimeout","$0987d568a3c4bf7b$var$process","$0987d568a3c4bf7b$exports","$0987d568a3c4bf7b$var$defaultSetTimout","$0987d568a3c4bf7b$var$defaultClearTimeout","$0987d568a3c4bf7b$var$runTimeout","fun","clearTimeout","$0987d568a3c4bf7b$var$currentQueue","$0987d568a3c4bf7b$var$queue","$0987d568a3c4bf7b$var$draining","$0987d568a3c4bf7b$var$queueIndex","$0987d568a3c4bf7b$var$cleanUpNextTick","$0987d568a3c4bf7b$var$drainQueue","timeout","run","marker","$0987d568a3c4bf7b$var$runClearTimeout","$0987d568a3c4bf7b$var$Item","$0987d568a3c4bf7b$var$noop","nextTick","title","browser","env","argv","version","versions","on","addListener","once","off","removeListener","removeAllListeners","emit","prependListener","prependOnceListener","listeners","binding","cwd","chdir","dir","umask","$4fabefa85725cc95$var$hasToStringTag","$4fabefa85725cc95$var$$toString","$4fabefa85725cc95$var$isStandardArguments","$4fabefa85725cc95$var$isLegacyArguments","$4fabefa85725cc95$var$supportsStandardArguments","isLegacyArguments","$4fabefa85725cc95$exports","$215bc09c12530573$var$channel","$215bc09c12530573$var$$TypeError","$215bc09c12530573$var$SLOT","slot","slots","V","freeze","$215bc09c12530573$exports","$71d9a104a3bfae59$var$$SyntaxError","$71d9a104a3bfae59$var$$StopIteration","StopIteration","$71d9a104a3bfae59$exports","origIterator","siIterator","done","$d1bb7acbffff27dc$var$$iterator","$d1bb7acbffff27dc$exports","iterable","$d1bb7acbffff27dc$var$isArray","$d1bb7acbffff27dc$var$isString","$d1bb7acbffff27dc$var$GetIntrinsic","$d1bb7acbffff27dc$var$$Map","$d1bb7acbffff27dc$var$$Set","$d1bb7acbffff27dc$var$callBound","$d1bb7acbffff27dc$var$$arrayPush","$d1bb7acbffff27dc$var$$charCodeAt","$d1bb7acbffff27dc$var$$stringSlice","$d1bb7acbffff27dc$var$getArrayIterator","arraylike","$d1bb7acbffff27dc$var$getNonCollectionIterator","noPrimordialCollections","nextIndex","second","$d1bb7acbffff27dc$var$advanceStringIndex","$d1bb7acbffff27dc$var$isMap","$d1bb7acbffff27dc$var$isSet","$d1bb7acbffff27dc$var$$mapForEach","$d1bb7acbffff27dc$var$$setForEach","$d1bb7acbffff27dc$var$$mapIterator","$d1bb7acbffff27dc$var$$setIterator","$d1bb7acbffff27dc$var$$mapAtAtIterator","$d1bb7acbffff27dc$var$$setAtAtIterator","$d1bb7acbffff27dc$var$getCollectionIterator","$b1965742f2268509$var$numberIsNaN","$b1965742f2268509$exports","$cf290c7bc44cdc5d$exports","$fe0e9663bfc8fc66$exports","is","$9bc1e244cd5ab312$var$polyfill","$9bc1e244cd5ab312$exports","$55957dc2d4005baf$var$badArrayLike","$55957dc2d4005baf$var$isCallableMarker","$55957dc2d4005baf$var$fnToStr","$55957dc2d4005baf$var$reflectApply","$55957dc2d4005baf$var$constructorRegex","$55957dc2d4005baf$var$isES6ClassFn","fnStr","$55957dc2d4005baf$var$tryFunctionObject","$55957dc2d4005baf$var$toStr","$55957dc2d4005baf$var$hasToStringTag","$55957dc2d4005baf$var$isIE68","$55957dc2d4005baf$var$isDDA","$55957dc2d4005baf$var$all","all","$55957dc2d4005baf$exports","strClass","$bb4eb2c9ca18e98e$var$toStr","$bb4eb2c9ca18e98e$var$hasOwnProperty","$bb4eb2c9ca18e98e$var$forEachArray","receiver","$bb4eb2c9ca18e98e$var$forEachString","charAt","$bb4eb2c9ca18e98e$var$forEachObject","$bb4eb2c9ca18e98e$exports","thisArg","$b4b9cb861235f117$var$possibleNames","$b4b9cb861235f117$var$g","globalThis","$parcel$global","$b4b9cb861235f117$exports","out","$4f5f19ff2b9d185e$var$$toString","$4f5f19ff2b9d185e$var$hasToStringTag","$2faee0ccb58d0edd$var$$gOPD","$2faee0ccb58d0edd$exports","$4f5f19ff2b9d185e$var$g","$4f5f19ff2b9d185e$var$typedArrays","$4f5f19ff2b9d185e$var$$indexOf","$4f5f19ff2b9d185e$var$$slice","$4f5f19ff2b9d185e$var$toStrTags","$4f5f19ff2b9d185e$var$getPrototypeOf","superProto","$4f5f19ff2b9d185e$exports","anyTrue","getter","$4f5f19ff2b9d185e$var$tryTypedArrays","$2d723a9f9ea9982c$var$$ArrayBuffer","$2d723a9f9ea9982c$var$$Float32Array","$2d723a9f9ea9982c$var$$byteLength","$2d723a9f9ea9982c$var$abSlice","$2d723a9f9ea9982c$var$$abSlice","$2d723a9f9ea9982c$exports","$162d1e0933f53229$var$getDay","getDay","$162d1e0933f53229$var$toStr","$162d1e0933f53229$var$hasToStringTag","$162d1e0933f53229$exports","$162d1e0933f53229$var$tryDateObject","$328137fd577905e8$var$has","$328137fd577905e8$var$$exec","$328137fd577905e8$var$isRegexMarker","$328137fd577905e8$var$badStringifier","$328137fd577905e8$var$hasToStringTag","$328137fd577905e8$var$throwRegexMarker","toPrimitive","$328137fd577905e8$var$$toString","$328137fd577905e8$var$gOPD","$328137fd577905e8$exports","$8fb3405392773153$var$$byteLength","$8fb3405392773153$exports","$e3e26f5587fa30da$var$numToStr","$e3e26f5587fa30da$var$toStr","$e3e26f5587fa30da$var$hasToStringTag","$e3e26f5587fa30da$exports","$e3e26f5587fa30da$var$tryNumberObject","$d471a4fabf41bdaa$var$$boolToStr","$d471a4fabf41bdaa$var$$toString","$d471a4fabf41bdaa$var$hasToStringTag","$d471a4fabf41bdaa$exports","$d471a4fabf41bdaa$var$tryBooleanObject","$0b1b3e393e07c1e6$var$toStr","$0b1b3e393e07c1e6$var$symToStr","$0b1b3e393e07c1e6$var$symStringRegex","$0b1b3e393e07c1e6$exports","$0b1b3e393e07c1e6$var$isSymbolObject","$1ff25f173bba2108$var$bigIntValueOf","$1ff25f173bba2108$exports","$1ff25f173bba2108$var$tryBigInt","$ca5ac5b546d4704f$exports","$7BgMa","$3b736d065fd1a521$var$exported","$3b736d065fd1a521$var$$WeakMap","$3b736d065fd1a521$var$$WeakSet","$3b736d065fd1a521$var$$mapHas","$3b736d065fd1a521$var$$setHas","$3b736d065fd1a521$exports","$5f66dea3e9babe9b$var$$WeakSet","$5f66dea3e9babe9b$var$$setHas","$5f66dea3e9babe9b$var$$mapHas","$5f66dea3e9babe9b$exports","$decdd37f367e9513$exports","$3XkRp","$fP2mY","$ad29c3c3ca31ac9e$var$$toString","$ad29c3c3ca31ac9e$var$hasToStringTag","$ad29c3c3ca31ac9e$var$g","$ad29c3c3ca31ac9e$var$typedArrays","$ad29c3c3ca31ac9e$var$$slice","$ad29c3c3ca31ac9e$var$toStrTags","$ad29c3c3ca31ac9e$var$getPrototypeOf","$ad29c3c3ca31ac9e$exports","foundName","$ad29c3c3ca31ac9e$var$tryTypedArrays","$0b279e1654bb50dc$var$byteLength","ab","$0b279e1654bb50dc$var$sabByteLength","$0b279e1654bb50dc$var$$getTime","$0b279e1654bb50dc$var$gPO","$0b279e1654bb50dc$var$$objToString","$0b279e1654bb50dc$var$$Set","$0b279e1654bb50dc$var$$mapHas","$0b279e1654bb50dc$var$$mapGet","$0b279e1654bb50dc$var$$mapSize","$0b279e1654bb50dc$var$$setAdd","$0b279e1654bb50dc$var$$setDelete","$0b279e1654bb50dc$var$$setHas","$0b279e1654bb50dc$var$$setSize","$0b279e1654bb50dc$var$setHasEqualElement","val1","$0b279e1654bb50dc$var$internalDeepEqual","$0b279e1654bb50dc$var$findLooseMatchingPrimitives","prim","$0b279e1654bb50dc$var$mapMightHaveLoosePrim","item","altValue","curB","looseOpts","strict","$0b279e1654bb50dc$var$setMightHaveLoosePrim","$0b279e1654bb50dc$var$mapHasEqualEntry","key1","item1","key2","expected","sentinel","hasActual","hasExpected","aIsArray","$krMNj","bIsArray","aIsError","bIsError","message","aIsRegex","bIsRegex","aIsDate","bIsDate","aWhich","bWhich","aIsBuffer","$0b279e1654bb50dc$var$isBuffer","bIsBuffer","aIsArrayBuffer","bIsArrayBuffer","aIsSAB","bIsSAB","ka","kb","aCollection","bCollection","resultA","resultB","iA","iB","$0b279e1654bb50dc$var$setEquiv","item2","$0b279e1654bb50dc$var$mapEquiv","$0b279e1654bb50dc$var$objEquiv","isBuffer","$0b279e1654bb50dc$exports","$4m3EJ","an","r","param","segmentStart","h","rn","queue","cache","acos","p","g","M","w","L","A","q","P","ln","tan","rx","ry","ax","segments","__stack","wn","getArcLength","getPoint","getDerivative","init","qn","Ln","An","E","kn","C","Z","Pn","bn","getTotalLength","partialLengths","curves","T","x0","x1","y0","y1","F","I","H","X","Y","G","nn","yn","D","trim","N","Q","U","R","Cn","B","ceil","getPointAtLength","skipBisect","createElementNS","setAttributeNS","Sn","W","en","$","J","K","pop","tn","reverse","every","Tn","nt","et","ut","it","Et","kt","Mt","Pt","rt","steiner","mt","pt","ot","at","st","ht","yt","vt","nextZ","prevZ","wt","Lt","dt","qt","xt","ct","ft","lt","gt","bt","At","_t","St","bbox","properties","Ct","geometry","Vn","geometries","coordinates","arcs","In","transform","Zt","Tt","Yn","Ft","Dn","zt","triangles","area","jt","Hn","left","On","shift","Xn","features","It","zn","reduce","Vt","Xt","Yt","maxSegmentLength","single","Qn","Dt","Gt","Ot","Zn","Un","Ht","Rt","Bt","Jt","Nt","Qt","Wt","Kt","Ut","$t","rotate","skewX","skewY","toArray","calc","sn","hn","un","cn","pn","gn","atan","isDegenerate","vn","__matrix","iterate","__evaluateStack","round","toFixed","rel","unarc","unshort","dn","mn","Mn","unshift","getTangentAtLength","getPropertiesAtLength","tangentX","tangentY","_n","En","fraction","Fn","deviation","flatten","holes","jn","start","Gn","LineString","MultiLineString","Polygon","MultiPolygon","NaN","right","interpolate","separate","combine","interpolateAll","splitPathString","toPathString","fromCircle","toCircle","fromRect","toRect","$c100c5e65c65d5bb$exports","$e92d63d334fd9419$export$2e2bcd8739ae039","colorSet","colorValues","shapeSet","shapeValues","boot","drawShapes","alertSubscribers","updateData","updateRadius","updateColorSet","updateColorValues","updateShapeSet","updateShapeValues","subscribers","chart","selection","each","shapeGroup","$34c89bc7c4f260da$exports","select","append","current","shapesUpdate","selectAll","attr","exit","remove","$d4oT3","timer","elapsed","stop","transition","colorValue","includes","shapeValue","attrTween","fromPathCommands","toPathCommands","$parcel$interopDefault","$hG78e","default","enter","classed","subscribe","$3PWDX","$cbveU","$130e666881f78e68$export$2e2bcd8739ae039","draw","context","pi","moveTo","arc","tau","$d3f167c6f105faca$export$2e2bcd8739ae039","lineTo","closePath","$f286bf9d04fbe20e$var$tan30","$f286bf9d04fbe20e$var$tan30_2","$f286bf9d04fbe20e$export$2e2bcd8739ae039","$2517f210cc5fa16b$export$2e2bcd8739ae039","rect","$504ef09d972d3305$var$kr","$504ef09d972d3305$var$kx","$504ef09d972d3305$var$ky","$504ef09d972d3305$export$2e2bcd8739ae039","$61891d5797395c18$var$sqrt3","$61891d5797395c18$export$2e2bcd8739ae039","$c7572ed86855c731$var$c","$c7572ed86855c731$var$s","$c7572ed86855c731$var$k","$c7572ed86855c731$var$a","$c7572ed86855c731$export$2e2bcd8739ae039","x2","y2","$80c3c9cba49b32b9$export$2e2bcd8739ae039","$jaPjS","withPath","symbol","$8c390458f7789f79$export$2e2bcd8739ae039","symbolName","circle","triangle","square","cross","diamond","star","wye","$4c11169507b149ab$var$vornoi","$4c11169507b149ab$var$ctx","$4c11169507b149ab$var$textureWidth","$4c11169507b149ab$var$textureHeight","$4c11169507b149ab$var$chunkColors","$4c11169507b149ab$var$backgroundRadius","$4c11169507b149ab$var$shapeRenderer","$4c11169507b149ab$var$data","$4c11169507b149ab$var$arcIndexs","$4c11169507b149ab$var$inputData","$4c11169507b149ab$var$colors","$4c11169507b149ab$var$previouslyPayloadLength","$4c11169507b149ab$var$dom","$4c11169507b149ab$var$DOMImplementation","$22GsW","DOMImplementation","createDocument","$4c11169507b149ab$var$handlePositions","self","eve","computeCanvas","colorScale","textureW","textureH","ids","$4c11169507b149ab$var$init","bob","elements","save","clearRect","xCoord","yCoord","fill","fillStyle","strokeStyle","lineWidth","setTransform","beginPath","svgPath","Path2D","stroke","globalAlpha","restore","$4c11169507b149ab$var$draw","renderInChunks"],"version":3,"file":"shapeWorker.4f5192db.js.map"}