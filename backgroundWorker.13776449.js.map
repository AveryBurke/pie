{"mappings":"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","sources":["node_modules/d3-brush/src/index.js","node_modules/d3-brush/src/brush.js","node_modules/d3-dispatch/src/dispatch.js","node_modules/d3-drag/src/nodrag.js","node_modules/d3-selection/src/select.js","node_modules/d3-selection/src/selection/index.js","node_modules/d3-selection/src/selection/select.js","node_modules/d3-selection/src/selector.js","node_modules/d3-selection/src/selection/selectAll.js","node_modules/d3-selection/src/array.js","node_modules/d3-selection/src/selectorAll.js","node_modules/d3-selection/src/selection/selectChild.js","node_modules/d3-selection/src/matcher.js","node_modules/d3-selection/src/selection/selectChildren.js","node_modules/d3-selection/src/selection/filter.js","node_modules/d3-selection/src/selection/data.js","node_modules/d3-selection/src/selection/enter.js","node_modules/d3-selection/src/selection/sparse.js","node_modules/d3-selection/src/constant.js","node_modules/d3-selection/src/selection/exit.js","node_modules/d3-selection/src/selection/join.js","node_modules/d3-selection/src/selection/merge.js","node_modules/d3-selection/src/selection/order.js","node_modules/d3-selection/src/selection/sort.js","node_modules/d3-selection/src/selection/call.js","node_modules/d3-selection/src/selection/nodes.js","node_modules/d3-selection/src/selection/node.js","node_modules/d3-selection/src/selection/size.js","node_modules/d3-selection/src/selection/empty.js","node_modules/d3-selection/src/selection/each.js","node_modules/d3-selection/src/selection/attr.js","node_modules/d3-selection/src/namespace.js","node_modules/d3-selection/src/namespaces.js","node_modules/d3-selection/src/selection/style.js","node_modules/d3-selection/src/window.js","node_modules/d3-selection/src/selection/property.js","node_modules/d3-selection/src/selection/classed.js","node_modules/d3-selection/src/selection/text.js","node_modules/d3-selection/src/selection/html.js","node_modules/d3-selection/src/selection/raise.js","node_modules/d3-selection/src/selection/lower.js","node_modules/d3-selection/src/selection/append.js","node_modules/d3-selection/src/creator.js","node_modules/d3-selection/src/selection/insert.js","node_modules/d3-selection/src/selection/remove.js","node_modules/d3-selection/src/selection/clone.js","node_modules/d3-selection/src/selection/datum.js","node_modules/d3-selection/src/selection/on.js","node_modules/d3-selection/src/selection/dispatch.js","node_modules/d3-selection/src/selection/iterator.js","node_modules/d3-drag/src/noevent.js","node_modules/d3-interpolate/src/value.js","node_modules/d3-color/src/color.js","node_modules/d3-color/src/define.js","node_modules/d3-interpolate/src/rgb.js","node_modules/d3-interpolate/src/basis.js","node_modules/d3-interpolate/src/basisClosed.js","node_modules/d3-interpolate/src/color.js","node_modules/d3-interpolate/src/constant.js","node_modules/d3-interpolate/src/array.js","node_modules/d3-interpolate/src/numberArray.js","node_modules/d3-interpolate/src/date.js","node_modules/d3-interpolate/src/number.js","node_modules/d3-interpolate/src/object.js","node_modules/d3-interpolate/src/string.js","node_modules/d3-selection/src/pointer.js","node_modules/d3-selection/src/sourceEvent.js","node_modules/d3-transition/src/index.js","node_modules/d3-transition/src/selection/index.js","node_modules/d3-transition/src/selection/interrupt.js","node_modules/d3-transition/src/interrupt.js","node_modules/d3-transition/src/transition/schedule.js","node_modules/d3-timer/src/timeout.js","node_modules/d3-timer/src/timer.js","node_modules/d3-transition/src/selection/transition.js","node_modules/d3-transition/src/transition/index.js","node_modules/d3-transition/src/transition/attr.js","node_modules/d3-interpolate/src/transform/index.js","node_modules/d3-interpolate/src/transform/parse.js","node_modules/d3-interpolate/src/transform/decompose.js","node_modules/d3-transition/src/transition/tween.js","node_modules/d3-transition/src/transition/interpolate.js","node_modules/d3-transition/src/transition/attrTween.js","node_modules/d3-transition/src/transition/delay.js","node_modules/d3-transition/src/transition/duration.js","node_modules/d3-transition/src/transition/ease.js","node_modules/d3-transition/src/transition/easeVarying.js","node_modules/d3-transition/src/transition/filter.js","node_modules/d3-transition/src/transition/merge.js","node_modules/d3-transition/src/transition/on.js","node_modules/d3-transition/src/transition/remove.js","node_modules/d3-transition/src/transition/select.js","node_modules/d3-transition/src/transition/selectAll.js","node_modules/d3-transition/src/transition/selection.js","node_modules/d3-transition/src/transition/style.js","node_modules/d3-transition/src/transition/styleTween.js","node_modules/d3-transition/src/transition/text.js","node_modules/d3-transition/src/transition/textTween.js","node_modules/d3-transition/src/transition/transition.js","node_modules/d3-transition/src/transition/end.js","node_modules/d3-ease/src/cubic.js","node_modules/d3-brush/src/constant.js","node_modules/d3-brush/src/event.js","node_modules/d3-brush/src/noevent.js","node_modules/d3-zoom/src/index.js","node_modules/d3-zoom/src/zoom.js","node_modules/d3-interpolate/src/zoom.js","node_modules/d3-zoom/src/constant.js","node_modules/d3-zoom/src/event.js","node_modules/d3-zoom/src/transform.js","node_modules/d3-zoom/src/noevent.js","node_modules/d3-shape/src/arc.js","node_modules/d3-shape/src/constant.js","node_modules/d3-shape/src/math.js","node_modules/d3-shape/src/path.js","node_modules/d3-path/src/path.js","src/d3/renderBackground.ts","node_modules/d3-ease/src/poly.js","src/domparser_bundle.js","node_modules/d3-shape/src/symbol.js","node_modules/d3-shape/src/symbol/asterisk.js","node_modules/d3-shape/src/symbol/circle.js","node_modules/d3-shape/src/symbol/cross.js","node_modules/d3-shape/src/symbol/diamond.js","node_modules/d3-shape/src/symbol/diamond2.js","node_modules/d3-shape/src/symbol/plus.js","node_modules/d3-shape/src/symbol/square.js","node_modules/d3-shape/src/symbol/square2.js","node_modules/d3-shape/src/symbol/star.js","node_modules/d3-shape/src/symbol/triangle.js","node_modules/d3-shape/src/symbol/triangle2.js","node_modules/d3-shape/src/symbol/wye.js","node_modules/d3-shape/src/symbol/times.js"],"sourcesContent":["export {\n  default as brush,\n  brushX,\n  brushY,\n  brushSelection\n} from \"./brush.js\";\n","import {dispatch} from \"d3-dispatch\";\nimport {dragDisable, dragEnable} from \"d3-drag\";\nimport {interpolate} from \"d3-interpolate\";\nimport {pointer, select} from \"d3-selection\";\nimport {interrupt} from \"d3-transition\";\nimport constant from \"./constant.js\";\nimport BrushEvent from \"./event.js\";\nimport noevent, {nopropagation} from \"./noevent.js\";\n\nvar MODE_DRAG = {name: \"drag\"},\n    MODE_SPACE = {name: \"space\"},\n    MODE_HANDLE = {name: \"handle\"},\n    MODE_CENTER = {name: \"center\"};\n\nconst {abs, max, min} = Math;\n\nfunction number1(e) {\n  return [+e[0], +e[1]];\n}\n\nfunction number2(e) {\n  return [number1(e[0]), number1(e[1])];\n}\n\nvar X = {\n  name: \"x\",\n  handles: [\"w\", \"e\"].map(type),\n  input: function(x, e) { return x == null ? null : [[+x[0], e[0][1]], [+x[1], e[1][1]]]; },\n  output: function(xy) { return xy && [xy[0][0], xy[1][0]]; }\n};\n\nvar Y = {\n  name: \"y\",\n  handles: [\"n\", \"s\"].map(type),\n  input: function(y, e) { return y == null ? null : [[e[0][0], +y[0]], [e[1][0], +y[1]]]; },\n  output: function(xy) { return xy && [xy[0][1], xy[1][1]]; }\n};\n\nvar XY = {\n  name: \"xy\",\n  handles: [\"n\", \"w\", \"e\", \"s\", \"nw\", \"ne\", \"sw\", \"se\"].map(type),\n  input: function(xy) { return xy == null ? null : number2(xy); },\n  output: function(xy) { return xy; }\n};\n\nvar cursors = {\n  overlay: \"crosshair\",\n  selection: \"move\",\n  n: \"ns-resize\",\n  e: \"ew-resize\",\n  s: \"ns-resize\",\n  w: \"ew-resize\",\n  nw: \"nwse-resize\",\n  ne: \"nesw-resize\",\n  se: \"nwse-resize\",\n  sw: \"nesw-resize\"\n};\n\nvar flipX = {\n  e: \"w\",\n  w: \"e\",\n  nw: \"ne\",\n  ne: \"nw\",\n  se: \"sw\",\n  sw: \"se\"\n};\n\nvar flipY = {\n  n: \"s\",\n  s: \"n\",\n  nw: \"sw\",\n  ne: \"se\",\n  se: \"ne\",\n  sw: \"nw\"\n};\n\nvar signsX = {\n  overlay: +1,\n  selection: +1,\n  n: null,\n  e: +1,\n  s: null,\n  w: -1,\n  nw: -1,\n  ne: +1,\n  se: +1,\n  sw: -1\n};\n\nvar signsY = {\n  overlay: +1,\n  selection: +1,\n  n: -1,\n  e: null,\n  s: +1,\n  w: null,\n  nw: -1,\n  ne: -1,\n  se: +1,\n  sw: +1\n};\n\nfunction type(t) {\n  return {type: t};\n}\n\n// Ignore right-click, since that should open the context menu.\nfunction defaultFilter(event) {\n  return !event.ctrlKey && !event.button;\n}\n\nfunction defaultExtent() {\n  var svg = this.ownerSVGElement || this;\n  if (svg.hasAttribute(\"viewBox\")) {\n    svg = svg.viewBox.baseVal;\n    return [[svg.x, svg.y], [svg.x + svg.width, svg.y + svg.height]];\n  }\n  return [[0, 0], [svg.width.baseVal.value, svg.height.baseVal.value]];\n}\n\nfunction defaultTouchable() {\n  return navigator.maxTouchPoints || (\"ontouchstart\" in this);\n}\n\n// Like d3.local, but with the name __brush rather than auto-generated.\nfunction local(node) {\n  while (!node.__brush) if (!(node = node.parentNode)) return;\n  return node.__brush;\n}\n\nfunction empty(extent) {\n  return extent[0][0] === extent[1][0]\n      || extent[0][1] === extent[1][1];\n}\n\nexport function brushSelection(node) {\n  var state = node.__brush;\n  return state ? state.dim.output(state.selection) : null;\n}\n\nexport function brushX() {\n  return brush(X);\n}\n\nexport function brushY() {\n  return brush(Y);\n}\n\nexport default function() {\n  return brush(XY);\n}\n\nfunction brush(dim) {\n  var extent = defaultExtent,\n      filter = defaultFilter,\n      touchable = defaultTouchable,\n      keys = true,\n      listeners = dispatch(\"start\", \"brush\", \"end\"),\n      handleSize = 6,\n      touchending;\n\n  function brush(group) {\n    var overlay = group\n        .property(\"__brush\", initialize)\n      .selectAll(\".overlay\")\n      .data([type(\"overlay\")]);\n\n    overlay.enter().append(\"rect\")\n        .attr(\"class\", \"overlay\")\n        .attr(\"pointer-events\", \"all\")\n        .attr(\"cursor\", cursors.overlay)\n      .merge(overlay)\n        .each(function() {\n          var extent = local(this).extent;\n          select(this)\n              .attr(\"x\", extent[0][0])\n              .attr(\"y\", extent[0][1])\n              .attr(\"width\", extent[1][0] - extent[0][0])\n              .attr(\"height\", extent[1][1] - extent[0][1]);\n        });\n\n    group.selectAll(\".selection\")\n      .data([type(\"selection\")])\n      .enter().append(\"rect\")\n        .attr(\"class\", \"selection\")\n        .attr(\"cursor\", cursors.selection)\n        .attr(\"fill\", \"#777\")\n        .attr(\"fill-opacity\", 0.3)\n        .attr(\"stroke\", \"#fff\")\n        .attr(\"shape-rendering\", \"crispEdges\");\n\n    var handle = group.selectAll(\".handle\")\n      .data(dim.handles, function(d) { return d.type; });\n\n    handle.exit().remove();\n\n    handle.enter().append(\"rect\")\n        .attr(\"class\", function(d) { return \"handle handle--\" + d.type; })\n        .attr(\"cursor\", function(d) { return cursors[d.type]; });\n\n    group\n        .each(redraw)\n        .attr(\"fill\", \"none\")\n        .attr(\"pointer-events\", \"all\")\n        .on(\"mousedown.brush\", started)\n      .filter(touchable)\n        .on(\"touchstart.brush\", started)\n        .on(\"touchmove.brush\", touchmoved)\n        .on(\"touchend.brush touchcancel.brush\", touchended)\n        .style(\"touch-action\", \"none\")\n        .style(\"-webkit-tap-highlight-color\", \"rgba(0,0,0,0)\");\n  }\n\n  brush.move = function(group, selection, event) {\n    if (group.tween) {\n      group\n          .on(\"start.brush\", function(event) { emitter(this, arguments).beforestart().start(event); })\n          .on(\"interrupt.brush end.brush\", function(event) { emitter(this, arguments).end(event); })\n          .tween(\"brush\", function() {\n            var that = this,\n                state = that.__brush,\n                emit = emitter(that, arguments),\n                selection0 = state.selection,\n                selection1 = dim.input(typeof selection === \"function\" ? selection.apply(this, arguments) : selection, state.extent),\n                i = interpolate(selection0, selection1);\n\n            function tween(t) {\n              state.selection = t === 1 && selection1 === null ? null : i(t);\n              redraw.call(that);\n              emit.brush();\n            }\n\n            return selection0 !== null && selection1 !== null ? tween : tween(1);\n          });\n    } else {\n      group\n          .each(function() {\n            var that = this,\n                args = arguments,\n                state = that.__brush,\n                selection1 = dim.input(typeof selection === \"function\" ? selection.apply(that, args) : selection, state.extent),\n                emit = emitter(that, args).beforestart();\n\n            interrupt(that);\n            state.selection = selection1 === null ? null : selection1;\n            redraw.call(that);\n            emit.start(event).brush(event).end(event);\n          });\n    }\n  };\n\n  brush.clear = function(group, event) {\n    brush.move(group, null, event);\n  };\n\n  function redraw() {\n    var group = select(this),\n        selection = local(this).selection;\n\n    if (selection) {\n      group.selectAll(\".selection\")\n          .style(\"display\", null)\n          .attr(\"x\", selection[0][0])\n          .attr(\"y\", selection[0][1])\n          .attr(\"width\", selection[1][0] - selection[0][0])\n          .attr(\"height\", selection[1][1] - selection[0][1]);\n\n      group.selectAll(\".handle\")\n          .style(\"display\", null)\n          .attr(\"x\", function(d) { return d.type[d.type.length - 1] === \"e\" ? selection[1][0] - handleSize / 2 : selection[0][0] - handleSize / 2; })\n          .attr(\"y\", function(d) { return d.type[0] === \"s\" ? selection[1][1] - handleSize / 2 : selection[0][1] - handleSize / 2; })\n          .attr(\"width\", function(d) { return d.type === \"n\" || d.type === \"s\" ? selection[1][0] - selection[0][0] + handleSize : handleSize; })\n          .attr(\"height\", function(d) { return d.type === \"e\" || d.type === \"w\" ? selection[1][1] - selection[0][1] + handleSize : handleSize; });\n    }\n\n    else {\n      group.selectAll(\".selection,.handle\")\n          .style(\"display\", \"none\")\n          .attr(\"x\", null)\n          .attr(\"y\", null)\n          .attr(\"width\", null)\n          .attr(\"height\", null);\n    }\n  }\n\n  function emitter(that, args, clean) {\n    var emit = that.__brush.emitter;\n    return emit && (!clean || !emit.clean) ? emit : new Emitter(that, args, clean);\n  }\n\n  function Emitter(that, args, clean) {\n    this.that = that;\n    this.args = args;\n    this.state = that.__brush;\n    this.active = 0;\n    this.clean = clean;\n  }\n\n  Emitter.prototype = {\n    beforestart: function() {\n      if (++this.active === 1) this.state.emitter = this, this.starting = true;\n      return this;\n    },\n    start: function(event, mode) {\n      if (this.starting) this.starting = false, this.emit(\"start\", event, mode);\n      else this.emit(\"brush\", event);\n      return this;\n    },\n    brush: function(event, mode) {\n      this.emit(\"brush\", event, mode);\n      return this;\n    },\n    end: function(event, mode) {\n      if (--this.active === 0) delete this.state.emitter, this.emit(\"end\", event, mode);\n      return this;\n    },\n    emit: function(type, event, mode) {\n      var d = select(this.that).datum();\n      listeners.call(\n        type,\n        this.that,\n        new BrushEvent(type, {\n          sourceEvent: event,\n          target: brush,\n          selection: dim.output(this.state.selection),\n          mode,\n          dispatch: listeners\n        }),\n        d\n      );\n    }\n  };\n\n  function started(event) {\n    if (touchending && !event.touches) return;\n    if (!filter.apply(this, arguments)) return;\n\n    var that = this,\n        type = event.target.__data__.type,\n        mode = (keys && event.metaKey ? type = \"overlay\" : type) === \"selection\" ? MODE_DRAG : (keys && event.altKey ? MODE_CENTER : MODE_HANDLE),\n        signX = dim === Y ? null : signsX[type],\n        signY = dim === X ? null : signsY[type],\n        state = local(that),\n        extent = state.extent,\n        selection = state.selection,\n        W = extent[0][0], w0, w1,\n        N = extent[0][1], n0, n1,\n        E = extent[1][0], e0, e1,\n        S = extent[1][1], s0, s1,\n        dx = 0,\n        dy = 0,\n        moving,\n        shifting = signX && signY && keys && event.shiftKey,\n        lockX,\n        lockY,\n        points = Array.from(event.touches || [event], t => {\n          const i = t.identifier;\n          t = pointer(t, that);\n          t.point0 = t.slice();\n          t.identifier = i;\n          return t;\n        });\n\n    interrupt(that);\n    var emit = emitter(that, arguments, true).beforestart();\n\n    if (type === \"overlay\") {\n      if (selection) moving = true;\n      const pts = [points[0], points[1] || points[0]];\n      state.selection = selection = [[\n          w0 = dim === Y ? W : min(pts[0][0], pts[1][0]),\n          n0 = dim === X ? N : min(pts[0][1], pts[1][1])\n        ], [\n          e0 = dim === Y ? E : max(pts[0][0], pts[1][0]),\n          s0 = dim === X ? S : max(pts[0][1], pts[1][1])\n        ]];\n      if (points.length > 1) move(event);\n    } else {\n      w0 = selection[0][0];\n      n0 = selection[0][1];\n      e0 = selection[1][0];\n      s0 = selection[1][1];\n    }\n\n    w1 = w0;\n    n1 = n0;\n    e1 = e0;\n    s1 = s0;\n\n    var group = select(that)\n        .attr(\"pointer-events\", \"none\");\n\n    var overlay = group.selectAll(\".overlay\")\n        .attr(\"cursor\", cursors[type]);\n\n    if (event.touches) {\n      emit.moved = moved;\n      emit.ended = ended;\n    } else {\n      var view = select(event.view)\n          .on(\"mousemove.brush\", moved, true)\n          .on(\"mouseup.brush\", ended, true);\n      if (keys) view\n          .on(\"keydown.brush\", keydowned, true)\n          .on(\"keyup.brush\", keyupped, true)\n\n      dragDisable(event.view);\n    }\n\n    redraw.call(that);\n    emit.start(event, mode.name);\n\n    function moved(event) {\n      for (const p of event.changedTouches || [event]) {\n        for (const d of points)\n          if (d.identifier === p.identifier) d.cur = pointer(p, that);\n      }\n      if (shifting && !lockX && !lockY && points.length === 1) {\n        const point = points[0];\n        if (abs(point.cur[0] - point[0]) > abs(point.cur[1] - point[1]))\n          lockY = true;\n        else\n          lockX = true;\n      }\n      for (const point of points)\n        if (point.cur) point[0] = point.cur[0], point[1] = point.cur[1];\n      moving = true;\n      noevent(event);\n      move(event);\n    }\n\n    function move(event) {\n      const point = points[0], point0 = point.point0;\n      var t;\n\n      dx = point[0] - point0[0];\n      dy = point[1] - point0[1];\n\n      switch (mode) {\n        case MODE_SPACE:\n        case MODE_DRAG: {\n          if (signX) dx = max(W - w0, min(E - e0, dx)), w1 = w0 + dx, e1 = e0 + dx;\n          if (signY) dy = max(N - n0, min(S - s0, dy)), n1 = n0 + dy, s1 = s0 + dy;\n          break;\n        }\n        case MODE_HANDLE: {\n          if (points[1]) {\n            if (signX) w1 = max(W, min(E, points[0][0])), e1 = max(W, min(E, points[1][0])), signX = 1;\n            if (signY) n1 = max(N, min(S, points[0][1])), s1 = max(N, min(S, points[1][1])), signY = 1;\n          } else {\n            if (signX < 0) dx = max(W - w0, min(E - w0, dx)), w1 = w0 + dx, e1 = e0;\n            else if (signX > 0) dx = max(W - e0, min(E - e0, dx)), w1 = w0, e1 = e0 + dx;\n            if (signY < 0) dy = max(N - n0, min(S - n0, dy)), n1 = n0 + dy, s1 = s0;\n            else if (signY > 0) dy = max(N - s0, min(S - s0, dy)), n1 = n0, s1 = s0 + dy;\n          }\n          break;\n        }\n        case MODE_CENTER: {\n          if (signX) w1 = max(W, min(E, w0 - dx * signX)), e1 = max(W, min(E, e0 + dx * signX));\n          if (signY) n1 = max(N, min(S, n0 - dy * signY)), s1 = max(N, min(S, s0 + dy * signY));\n          break;\n        }\n      }\n\n      if (e1 < w1) {\n        signX *= -1;\n        t = w0, w0 = e0, e0 = t;\n        t = w1, w1 = e1, e1 = t;\n        if (type in flipX) overlay.attr(\"cursor\", cursors[type = flipX[type]]);\n      }\n\n      if (s1 < n1) {\n        signY *= -1;\n        t = n0, n0 = s0, s0 = t;\n        t = n1, n1 = s1, s1 = t;\n        if (type in flipY) overlay.attr(\"cursor\", cursors[type = flipY[type]]);\n      }\n\n      if (state.selection) selection = state.selection; // May be set by brush.move!\n      if (lockX) w1 = selection[0][0], e1 = selection[1][0];\n      if (lockY) n1 = selection[0][1], s1 = selection[1][1];\n\n      if (selection[0][0] !== w1\n          || selection[0][1] !== n1\n          || selection[1][0] !== e1\n          || selection[1][1] !== s1) {\n        state.selection = [[w1, n1], [e1, s1]];\n        redraw.call(that);\n        emit.brush(event, mode.name);\n      }\n    }\n\n    function ended(event) {\n      nopropagation(event);\n      if (event.touches) {\n        if (event.touches.length) return;\n        if (touchending) clearTimeout(touchending);\n        touchending = setTimeout(function() { touchending = null; }, 500); // Ghost clicks are delayed!\n      } else {\n        dragEnable(event.view, moving);\n        view.on(\"keydown.brush keyup.brush mousemove.brush mouseup.brush\", null);\n      }\n      group.attr(\"pointer-events\", \"all\");\n      overlay.attr(\"cursor\", cursors.overlay);\n      if (state.selection) selection = state.selection; // May be set by brush.move (on start)!\n      if (empty(selection)) state.selection = null, redraw.call(that);\n      emit.end(event, mode.name);\n    }\n\n    function keydowned(event) {\n      switch (event.keyCode) {\n        case 16: { // SHIFT\n          shifting = signX && signY;\n          break;\n        }\n        case 18: { // ALT\n          if (mode === MODE_HANDLE) {\n            if (signX) e0 = e1 - dx * signX, w0 = w1 + dx * signX;\n            if (signY) s0 = s1 - dy * signY, n0 = n1 + dy * signY;\n            mode = MODE_CENTER;\n            move(event);\n          }\n          break;\n        }\n        case 32: { // SPACE; takes priority over ALT\n          if (mode === MODE_HANDLE || mode === MODE_CENTER) {\n            if (signX < 0) e0 = e1 - dx; else if (signX > 0) w0 = w1 - dx;\n            if (signY < 0) s0 = s1 - dy; else if (signY > 0) n0 = n1 - dy;\n            mode = MODE_SPACE;\n            overlay.attr(\"cursor\", cursors.selection);\n            move(event);\n          }\n          break;\n        }\n        default: return;\n      }\n      noevent(event);\n    }\n\n    function keyupped(event) {\n      switch (event.keyCode) {\n        case 16: { // SHIFT\n          if (shifting) {\n            lockX = lockY = shifting = false;\n            move(event);\n          }\n          break;\n        }\n        case 18: { // ALT\n          if (mode === MODE_CENTER) {\n            if (signX < 0) e0 = e1; else if (signX > 0) w0 = w1;\n            if (signY < 0) s0 = s1; else if (signY > 0) n0 = n1;\n            mode = MODE_HANDLE;\n            move(event);\n          }\n          break;\n        }\n        case 32: { // SPACE\n          if (mode === MODE_SPACE) {\n            if (event.altKey) {\n              if (signX) e0 = e1 - dx * signX, w0 = w1 + dx * signX;\n              if (signY) s0 = s1 - dy * signY, n0 = n1 + dy * signY;\n              mode = MODE_CENTER;\n            } else {\n              if (signX < 0) e0 = e1; else if (signX > 0) w0 = w1;\n              if (signY < 0) s0 = s1; else if (signY > 0) n0 = n1;\n              mode = MODE_HANDLE;\n            }\n            overlay.attr(\"cursor\", cursors[type]);\n            move(event);\n          }\n          break;\n        }\n        default: return;\n      }\n      noevent(event);\n    }\n  }\n\n  function touchmoved(event) {\n    emitter(this, arguments).moved(event);\n  }\n\n  function touchended(event) {\n    emitter(this, arguments).ended(event);\n  }\n\n  function initialize() {\n    var state = this.__brush || {selection: null};\n    state.extent = number2(extent.apply(this, arguments));\n    state.dim = dim;\n    return state;\n  }\n\n  brush.extent = function(_) {\n    return arguments.length ? (extent = typeof _ === \"function\" ? _ : constant(number2(_)), brush) : extent;\n  };\n\n  brush.filter = function(_) {\n    return arguments.length ? (filter = typeof _ === \"function\" ? _ : constant(!!_), brush) : filter;\n  };\n\n  brush.touchable = function(_) {\n    return arguments.length ? (touchable = typeof _ === \"function\" ? _ : constant(!!_), brush) : touchable;\n  };\n\n  brush.handleSize = function(_) {\n    return arguments.length ? (handleSize = +_, brush) : handleSize;\n  };\n\n  brush.keyModifiers = function(_) {\n    return arguments.length ? (keys = !!_, brush) : keys;\n  };\n\n  brush.on = function() {\n    var value = listeners.on.apply(listeners, arguments);\n    return value === listeners ? brush : value;\n  };\n\n  return brush;\n}\n","var noop = {value: () => {}};\n\nfunction dispatch() {\n  for (var i = 0, n = arguments.length, _ = {}, t; i < n; ++i) {\n    if (!(t = arguments[i] + \"\") || (t in _) || /[\\s.]/.test(t)) throw new Error(\"illegal type: \" + t);\n    _[t] = [];\n  }\n  return new Dispatch(_);\n}\n\nfunction Dispatch(_) {\n  this._ = _;\n}\n\nfunction parseTypenames(typenames, types) {\n  return typenames.trim().split(/^|\\s+/).map(function(t) {\n    var name = \"\", i = t.indexOf(\".\");\n    if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);\n    if (t && !types.hasOwnProperty(t)) throw new Error(\"unknown type: \" + t);\n    return {type: t, name: name};\n  });\n}\n\nDispatch.prototype = dispatch.prototype = {\n  constructor: Dispatch,\n  on: function(typename, callback) {\n    var _ = this._,\n        T = parseTypenames(typename + \"\", _),\n        t,\n        i = -1,\n        n = T.length;\n\n    // If no callback was specified, return the callback of the given type and name.\n    if (arguments.length < 2) {\n      while (++i < n) if ((t = (typename = T[i]).type) && (t = get(_[t], typename.name))) return t;\n      return;\n    }\n\n    // If a type was specified, set the callback for the given type and name.\n    // Otherwise, if a null callback was specified, remove callbacks of the given name.\n    if (callback != null && typeof callback !== \"function\") throw new Error(\"invalid callback: \" + callback);\n    while (++i < n) {\n      if (t = (typename = T[i]).type) _[t] = set(_[t], typename.name, callback);\n      else if (callback == null) for (t in _) _[t] = set(_[t], typename.name, null);\n    }\n\n    return this;\n  },\n  copy: function() {\n    var copy = {}, _ = this._;\n    for (var t in _) copy[t] = _[t].slice();\n    return new Dispatch(copy);\n  },\n  call: function(type, that) {\n    if ((n = arguments.length - 2) > 0) for (var args = new Array(n), i = 0, n, t; i < n; ++i) args[i] = arguments[i + 2];\n    if (!this._.hasOwnProperty(type)) throw new Error(\"unknown type: \" + type);\n    for (t = this._[type], i = 0, n = t.length; i < n; ++i) t[i].value.apply(that, args);\n  },\n  apply: function(type, that, args) {\n    if (!this._.hasOwnProperty(type)) throw new Error(\"unknown type: \" + type);\n    for (var t = this._[type], i = 0, n = t.length; i < n; ++i) t[i].value.apply(that, args);\n  }\n};\n\nfunction get(type, name) {\n  for (var i = 0, n = type.length, c; i < n; ++i) {\n    if ((c = type[i]).name === name) {\n      return c.value;\n    }\n  }\n}\n\nfunction set(type, name, callback) {\n  for (var i = 0, n = type.length; i < n; ++i) {\n    if (type[i].name === name) {\n      type[i] = noop, type = type.slice(0, i).concat(type.slice(i + 1));\n      break;\n    }\n  }\n  if (callback != null) type.push({name: name, value: callback});\n  return type;\n}\n\nexport default dispatch;\n","import {select} from \"d3-selection\";\nimport noevent, {nonpassivecapture} from \"./noevent.js\";\n\nexport default function(view) {\n  var root = view.document.documentElement,\n      selection = select(view).on(\"dragstart.drag\", noevent, nonpassivecapture);\n  if (\"onselectstart\" in root) {\n    selection.on(\"selectstart.drag\", noevent, nonpassivecapture);\n  } else {\n    root.__noselect = root.style.MozUserSelect;\n    root.style.MozUserSelect = \"none\";\n  }\n}\n\nexport function yesdrag(view, noclick) {\n  var root = view.document.documentElement,\n      selection = select(view).on(\"dragstart.drag\", null);\n  if (noclick) {\n    selection.on(\"click.drag\", noevent, nonpassivecapture);\n    setTimeout(function() { selection.on(\"click.drag\", null); }, 0);\n  }\n  if (\"onselectstart\" in root) {\n    selection.on(\"selectstart.drag\", null);\n  } else {\n    root.style.MozUserSelect = root.__noselect;\n    delete root.__noselect;\n  }\n}\n","import {Selection, root} from \"./selection/index.js\";\n\nexport default function(selector) {\n  return typeof selector === \"string\"\n      ? new Selection([[document.querySelector(selector)]], [document.documentElement])\n      : new Selection([[selector]], root);\n}\n","import selection_select from \"./select.js\";\nimport selection_selectAll from \"./selectAll.js\";\nimport selection_selectChild from \"./selectChild.js\";\nimport selection_selectChildren from \"./selectChildren.js\";\nimport selection_filter from \"./filter.js\";\nimport selection_data from \"./data.js\";\nimport selection_enter from \"./enter.js\";\nimport selection_exit from \"./exit.js\";\nimport selection_join from \"./join.js\";\nimport selection_merge from \"./merge.js\";\nimport selection_order from \"./order.js\";\nimport selection_sort from \"./sort.js\";\nimport selection_call from \"./call.js\";\nimport selection_nodes from \"./nodes.js\";\nimport selection_node from \"./node.js\";\nimport selection_size from \"./size.js\";\nimport selection_empty from \"./empty.js\";\nimport selection_each from \"./each.js\";\nimport selection_attr from \"./attr.js\";\nimport selection_style from \"./style.js\";\nimport selection_property from \"./property.js\";\nimport selection_classed from \"./classed.js\";\nimport selection_text from \"./text.js\";\nimport selection_html from \"./html.js\";\nimport selection_raise from \"./raise.js\";\nimport selection_lower from \"./lower.js\";\nimport selection_append from \"./append.js\";\nimport selection_insert from \"./insert.js\";\nimport selection_remove from \"./remove.js\";\nimport selection_clone from \"./clone.js\";\nimport selection_datum from \"./datum.js\";\nimport selection_on from \"./on.js\";\nimport selection_dispatch from \"./dispatch.js\";\nimport selection_iterator from \"./iterator.js\";\n\nexport var root = [null];\n\nexport function Selection(groups, parents) {\n  this._groups = groups;\n  this._parents = parents;\n}\n\nfunction selection() {\n  return new Selection([[document.documentElement]], root);\n}\n\nfunction selection_selection() {\n  return this;\n}\n\nSelection.prototype = selection.prototype = {\n  constructor: Selection,\n  select: selection_select,\n  selectAll: selection_selectAll,\n  selectChild: selection_selectChild,\n  selectChildren: selection_selectChildren,\n  filter: selection_filter,\n  data: selection_data,\n  enter: selection_enter,\n  exit: selection_exit,\n  join: selection_join,\n  merge: selection_merge,\n  selection: selection_selection,\n  order: selection_order,\n  sort: selection_sort,\n  call: selection_call,\n  nodes: selection_nodes,\n  node: selection_node,\n  size: selection_size,\n  empty: selection_empty,\n  each: selection_each,\n  attr: selection_attr,\n  style: selection_style,\n  property: selection_property,\n  classed: selection_classed,\n  text: selection_text,\n  html: selection_html,\n  raise: selection_raise,\n  lower: selection_lower,\n  append: selection_append,\n  insert: selection_insert,\n  remove: selection_remove,\n  clone: selection_clone,\n  datum: selection_datum,\n  on: selection_on,\n  dispatch: selection_dispatch,\n  [Symbol.iterator]: selection_iterator\n};\n\nexport default selection;\n","import {Selection} from \"./index.js\";\nimport selector from \"../selector.js\";\n\nexport default function(select) {\n  if (typeof select !== \"function\") select = selector(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = new Array(n), node, subnode, i = 0; i < n; ++i) {\n      if ((node = group[i]) && (subnode = select.call(node, node.__data__, i, group))) {\n        if (\"__data__\" in node) subnode.__data__ = node.__data__;\n        subgroup[i] = subnode;\n      }\n    }\n  }\n\n  return new Selection(subgroups, this._parents);\n}\n","function none() {}\n\nexport default function(selector) {\n  return selector == null ? none : function() {\n    return this.querySelector(selector);\n  };\n}\n","import {Selection} from \"./index.js\";\nimport array from \"../array.js\";\nimport selectorAll from \"../selectorAll.js\";\n\nfunction arrayAll(select) {\n  return function() {\n    return array(select.apply(this, arguments));\n  };\n}\n\nexport default function(select) {\n  if (typeof select === \"function\") select = arrayAll(select);\n  else select = selectorAll(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = [], parents = [], j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        subgroups.push(select.call(node, node.__data__, i, group));\n        parents.push(node);\n      }\n    }\n  }\n\n  return new Selection(subgroups, parents);\n}\n","// Given something array like (or null), returns something that is strictly an\n// array. This is used to ensure that array-like objects passed to d3.selectAll\n// or selection.selectAll are converted into proper arrays when creating a\n// selection; we dont ever want to create a selection backed by a live\n// HTMLCollection or NodeList. However, note that selection.selectAll will use a\n// static NodeList as a group, since it safely derived from querySelectorAll.\nexport default function array(x) {\n  return x == null ? [] : Array.isArray(x) ? x : Array.from(x);\n}\n","function empty() {\n  return [];\n}\n\nexport default function(selector) {\n  return selector == null ? empty : function() {\n    return this.querySelectorAll(selector);\n  };\n}\n","import {childMatcher} from \"../matcher.js\";\n\nvar find = Array.prototype.find;\n\nfunction childFind(match) {\n  return function() {\n    return find.call(this.children, match);\n  };\n}\n\nfunction childFirst() {\n  return this.firstElementChild;\n}\n\nexport default function(match) {\n  return this.select(match == null ? childFirst\n      : childFind(typeof match === \"function\" ? match : childMatcher(match)));\n}\n","export default function(selector) {\n  return function() {\n    return this.matches(selector);\n  };\n}\n\nexport function childMatcher(selector) {\n  return function(node) {\n    return node.matches(selector);\n  };\n}\n\n","import {childMatcher} from \"../matcher.js\";\n\nvar filter = Array.prototype.filter;\n\nfunction children() {\n  return Array.from(this.children);\n}\n\nfunction childrenFilter(match) {\n  return function() {\n    return filter.call(this.children, match);\n  };\n}\n\nexport default function(match) {\n  return this.selectAll(match == null ? children\n      : childrenFilter(typeof match === \"function\" ? match : childMatcher(match)));\n}\n","import {Selection} from \"./index.js\";\nimport matcher from \"../matcher.js\";\n\nexport default function(match) {\n  if (typeof match !== \"function\") match = matcher(match);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = [], node, i = 0; i < n; ++i) {\n      if ((node = group[i]) && match.call(node, node.__data__, i, group)) {\n        subgroup.push(node);\n      }\n    }\n  }\n\n  return new Selection(subgroups, this._parents);\n}\n","import {Selection} from \"./index.js\";\nimport {EnterNode} from \"./enter.js\";\nimport constant from \"../constant.js\";\n\nfunction bindIndex(parent, group, enter, update, exit, data) {\n  var i = 0,\n      node,\n      groupLength = group.length,\n      dataLength = data.length;\n\n  // Put any non-null nodes that fit into update.\n  // Put any null nodes into enter.\n  // Put any remaining data into enter.\n  for (; i < dataLength; ++i) {\n    if (node = group[i]) {\n      node.__data__ = data[i];\n      update[i] = node;\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  }\n\n  // Put any non-null nodes that dont fit into exit.\n  for (; i < groupLength; ++i) {\n    if (node = group[i]) {\n      exit[i] = node;\n    }\n  }\n}\n\nfunction bindKey(parent, group, enter, update, exit, data, key) {\n  var i,\n      node,\n      nodeByKeyValue = new Map,\n      groupLength = group.length,\n      dataLength = data.length,\n      keyValues = new Array(groupLength),\n      keyValue;\n\n  // Compute the key for each node.\n  // If multiple nodes have the same key, the duplicates are added to exit.\n  for (i = 0; i < groupLength; ++i) {\n    if (node = group[i]) {\n      keyValues[i] = keyValue = key.call(node, node.__data__, i, group) + \"\";\n      if (nodeByKeyValue.has(keyValue)) {\n        exit[i] = node;\n      } else {\n        nodeByKeyValue.set(keyValue, node);\n      }\n    }\n  }\n\n  // Compute the key for each datum.\n  // If there a node associated with this key, join and add it to update.\n  // If there is not (or the key is a duplicate), add it to enter.\n  for (i = 0; i < dataLength; ++i) {\n    keyValue = key.call(parent, data[i], i, data) + \"\";\n    if (node = nodeByKeyValue.get(keyValue)) {\n      update[i] = node;\n      node.__data__ = data[i];\n      nodeByKeyValue.delete(keyValue);\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  }\n\n  // Add any remaining nodes that were not bound to data to exit.\n  for (i = 0; i < groupLength; ++i) {\n    if ((node = group[i]) && (nodeByKeyValue.get(keyValues[i]) === node)) {\n      exit[i] = node;\n    }\n  }\n}\n\nfunction datum(node) {\n  return node.__data__;\n}\n\nexport default function(value, key) {\n  if (!arguments.length) return Array.from(this, datum);\n\n  var bind = key ? bindKey : bindIndex,\n      parents = this._parents,\n      groups = this._groups;\n\n  if (typeof value !== \"function\") value = constant(value);\n\n  for (var m = groups.length, update = new Array(m), enter = new Array(m), exit = new Array(m), j = 0; j < m; ++j) {\n    var parent = parents[j],\n        group = groups[j],\n        groupLength = group.length,\n        data = arraylike(value.call(parent, parent && parent.__data__, j, parents)),\n        dataLength = data.length,\n        enterGroup = enter[j] = new Array(dataLength),\n        updateGroup = update[j] = new Array(dataLength),\n        exitGroup = exit[j] = new Array(groupLength);\n\n    bind(parent, group, enterGroup, updateGroup, exitGroup, data, key);\n\n    // Now connect the enter nodes to their following update node, such that\n    // appendChild can insert the materialized enter node before this node,\n    // rather than at the end of the parent node.\n    for (var i0 = 0, i1 = 0, previous, next; i0 < dataLength; ++i0) {\n      if (previous = enterGroup[i0]) {\n        if (i0 >= i1) i1 = i0 + 1;\n        while (!(next = updateGroup[i1]) && ++i1 < dataLength);\n        previous._next = next || null;\n      }\n    }\n  }\n\n  update = new Selection(update, parents);\n  update._enter = enter;\n  update._exit = exit;\n  return update;\n}\n\n// Given some data, this returns an array-like view of it: an object that\n// exposes a length property and allows numeric indexing. Note that unlike\n// selectAll, this isnt worried about live collections because the resulting\n// array will only be used briefly while data is being bound. (It is possible to\n// cause the data to change while iterating by using a key function, but please\n// dont; wed rather avoid a gratuitous copy.)\nfunction arraylike(data) {\n  return typeof data === \"object\" && \"length\" in data\n    ? data // Array, TypedArray, NodeList, array-like\n    : Array.from(data); // Map, Set, iterable, string, or anything else\n}\n","import sparse from \"./sparse.js\";\nimport {Selection} from \"./index.js\";\n\nexport default function() {\n  return new Selection(this._enter || this._groups.map(sparse), this._parents);\n}\n\nexport function EnterNode(parent, datum) {\n  this.ownerDocument = parent.ownerDocument;\n  this.namespaceURI = parent.namespaceURI;\n  this._next = null;\n  this._parent = parent;\n  this.__data__ = datum;\n}\n\nEnterNode.prototype = {\n  constructor: EnterNode,\n  appendChild: function(child) { return this._parent.insertBefore(child, this._next); },\n  insertBefore: function(child, next) { return this._parent.insertBefore(child, next); },\n  querySelector: function(selector) { return this._parent.querySelector(selector); },\n  querySelectorAll: function(selector) { return this._parent.querySelectorAll(selector); }\n};\n","export default function(update) {\n  return new Array(update.length);\n}\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","import sparse from \"./sparse.js\";\nimport {Selection} from \"./index.js\";\n\nexport default function() {\n  return new Selection(this._exit || this._groups.map(sparse), this._parents);\n}\n","export default function(onenter, onupdate, onexit) {\n  var enter = this.enter(), update = this, exit = this.exit();\n  if (typeof onenter === \"function\") {\n    enter = onenter(enter);\n    if (enter) enter = enter.selection();\n  } else {\n    enter = enter.append(onenter + \"\");\n  }\n  if (onupdate != null) {\n    update = onupdate(update);\n    if (update) update = update.selection();\n  }\n  if (onexit == null) exit.remove(); else onexit(exit);\n  return enter && update ? enter.merge(update).order() : update;\n}\n","import {Selection} from \"./index.js\";\n\nexport default function(context) {\n  var selection = context.selection ? context.selection() : context;\n\n  for (var groups0 = this._groups, groups1 = selection._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {\n    for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge = merges[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group0[i] || group1[i]) {\n        merge[i] = node;\n      }\n    }\n  }\n\n  for (; j < m0; ++j) {\n    merges[j] = groups0[j];\n  }\n\n  return new Selection(merges, this._parents);\n}\n","export default function() {\n\n  for (var groups = this._groups, j = -1, m = groups.length; ++j < m;) {\n    for (var group = groups[j], i = group.length - 1, next = group[i], node; --i >= 0;) {\n      if (node = group[i]) {\n        if (next && node.compareDocumentPosition(next) ^ 4) next.parentNode.insertBefore(node, next);\n        next = node;\n      }\n    }\n  }\n\n  return this;\n}\n","import {Selection} from \"./index.js\";\n\nexport default function(compare) {\n  if (!compare) compare = ascending;\n\n  function compareNode(a, b) {\n    return a && b ? compare(a.__data__, b.__data__) : !a - !b;\n  }\n\n  for (var groups = this._groups, m = groups.length, sortgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, sortgroup = sortgroups[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        sortgroup[i] = node;\n      }\n    }\n    sortgroup.sort(compareNode);\n  }\n\n  return new Selection(sortgroups, this._parents).order();\n}\n\nfunction ascending(a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n","export default function() {\n  var callback = arguments[0];\n  arguments[0] = this;\n  callback.apply(null, arguments);\n  return this;\n}\n","export default function() {\n  return Array.from(this);\n}\n","export default function() {\n\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length; i < n; ++i) {\n      var node = group[i];\n      if (node) return node;\n    }\n  }\n\n  return null;\n}\n","export default function() {\n  let size = 0;\n  for (const node of this) ++size; // eslint-disable-line no-unused-vars\n  return size;\n}\n","export default function() {\n  return !this.node();\n}\n","export default function(callback) {\n\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length, node; i < n; ++i) {\n      if (node = group[i]) callback.call(node, node.__data__, i, group);\n    }\n  }\n\n  return this;\n}\n","import namespace from \"../namespace.js\";\n\nfunction attrRemove(name) {\n  return function() {\n    this.removeAttribute(name);\n  };\n}\n\nfunction attrRemoveNS(fullname) {\n  return function() {\n    this.removeAttributeNS(fullname.space, fullname.local);\n  };\n}\n\nfunction attrConstant(name, value) {\n  return function() {\n    this.setAttribute(name, value);\n  };\n}\n\nfunction attrConstantNS(fullname, value) {\n  return function() {\n    this.setAttributeNS(fullname.space, fullname.local, value);\n  };\n}\n\nfunction attrFunction(name, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.removeAttribute(name);\n    else this.setAttribute(name, v);\n  };\n}\n\nfunction attrFunctionNS(fullname, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.removeAttributeNS(fullname.space, fullname.local);\n    else this.setAttributeNS(fullname.space, fullname.local, v);\n  };\n}\n\nexport default function(name, value) {\n  var fullname = namespace(name);\n\n  if (arguments.length < 2) {\n    var node = this.node();\n    return fullname.local\n        ? node.getAttributeNS(fullname.space, fullname.local)\n        : node.getAttribute(fullname);\n  }\n\n  return this.each((value == null\n      ? (fullname.local ? attrRemoveNS : attrRemove) : (typeof value === \"function\"\n      ? (fullname.local ? attrFunctionNS : attrFunction)\n      : (fullname.local ? attrConstantNS : attrConstant)))(fullname, value));\n}\n","import namespaces from \"./namespaces.js\";\n\nexport default function(name) {\n  var prefix = name += \"\", i = prefix.indexOf(\":\");\n  if (i >= 0 && (prefix = name.slice(0, i)) !== \"xmlns\") name = name.slice(i + 1);\n  return namespaces.hasOwnProperty(prefix) ? {space: namespaces[prefix], local: name} : name; // eslint-disable-line no-prototype-builtins\n}\n","export var xhtml = \"http://www.w3.org/1999/xhtml\";\n\nexport default {\n  svg: \"http://www.w3.org/2000/svg\",\n  xhtml: xhtml,\n  xlink: \"http://www.w3.org/1999/xlink\",\n  xml: \"http://www.w3.org/XML/1998/namespace\",\n  xmlns: \"http://www.w3.org/2000/xmlns/\"\n};\n","import defaultView from \"../window.js\";\n\nfunction styleRemove(name) {\n  return function() {\n    this.style.removeProperty(name);\n  };\n}\n\nfunction styleConstant(name, value, priority) {\n  return function() {\n    this.style.setProperty(name, value, priority);\n  };\n}\n\nfunction styleFunction(name, value, priority) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.style.removeProperty(name);\n    else this.style.setProperty(name, v, priority);\n  };\n}\n\nexport default function(name, value, priority) {\n  return arguments.length > 1\n      ? this.each((value == null\n            ? styleRemove : typeof value === \"function\"\n            ? styleFunction\n            : styleConstant)(name, value, priority == null ? \"\" : priority))\n      : styleValue(this.node(), name);\n}\n\nexport function styleValue(node, name) {\n  return node.style.getPropertyValue(name)\n      || defaultView(node).getComputedStyle(node, null).getPropertyValue(name);\n}\n","export default function(node) {\n  return (node.ownerDocument && node.ownerDocument.defaultView) // node is a Node\n      || (node.document && node) // node is a Window\n      || node.defaultView; // node is a Document\n}\n","function propertyRemove(name) {\n  return function() {\n    delete this[name];\n  };\n}\n\nfunction propertyConstant(name, value) {\n  return function() {\n    this[name] = value;\n  };\n}\n\nfunction propertyFunction(name, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) delete this[name];\n    else this[name] = v;\n  };\n}\n\nexport default function(name, value) {\n  return arguments.length > 1\n      ? this.each((value == null\n          ? propertyRemove : typeof value === \"function\"\n          ? propertyFunction\n          : propertyConstant)(name, value))\n      : this.node()[name];\n}\n","function classArray(string) {\n  return string.trim().split(/^|\\s+/);\n}\n\nfunction classList(node) {\n  return node.classList || new ClassList(node);\n}\n\nfunction ClassList(node) {\n  this._node = node;\n  this._names = classArray(node.getAttribute(\"class\") || \"\");\n}\n\nClassList.prototype = {\n  add: function(name) {\n    var i = this._names.indexOf(name);\n    if (i < 0) {\n      this._names.push(name);\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  remove: function(name) {\n    var i = this._names.indexOf(name);\n    if (i >= 0) {\n      this._names.splice(i, 1);\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  contains: function(name) {\n    return this._names.indexOf(name) >= 0;\n  }\n};\n\nfunction classedAdd(node, names) {\n  var list = classList(node), i = -1, n = names.length;\n  while (++i < n) list.add(names[i]);\n}\n\nfunction classedRemove(node, names) {\n  var list = classList(node), i = -1, n = names.length;\n  while (++i < n) list.remove(names[i]);\n}\n\nfunction classedTrue(names) {\n  return function() {\n    classedAdd(this, names);\n  };\n}\n\nfunction classedFalse(names) {\n  return function() {\n    classedRemove(this, names);\n  };\n}\n\nfunction classedFunction(names, value) {\n  return function() {\n    (value.apply(this, arguments) ? classedAdd : classedRemove)(this, names);\n  };\n}\n\nexport default function(name, value) {\n  var names = classArray(name + \"\");\n\n  if (arguments.length < 2) {\n    var list = classList(this.node()), i = -1, n = names.length;\n    while (++i < n) if (!list.contains(names[i])) return false;\n    return true;\n  }\n\n  return this.each((typeof value === \"function\"\n      ? classedFunction : value\n      ? classedTrue\n      : classedFalse)(names, value));\n}\n","function textRemove() {\n  this.textContent = \"\";\n}\n\nfunction textConstant(value) {\n  return function() {\n    this.textContent = value;\n  };\n}\n\nfunction textFunction(value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    this.textContent = v == null ? \"\" : v;\n  };\n}\n\nexport default function(value) {\n  return arguments.length\n      ? this.each(value == null\n          ? textRemove : (typeof value === \"function\"\n          ? textFunction\n          : textConstant)(value))\n      : this.node().textContent;\n}\n","function htmlRemove() {\n  this.innerHTML = \"\";\n}\n\nfunction htmlConstant(value) {\n  return function() {\n    this.innerHTML = value;\n  };\n}\n\nfunction htmlFunction(value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    this.innerHTML = v == null ? \"\" : v;\n  };\n}\n\nexport default function(value) {\n  return arguments.length\n      ? this.each(value == null\n          ? htmlRemove : (typeof value === \"function\"\n          ? htmlFunction\n          : htmlConstant)(value))\n      : this.node().innerHTML;\n}\n","function raise() {\n  if (this.nextSibling) this.parentNode.appendChild(this);\n}\n\nexport default function() {\n  return this.each(raise);\n}\n","function lower() {\n  if (this.previousSibling) this.parentNode.insertBefore(this, this.parentNode.firstChild);\n}\n\nexport default function() {\n  return this.each(lower);\n}\n","import creator from \"../creator.js\";\n\nexport default function(name) {\n  var create = typeof name === \"function\" ? name : creator(name);\n  return this.select(function() {\n    return this.appendChild(create.apply(this, arguments));\n  });\n}\n","import namespace from \"./namespace.js\";\nimport {xhtml} from \"./namespaces.js\";\n\nfunction creatorInherit(name) {\n  return function() {\n    var document = this.ownerDocument,\n        uri = this.namespaceURI;\n    return uri === xhtml && document.documentElement.namespaceURI === xhtml\n        ? document.createElement(name)\n        : document.createElementNS(uri, name);\n  };\n}\n\nfunction creatorFixed(fullname) {\n  return function() {\n    return this.ownerDocument.createElementNS(fullname.space, fullname.local);\n  };\n}\n\nexport default function(name) {\n  var fullname = namespace(name);\n  return (fullname.local\n      ? creatorFixed\n      : creatorInherit)(fullname);\n}\n","import creator from \"../creator.js\";\nimport selector from \"../selector.js\";\n\nfunction constantNull() {\n  return null;\n}\n\nexport default function(name, before) {\n  var create = typeof name === \"function\" ? name : creator(name),\n      select = before == null ? constantNull : typeof before === \"function\" ? before : selector(before);\n  return this.select(function() {\n    return this.insertBefore(create.apply(this, arguments), select.apply(this, arguments) || null);\n  });\n}\n","function remove() {\n  var parent = this.parentNode;\n  if (parent) parent.removeChild(this);\n}\n\nexport default function() {\n  return this.each(remove);\n}\n","function selection_cloneShallow() {\n  var clone = this.cloneNode(false), parent = this.parentNode;\n  return parent ? parent.insertBefore(clone, this.nextSibling) : clone;\n}\n\nfunction selection_cloneDeep() {\n  var clone = this.cloneNode(true), parent = this.parentNode;\n  return parent ? parent.insertBefore(clone, this.nextSibling) : clone;\n}\n\nexport default function(deep) {\n  return this.select(deep ? selection_cloneDeep : selection_cloneShallow);\n}\n","export default function(value) {\n  return arguments.length\n      ? this.property(\"__data__\", value)\n      : this.node().__data__;\n}\n","function contextListener(listener) {\n  return function(event) {\n    listener.call(this, event, this.__data__);\n  };\n}\n\nfunction parseTypenames(typenames) {\n  return typenames.trim().split(/^|\\s+/).map(function(t) {\n    var name = \"\", i = t.indexOf(\".\");\n    if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);\n    return {type: t, name: name};\n  });\n}\n\nfunction onRemove(typename) {\n  return function() {\n    var on = this.__on;\n    if (!on) return;\n    for (var j = 0, i = -1, m = on.length, o; j < m; ++j) {\n      if (o = on[j], (!typename.type || o.type === typename.type) && o.name === typename.name) {\n        this.removeEventListener(o.type, o.listener, o.options);\n      } else {\n        on[++i] = o;\n      }\n    }\n    if (++i) on.length = i;\n    else delete this.__on;\n  };\n}\n\nfunction onAdd(typename, value, options) {\n  return function() {\n    var on = this.__on, o, listener = contextListener(value);\n    if (on) for (var j = 0, m = on.length; j < m; ++j) {\n      if ((o = on[j]).type === typename.type && o.name === typename.name) {\n        this.removeEventListener(o.type, o.listener, o.options);\n        this.addEventListener(o.type, o.listener = listener, o.options = options);\n        o.value = value;\n        return;\n      }\n    }\n    this.addEventListener(typename.type, listener, options);\n    o = {type: typename.type, name: typename.name, value: value, listener: listener, options: options};\n    if (!on) this.__on = [o];\n    else on.push(o);\n  };\n}\n\nexport default function(typename, value, options) {\n  var typenames = parseTypenames(typename + \"\"), i, n = typenames.length, t;\n\n  if (arguments.length < 2) {\n    var on = this.node().__on;\n    if (on) for (var j = 0, m = on.length, o; j < m; ++j) {\n      for (i = 0, o = on[j]; i < n; ++i) {\n        if ((t = typenames[i]).type === o.type && t.name === o.name) {\n          return o.value;\n        }\n      }\n    }\n    return;\n  }\n\n  on = value ? onAdd : onRemove;\n  for (i = 0; i < n; ++i) this.each(on(typenames[i], value, options));\n  return this;\n}\n","import defaultView from \"../window.js\";\n\nfunction dispatchEvent(node, type, params) {\n  var window = defaultView(node),\n      event = window.CustomEvent;\n\n  if (typeof event === \"function\") {\n    event = new event(type, params);\n  } else {\n    event = window.document.createEvent(\"Event\");\n    if (params) event.initEvent(type, params.bubbles, params.cancelable), event.detail = params.detail;\n    else event.initEvent(type, false, false);\n  }\n\n  node.dispatchEvent(event);\n}\n\nfunction dispatchConstant(type, params) {\n  return function() {\n    return dispatchEvent(this, type, params);\n  };\n}\n\nfunction dispatchFunction(type, params) {\n  return function() {\n    return dispatchEvent(this, type, params.apply(this, arguments));\n  };\n}\n\nexport default function(type, params) {\n  return this.each((typeof params === \"function\"\n      ? dispatchFunction\n      : dispatchConstant)(type, params));\n}\n","export default function*() {\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length, node; i < n; ++i) {\n      if (node = group[i]) yield node;\n    }\n  }\n}\n","// These are typically used in conjunction with noevent to ensure that we can\n// preventDefault on the event.\nexport const nonpassive = {passive: false};\nexport const nonpassivecapture = {capture: true, passive: false};\n\nexport function nopropagation(event) {\n  event.stopImmediatePropagation();\n}\n\nexport default function(event) {\n  event.preventDefault();\n  event.stopImmediatePropagation();\n}\n","import {color} from \"d3-color\";\nimport rgb from \"./rgb.js\";\nimport {genericArray} from \"./array.js\";\nimport date from \"./date.js\";\nimport number from \"./number.js\";\nimport object from \"./object.js\";\nimport string from \"./string.js\";\nimport constant from \"./constant.js\";\nimport numberArray, {isNumberArray} from \"./numberArray.js\";\n\nexport default function(a, b) {\n  var t = typeof b, c;\n  return b == null || t === \"boolean\" ? constant(b)\n      : (t === \"number\" ? number\n      : t === \"string\" ? ((c = color(b)) ? (b = c, rgb) : string)\n      : b instanceof color ? rgb\n      : b instanceof Date ? date\n      : isNumberArray(b) ? numberArray\n      : Array.isArray(b) ? genericArray\n      : typeof b.valueOf !== \"function\" && typeof b.toString !== \"function\" || isNaN(b) ? object\n      : number)(a, b);\n}\n","import define, {extend} from \"./define.js\";\n\nexport function Color() {}\n\nexport var darker = 0.7;\nexport var brighter = 1 / darker;\n\nvar reI = \"\\\\s*([+-]?\\\\d+)\\\\s*\",\n    reN = \"\\\\s*([+-]?(?:\\\\d*\\\\.)?\\\\d+(?:[eE][+-]?\\\\d+)?)\\\\s*\",\n    reP = \"\\\\s*([+-]?(?:\\\\d*\\\\.)?\\\\d+(?:[eE][+-]?\\\\d+)?)%\\\\s*\",\n    reHex = /^#([0-9a-f]{3,8})$/,\n    reRgbInteger = new RegExp(`^rgb\\\\(${reI},${reI},${reI}\\\\)$`),\n    reRgbPercent = new RegExp(`^rgb\\\\(${reP},${reP},${reP}\\\\)$`),\n    reRgbaInteger = new RegExp(`^rgba\\\\(${reI},${reI},${reI},${reN}\\\\)$`),\n    reRgbaPercent = new RegExp(`^rgba\\\\(${reP},${reP},${reP},${reN}\\\\)$`),\n    reHslPercent = new RegExp(`^hsl\\\\(${reN},${reP},${reP}\\\\)$`),\n    reHslaPercent = new RegExp(`^hsla\\\\(${reN},${reP},${reP},${reN}\\\\)$`);\n\nvar named = {\n  aliceblue: 0xf0f8ff,\n  antiquewhite: 0xfaebd7,\n  aqua: 0x00ffff,\n  aquamarine: 0x7fffd4,\n  azure: 0xf0ffff,\n  beige: 0xf5f5dc,\n  bisque: 0xffe4c4,\n  black: 0x000000,\n  blanchedalmond: 0xffebcd,\n  blue: 0x0000ff,\n  blueviolet: 0x8a2be2,\n  brown: 0xa52a2a,\n  burlywood: 0xdeb887,\n  cadetblue: 0x5f9ea0,\n  chartreuse: 0x7fff00,\n  chocolate: 0xd2691e,\n  coral: 0xff7f50,\n  cornflowerblue: 0x6495ed,\n  cornsilk: 0xfff8dc,\n  crimson: 0xdc143c,\n  cyan: 0x00ffff,\n  darkblue: 0x00008b,\n  darkcyan: 0x008b8b,\n  darkgoldenrod: 0xb8860b,\n  darkgray: 0xa9a9a9,\n  darkgreen: 0x006400,\n  darkgrey: 0xa9a9a9,\n  darkkhaki: 0xbdb76b,\n  darkmagenta: 0x8b008b,\n  darkolivegreen: 0x556b2f,\n  darkorange: 0xff8c00,\n  darkorchid: 0x9932cc,\n  darkred: 0x8b0000,\n  darksalmon: 0xe9967a,\n  darkseagreen: 0x8fbc8f,\n  darkslateblue: 0x483d8b,\n  darkslategray: 0x2f4f4f,\n  darkslategrey: 0x2f4f4f,\n  darkturquoise: 0x00ced1,\n  darkviolet: 0x9400d3,\n  deeppink: 0xff1493,\n  deepskyblue: 0x00bfff,\n  dimgray: 0x696969,\n  dimgrey: 0x696969,\n  dodgerblue: 0x1e90ff,\n  firebrick: 0xb22222,\n  floralwhite: 0xfffaf0,\n  forestgreen: 0x228b22,\n  fuchsia: 0xff00ff,\n  gainsboro: 0xdcdcdc,\n  ghostwhite: 0xf8f8ff,\n  gold: 0xffd700,\n  goldenrod: 0xdaa520,\n  gray: 0x808080,\n  green: 0x008000,\n  greenyellow: 0xadff2f,\n  grey: 0x808080,\n  honeydew: 0xf0fff0,\n  hotpink: 0xff69b4,\n  indianred: 0xcd5c5c,\n  indigo: 0x4b0082,\n  ivory: 0xfffff0,\n  khaki: 0xf0e68c,\n  lavender: 0xe6e6fa,\n  lavenderblush: 0xfff0f5,\n  lawngreen: 0x7cfc00,\n  lemonchiffon: 0xfffacd,\n  lightblue: 0xadd8e6,\n  lightcoral: 0xf08080,\n  lightcyan: 0xe0ffff,\n  lightgoldenrodyellow: 0xfafad2,\n  lightgray: 0xd3d3d3,\n  lightgreen: 0x90ee90,\n  lightgrey: 0xd3d3d3,\n  lightpink: 0xffb6c1,\n  lightsalmon: 0xffa07a,\n  lightseagreen: 0x20b2aa,\n  lightskyblue: 0x87cefa,\n  lightslategray: 0x778899,\n  lightslategrey: 0x778899,\n  lightsteelblue: 0xb0c4de,\n  lightyellow: 0xffffe0,\n  lime: 0x00ff00,\n  limegreen: 0x32cd32,\n  linen: 0xfaf0e6,\n  magenta: 0xff00ff,\n  maroon: 0x800000,\n  mediumaquamarine: 0x66cdaa,\n  mediumblue: 0x0000cd,\n  mediumorchid: 0xba55d3,\n  mediumpurple: 0x9370db,\n  mediumseagreen: 0x3cb371,\n  mediumslateblue: 0x7b68ee,\n  mediumspringgreen: 0x00fa9a,\n  mediumturquoise: 0x48d1cc,\n  mediumvioletred: 0xc71585,\n  midnightblue: 0x191970,\n  mintcream: 0xf5fffa,\n  mistyrose: 0xffe4e1,\n  moccasin: 0xffe4b5,\n  navajowhite: 0xffdead,\n  navy: 0x000080,\n  oldlace: 0xfdf5e6,\n  olive: 0x808000,\n  olivedrab: 0x6b8e23,\n  orange: 0xffa500,\n  orangered: 0xff4500,\n  orchid: 0xda70d6,\n  palegoldenrod: 0xeee8aa,\n  palegreen: 0x98fb98,\n  paleturquoise: 0xafeeee,\n  palevioletred: 0xdb7093,\n  papayawhip: 0xffefd5,\n  peachpuff: 0xffdab9,\n  peru: 0xcd853f,\n  pink: 0xffc0cb,\n  plum: 0xdda0dd,\n  powderblue: 0xb0e0e6,\n  purple: 0x800080,\n  rebeccapurple: 0x663399,\n  red: 0xff0000,\n  rosybrown: 0xbc8f8f,\n  royalblue: 0x4169e1,\n  saddlebrown: 0x8b4513,\n  salmon: 0xfa8072,\n  sandybrown: 0xf4a460,\n  seagreen: 0x2e8b57,\n  seashell: 0xfff5ee,\n  sienna: 0xa0522d,\n  silver: 0xc0c0c0,\n  skyblue: 0x87ceeb,\n  slateblue: 0x6a5acd,\n  slategray: 0x708090,\n  slategrey: 0x708090,\n  snow: 0xfffafa,\n  springgreen: 0x00ff7f,\n  steelblue: 0x4682b4,\n  tan: 0xd2b48c,\n  teal: 0x008080,\n  thistle: 0xd8bfd8,\n  tomato: 0xff6347,\n  turquoise: 0x40e0d0,\n  violet: 0xee82ee,\n  wheat: 0xf5deb3,\n  white: 0xffffff,\n  whitesmoke: 0xf5f5f5,\n  yellow: 0xffff00,\n  yellowgreen: 0x9acd32\n};\n\ndefine(Color, color, {\n  copy(channels) {\n    return Object.assign(new this.constructor, this, channels);\n  },\n  displayable() {\n    return this.rgb().displayable();\n  },\n  hex: color_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: color_formatHex,\n  formatHex8: color_formatHex8,\n  formatHsl: color_formatHsl,\n  formatRgb: color_formatRgb,\n  toString: color_formatRgb\n});\n\nfunction color_formatHex() {\n  return this.rgb().formatHex();\n}\n\nfunction color_formatHex8() {\n  return this.rgb().formatHex8();\n}\n\nfunction color_formatHsl() {\n  return hslConvert(this).formatHsl();\n}\n\nfunction color_formatRgb() {\n  return this.rgb().formatRgb();\n}\n\nexport default function color(format) {\n  var m, l;\n  format = (format + \"\").trim().toLowerCase();\n  return (m = reHex.exec(format)) ? (l = m[1].length, m = parseInt(m[1], 16), l === 6 ? rgbn(m) // #ff0000\n      : l === 3 ? new Rgb((m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), ((m & 0xf) << 4) | (m & 0xf), 1) // #f00\n      : l === 8 ? rgba(m >> 24 & 0xff, m >> 16 & 0xff, m >> 8 & 0xff, (m & 0xff) / 0xff) // #ff000000\n      : l === 4 ? rgba((m >> 12 & 0xf) | (m >> 8 & 0xf0), (m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), (((m & 0xf) << 4) | (m & 0xf)) / 0xff) // #f000\n      : null) // invalid hex\n      : (m = reRgbInteger.exec(format)) ? new Rgb(m[1], m[2], m[3], 1) // rgb(255, 0, 0)\n      : (m = reRgbPercent.exec(format)) ? new Rgb(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, 1) // rgb(100%, 0%, 0%)\n      : (m = reRgbaInteger.exec(format)) ? rgba(m[1], m[2], m[3], m[4]) // rgba(255, 0, 0, 1)\n      : (m = reRgbaPercent.exec(format)) ? rgba(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, m[4]) // rgb(100%, 0%, 0%, 1)\n      : (m = reHslPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, 1) // hsl(120, 50%, 50%)\n      : (m = reHslaPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, m[4]) // hsla(120, 50%, 50%, 1)\n      : named.hasOwnProperty(format) ? rgbn(named[format]) // eslint-disable-line no-prototype-builtins\n      : format === \"transparent\" ? new Rgb(NaN, NaN, NaN, 0)\n      : null;\n}\n\nfunction rgbn(n) {\n  return new Rgb(n >> 16 & 0xff, n >> 8 & 0xff, n & 0xff, 1);\n}\n\nfunction rgba(r, g, b, a) {\n  if (a <= 0) r = g = b = NaN;\n  return new Rgb(r, g, b, a);\n}\n\nexport function rgbConvert(o) {\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Rgb;\n  o = o.rgb();\n  return new Rgb(o.r, o.g, o.b, o.opacity);\n}\n\nexport function rgb(r, g, b, opacity) {\n  return arguments.length === 1 ? rgbConvert(r) : new Rgb(r, g, b, opacity == null ? 1 : opacity);\n}\n\nexport function Rgb(r, g, b, opacity) {\n  this.r = +r;\n  this.g = +g;\n  this.b = +b;\n  this.opacity = +opacity;\n}\n\ndefine(Rgb, rgb, extend(Color, {\n  brighter(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  darker(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  rgb() {\n    return this;\n  },\n  clamp() {\n    return new Rgb(clampi(this.r), clampi(this.g), clampi(this.b), clampa(this.opacity));\n  },\n  displayable() {\n    return (-0.5 <= this.r && this.r < 255.5)\n        && (-0.5 <= this.g && this.g < 255.5)\n        && (-0.5 <= this.b && this.b < 255.5)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  hex: rgb_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: rgb_formatHex,\n  formatHex8: rgb_formatHex8,\n  formatRgb: rgb_formatRgb,\n  toString: rgb_formatRgb\n}));\n\nfunction rgb_formatHex() {\n  return `#${hex(this.r)}${hex(this.g)}${hex(this.b)}`;\n}\n\nfunction rgb_formatHex8() {\n  return `#${hex(this.r)}${hex(this.g)}${hex(this.b)}${hex((isNaN(this.opacity) ? 1 : this.opacity) * 255)}`;\n}\n\nfunction rgb_formatRgb() {\n  const a = clampa(this.opacity);\n  return `${a === 1 ? \"rgb(\" : \"rgba(\"}${clampi(this.r)}, ${clampi(this.g)}, ${clampi(this.b)}${a === 1 ? \")\" : `, ${a})`}`;\n}\n\nfunction clampa(opacity) {\n  return isNaN(opacity) ? 1 : Math.max(0, Math.min(1, opacity));\n}\n\nfunction clampi(value) {\n  return Math.max(0, Math.min(255, Math.round(value) || 0));\n}\n\nfunction hex(value) {\n  value = clampi(value);\n  return (value < 16 ? \"0\" : \"\") + value.toString(16);\n}\n\nfunction hsla(h, s, l, a) {\n  if (a <= 0) h = s = l = NaN;\n  else if (l <= 0 || l >= 1) h = s = NaN;\n  else if (s <= 0) h = NaN;\n  return new Hsl(h, s, l, a);\n}\n\nexport function hslConvert(o) {\n  if (o instanceof Hsl) return new Hsl(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Hsl;\n  if (o instanceof Hsl) return o;\n  o = o.rgb();\n  var r = o.r / 255,\n      g = o.g / 255,\n      b = o.b / 255,\n      min = Math.min(r, g, b),\n      max = Math.max(r, g, b),\n      h = NaN,\n      s = max - min,\n      l = (max + min) / 2;\n  if (s) {\n    if (r === max) h = (g - b) / s + (g < b) * 6;\n    else if (g === max) h = (b - r) / s + 2;\n    else h = (r - g) / s + 4;\n    s /= l < 0.5 ? max + min : 2 - max - min;\n    h *= 60;\n  } else {\n    s = l > 0 && l < 1 ? 0 : h;\n  }\n  return new Hsl(h, s, l, o.opacity);\n}\n\nexport function hsl(h, s, l, opacity) {\n  return arguments.length === 1 ? hslConvert(h) : new Hsl(h, s, l, opacity == null ? 1 : opacity);\n}\n\nfunction Hsl(h, s, l, opacity) {\n  this.h = +h;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Hsl, hsl, extend(Color, {\n  brighter(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb() {\n    var h = this.h % 360 + (this.h < 0) * 360,\n        s = isNaN(h) || isNaN(this.s) ? 0 : this.s,\n        l = this.l,\n        m2 = l + (l < 0.5 ? l : 1 - l) * s,\n        m1 = 2 * l - m2;\n    return new Rgb(\n      hsl2rgb(h >= 240 ? h - 240 : h + 120, m1, m2),\n      hsl2rgb(h, m1, m2),\n      hsl2rgb(h < 120 ? h + 240 : h - 120, m1, m2),\n      this.opacity\n    );\n  },\n  clamp() {\n    return new Hsl(clamph(this.h), clampt(this.s), clampt(this.l), clampa(this.opacity));\n  },\n  displayable() {\n    return (0 <= this.s && this.s <= 1 || isNaN(this.s))\n        && (0 <= this.l && this.l <= 1)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  formatHsl() {\n    const a = clampa(this.opacity);\n    return `${a === 1 ? \"hsl(\" : \"hsla(\"}${clamph(this.h)}, ${clampt(this.s) * 100}%, ${clampt(this.l) * 100}%${a === 1 ? \")\" : `, ${a})`}`;\n  }\n}));\n\nfunction clamph(value) {\n  value = (value || 0) % 360;\n  return value < 0 ? value + 360 : value;\n}\n\nfunction clampt(value) {\n  return Math.max(0, Math.min(1, value || 0));\n}\n\n/* From FvD 13.37, CSS Color Module Level 3 */\nfunction hsl2rgb(h, m1, m2) {\n  return (h < 60 ? m1 + (m2 - m1) * h / 60\n      : h < 180 ? m2\n      : h < 240 ? m1 + (m2 - m1) * (240 - h) / 60\n      : m1) * 255;\n}\n","export default function(constructor, factory, prototype) {\n  constructor.prototype = factory.prototype = prototype;\n  prototype.constructor = constructor;\n}\n\nexport function extend(parent, definition) {\n  var prototype = Object.create(parent.prototype);\n  for (var key in definition) prototype[key] = definition[key];\n  return prototype;\n}\n","import {rgb as colorRgb} from \"d3-color\";\nimport basis from \"./basis.js\";\nimport basisClosed from \"./basisClosed.js\";\nimport nogamma, {gamma} from \"./color.js\";\n\nexport default (function rgbGamma(y) {\n  var color = gamma(y);\n\n  function rgb(start, end) {\n    var r = color((start = colorRgb(start)).r, (end = colorRgb(end)).r),\n        g = color(start.g, end.g),\n        b = color(start.b, end.b),\n        opacity = nogamma(start.opacity, end.opacity);\n    return function(t) {\n      start.r = r(t);\n      start.g = g(t);\n      start.b = b(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n\n  rgb.gamma = rgbGamma;\n\n  return rgb;\n})(1);\n\nfunction rgbSpline(spline) {\n  return function(colors) {\n    var n = colors.length,\n        r = new Array(n),\n        g = new Array(n),\n        b = new Array(n),\n        i, color;\n    for (i = 0; i < n; ++i) {\n      color = colorRgb(colors[i]);\n      r[i] = color.r || 0;\n      g[i] = color.g || 0;\n      b[i] = color.b || 0;\n    }\n    r = spline(r);\n    g = spline(g);\n    b = spline(b);\n    color.opacity = 1;\n    return function(t) {\n      color.r = r(t);\n      color.g = g(t);\n      color.b = b(t);\n      return color + \"\";\n    };\n  };\n}\n\nexport var rgbBasis = rgbSpline(basis);\nexport var rgbBasisClosed = rgbSpline(basisClosed);\n","export function basis(t1, v0, v1, v2, v3) {\n  var t2 = t1 * t1, t3 = t2 * t1;\n  return ((1 - 3 * t1 + 3 * t2 - t3) * v0\n      + (4 - 6 * t2 + 3 * t3) * v1\n      + (1 + 3 * t1 + 3 * t2 - 3 * t3) * v2\n      + t3 * v3) / 6;\n}\n\nexport default function(values) {\n  var n = values.length - 1;\n  return function(t) {\n    var i = t <= 0 ? (t = 0) : t >= 1 ? (t = 1, n - 1) : Math.floor(t * n),\n        v1 = values[i],\n        v2 = values[i + 1],\n        v0 = i > 0 ? values[i - 1] : 2 * v1 - v2,\n        v3 = i < n - 1 ? values[i + 2] : 2 * v2 - v1;\n    return basis((t - i / n) * n, v0, v1, v2, v3);\n  };\n}\n","import {basis} from \"./basis.js\";\n\nexport default function(values) {\n  var n = values.length;\n  return function(t) {\n    var i = Math.floor(((t %= 1) < 0 ? ++t : t) * n),\n        v0 = values[(i + n - 1) % n],\n        v1 = values[i % n],\n        v2 = values[(i + 1) % n],\n        v3 = values[(i + 2) % n];\n    return basis((t - i / n) * n, v0, v1, v2, v3);\n  };\n}\n","import constant from \"./constant.js\";\n\nfunction linear(a, d) {\n  return function(t) {\n    return a + t * d;\n  };\n}\n\nfunction exponential(a, b, y) {\n  return a = Math.pow(a, y), b = Math.pow(b, y) - a, y = 1 / y, function(t) {\n    return Math.pow(a + t * b, y);\n  };\n}\n\nexport function hue(a, b) {\n  var d = b - a;\n  return d ? linear(a, d > 180 || d < -180 ? d - 360 * Math.round(d / 360) : d) : constant(isNaN(a) ? b : a);\n}\n\nexport function gamma(y) {\n  return (y = +y) === 1 ? nogamma : function(a, b) {\n    return b - a ? exponential(a, b, y) : constant(isNaN(a) ? b : a);\n  };\n}\n\nexport default function nogamma(a, b) {\n  var d = b - a;\n  return d ? linear(a, d) : constant(isNaN(a) ? b : a);\n}\n","export default x => () => x;\n","import value from \"./value.js\";\nimport numberArray, {isNumberArray} from \"./numberArray.js\";\n\nexport default function(a, b) {\n  return (isNumberArray(b) ? numberArray : genericArray)(a, b);\n}\n\nexport function genericArray(a, b) {\n  var nb = b ? b.length : 0,\n      na = a ? Math.min(nb, a.length) : 0,\n      x = new Array(na),\n      c = new Array(nb),\n      i;\n\n  for (i = 0; i < na; ++i) x[i] = value(a[i], b[i]);\n  for (; i < nb; ++i) c[i] = b[i];\n\n  return function(t) {\n    for (i = 0; i < na; ++i) c[i] = x[i](t);\n    return c;\n  };\n}\n","export default function(a, b) {\n  if (!b) b = [];\n  var n = a ? Math.min(b.length, a.length) : 0,\n      c = b.slice(),\n      i;\n  return function(t) {\n    for (i = 0; i < n; ++i) c[i] = a[i] * (1 - t) + b[i] * t;\n    return c;\n  };\n}\n\nexport function isNumberArray(x) {\n  return ArrayBuffer.isView(x) && !(x instanceof DataView);\n}\n","export default function(a, b) {\n  var d = new Date;\n  return a = +a, b = +b, function(t) {\n    return d.setTime(a * (1 - t) + b * t), d;\n  };\n}\n","export default function(a, b) {\n  return a = +a, b = +b, function(t) {\n    return a * (1 - t) + b * t;\n  };\n}\n","import value from \"./value.js\";\n\nexport default function(a, b) {\n  var i = {},\n      c = {},\n      k;\n\n  if (a === null || typeof a !== \"object\") a = {};\n  if (b === null || typeof b !== \"object\") b = {};\n\n  for (k in b) {\n    if (k in a) {\n      i[k] = value(a[k], b[k]);\n    } else {\n      c[k] = b[k];\n    }\n  }\n\n  return function(t) {\n    for (k in i) c[k] = i[k](t);\n    return c;\n  };\n}\n","import number from \"./number.js\";\n\nvar reA = /[-+]?(?:\\d+\\.?\\d*|\\.?\\d+)(?:[eE][-+]?\\d+)?/g,\n    reB = new RegExp(reA.source, \"g\");\n\nfunction zero(b) {\n  return function() {\n    return b;\n  };\n}\n\nfunction one(b) {\n  return function(t) {\n    return b(t) + \"\";\n  };\n}\n\nexport default function(a, b) {\n  var bi = reA.lastIndex = reB.lastIndex = 0, // scan index for next number in b\n      am, // current match in a\n      bm, // current match in b\n      bs, // string preceding current number in b, if any\n      i = -1, // index in s\n      s = [], // string constants and placeholders\n      q = []; // number interpolators\n\n  // Coerce inputs to strings.\n  a = a + \"\", b = b + \"\";\n\n  // Interpolate pairs of numbers in a & b.\n  while ((am = reA.exec(a))\n      && (bm = reB.exec(b))) {\n    if ((bs = bm.index) > bi) { // a string precedes the next number in b\n      bs = b.slice(bi, bs);\n      if (s[i]) s[i] += bs; // coalesce with previous string\n      else s[++i] = bs;\n    }\n    if ((am = am[0]) === (bm = bm[0])) { // numbers in a & b match\n      if (s[i]) s[i] += bm; // coalesce with previous string\n      else s[++i] = bm;\n    } else { // interpolate non-matching numbers\n      s[++i] = null;\n      q.push({i: i, x: number(am, bm)});\n    }\n    bi = reB.lastIndex;\n  }\n\n  // Add remains of b.\n  if (bi < b.length) {\n    bs = b.slice(bi);\n    if (s[i]) s[i] += bs; // coalesce with previous string\n    else s[++i] = bs;\n  }\n\n  // Special optimization for only a single match.\n  // Otherwise, interpolate each of the numbers and rejoin the string.\n  return s.length < 2 ? (q[0]\n      ? one(q[0].x)\n      : zero(b))\n      : (b = q.length, function(t) {\n          for (var i = 0, o; i < b; ++i) s[(o = q[i]).i] = o.x(t);\n          return s.join(\"\");\n        });\n}\n","import sourceEvent from \"./sourceEvent.js\";\n\nexport default function(event, node) {\n  event = sourceEvent(event);\n  if (node === undefined) node = event.currentTarget;\n  if (node) {\n    var svg = node.ownerSVGElement || node;\n    if (svg.createSVGPoint) {\n      var point = svg.createSVGPoint();\n      point.x = event.clientX, point.y = event.clientY;\n      point = point.matrixTransform(node.getScreenCTM().inverse());\n      return [point.x, point.y];\n    }\n    if (node.getBoundingClientRect) {\n      var rect = node.getBoundingClientRect();\n      return [event.clientX - rect.left - node.clientLeft, event.clientY - rect.top - node.clientTop];\n    }\n  }\n  return [event.pageX, event.pageY];\n}\n","export default function(event) {\n  let sourceEvent;\n  while (sourceEvent = event.sourceEvent) event = sourceEvent;\n  return event;\n}\n","import \"./selection/index.js\";\nexport {default as transition} from \"./transition/index.js\";\nexport {default as active} from \"./active.js\";\nexport {default as interrupt} from \"./interrupt.js\";\n","import {selection} from \"d3-selection\";\nimport selection_interrupt from \"./interrupt.js\";\nimport selection_transition from \"./transition.js\";\n\nselection.prototype.interrupt = selection_interrupt;\nselection.prototype.transition = selection_transition;\n","import interrupt from \"../interrupt.js\";\n\nexport default function(name) {\n  return this.each(function() {\n    interrupt(this, name);\n  });\n}\n","import {STARTING, ENDING, ENDED} from \"./transition/schedule.js\";\n\nexport default function(node, name) {\n  var schedules = node.__transition,\n      schedule,\n      active,\n      empty = true,\n      i;\n\n  if (!schedules) return;\n\n  name = name == null ? null : name + \"\";\n\n  for (i in schedules) {\n    if ((schedule = schedules[i]).name !== name) { empty = false; continue; }\n    active = schedule.state > STARTING && schedule.state < ENDING;\n    schedule.state = ENDED;\n    schedule.timer.stop();\n    schedule.on.call(active ? \"interrupt\" : \"cancel\", node, node.__data__, schedule.index, schedule.group);\n    delete schedules[i];\n  }\n\n  if (empty) delete node.__transition;\n}\n","import {dispatch} from \"d3-dispatch\";\nimport {timer, timeout} from \"d3-timer\";\n\nvar emptyOn = dispatch(\"start\", \"end\", \"cancel\", \"interrupt\");\nvar emptyTween = [];\n\nexport var CREATED = 0;\nexport var SCHEDULED = 1;\nexport var STARTING = 2;\nexport var STARTED = 3;\nexport var RUNNING = 4;\nexport var ENDING = 5;\nexport var ENDED = 6;\n\nexport default function(node, name, id, index, group, timing) {\n  var schedules = node.__transition;\n  if (!schedules) node.__transition = {};\n  else if (id in schedules) return;\n  create(node, id, {\n    name: name,\n    index: index, // For context during callback.\n    group: group, // For context during callback.\n    on: emptyOn,\n    tween: emptyTween,\n    time: timing.time,\n    delay: timing.delay,\n    duration: timing.duration,\n    ease: timing.ease,\n    timer: null,\n    state: CREATED\n  });\n}\n\nexport function init(node, id) {\n  var schedule = get(node, id);\n  if (schedule.state > CREATED) throw new Error(\"too late; already scheduled\");\n  return schedule;\n}\n\nexport function set(node, id) {\n  var schedule = get(node, id);\n  if (schedule.state > STARTED) throw new Error(\"too late; already running\");\n  return schedule;\n}\n\nexport function get(node, id) {\n  var schedule = node.__transition;\n  if (!schedule || !(schedule = schedule[id])) throw new Error(\"transition not found\");\n  return schedule;\n}\n\nfunction create(node, id, self) {\n  var schedules = node.__transition,\n      tween;\n\n  // Initialize the self timer when the transition is created.\n  // Note the actual delay is not known until the first callback!\n  schedules[id] = self;\n  self.timer = timer(schedule, 0, self.time);\n\n  function schedule(elapsed) {\n    self.state = SCHEDULED;\n    self.timer.restart(start, self.delay, self.time);\n\n    // If the elapsed delay is less than our first sleep, start immediately.\n    if (self.delay <= elapsed) start(elapsed - self.delay);\n  }\n\n  function start(elapsed) {\n    var i, j, n, o;\n\n    // If the state is not SCHEDULED, then we previously errored on start.\n    if (self.state !== SCHEDULED) return stop();\n\n    for (i in schedules) {\n      o = schedules[i];\n      if (o.name !== self.name) continue;\n\n      // While this element already has a starting transition during this frame,\n      // defer starting an interrupting transition until that transition has a\n      // chance to tick (and possibly end); see d3/d3-transition#54!\n      if (o.state === STARTED) return timeout(start);\n\n      // Interrupt the active transition, if any.\n      if (o.state === RUNNING) {\n        o.state = ENDED;\n        o.timer.stop();\n        o.on.call(\"interrupt\", node, node.__data__, o.index, o.group);\n        delete schedules[i];\n      }\n\n      // Cancel any pre-empted transitions.\n      else if (+i < id) {\n        o.state = ENDED;\n        o.timer.stop();\n        o.on.call(\"cancel\", node, node.__data__, o.index, o.group);\n        delete schedules[i];\n      }\n    }\n\n    // Defer the first tick to end of the current frame; see d3/d3#1576.\n    // Note the transition may be canceled after start and before the first tick!\n    // Note this must be scheduled before the start event; see d3/d3-transition#16!\n    // Assuming this is successful, subsequent callbacks go straight to tick.\n    timeout(function() {\n      if (self.state === STARTED) {\n        self.state = RUNNING;\n        self.timer.restart(tick, self.delay, self.time);\n        tick(elapsed);\n      }\n    });\n\n    // Dispatch the start event.\n    // Note this must be done before the tween are initialized.\n    self.state = STARTING;\n    self.on.call(\"start\", node, node.__data__, self.index, self.group);\n    if (self.state !== STARTING) return; // interrupted\n    self.state = STARTED;\n\n    // Initialize the tween, deleting null tween.\n    tween = new Array(n = self.tween.length);\n    for (i = 0, j = -1; i < n; ++i) {\n      if (o = self.tween[i].value.call(node, node.__data__, self.index, self.group)) {\n        tween[++j] = o;\n      }\n    }\n    tween.length = j + 1;\n  }\n\n  function tick(elapsed) {\n    var t = elapsed < self.duration ? self.ease.call(null, elapsed / self.duration) : (self.timer.restart(stop), self.state = ENDING, 1),\n        i = -1,\n        n = tween.length;\n\n    while (++i < n) {\n      tween[i].call(node, t);\n    }\n\n    // Dispatch the end event.\n    if (self.state === ENDING) {\n      self.on.call(\"end\", node, node.__data__, self.index, self.group);\n      stop();\n    }\n  }\n\n  function stop() {\n    self.state = ENDED;\n    self.timer.stop();\n    delete schedules[id];\n    for (var i in schedules) return; // eslint-disable-line no-unused-vars\n    delete node.__transition;\n  }\n}\n","import {Timer} from \"./timer.js\";\n\nexport default function(callback, delay, time) {\n  var t = new Timer;\n  delay = delay == null ? 0 : +delay;\n  t.restart(elapsed => {\n    t.stop();\n    callback(elapsed + delay);\n  }, delay, time);\n  return t;\n}\n","var frame = 0, // is an animation frame pending?\n    timeout = 0, // is a timeout pending?\n    interval = 0, // are any timers active?\n    pokeDelay = 1000, // how frequently we check for clock skew\n    taskHead,\n    taskTail,\n    clockLast = 0,\n    clockNow = 0,\n    clockSkew = 0,\n    clock = typeof performance === \"object\" && performance.now ? performance : Date,\n    setFrame = typeof window === \"object\" && window.requestAnimationFrame ? window.requestAnimationFrame.bind(window) : function(f) { setTimeout(f, 17); };\n\nexport function now() {\n  return clockNow || (setFrame(clearNow), clockNow = clock.now() + clockSkew);\n}\n\nfunction clearNow() {\n  clockNow = 0;\n}\n\nexport function Timer() {\n  this._call =\n  this._time =\n  this._next = null;\n}\n\nTimer.prototype = timer.prototype = {\n  constructor: Timer,\n  restart: function(callback, delay, time) {\n    if (typeof callback !== \"function\") throw new TypeError(\"callback is not a function\");\n    time = (time == null ? now() : +time) + (delay == null ? 0 : +delay);\n    if (!this._next && taskTail !== this) {\n      if (taskTail) taskTail._next = this;\n      else taskHead = this;\n      taskTail = this;\n    }\n    this._call = callback;\n    this._time = time;\n    sleep();\n  },\n  stop: function() {\n    if (this._call) {\n      this._call = null;\n      this._time = Infinity;\n      sleep();\n    }\n  }\n};\n\nexport function timer(callback, delay, time) {\n  var t = new Timer;\n  t.restart(callback, delay, time);\n  return t;\n}\n\nexport function timerFlush() {\n  now(); // Get the current time, if not already set.\n  ++frame; // Pretend weve set an alarm, if we havent already.\n  var t = taskHead, e;\n  while (t) {\n    if ((e = clockNow - t._time) >= 0) t._call.call(undefined, e);\n    t = t._next;\n  }\n  --frame;\n}\n\nfunction wake() {\n  clockNow = (clockLast = clock.now()) + clockSkew;\n  frame = timeout = 0;\n  try {\n    timerFlush();\n  } finally {\n    frame = 0;\n    nap();\n    clockNow = 0;\n  }\n}\n\nfunction poke() {\n  var now = clock.now(), delay = now - clockLast;\n  if (delay > pokeDelay) clockSkew -= delay, clockLast = now;\n}\n\nfunction nap() {\n  var t0, t1 = taskHead, t2, time = Infinity;\n  while (t1) {\n    if (t1._call) {\n      if (time > t1._time) time = t1._time;\n      t0 = t1, t1 = t1._next;\n    } else {\n      t2 = t1._next, t1._next = null;\n      t1 = t0 ? t0._next = t2 : taskHead = t2;\n    }\n  }\n  taskTail = t0;\n  sleep(time);\n}\n\nfunction sleep(time) {\n  if (frame) return; // Soonest alarm already set, or will be.\n  if (timeout) timeout = clearTimeout(timeout);\n  var delay = time - clockNow; // Strictly less than if we recomputed clockNow.\n  if (delay > 24) {\n    if (time < Infinity) timeout = setTimeout(wake, time - clock.now() - clockSkew);\n    if (interval) interval = clearInterval(interval);\n  } else {\n    if (!interval) clockLast = clock.now(), interval = setInterval(poke, pokeDelay);\n    frame = 1, setFrame(wake);\n  }\n}\n","import {Transition, newId} from \"../transition/index.js\";\nimport schedule from \"../transition/schedule.js\";\nimport {easeCubicInOut} from \"d3-ease\";\nimport {now} from \"d3-timer\";\n\nvar defaultTiming = {\n  time: null, // Set on use.\n  delay: 0,\n  duration: 250,\n  ease: easeCubicInOut\n};\n\nfunction inherit(node, id) {\n  var timing;\n  while (!(timing = node.__transition) || !(timing = timing[id])) {\n    if (!(node = node.parentNode)) {\n      throw new Error(`transition ${id} not found`);\n    }\n  }\n  return timing;\n}\n\nexport default function(name) {\n  var id,\n      timing;\n\n  if (name instanceof Transition) {\n    id = name._id, name = name._name;\n  } else {\n    id = newId(), (timing = defaultTiming).time = now(), name = name == null ? null : name + \"\";\n  }\n\n  for (var groups = this._groups, m = groups.length, j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        schedule(node, name, id, i, group, timing || inherit(node, id));\n      }\n    }\n  }\n\n  return new Transition(groups, this._parents, name, id);\n}\n","import {selection} from \"d3-selection\";\nimport transition_attr from \"./attr.js\";\nimport transition_attrTween from \"./attrTween.js\";\nimport transition_delay from \"./delay.js\";\nimport transition_duration from \"./duration.js\";\nimport transition_ease from \"./ease.js\";\nimport transition_easeVarying from \"./easeVarying.js\";\nimport transition_filter from \"./filter.js\";\nimport transition_merge from \"./merge.js\";\nimport transition_on from \"./on.js\";\nimport transition_remove from \"./remove.js\";\nimport transition_select from \"./select.js\";\nimport transition_selectAll from \"./selectAll.js\";\nimport transition_selection from \"./selection.js\";\nimport transition_style from \"./style.js\";\nimport transition_styleTween from \"./styleTween.js\";\nimport transition_text from \"./text.js\";\nimport transition_textTween from \"./textTween.js\";\nimport transition_transition from \"./transition.js\";\nimport transition_tween from \"./tween.js\";\nimport transition_end from \"./end.js\";\n\nvar id = 0;\n\nexport function Transition(groups, parents, name, id) {\n  this._groups = groups;\n  this._parents = parents;\n  this._name = name;\n  this._id = id;\n}\n\nexport default function transition(name) {\n  return selection().transition(name);\n}\n\nexport function newId() {\n  return ++id;\n}\n\nvar selection_prototype = selection.prototype;\n\nTransition.prototype = transition.prototype = {\n  constructor: Transition,\n  select: transition_select,\n  selectAll: transition_selectAll,\n  selectChild: selection_prototype.selectChild,\n  selectChildren: selection_prototype.selectChildren,\n  filter: transition_filter,\n  merge: transition_merge,\n  selection: transition_selection,\n  transition: transition_transition,\n  call: selection_prototype.call,\n  nodes: selection_prototype.nodes,\n  node: selection_prototype.node,\n  size: selection_prototype.size,\n  empty: selection_prototype.empty,\n  each: selection_prototype.each,\n  on: transition_on,\n  attr: transition_attr,\n  attrTween: transition_attrTween,\n  style: transition_style,\n  styleTween: transition_styleTween,\n  text: transition_text,\n  textTween: transition_textTween,\n  remove: transition_remove,\n  tween: transition_tween,\n  delay: transition_delay,\n  duration: transition_duration,\n  ease: transition_ease,\n  easeVarying: transition_easeVarying,\n  end: transition_end,\n  [Symbol.iterator]: selection_prototype[Symbol.iterator]\n};\n","import {interpolateTransformSvg as interpolateTransform} from \"d3-interpolate\";\nimport {namespace} from \"d3-selection\";\nimport {tweenValue} from \"./tween.js\";\nimport interpolate from \"./interpolate.js\";\n\nfunction attrRemove(name) {\n  return function() {\n    this.removeAttribute(name);\n  };\n}\n\nfunction attrRemoveNS(fullname) {\n  return function() {\n    this.removeAttributeNS(fullname.space, fullname.local);\n  };\n}\n\nfunction attrConstant(name, interpolate, value1) {\n  var string00,\n      string1 = value1 + \"\",\n      interpolate0;\n  return function() {\n    var string0 = this.getAttribute(name);\n    return string0 === string1 ? null\n        : string0 === string00 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, value1);\n  };\n}\n\nfunction attrConstantNS(fullname, interpolate, value1) {\n  var string00,\n      string1 = value1 + \"\",\n      interpolate0;\n  return function() {\n    var string0 = this.getAttributeNS(fullname.space, fullname.local);\n    return string0 === string1 ? null\n        : string0 === string00 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, value1);\n  };\n}\n\nfunction attrFunction(name, interpolate, value) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0, value1 = value(this), string1;\n    if (value1 == null) return void this.removeAttribute(name);\n    string0 = this.getAttribute(name);\n    string1 = value1 + \"\";\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));\n  };\n}\n\nfunction attrFunctionNS(fullname, interpolate, value) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0, value1 = value(this), string1;\n    if (value1 == null) return void this.removeAttributeNS(fullname.space, fullname.local);\n    string0 = this.getAttributeNS(fullname.space, fullname.local);\n    string1 = value1 + \"\";\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));\n  };\n}\n\nexport default function(name, value) {\n  var fullname = namespace(name), i = fullname === \"transform\" ? interpolateTransform : interpolate;\n  return this.attrTween(name, typeof value === \"function\"\n      ? (fullname.local ? attrFunctionNS : attrFunction)(fullname, i, tweenValue(this, \"attr.\" + name, value))\n      : value == null ? (fullname.local ? attrRemoveNS : attrRemove)(fullname)\n      : (fullname.local ? attrConstantNS : attrConstant)(fullname, i, value));\n}\n","import number from \"../number.js\";\nimport {parseCss, parseSvg} from \"./parse.js\";\n\nfunction interpolateTransform(parse, pxComma, pxParen, degParen) {\n\n  function pop(s) {\n    return s.length ? s.pop() + \" \" : \"\";\n  }\n\n  function translate(xa, ya, xb, yb, s, q) {\n    if (xa !== xb || ya !== yb) {\n      var i = s.push(\"translate(\", null, pxComma, null, pxParen);\n      q.push({i: i - 4, x: number(xa, xb)}, {i: i - 2, x: number(ya, yb)});\n    } else if (xb || yb) {\n      s.push(\"translate(\" + xb + pxComma + yb + pxParen);\n    }\n  }\n\n  function rotate(a, b, s, q) {\n    if (a !== b) {\n      if (a - b > 180) b += 360; else if (b - a > 180) a += 360; // shortest path\n      q.push({i: s.push(pop(s) + \"rotate(\", null, degParen) - 2, x: number(a, b)});\n    } else if (b) {\n      s.push(pop(s) + \"rotate(\" + b + degParen);\n    }\n  }\n\n  function skewX(a, b, s, q) {\n    if (a !== b) {\n      q.push({i: s.push(pop(s) + \"skewX(\", null, degParen) - 2, x: number(a, b)});\n    } else if (b) {\n      s.push(pop(s) + \"skewX(\" + b + degParen);\n    }\n  }\n\n  function scale(xa, ya, xb, yb, s, q) {\n    if (xa !== xb || ya !== yb) {\n      var i = s.push(pop(s) + \"scale(\", null, \",\", null, \")\");\n      q.push({i: i - 4, x: number(xa, xb)}, {i: i - 2, x: number(ya, yb)});\n    } else if (xb !== 1 || yb !== 1) {\n      s.push(pop(s) + \"scale(\" + xb + \",\" + yb + \")\");\n    }\n  }\n\n  return function(a, b) {\n    var s = [], // string constants and placeholders\n        q = []; // number interpolators\n    a = parse(a), b = parse(b);\n    translate(a.translateX, a.translateY, b.translateX, b.translateY, s, q);\n    rotate(a.rotate, b.rotate, s, q);\n    skewX(a.skewX, b.skewX, s, q);\n    scale(a.scaleX, a.scaleY, b.scaleX, b.scaleY, s, q);\n    a = b = null; // gc\n    return function(t) {\n      var i = -1, n = q.length, o;\n      while (++i < n) s[(o = q[i]).i] = o.x(t);\n      return s.join(\"\");\n    };\n  };\n}\n\nexport var interpolateTransformCss = interpolateTransform(parseCss, \"px, \", \"px)\", \"deg)\");\nexport var interpolateTransformSvg = interpolateTransform(parseSvg, \", \", \")\", \")\");\n","import decompose, {identity} from \"./decompose.js\";\n\nvar svgNode;\n\n/* eslint-disable no-undef */\nexport function parseCss(value) {\n  const m = new (typeof DOMMatrix === \"function\" ? DOMMatrix : WebKitCSSMatrix)(value + \"\");\n  return m.isIdentity ? identity : decompose(m.a, m.b, m.c, m.d, m.e, m.f);\n}\n\nexport function parseSvg(value) {\n  if (value == null) return identity;\n  if (!svgNode) svgNode = document.createElementNS(\"http://www.w3.org/2000/svg\", \"g\");\n  svgNode.setAttribute(\"transform\", value);\n  if (!(value = svgNode.transform.baseVal.consolidate())) return identity;\n  value = value.matrix;\n  return decompose(value.a, value.b, value.c, value.d, value.e, value.f);\n}\n","var degrees = 180 / Math.PI;\n\nexport var identity = {\n  translateX: 0,\n  translateY: 0,\n  rotate: 0,\n  skewX: 0,\n  scaleX: 1,\n  scaleY: 1\n};\n\nexport default function(a, b, c, d, e, f) {\n  var scaleX, scaleY, skewX;\n  if (scaleX = Math.sqrt(a * a + b * b)) a /= scaleX, b /= scaleX;\n  if (skewX = a * c + b * d) c -= a * skewX, d -= b * skewX;\n  if (scaleY = Math.sqrt(c * c + d * d)) c /= scaleY, d /= scaleY, skewX /= scaleY;\n  if (a * d < b * c) a = -a, b = -b, skewX = -skewX, scaleX = -scaleX;\n  return {\n    translateX: e,\n    translateY: f,\n    rotate: Math.atan2(b, a) * degrees,\n    skewX: Math.atan(skewX) * degrees,\n    scaleX: scaleX,\n    scaleY: scaleY\n  };\n}\n","import {get, set} from \"./schedule.js\";\n\nfunction tweenRemove(id, name) {\n  var tween0, tween1;\n  return function() {\n    var schedule = set(this, id),\n        tween = schedule.tween;\n\n    // If this node shared tween with the previous node,\n    // just assign the updated shared tween and were done!\n    // Otherwise, copy-on-write.\n    if (tween !== tween0) {\n      tween1 = tween0 = tween;\n      for (var i = 0, n = tween1.length; i < n; ++i) {\n        if (tween1[i].name === name) {\n          tween1 = tween1.slice();\n          tween1.splice(i, 1);\n          break;\n        }\n      }\n    }\n\n    schedule.tween = tween1;\n  };\n}\n\nfunction tweenFunction(id, name, value) {\n  var tween0, tween1;\n  if (typeof value !== \"function\") throw new Error;\n  return function() {\n    var schedule = set(this, id),\n        tween = schedule.tween;\n\n    // If this node shared tween with the previous node,\n    // just assign the updated shared tween and were done!\n    // Otherwise, copy-on-write.\n    if (tween !== tween0) {\n      tween1 = (tween0 = tween).slice();\n      for (var t = {name: name, value: value}, i = 0, n = tween1.length; i < n; ++i) {\n        if (tween1[i].name === name) {\n          tween1[i] = t;\n          break;\n        }\n      }\n      if (i === n) tween1.push(t);\n    }\n\n    schedule.tween = tween1;\n  };\n}\n\nexport default function(name, value) {\n  var id = this._id;\n\n  name += \"\";\n\n  if (arguments.length < 2) {\n    var tween = get(this.node(), id).tween;\n    for (var i = 0, n = tween.length, t; i < n; ++i) {\n      if ((t = tween[i]).name === name) {\n        return t.value;\n      }\n    }\n    return null;\n  }\n\n  return this.each((value == null ? tweenRemove : tweenFunction)(id, name, value));\n}\n\nexport function tweenValue(transition, name, value) {\n  var id = transition._id;\n\n  transition.each(function() {\n    var schedule = set(this, id);\n    (schedule.value || (schedule.value = {}))[name] = value.apply(this, arguments);\n  });\n\n  return function(node) {\n    return get(node, id).value[name];\n  };\n}\n","import {color} from \"d3-color\";\nimport {interpolateNumber, interpolateRgb, interpolateString} from \"d3-interpolate\";\n\nexport default function(a, b) {\n  var c;\n  return (typeof b === \"number\" ? interpolateNumber\n      : b instanceof color ? interpolateRgb\n      : (c = color(b)) ? (b = c, interpolateRgb)\n      : interpolateString)(a, b);\n}\n","import {namespace} from \"d3-selection\";\n\nfunction attrInterpolate(name, i) {\n  return function(t) {\n    this.setAttribute(name, i.call(this, t));\n  };\n}\n\nfunction attrInterpolateNS(fullname, i) {\n  return function(t) {\n    this.setAttributeNS(fullname.space, fullname.local, i.call(this, t));\n  };\n}\n\nfunction attrTweenNS(fullname, value) {\n  var t0, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t0 = (i0 = i) && attrInterpolateNS(fullname, i);\n    return t0;\n  }\n  tween._value = value;\n  return tween;\n}\n\nfunction attrTween(name, value) {\n  var t0, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t0 = (i0 = i) && attrInterpolate(name, i);\n    return t0;\n  }\n  tween._value = value;\n  return tween;\n}\n\nexport default function(name, value) {\n  var key = \"attr.\" + name;\n  if (arguments.length < 2) return (key = this.tween(key)) && key._value;\n  if (value == null) return this.tween(key, null);\n  if (typeof value !== \"function\") throw new Error;\n  var fullname = namespace(name);\n  return this.tween(key, (fullname.local ? attrTweenNS : attrTween)(fullname, value));\n}\n","import {get, init} from \"./schedule.js\";\n\nfunction delayFunction(id, value) {\n  return function() {\n    init(this, id).delay = +value.apply(this, arguments);\n  };\n}\n\nfunction delayConstant(id, value) {\n  return value = +value, function() {\n    init(this, id).delay = value;\n  };\n}\n\nexport default function(value) {\n  var id = this._id;\n\n  return arguments.length\n      ? this.each((typeof value === \"function\"\n          ? delayFunction\n          : delayConstant)(id, value))\n      : get(this.node(), id).delay;\n}\n","import {get, set} from \"./schedule.js\";\n\nfunction durationFunction(id, value) {\n  return function() {\n    set(this, id).duration = +value.apply(this, arguments);\n  };\n}\n\nfunction durationConstant(id, value) {\n  return value = +value, function() {\n    set(this, id).duration = value;\n  };\n}\n\nexport default function(value) {\n  var id = this._id;\n\n  return arguments.length\n      ? this.each((typeof value === \"function\"\n          ? durationFunction\n          : durationConstant)(id, value))\n      : get(this.node(), id).duration;\n}\n","import {get, set} from \"./schedule.js\";\n\nfunction easeConstant(id, value) {\n  if (typeof value !== \"function\") throw new Error;\n  return function() {\n    set(this, id).ease = value;\n  };\n}\n\nexport default function(value) {\n  var id = this._id;\n\n  return arguments.length\n      ? this.each(easeConstant(id, value))\n      : get(this.node(), id).ease;\n}\n","import {set} from \"./schedule.js\";\n\nfunction easeVarying(id, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (typeof v !== \"function\") throw new Error;\n    set(this, id).ease = v;\n  };\n}\n\nexport default function(value) {\n  if (typeof value !== \"function\") throw new Error;\n  return this.each(easeVarying(this._id, value));\n}\n","import {matcher} from \"d3-selection\";\nimport {Transition} from \"./index.js\";\n\nexport default function(match) {\n  if (typeof match !== \"function\") match = matcher(match);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = [], node, i = 0; i < n; ++i) {\n      if ((node = group[i]) && match.call(node, node.__data__, i, group)) {\n        subgroup.push(node);\n      }\n    }\n  }\n\n  return new Transition(subgroups, this._parents, this._name, this._id);\n}\n","import {Transition} from \"./index.js\";\n\nexport default function(transition) {\n  if (transition._id !== this._id) throw new Error;\n\n  for (var groups0 = this._groups, groups1 = transition._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {\n    for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge = merges[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group0[i] || group1[i]) {\n        merge[i] = node;\n      }\n    }\n  }\n\n  for (; j < m0; ++j) {\n    merges[j] = groups0[j];\n  }\n\n  return new Transition(merges, this._parents, this._name, this._id);\n}\n","import {get, set, init} from \"./schedule.js\";\n\nfunction start(name) {\n  return (name + \"\").trim().split(/^|\\s+/).every(function(t) {\n    var i = t.indexOf(\".\");\n    if (i >= 0) t = t.slice(0, i);\n    return !t || t === \"start\";\n  });\n}\n\nfunction onFunction(id, name, listener) {\n  var on0, on1, sit = start(name) ? init : set;\n  return function() {\n    var schedule = sit(this, id),\n        on = schedule.on;\n\n    // If this node shared a dispatch with the previous node,\n    // just assign the updated shared dispatch and were done!\n    // Otherwise, copy-on-write.\n    if (on !== on0) (on1 = (on0 = on).copy()).on(name, listener);\n\n    schedule.on = on1;\n  };\n}\n\nexport default function(name, listener) {\n  var id = this._id;\n\n  return arguments.length < 2\n      ? get(this.node(), id).on.on(name)\n      : this.each(onFunction(id, name, listener));\n}\n","function removeFunction(id) {\n  return function() {\n    var parent = this.parentNode;\n    for (var i in this.__transition) if (+i !== id) return;\n    if (parent) parent.removeChild(this);\n  };\n}\n\nexport default function() {\n  return this.on(\"end.remove\", removeFunction(this._id));\n}\n","import {selector} from \"d3-selection\";\nimport {Transition} from \"./index.js\";\nimport schedule, {get} from \"./schedule.js\";\n\nexport default function(select) {\n  var name = this._name,\n      id = this._id;\n\n  if (typeof select !== \"function\") select = selector(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = new Array(n), node, subnode, i = 0; i < n; ++i) {\n      if ((node = group[i]) && (subnode = select.call(node, node.__data__, i, group))) {\n        if (\"__data__\" in node) subnode.__data__ = node.__data__;\n        subgroup[i] = subnode;\n        schedule(subgroup[i], name, id, i, subgroup, get(node, id));\n      }\n    }\n  }\n\n  return new Transition(subgroups, this._parents, name, id);\n}\n","import {selectorAll} from \"d3-selection\";\nimport {Transition} from \"./index.js\";\nimport schedule, {get} from \"./schedule.js\";\n\nexport default function(select) {\n  var name = this._name,\n      id = this._id;\n\n  if (typeof select !== \"function\") select = selectorAll(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = [], parents = [], j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        for (var children = select.call(node, node.__data__, i, group), child, inherit = get(node, id), k = 0, l = children.length; k < l; ++k) {\n          if (child = children[k]) {\n            schedule(child, name, id, k, children, inherit);\n          }\n        }\n        subgroups.push(children);\n        parents.push(node);\n      }\n    }\n  }\n\n  return new Transition(subgroups, parents, name, id);\n}\n","import {selection} from \"d3-selection\";\n\nvar Selection = selection.prototype.constructor;\n\nexport default function() {\n  return new Selection(this._groups, this._parents);\n}\n","import {interpolateTransformCss as interpolateTransform} from \"d3-interpolate\";\nimport {style} from \"d3-selection\";\nimport {set} from \"./schedule.js\";\nimport {tweenValue} from \"./tween.js\";\nimport interpolate from \"./interpolate.js\";\n\nfunction styleNull(name, interpolate) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0 = style(this, name),\n        string1 = (this.style.removeProperty(name), style(this, name));\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, string10 = string1);\n  };\n}\n\nfunction styleRemove(name) {\n  return function() {\n    this.style.removeProperty(name);\n  };\n}\n\nfunction styleConstant(name, interpolate, value1) {\n  var string00,\n      string1 = value1 + \"\",\n      interpolate0;\n  return function() {\n    var string0 = style(this, name);\n    return string0 === string1 ? null\n        : string0 === string00 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, value1);\n  };\n}\n\nfunction styleFunction(name, interpolate, value) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0 = style(this, name),\n        value1 = value(this),\n        string1 = value1 + \"\";\n    if (value1 == null) string1 = value1 = (this.style.removeProperty(name), style(this, name));\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));\n  };\n}\n\nfunction styleMaybeRemove(id, name) {\n  var on0, on1, listener0, key = \"style.\" + name, event = \"end.\" + key, remove;\n  return function() {\n    var schedule = set(this, id),\n        on = schedule.on,\n        listener = schedule.value[key] == null ? remove || (remove = styleRemove(name)) : undefined;\n\n    // If this node shared a dispatch with the previous node,\n    // just assign the updated shared dispatch and were done!\n    // Otherwise, copy-on-write.\n    if (on !== on0 || listener0 !== listener) (on1 = (on0 = on).copy()).on(event, listener0 = listener);\n\n    schedule.on = on1;\n  };\n}\n\nexport default function(name, value, priority) {\n  var i = (name += \"\") === \"transform\" ? interpolateTransform : interpolate;\n  return value == null ? this\n      .styleTween(name, styleNull(name, i))\n      .on(\"end.style.\" + name, styleRemove(name))\n    : typeof value === \"function\" ? this\n      .styleTween(name, styleFunction(name, i, tweenValue(this, \"style.\" + name, value)))\n      .each(styleMaybeRemove(this._id, name))\n    : this\n      .styleTween(name, styleConstant(name, i, value), priority)\n      .on(\"end.style.\" + name, null);\n}\n","function styleInterpolate(name, i, priority) {\n  return function(t) {\n    this.style.setProperty(name, i.call(this, t), priority);\n  };\n}\n\nfunction styleTween(name, value, priority) {\n  var t, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t = (i0 = i) && styleInterpolate(name, i, priority);\n    return t;\n  }\n  tween._value = value;\n  return tween;\n}\n\nexport default function(name, value, priority) {\n  var key = \"style.\" + (name += \"\");\n  if (arguments.length < 2) return (key = this.tween(key)) && key._value;\n  if (value == null) return this.tween(key, null);\n  if (typeof value !== \"function\") throw new Error;\n  return this.tween(key, styleTween(name, value, priority == null ? \"\" : priority));\n}\n","import {tweenValue} from \"./tween.js\";\n\nfunction textConstant(value) {\n  return function() {\n    this.textContent = value;\n  };\n}\n\nfunction textFunction(value) {\n  return function() {\n    var value1 = value(this);\n    this.textContent = value1 == null ? \"\" : value1;\n  };\n}\n\nexport default function(value) {\n  return this.tween(\"text\", typeof value === \"function\"\n      ? textFunction(tweenValue(this, \"text\", value))\n      : textConstant(value == null ? \"\" : value + \"\"));\n}\n","function textInterpolate(i) {\n  return function(t) {\n    this.textContent = i.call(this, t);\n  };\n}\n\nfunction textTween(value) {\n  var t0, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t0 = (i0 = i) && textInterpolate(i);\n    return t0;\n  }\n  tween._value = value;\n  return tween;\n}\n\nexport default function(value) {\n  var key = \"text\";\n  if (arguments.length < 1) return (key = this.tween(key)) && key._value;\n  if (value == null) return this.tween(key, null);\n  if (typeof value !== \"function\") throw new Error;\n  return this.tween(key, textTween(value));\n}\n","import {Transition, newId} from \"./index.js\";\nimport schedule, {get} from \"./schedule.js\";\n\nexport default function() {\n  var name = this._name,\n      id0 = this._id,\n      id1 = newId();\n\n  for (var groups = this._groups, m = groups.length, j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        var inherit = get(node, id0);\n        schedule(node, name, id1, i, group, {\n          time: inherit.time + inherit.delay + inherit.duration,\n          delay: 0,\n          duration: inherit.duration,\n          ease: inherit.ease\n        });\n      }\n    }\n  }\n\n  return new Transition(groups, this._parents, name, id1);\n}\n","import {set} from \"./schedule.js\";\n\nexport default function() {\n  var on0, on1, that = this, id = that._id, size = that.size();\n  return new Promise(function(resolve, reject) {\n    var cancel = {value: reject},\n        end = {value: function() { if (--size === 0) resolve(); }};\n\n    that.each(function() {\n      var schedule = set(this, id),\n          on = schedule.on;\n\n      // If this node shared a dispatch with the previous node,\n      // just assign the updated shared dispatch and were done!\n      // Otherwise, copy-on-write.\n      if (on !== on0) {\n        on1 = (on0 = on).copy();\n        on1._.cancel.push(cancel);\n        on1._.interrupt.push(cancel);\n        on1._.end.push(end);\n      }\n\n      schedule.on = on1;\n    });\n\n    // The selection was empty, resolve end immediately\n    if (size === 0) resolve();\n  });\n}\n","export function cubicIn(t) {\n  return t * t * t;\n}\n\nexport function cubicOut(t) {\n  return --t * t * t + 1;\n}\n\nexport function cubicInOut(t) {\n  return ((t *= 2) <= 1 ? t * t * t : (t -= 2) * t * t + 2) / 2;\n}\n","export default x => () => x;\n","export default function BrushEvent(type, {\n  sourceEvent,\n  target,\n  selection,\n  mode,\n  dispatch\n}) {\n  Object.defineProperties(this, {\n    type: {value: type, enumerable: true, configurable: true},\n    sourceEvent: {value: sourceEvent, enumerable: true, configurable: true},\n    target: {value: target, enumerable: true, configurable: true},\n    selection: {value: selection, enumerable: true, configurable: true},\n    mode: {value: mode, enumerable: true, configurable: true},\n    _: {value: dispatch}\n  });\n}\n","export function nopropagation(event) {\n  event.stopImmediatePropagation();\n}\n\nexport default function(event) {\n  event.preventDefault();\n  event.stopImmediatePropagation();\n}\n","export {default as zoom} from \"./zoom.js\";\nexport {default as zoomTransform, identity as zoomIdentity, Transform as ZoomTransform} from \"./transform.js\";\n","import {dispatch} from \"d3-dispatch\";\nimport {dragDisable, dragEnable} from \"d3-drag\";\nimport {interpolateZoom} from \"d3-interpolate\";\nimport {select, pointer} from \"d3-selection\";\nimport {interrupt} from \"d3-transition\";\nimport constant from \"./constant.js\";\nimport ZoomEvent from \"./event.js\";\nimport {Transform, identity} from \"./transform.js\";\nimport noevent, {nopropagation} from \"./noevent.js\";\n\n// Ignore right-click, since that should open the context menu.\n// except for pinch-to-zoom, which is sent as a wheel+ctrlKey event\nfunction defaultFilter(event) {\n  return (!event.ctrlKey || event.type === 'wheel') && !event.button;\n}\n\nfunction defaultExtent() {\n  var e = this;\n  if (e instanceof SVGElement) {\n    e = e.ownerSVGElement || e;\n    if (e.hasAttribute(\"viewBox\")) {\n      e = e.viewBox.baseVal;\n      return [[e.x, e.y], [e.x + e.width, e.y + e.height]];\n    }\n    return [[0, 0], [e.width.baseVal.value, e.height.baseVal.value]];\n  }\n  return [[0, 0], [e.clientWidth, e.clientHeight]];\n}\n\nfunction defaultTransform() {\n  return this.__zoom || identity;\n}\n\nfunction defaultWheelDelta(event) {\n  return -event.deltaY * (event.deltaMode === 1 ? 0.05 : event.deltaMode ? 1 : 0.002) * (event.ctrlKey ? 10 : 1);\n}\n\nfunction defaultTouchable() {\n  return navigator.maxTouchPoints || (\"ontouchstart\" in this);\n}\n\nfunction defaultConstrain(transform, extent, translateExtent) {\n  var dx0 = transform.invertX(extent[0][0]) - translateExtent[0][0],\n      dx1 = transform.invertX(extent[1][0]) - translateExtent[1][0],\n      dy0 = transform.invertY(extent[0][1]) - translateExtent[0][1],\n      dy1 = transform.invertY(extent[1][1]) - translateExtent[1][1];\n  return transform.translate(\n    dx1 > dx0 ? (dx0 + dx1) / 2 : Math.min(0, dx0) || Math.max(0, dx1),\n    dy1 > dy0 ? (dy0 + dy1) / 2 : Math.min(0, dy0) || Math.max(0, dy1)\n  );\n}\n\nexport default function() {\n  var filter = defaultFilter,\n      extent = defaultExtent,\n      constrain = defaultConstrain,\n      wheelDelta = defaultWheelDelta,\n      touchable = defaultTouchable,\n      scaleExtent = [0, Infinity],\n      translateExtent = [[-Infinity, -Infinity], [Infinity, Infinity]],\n      duration = 250,\n      interpolate = interpolateZoom,\n      listeners = dispatch(\"start\", \"zoom\", \"end\"),\n      touchstarting,\n      touchfirst,\n      touchending,\n      touchDelay = 500,\n      wheelDelay = 150,\n      clickDistance2 = 0,\n      tapDistance = 10;\n\n  function zoom(selection) {\n    selection\n        .property(\"__zoom\", defaultTransform)\n        .on(\"wheel.zoom\", wheeled, {passive: false})\n        .on(\"mousedown.zoom\", mousedowned)\n        .on(\"dblclick.zoom\", dblclicked)\n      .filter(touchable)\n        .on(\"touchstart.zoom\", touchstarted)\n        .on(\"touchmove.zoom\", touchmoved)\n        .on(\"touchend.zoom touchcancel.zoom\", touchended)\n        .style(\"-webkit-tap-highlight-color\", \"rgba(0,0,0,0)\");\n  }\n\n  zoom.transform = function(collection, transform, point, event) {\n    var selection = collection.selection ? collection.selection() : collection;\n    selection.property(\"__zoom\", defaultTransform);\n    if (collection !== selection) {\n      schedule(collection, transform, point, event);\n    } else {\n      selection.interrupt().each(function() {\n        gesture(this, arguments)\n          .event(event)\n          .start()\n          .zoom(null, typeof transform === \"function\" ? transform.apply(this, arguments) : transform)\n          .end();\n      });\n    }\n  };\n\n  zoom.scaleBy = function(selection, k, p, event) {\n    zoom.scaleTo(selection, function() {\n      var k0 = this.__zoom.k,\n          k1 = typeof k === \"function\" ? k.apply(this, arguments) : k;\n      return k0 * k1;\n    }, p, event);\n  };\n\n  zoom.scaleTo = function(selection, k, p, event) {\n    zoom.transform(selection, function() {\n      var e = extent.apply(this, arguments),\n          t0 = this.__zoom,\n          p0 = p == null ? centroid(e) : typeof p === \"function\" ? p.apply(this, arguments) : p,\n          p1 = t0.invert(p0),\n          k1 = typeof k === \"function\" ? k.apply(this, arguments) : k;\n      return constrain(translate(scale(t0, k1), p0, p1), e, translateExtent);\n    }, p, event);\n  };\n\n  zoom.translateBy = function(selection, x, y, event) {\n    zoom.transform(selection, function() {\n      return constrain(this.__zoom.translate(\n        typeof x === \"function\" ? x.apply(this, arguments) : x,\n        typeof y === \"function\" ? y.apply(this, arguments) : y\n      ), extent.apply(this, arguments), translateExtent);\n    }, null, event);\n  };\n\n  zoom.translateTo = function(selection, x, y, p, event) {\n    zoom.transform(selection, function() {\n      var e = extent.apply(this, arguments),\n          t = this.__zoom,\n          p0 = p == null ? centroid(e) : typeof p === \"function\" ? p.apply(this, arguments) : p;\n      return constrain(identity.translate(p0[0], p0[1]).scale(t.k).translate(\n        typeof x === \"function\" ? -x.apply(this, arguments) : -x,\n        typeof y === \"function\" ? -y.apply(this, arguments) : -y\n      ), e, translateExtent);\n    }, p, event);\n  };\n\n  function scale(transform, k) {\n    k = Math.max(scaleExtent[0], Math.min(scaleExtent[1], k));\n    return k === transform.k ? transform : new Transform(k, transform.x, transform.y);\n  }\n\n  function translate(transform, p0, p1) {\n    var x = p0[0] - p1[0] * transform.k, y = p0[1] - p1[1] * transform.k;\n    return x === transform.x && y === transform.y ? transform : new Transform(transform.k, x, y);\n  }\n\n  function centroid(extent) {\n    return [(+extent[0][0] + +extent[1][0]) / 2, (+extent[0][1] + +extent[1][1]) / 2];\n  }\n\n  function schedule(transition, transform, point, event) {\n    transition\n        .on(\"start.zoom\", function() { gesture(this, arguments).event(event).start(); })\n        .on(\"interrupt.zoom end.zoom\", function() { gesture(this, arguments).event(event).end(); })\n        .tween(\"zoom\", function() {\n          var that = this,\n              args = arguments,\n              g = gesture(that, args).event(event),\n              e = extent.apply(that, args),\n              p = point == null ? centroid(e) : typeof point === \"function\" ? point.apply(that, args) : point,\n              w = Math.max(e[1][0] - e[0][0], e[1][1] - e[0][1]),\n              a = that.__zoom,\n              b = typeof transform === \"function\" ? transform.apply(that, args) : transform,\n              i = interpolate(a.invert(p).concat(w / a.k), b.invert(p).concat(w / b.k));\n          return function(t) {\n            if (t === 1) t = b; // Avoid rounding error on end.\n            else { var l = i(t), k = w / l[2]; t = new Transform(k, p[0] - l[0] * k, p[1] - l[1] * k); }\n            g.zoom(null, t);\n          };\n        });\n  }\n\n  function gesture(that, args, clean) {\n    return (!clean && that.__zooming) || new Gesture(that, args);\n  }\n\n  function Gesture(that, args) {\n    this.that = that;\n    this.args = args;\n    this.active = 0;\n    this.sourceEvent = null;\n    this.extent = extent.apply(that, args);\n    this.taps = 0;\n  }\n\n  Gesture.prototype = {\n    event: function(event) {\n      if (event) this.sourceEvent = event;\n      return this;\n    },\n    start: function() {\n      if (++this.active === 1) {\n        this.that.__zooming = this;\n        this.emit(\"start\");\n      }\n      return this;\n    },\n    zoom: function(key, transform) {\n      if (this.mouse && key !== \"mouse\") this.mouse[1] = transform.invert(this.mouse[0]);\n      if (this.touch0 && key !== \"touch\") this.touch0[1] = transform.invert(this.touch0[0]);\n      if (this.touch1 && key !== \"touch\") this.touch1[1] = transform.invert(this.touch1[0]);\n      this.that.__zoom = transform;\n      this.emit(\"zoom\");\n      return this;\n    },\n    end: function() {\n      if (--this.active === 0) {\n        delete this.that.__zooming;\n        this.emit(\"end\");\n      }\n      return this;\n    },\n    emit: function(type) {\n      var d = select(this.that).datum();\n      listeners.call(\n        type,\n        this.that,\n        new ZoomEvent(type, {\n          sourceEvent: this.sourceEvent,\n          target: zoom,\n          type,\n          transform: this.that.__zoom,\n          dispatch: listeners\n        }),\n        d\n      );\n    }\n  };\n\n  function wheeled(event, ...args) {\n    if (!filter.apply(this, arguments)) return;\n    var g = gesture(this, args).event(event),\n        t = this.__zoom,\n        k = Math.max(scaleExtent[0], Math.min(scaleExtent[1], t.k * Math.pow(2, wheelDelta.apply(this, arguments)))),\n        p = pointer(event);\n\n    // If the mouse is in the same location as before, reuse it.\n    // If there were recent wheel events, reset the wheel idle timeout.\n    if (g.wheel) {\n      if (g.mouse[0][0] !== p[0] || g.mouse[0][1] !== p[1]) {\n        g.mouse[1] = t.invert(g.mouse[0] = p);\n      }\n      clearTimeout(g.wheel);\n    }\n\n    // If this wheel event wont trigger a transform change, ignore it.\n    else if (t.k === k) return;\n\n    // Otherwise, capture the mouse point and location at the start.\n    else {\n      g.mouse = [p, t.invert(p)];\n      interrupt(this);\n      g.start();\n    }\n\n    noevent(event);\n    g.wheel = setTimeout(wheelidled, wheelDelay);\n    g.zoom(\"mouse\", constrain(translate(scale(t, k), g.mouse[0], g.mouse[1]), g.extent, translateExtent));\n\n    function wheelidled() {\n      g.wheel = null;\n      g.end();\n    }\n  }\n\n  function mousedowned(event, ...args) {\n    if (touchending || !filter.apply(this, arguments)) return;\n    var currentTarget = event.currentTarget,\n        g = gesture(this, args, true).event(event),\n        v = select(event.view).on(\"mousemove.zoom\", mousemoved, true).on(\"mouseup.zoom\", mouseupped, true),\n        p = pointer(event, currentTarget),\n        x0 = event.clientX,\n        y0 = event.clientY;\n\n    dragDisable(event.view);\n    nopropagation(event);\n    g.mouse = [p, this.__zoom.invert(p)];\n    interrupt(this);\n    g.start();\n\n    function mousemoved(event) {\n      noevent(event);\n      if (!g.moved) {\n        var dx = event.clientX - x0, dy = event.clientY - y0;\n        g.moved = dx * dx + dy * dy > clickDistance2;\n      }\n      g.event(event)\n       .zoom(\"mouse\", constrain(translate(g.that.__zoom, g.mouse[0] = pointer(event, currentTarget), g.mouse[1]), g.extent, translateExtent));\n    }\n\n    function mouseupped(event) {\n      v.on(\"mousemove.zoom mouseup.zoom\", null);\n      dragEnable(event.view, g.moved);\n      noevent(event);\n      g.event(event).end();\n    }\n  }\n\n  function dblclicked(event, ...args) {\n    if (!filter.apply(this, arguments)) return;\n    var t0 = this.__zoom,\n        p0 = pointer(event.changedTouches ? event.changedTouches[0] : event, this),\n        p1 = t0.invert(p0),\n        k1 = t0.k * (event.shiftKey ? 0.5 : 2),\n        t1 = constrain(translate(scale(t0, k1), p0, p1), extent.apply(this, args), translateExtent);\n\n    noevent(event);\n    if (duration > 0) select(this).transition().duration(duration).call(schedule, t1, p0, event);\n    else select(this).call(zoom.transform, t1, p0, event);\n  }\n\n  function touchstarted(event, ...args) {\n    if (!filter.apply(this, arguments)) return;\n    var touches = event.touches,\n        n = touches.length,\n        g = gesture(this, args, event.changedTouches.length === n).event(event),\n        started, i, t, p;\n\n    nopropagation(event);\n    for (i = 0; i < n; ++i) {\n      t = touches[i], p = pointer(t, this);\n      p = [p, this.__zoom.invert(p), t.identifier];\n      if (!g.touch0) g.touch0 = p, started = true, g.taps = 1 + !!touchstarting;\n      else if (!g.touch1 && g.touch0[2] !== p[2]) g.touch1 = p, g.taps = 0;\n    }\n\n    if (touchstarting) touchstarting = clearTimeout(touchstarting);\n\n    if (started) {\n      if (g.taps < 2) touchfirst = p[0], touchstarting = setTimeout(function() { touchstarting = null; }, touchDelay);\n      interrupt(this);\n      g.start();\n    }\n  }\n\n  function touchmoved(event, ...args) {\n    if (!this.__zooming) return;\n    var g = gesture(this, args).event(event),\n        touches = event.changedTouches,\n        n = touches.length, i, t, p, l;\n\n    noevent(event);\n    for (i = 0; i < n; ++i) {\n      t = touches[i], p = pointer(t, this);\n      if (g.touch0 && g.touch0[2] === t.identifier) g.touch0[0] = p;\n      else if (g.touch1 && g.touch1[2] === t.identifier) g.touch1[0] = p;\n    }\n    t = g.that.__zoom;\n    if (g.touch1) {\n      var p0 = g.touch0[0], l0 = g.touch0[1],\n          p1 = g.touch1[0], l1 = g.touch1[1],\n          dp = (dp = p1[0] - p0[0]) * dp + (dp = p1[1] - p0[1]) * dp,\n          dl = (dl = l1[0] - l0[0]) * dl + (dl = l1[1] - l0[1]) * dl;\n      t = scale(t, Math.sqrt(dp / dl));\n      p = [(p0[0] + p1[0]) / 2, (p0[1] + p1[1]) / 2];\n      l = [(l0[0] + l1[0]) / 2, (l0[1] + l1[1]) / 2];\n    }\n    else if (g.touch0) p = g.touch0[0], l = g.touch0[1];\n    else return;\n\n    g.zoom(\"touch\", constrain(translate(t, p, l), g.extent, translateExtent));\n  }\n\n  function touchended(event, ...args) {\n    if (!this.__zooming) return;\n    var g = gesture(this, args).event(event),\n        touches = event.changedTouches,\n        n = touches.length, i, t;\n\n    nopropagation(event);\n    if (touchending) clearTimeout(touchending);\n    touchending = setTimeout(function() { touchending = null; }, touchDelay);\n    for (i = 0; i < n; ++i) {\n      t = touches[i];\n      if (g.touch0 && g.touch0[2] === t.identifier) delete g.touch0;\n      else if (g.touch1 && g.touch1[2] === t.identifier) delete g.touch1;\n    }\n    if (g.touch1 && !g.touch0) g.touch0 = g.touch1, delete g.touch1;\n    if (g.touch0) g.touch0[1] = this.__zoom.invert(g.touch0[0]);\n    else {\n      g.end();\n      // If this was a dbltap, reroute to the (optional) dblclick.zoom handler.\n      if (g.taps === 2) {\n        t = pointer(t, this);\n        if (Math.hypot(touchfirst[0] - t[0], touchfirst[1] - t[1]) < tapDistance) {\n          var p = select(this).on(\"dblclick.zoom\");\n          if (p) p.apply(this, arguments);\n        }\n      }\n    }\n  }\n\n  zoom.wheelDelta = function(_) {\n    return arguments.length ? (wheelDelta = typeof _ === \"function\" ? _ : constant(+_), zoom) : wheelDelta;\n  };\n\n  zoom.filter = function(_) {\n    return arguments.length ? (filter = typeof _ === \"function\" ? _ : constant(!!_), zoom) : filter;\n  };\n\n  zoom.touchable = function(_) {\n    return arguments.length ? (touchable = typeof _ === \"function\" ? _ : constant(!!_), zoom) : touchable;\n  };\n\n  zoom.extent = function(_) {\n    return arguments.length ? (extent = typeof _ === \"function\" ? _ : constant([[+_[0][0], +_[0][1]], [+_[1][0], +_[1][1]]]), zoom) : extent;\n  };\n\n  zoom.scaleExtent = function(_) {\n    return arguments.length ? (scaleExtent[0] = +_[0], scaleExtent[1] = +_[1], zoom) : [scaleExtent[0], scaleExtent[1]];\n  };\n\n  zoom.translateExtent = function(_) {\n    return arguments.length ? (translateExtent[0][0] = +_[0][0], translateExtent[1][0] = +_[1][0], translateExtent[0][1] = +_[0][1], translateExtent[1][1] = +_[1][1], zoom) : [[translateExtent[0][0], translateExtent[0][1]], [translateExtent[1][0], translateExtent[1][1]]];\n  };\n\n  zoom.constrain = function(_) {\n    return arguments.length ? (constrain = _, zoom) : constrain;\n  };\n\n  zoom.duration = function(_) {\n    return arguments.length ? (duration = +_, zoom) : duration;\n  };\n\n  zoom.interpolate = function(_) {\n    return arguments.length ? (interpolate = _, zoom) : interpolate;\n  };\n\n  zoom.on = function() {\n    var value = listeners.on.apply(listeners, arguments);\n    return value === listeners ? zoom : value;\n  };\n\n  zoom.clickDistance = function(_) {\n    return arguments.length ? (clickDistance2 = (_ = +_) * _, zoom) : Math.sqrt(clickDistance2);\n  };\n\n  zoom.tapDistance = function(_) {\n    return arguments.length ? (tapDistance = +_, zoom) : tapDistance;\n  };\n\n  return zoom;\n}\n","var epsilon2 = 1e-12;\n\nfunction cosh(x) {\n  return ((x = Math.exp(x)) + 1 / x) / 2;\n}\n\nfunction sinh(x) {\n  return ((x = Math.exp(x)) - 1 / x) / 2;\n}\n\nfunction tanh(x) {\n  return ((x = Math.exp(2 * x)) - 1) / (x + 1);\n}\n\nexport default (function zoomRho(rho, rho2, rho4) {\n\n  // p0 = [ux0, uy0, w0]\n  // p1 = [ux1, uy1, w1]\n  function zoom(p0, p1) {\n    var ux0 = p0[0], uy0 = p0[1], w0 = p0[2],\n        ux1 = p1[0], uy1 = p1[1], w1 = p1[2],\n        dx = ux1 - ux0,\n        dy = uy1 - uy0,\n        d2 = dx * dx + dy * dy,\n        i,\n        S;\n\n    // Special case for u0  u1.\n    if (d2 < epsilon2) {\n      S = Math.log(w1 / w0) / rho;\n      i = function(t) {\n        return [\n          ux0 + t * dx,\n          uy0 + t * dy,\n          w0 * Math.exp(rho * t * S)\n        ];\n      }\n    }\n\n    // General case.\n    else {\n      var d1 = Math.sqrt(d2),\n          b0 = (w1 * w1 - w0 * w0 + rho4 * d2) / (2 * w0 * rho2 * d1),\n          b1 = (w1 * w1 - w0 * w0 - rho4 * d2) / (2 * w1 * rho2 * d1),\n          r0 = Math.log(Math.sqrt(b0 * b0 + 1) - b0),\n          r1 = Math.log(Math.sqrt(b1 * b1 + 1) - b1);\n      S = (r1 - r0) / rho;\n      i = function(t) {\n        var s = t * S,\n            coshr0 = cosh(r0),\n            u = w0 / (rho2 * d1) * (coshr0 * tanh(rho * s + r0) - sinh(r0));\n        return [\n          ux0 + u * dx,\n          uy0 + u * dy,\n          w0 * coshr0 / cosh(rho * s + r0)\n        ];\n      }\n    }\n\n    i.duration = S * 1000 * rho / Math.SQRT2;\n\n    return i;\n  }\n\n  zoom.rho = function(_) {\n    var _1 = Math.max(1e-3, +_), _2 = _1 * _1, _4 = _2 * _2;\n    return zoomRho(_1, _2, _4);\n  };\n\n  return zoom;\n})(Math.SQRT2, 2, 4);\n","export default x => () => x;\n","export default function ZoomEvent(type, {\n  sourceEvent,\n  target,\n  transform,\n  dispatch\n}) {\n  Object.defineProperties(this, {\n    type: {value: type, enumerable: true, configurable: true},\n    sourceEvent: {value: sourceEvent, enumerable: true, configurable: true},\n    target: {value: target, enumerable: true, configurable: true},\n    transform: {value: transform, enumerable: true, configurable: true},\n    _: {value: dispatch}\n  });\n}\n","export function Transform(k, x, y) {\n  this.k = k;\n  this.x = x;\n  this.y = y;\n}\n\nTransform.prototype = {\n  constructor: Transform,\n  scale: function(k) {\n    return k === 1 ? this : new Transform(this.k * k, this.x, this.y);\n  },\n  translate: function(x, y) {\n    return x === 0 & y === 0 ? this : new Transform(this.k, this.x + this.k * x, this.y + this.k * y);\n  },\n  apply: function(point) {\n    return [point[0] * this.k + this.x, point[1] * this.k + this.y];\n  },\n  applyX: function(x) {\n    return x * this.k + this.x;\n  },\n  applyY: function(y) {\n    return y * this.k + this.y;\n  },\n  invert: function(location) {\n    return [(location[0] - this.x) / this.k, (location[1] - this.y) / this.k];\n  },\n  invertX: function(x) {\n    return (x - this.x) / this.k;\n  },\n  invertY: function(y) {\n    return (y - this.y) / this.k;\n  },\n  rescaleX: function(x) {\n    return x.copy().domain(x.range().map(this.invertX, this).map(x.invert, x));\n  },\n  rescaleY: function(y) {\n    return y.copy().domain(y.range().map(this.invertY, this).map(y.invert, y));\n  },\n  toString: function() {\n    return \"translate(\" + this.x + \",\" + this.y + \") scale(\" + this.k + \")\";\n  }\n};\n\nexport var identity = new Transform(1, 0, 0);\n\ntransform.prototype = Transform.prototype;\n\nexport default function transform(node) {\n  while (!node.__zoom) if (!(node = node.parentNode)) return identity;\n  return node.__zoom;\n}\n","export function nopropagation(event) {\n  event.stopImmediatePropagation();\n}\n\nexport default function(event) {\n  event.preventDefault();\n  event.stopImmediatePropagation();\n}\n","import constant from \"./constant.js\";\nimport {abs, acos, asin, atan2, cos, epsilon, halfPi, max, min, pi, sin, sqrt, tau} from \"./math.js\";\nimport {withPath} from \"./path.js\";\n\nfunction arcInnerRadius(d) {\n  return d.innerRadius;\n}\n\nfunction arcOuterRadius(d) {\n  return d.outerRadius;\n}\n\nfunction arcStartAngle(d) {\n  return d.startAngle;\n}\n\nfunction arcEndAngle(d) {\n  return d.endAngle;\n}\n\nfunction arcPadAngle(d) {\n  return d && d.padAngle; // Note: optional!\n}\n\nfunction intersect(x0, y0, x1, y1, x2, y2, x3, y3) {\n  var x10 = x1 - x0, y10 = y1 - y0,\n      x32 = x3 - x2, y32 = y3 - y2,\n      t = y32 * x10 - x32 * y10;\n  if (t * t < epsilon) return;\n  t = (x32 * (y0 - y2) - y32 * (x0 - x2)) / t;\n  return [x0 + t * x10, y0 + t * y10];\n}\n\n// Compute perpendicular offset line of length rc.\n// http://mathworld.wolfram.com/Circle-LineIntersection.html\nfunction cornerTangents(x0, y0, x1, y1, r1, rc, cw) {\n  var x01 = x0 - x1,\n      y01 = y0 - y1,\n      lo = (cw ? rc : -rc) / sqrt(x01 * x01 + y01 * y01),\n      ox = lo * y01,\n      oy = -lo * x01,\n      x11 = x0 + ox,\n      y11 = y0 + oy,\n      x10 = x1 + ox,\n      y10 = y1 + oy,\n      x00 = (x11 + x10) / 2,\n      y00 = (y11 + y10) / 2,\n      dx = x10 - x11,\n      dy = y10 - y11,\n      d2 = dx * dx + dy * dy,\n      r = r1 - rc,\n      D = x11 * y10 - x10 * y11,\n      d = (dy < 0 ? -1 : 1) * sqrt(max(0, r * r * d2 - D * D)),\n      cx0 = (D * dy - dx * d) / d2,\n      cy0 = (-D * dx - dy * d) / d2,\n      cx1 = (D * dy + dx * d) / d2,\n      cy1 = (-D * dx + dy * d) / d2,\n      dx0 = cx0 - x00,\n      dy0 = cy0 - y00,\n      dx1 = cx1 - x00,\n      dy1 = cy1 - y00;\n\n  // Pick the closer of the two intersection points.\n  // TODO Is there a faster way to determine which intersection to use?\n  if (dx0 * dx0 + dy0 * dy0 > dx1 * dx1 + dy1 * dy1) cx0 = cx1, cy0 = cy1;\n\n  return {\n    cx: cx0,\n    cy: cy0,\n    x01: -ox,\n    y01: -oy,\n    x11: cx0 * (r1 / r - 1),\n    y11: cy0 * (r1 / r - 1)\n  };\n}\n\nexport default function() {\n  var innerRadius = arcInnerRadius,\n      outerRadius = arcOuterRadius,\n      cornerRadius = constant(0),\n      padRadius = null,\n      startAngle = arcStartAngle,\n      endAngle = arcEndAngle,\n      padAngle = arcPadAngle,\n      context = null,\n      path = withPath(arc);\n\n  function arc() {\n    var buffer,\n        r,\n        r0 = +innerRadius.apply(this, arguments),\n        r1 = +outerRadius.apply(this, arguments),\n        a0 = startAngle.apply(this, arguments) - halfPi,\n        a1 = endAngle.apply(this, arguments) - halfPi,\n        da = abs(a1 - a0),\n        cw = a1 > a0;\n\n    if (!context) context = buffer = path();\n\n    // Ensure that the outer radius is always larger than the inner radius.\n    if (r1 < r0) r = r1, r1 = r0, r0 = r;\n\n    // Is it a point?\n    if (!(r1 > epsilon)) context.moveTo(0, 0);\n\n    // Or is it a circle or annulus?\n    else if (da > tau - epsilon) {\n      context.moveTo(r1 * cos(a0), r1 * sin(a0));\n      context.arc(0, 0, r1, a0, a1, !cw);\n      if (r0 > epsilon) {\n        context.moveTo(r0 * cos(a1), r0 * sin(a1));\n        context.arc(0, 0, r0, a1, a0, cw);\n      }\n    }\n\n    // Or is it a circular or annular sector?\n    else {\n      var a01 = a0,\n          a11 = a1,\n          a00 = a0,\n          a10 = a1,\n          da0 = da,\n          da1 = da,\n          ap = padAngle.apply(this, arguments) / 2,\n          rp = (ap > epsilon) && (padRadius ? +padRadius.apply(this, arguments) : sqrt(r0 * r0 + r1 * r1)),\n          rc = min(abs(r1 - r0) / 2, +cornerRadius.apply(this, arguments)),\n          rc0 = rc,\n          rc1 = rc,\n          t0,\n          t1;\n\n      // Apply padding? Note that since r1  r0, da1  da0.\n      if (rp > epsilon) {\n        var p0 = asin(rp / r0 * sin(ap)),\n            p1 = asin(rp / r1 * sin(ap));\n        if ((da0 -= p0 * 2) > epsilon) p0 *= (cw ? 1 : -1), a00 += p0, a10 -= p0;\n        else da0 = 0, a00 = a10 = (a0 + a1) / 2;\n        if ((da1 -= p1 * 2) > epsilon) p1 *= (cw ? 1 : -1), a01 += p1, a11 -= p1;\n        else da1 = 0, a01 = a11 = (a0 + a1) / 2;\n      }\n\n      var x01 = r1 * cos(a01),\n          y01 = r1 * sin(a01),\n          x10 = r0 * cos(a10),\n          y10 = r0 * sin(a10);\n\n      // Apply rounded corners?\n      if (rc > epsilon) {\n        var x11 = r1 * cos(a11),\n            y11 = r1 * sin(a11),\n            x00 = r0 * cos(a00),\n            y00 = r0 * sin(a00),\n            oc;\n\n        // Restrict the corner radius according to the sector angle. If this\n        // intersection fails, its probably because the arc is too small, so\n        // disable the corner radius entirely.\n        if (da < pi) {\n          if (oc = intersect(x01, y01, x00, y00, x11, y11, x10, y10)) {\n            var ax = x01 - oc[0],\n                ay = y01 - oc[1],\n                bx = x11 - oc[0],\n                by = y11 - oc[1],\n                kc = 1 / sin(acos((ax * bx + ay * by) / (sqrt(ax * ax + ay * ay) * sqrt(bx * bx + by * by))) / 2),\n                lc = sqrt(oc[0] * oc[0] + oc[1] * oc[1]);\n            rc0 = min(rc, (r0 - lc) / (kc - 1));\n            rc1 = min(rc, (r1 - lc) / (kc + 1));\n          } else {\n            rc0 = rc1 = 0;\n          }\n        }\n      }\n\n      // Is the sector collapsed to a line?\n      if (!(da1 > epsilon)) context.moveTo(x01, y01);\n\n      // Does the sectors outer ring have rounded corners?\n      else if (rc1 > epsilon) {\n        t0 = cornerTangents(x00, y00, x01, y01, r1, rc1, cw);\n        t1 = cornerTangents(x11, y11, x10, y10, r1, rc1, cw);\n\n        context.moveTo(t0.cx + t0.x01, t0.cy + t0.y01);\n\n        // Have the corners merged?\n        if (rc1 < rc) context.arc(t0.cx, t0.cy, rc1, atan2(t0.y01, t0.x01), atan2(t1.y01, t1.x01), !cw);\n\n        // Otherwise, draw the two corners and the ring.\n        else {\n          context.arc(t0.cx, t0.cy, rc1, atan2(t0.y01, t0.x01), atan2(t0.y11, t0.x11), !cw);\n          context.arc(0, 0, r1, atan2(t0.cy + t0.y11, t0.cx + t0.x11), atan2(t1.cy + t1.y11, t1.cx + t1.x11), !cw);\n          context.arc(t1.cx, t1.cy, rc1, atan2(t1.y11, t1.x11), atan2(t1.y01, t1.x01), !cw);\n        }\n      }\n\n      // Or is the outer ring just a circular arc?\n      else context.moveTo(x01, y01), context.arc(0, 0, r1, a01, a11, !cw);\n\n      // Is there no inner ring, and its a circular sector?\n      // Or perhaps its an annular sector collapsed due to padding?\n      if (!(r0 > epsilon) || !(da0 > epsilon)) context.lineTo(x10, y10);\n\n      // Does the sectors inner ring (or point) have rounded corners?\n      else if (rc0 > epsilon) {\n        t0 = cornerTangents(x10, y10, x11, y11, r0, -rc0, cw);\n        t1 = cornerTangents(x01, y01, x00, y00, r0, -rc0, cw);\n\n        context.lineTo(t0.cx + t0.x01, t0.cy + t0.y01);\n\n        // Have the corners merged?\n        if (rc0 < rc) context.arc(t0.cx, t0.cy, rc0, atan2(t0.y01, t0.x01), atan2(t1.y01, t1.x01), !cw);\n\n        // Otherwise, draw the two corners and the ring.\n        else {\n          context.arc(t0.cx, t0.cy, rc0, atan2(t0.y01, t0.x01), atan2(t0.y11, t0.x11), !cw);\n          context.arc(0, 0, r0, atan2(t0.cy + t0.y11, t0.cx + t0.x11), atan2(t1.cy + t1.y11, t1.cx + t1.x11), cw);\n          context.arc(t1.cx, t1.cy, rc0, atan2(t1.y11, t1.x11), atan2(t1.y01, t1.x01), !cw);\n        }\n      }\n\n      // Or is the inner ring just a circular arc?\n      else context.arc(0, 0, r0, a10, a00, cw);\n    }\n\n    context.closePath();\n\n    if (buffer) return context = null, buffer + \"\" || null;\n  }\n\n  arc.centroid = function() {\n    var r = (+innerRadius.apply(this, arguments) + +outerRadius.apply(this, arguments)) / 2,\n        a = (+startAngle.apply(this, arguments) + +endAngle.apply(this, arguments)) / 2 - pi / 2;\n    return [cos(a) * r, sin(a) * r];\n  };\n\n  arc.innerRadius = function(_) {\n    return arguments.length ? (innerRadius = typeof _ === \"function\" ? _ : constant(+_), arc) : innerRadius;\n  };\n\n  arc.outerRadius = function(_) {\n    return arguments.length ? (outerRadius = typeof _ === \"function\" ? _ : constant(+_), arc) : outerRadius;\n  };\n\n  arc.cornerRadius = function(_) {\n    return arguments.length ? (cornerRadius = typeof _ === \"function\" ? _ : constant(+_), arc) : cornerRadius;\n  };\n\n  arc.padRadius = function(_) {\n    return arguments.length ? (padRadius = _ == null ? null : typeof _ === \"function\" ? _ : constant(+_), arc) : padRadius;\n  };\n\n  arc.startAngle = function(_) {\n    return arguments.length ? (startAngle = typeof _ === \"function\" ? _ : constant(+_), arc) : startAngle;\n  };\n\n  arc.endAngle = function(_) {\n    return arguments.length ? (endAngle = typeof _ === \"function\" ? _ : constant(+_), arc) : endAngle;\n  };\n\n  arc.padAngle = function(_) {\n    return arguments.length ? (padAngle = typeof _ === \"function\" ? _ : constant(+_), arc) : padAngle;\n  };\n\n  arc.context = function(_) {\n    return arguments.length ? ((context = _ == null ? null : _), arc) : context;\n  };\n\n  return arc;\n}\n","export default function(x) {\n  return function constant() {\n    return x;\n  };\n}\n","export const abs = Math.abs;\nexport const atan2 = Math.atan2;\nexport const cos = Math.cos;\nexport const max = Math.max;\nexport const min = Math.min;\nexport const sin = Math.sin;\nexport const sqrt = Math.sqrt;\n\nexport const epsilon = 1e-12;\nexport const pi = Math.PI;\nexport const halfPi = pi / 2;\nexport const tau = 2 * pi;\n\nexport function acos(x) {\n  return x > 1 ? 0 : x < -1 ? pi : Math.acos(x);\n}\n\nexport function asin(x) {\n  return x >= 1 ? halfPi : x <= -1 ? -halfPi : Math.asin(x);\n}\n","import {Path} from \"d3-path\";\n\nexport function withPath(shape) {\n  let digits = 3;\n\n  shape.digits = function(_) {\n    if (!arguments.length) return digits;\n    if (_ == null) {\n      digits = null;\n    } else {\n      const d = Math.floor(_);\n      if (!(d >= 0)) throw new RangeError(`invalid digits: ${_}`);\n      digits = d;\n    }\n    return shape;\n  };\n\n  return () => new Path(digits);\n}\n","const pi = Math.PI,\n    tau = 2 * pi,\n    epsilon = 1e-6,\n    tauEpsilon = tau - epsilon;\n\nfunction append(strings) {\n  this._ += strings[0];\n  for (let i = 1, n = strings.length; i < n; ++i) {\n    this._ += arguments[i] + strings[i];\n  }\n}\n\nfunction appendRound(digits) {\n  let d = Math.floor(digits);\n  if (!(d >= 0)) throw new Error(`invalid digits: ${digits}`);\n  if (d > 15) return append;\n  const k = 10 ** d;\n  return function(strings) {\n    this._ += strings[0];\n    for (let i = 1, n = strings.length; i < n; ++i) {\n      this._ += Math.round(arguments[i] * k) / k + strings[i];\n    }\n  };\n}\n\nexport class Path {\n  constructor(digits) {\n    this._x0 = this._y0 = // start of current subpath\n    this._x1 = this._y1 = null; // end of current subpath\n    this._ = \"\";\n    this._append = digits == null ? append : appendRound(digits);\n  }\n  moveTo(x, y) {\n    this._append`M${this._x0 = this._x1 = +x},${this._y0 = this._y1 = +y}`;\n  }\n  closePath() {\n    if (this._x1 !== null) {\n      this._x1 = this._x0, this._y1 = this._y0;\n      this._append`Z`;\n    }\n  }\n  lineTo(x, y) {\n    this._append`L${this._x1 = +x},${this._y1 = +y}`;\n  }\n  quadraticCurveTo(x1, y1, x, y) {\n    this._append`Q${+x1},${+y1},${this._x1 = +x},${this._y1 = +y}`;\n  }\n  bezierCurveTo(x1, y1, x2, y2, x, y) {\n    this._append`C${+x1},${+y1},${+x2},${+y2},${this._x1 = +x},${this._y1 = +y}`;\n  }\n  arcTo(x1, y1, x2, y2, r) {\n    x1 = +x1, y1 = +y1, x2 = +x2, y2 = +y2, r = +r;\n\n    // Is the radius negative? Error.\n    if (r < 0) throw new Error(`negative radius: ${r}`);\n\n    let x0 = this._x1,\n        y0 = this._y1,\n        x21 = x2 - x1,\n        y21 = y2 - y1,\n        x01 = x0 - x1,\n        y01 = y0 - y1,\n        l01_2 = x01 * x01 + y01 * y01;\n\n    // Is this path empty? Move to (x1,y1).\n    if (this._x1 === null) {\n      this._append`M${this._x1 = x1},${this._y1 = y1}`;\n    }\n\n    // Or, is (x1,y1) coincident with (x0,y0)? Do nothing.\n    else if (!(l01_2 > epsilon));\n\n    // Or, are (x0,y0), (x1,y1) and (x2,y2) collinear?\n    // Equivalently, is (x1,y1) coincident with (x2,y2)?\n    // Or, is the radius zero? Line to (x1,y1).\n    else if (!(Math.abs(y01 * x21 - y21 * x01) > epsilon) || !r) {\n      this._append`L${this._x1 = x1},${this._y1 = y1}`;\n    }\n\n    // Otherwise, draw an arc!\n    else {\n      let x20 = x2 - x0,\n          y20 = y2 - y0,\n          l21_2 = x21 * x21 + y21 * y21,\n          l20_2 = x20 * x20 + y20 * y20,\n          l21 = Math.sqrt(l21_2),\n          l01 = Math.sqrt(l01_2),\n          l = r * Math.tan((pi - Math.acos((l21_2 + l01_2 - l20_2) / (2 * l21 * l01))) / 2),\n          t01 = l / l01,\n          t21 = l / l21;\n\n      // If the start tangent is not coincident with (x0,y0), line to.\n      if (Math.abs(t01 - 1) > epsilon) {\n        this._append`L${x1 + t01 * x01},${y1 + t01 * y01}`;\n      }\n\n      this._append`A${r},${r},0,0,${+(y01 * x20 > x01 * y20)},${this._x1 = x1 + t21 * x21},${this._y1 = y1 + t21 * y21}`;\n    }\n  }\n  arc(x, y, r, a0, a1, ccw) {\n    x = +x, y = +y, r = +r, ccw = !!ccw;\n\n    // Is the radius negative? Error.\n    if (r < 0) throw new Error(`negative radius: ${r}`);\n\n    let dx = r * Math.cos(a0),\n        dy = r * Math.sin(a0),\n        x0 = x + dx,\n        y0 = y + dy,\n        cw = 1 ^ ccw,\n        da = ccw ? a0 - a1 : a1 - a0;\n\n    // Is this path empty? Move to (x0,y0).\n    if (this._x1 === null) {\n      this._append`M${x0},${y0}`;\n    }\n\n    // Or, is (x0,y0) not coincident with the previous point? Line to (x0,y0).\n    else if (Math.abs(this._x1 - x0) > epsilon || Math.abs(this._y1 - y0) > epsilon) {\n      this._append`L${x0},${y0}`;\n    }\n\n    // Is this arc empty? Were done.\n    if (!r) return;\n\n    // Does the angle go the wrong way? Flip the direction.\n    if (da < 0) da = da % tau + tau;\n\n    // Is this a complete circle? Draw two arcs to complete the circle.\n    if (da > tauEpsilon) {\n      this._append`A${r},${r},0,1,${cw},${x - dx},${y - dy}A${r},${r},0,1,${cw},${this._x1 = x0},${this._y1 = y0}`;\n    }\n\n    // Is this arc non-empty? Draw an arc!\n    else if (da > epsilon) {\n      this._append`A${r},${r},0,${+(da >= pi)},${cw},${this._x1 = x + r * Math.cos(a1)},${this._y1 = y + r * Math.sin(a1)}`;\n    }\n  }\n  rect(x, y, w, h) {\n    this._append`M${this._x0 = this._x1 = +x},${this._y0 = this._y1 = +y}h${w = +w}v${+h}h${-w}Z`;\n  }\n  toString() {\n    return this._;\n  }\n}\n\nexport function path() {\n  return new Path;\n}\n\n// Allow instanceof d3.path\npath.prototype = Path.prototype;\n\nexport function pathRound(digits = 3) {\n  return new Path(+digits);\n}\n","import { select, Selection, BaseType } from \"d3\";\nimport { easePolyInOut } from \"d3-ease\";\nimport { timer } from \"d3-timer\";\n\nfunction pizza(): typeof chart {\n    let queue: QueueInterface<QueueTask>,\n        tasks: QueueTask,\n        interpolator: (from: any, to: any) => (t: number) => any,\n        generator: any,\n        draw: UpdateHandler,\n        dequeue: UpdateHandler,\n        enqueue: UpdateHandler\n    function chart(selection: Selection<Document, unknown, null, undefined>) {\n        selection.each(function () {\n            const dataContainer = select(this).append('custom')\n            //private variables\n            let duration = 250,\n                current: { [id: string]: any } = {},\n                transitionId = ''\n\n            enqueue = function () {\n                queue.enqueue(tasks)\n            }\n\n            dequeue = function () {\n                let currentTask = queue.dequeue()\n                if (currentTask) {\n                    const { type, input } = currentTask\n                    switch (type) {\n                        case 'sections':\n                            transitionId = input[0] ? input[0].id : ''\n                            updateData(input)\n                            break;\n                        case 'duration':\n                            duration = input\n                            dequeue()\n                        default:\n                            break;\n                    }\n                } else {\n                    duration = 250\n                    transitionId = \"\"\n                }\n            }\n\n            function updateData(sections: Section[]) {\n\n                const dataBinding = dataContainer.selectAll<HTMLElement, Section>(\"custom.section\")\n                    .data(sections, function (d) { return d.id || select(this).attr('id') })\n\n                dataBinding\n                    .exit()\n                    .each(function () {\n                        const id = select(this).attr('id')\n                        delete current[id]\n                    })\n                    .remove()\n\n                transition(dataBinding)\n\n                dataBinding\n                    .enter()\n                    .append(\"custom\")\n                    .attr('id', section => section.id)\n                    .classed(\"section\", true)\n                    .append('path')\n                    .attr('fill', section => section.fill)\n                    .attr('d', section => generator(section))\n                    .attr('opacity', 1)\n                    .each(function (s) {\n                        current = { ...current, [s.id]: { ...s } }\n                    })\n            }\n\n            const transition = function (selection: Selection<HTMLElement, Section, BaseType, unknown>) {\n                const t = timer(function (elapsed) {\n                    draw();\n                    if (elapsed > duration + 100) t.stop();\n                })\n\n                selection\n                    .select('path')\n                    .transition()\n                    .duration(duration)\n                    .ease(easePolyInOut.exponent(3))\n                    .attr('opacity', 1)\n                    .attrTween(\"d\", function (a: Section) {\n                        const from = { ...current[a.id] }\n                        const i = interpolator(from, a);\n                        return (t: number): string => {\n                            return generator(i(t))\n                        };\n                    })\n                    .attr('fill', d => d.fill)\n                    .end()\n                    .catch(() => { console.log('rejected ') })\n                    .then(() => {\n                        selection\n                            .each(function (d) {\n                                current = { ...current, [d.id]: d }\n                            })\n                        dequeue()\n                    })\n            }\n\n            //boot\n           dequeue()\n        })\n    }\n\n    chart.interpolator = function (value: typeof interpolator) {\n        interpolator = value\n        return chart\n    }\n\n    chart.generator = function (value: typeof generator) {\n        generator = value\n        return chart\n    }\n\n    chart.draw = function (value: UpdateHandler): typeof chart {\n        draw = value\n        return chart\n    }\n\n    chart.queue = function (value: QueueInterface<QueueTask>) {\n        queue = value\n        return chart\n    }\n    chart.enqueue = function (value: QueueTask) {\n        tasks = value\n        if (typeof enqueue === 'function') enqueue()\n        return chart\n    }\n    chart.dequeue = function () {\n        if (typeof dequeue === 'function') dequeue()\n        return chart\n    }\n    return chart\n}\n\nexport default pizza\n\n","var exponent = 3;\n\nexport var polyIn = (function custom(e) {\n  e = +e;\n\n  function polyIn(t) {\n    return Math.pow(t, e);\n  }\n\n  polyIn.exponent = custom;\n\n  return polyIn;\n})(exponent);\n\nexport var polyOut = (function custom(e) {\n  e = +e;\n\n  function polyOut(t) {\n    return 1 - Math.pow(1 - t, e);\n  }\n\n  polyOut.exponent = custom;\n\n  return polyOut;\n})(exponent);\n\nexport var polyInOut = (function custom(e) {\n  e = +e;\n\n  function polyInOut(t) {\n    return ((t *= 2) <= 1 ? Math.pow(t, e) : 2 - Math.pow(2 - t, e)) / 2;\n  }\n\n  polyInOut.exponent = custom;\n\n  return polyInOut;\n})(exponent);\n","(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define([],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}g.xmldom = f()}})(function(){var define,module,exports;return (function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){\n'use strict'\n\n/**\n * Ponyfill for `Array.prototype.find` which is only available in ES6 runtimes.\n *\n * Works with anything that has a `length` property and index access properties, including NodeList.\n *\n * @template {unknown} T\n * @param {Array<T> | ({length:number, [number]: T})} list\n * @param {function (item: T, index: number, list:Array<T> | ({length:number, [number]: T})):boolean} predicate\n * @param {Partial<Pick<ArrayConstructor['prototype'], 'find'>>?} ac `Array.prototype` by default,\n * \t\t\t\tallows injecting a custom implementation in tests\n * @returns {T | undefined}\n *\n * @see https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/find\n * @see https://tc39.es/ecma262/multipage/indexed-collections.html#sec-array.prototype.find\n */\nfunction find(list, predicate, ac) {\n\tif (ac === undefined) {\n\t\tac = Array.prototype;\n\t}\n\tif (list && typeof ac.find === 'function') {\n\t\treturn ac.find.call(list, predicate);\n\t}\n\tfor (var i = 0; i < list.length; i++) {\n\t\tif (Object.prototype.hasOwnProperty.call(list, i)) {\n\t\t\tvar item = list[i];\n\t\t\tif (predicate.call(undefined, item, i, list)) {\n\t\t\t\treturn item;\n\t\t\t}\n\t\t}\n\t}\n}\n\n/**\n * \"Shallow freezes\" an object to render it immutable.\n * Uses `Object.freeze` if available,\n * otherwise the immutability is only in the type.\n *\n * Is used to create \"enum like\" objects.\n *\n * @template T\n * @param {T} object the object to freeze\n * @param {Pick<ObjectConstructor, 'freeze'> = Object} oc `Object` by default,\n * \t\t\t\tallows to inject custom object constructor for tests\n * @returns {Readonly<T>}\n *\n * @see https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/freeze\n */\nfunction freeze(object, oc) {\n\tif (oc === undefined) {\n\t\toc = Object\n\t}\n\treturn oc && typeof oc.freeze === 'function' ? oc.freeze(object) : object\n}\n\n/**\n * Since we can not rely on `Object.assign` we provide a simplified version\n * that is sufficient for our needs.\n *\n * @param {Object} target\n * @param {Object | null | undefined} source\n *\n * @returns {Object} target\n * @throws TypeError if target is not an object\n *\n * @see https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/assign\n * @see https://tc39.es/ecma262/multipage/fundamental-objects.html#sec-object.assign\n */\nfunction assign(target, source) {\n\tif (target === null || typeof target !== 'object') {\n\t\tthrow new TypeError('target is not an object')\n\t}\n\tfor (var key in source) {\n\t\tif (Object.prototype.hasOwnProperty.call(source, key)) {\n\t\t\ttarget[key] = source[key]\n\t\t}\n\t}\n\treturn target\n}\n\n/**\n * All mime types that are allowed as input to `DOMParser.parseFromString`\n *\n * @see https://developer.mozilla.org/en-US/docs/Web/API/DOMParser/parseFromString#Argument02 MDN\n * @see https://html.spec.whatwg.org/multipage/dynamic-markup-insertion.html#domparsersupportedtype WHATWG HTML Spec\n * @see DOMParser.prototype.parseFromString\n */\nvar MIME_TYPE = freeze({\n\t/**\n\t * `text/html`, the only mime type that triggers treating an XML document as HTML.\n\t *\n\t * @see DOMParser.SupportedType.isHTML\n\t * @see https://www.iana.org/assignments/media-types/text/html IANA MimeType registration\n\t * @see https://en.wikipedia.org/wiki/HTML Wikipedia\n\t * @see https://developer.mozilla.org/en-US/docs/Web/API/DOMParser/parseFromString MDN\n\t * @see https://html.spec.whatwg.org/multipage/dynamic-markup-insertion.html#dom-domparser-parsefromstring WHATWG HTML Spec\n\t */\n\tHTML: 'text/html',\n\n\t/**\n\t * Helper method to check a mime type if it indicates an HTML document\n\t *\n\t * @param {string} [value]\n\t * @returns {boolean}\n\t *\n\t * @see https://www.iana.org/assignments/media-types/text/html IANA MimeType registration\n\t * @see https://en.wikipedia.org/wiki/HTML Wikipedia\n\t * @see https://developer.mozilla.org/en-US/docs/Web/API/DOMParser/parseFromString MDN\n\t * @see https://html.spec.whatwg.org/multipage/dynamic-markup-insertion.html#dom-domparser-parsefromstring \t */\n\tisHTML: function (value) {\n\t\treturn value === MIME_TYPE.HTML\n\t},\n\n\t/**\n\t * `application/xml`, the standard mime type for XML documents.\n\t *\n\t * @see https://www.iana.org/assignments/media-types/application/xml IANA MimeType registration\n\t * @see https://tools.ietf.org/html/rfc7303#section-9.1 RFC 7303\n\t * @see https://en.wikipedia.org/wiki/XML_and_MIME Wikipedia\n\t */\n\tXML_APPLICATION: 'application/xml',\n\n\t/**\n\t * `text/html`, an alias for `application/xml`.\n\t *\n\t * @see https://tools.ietf.org/html/rfc7303#section-9.2 RFC 7303\n\t * @see https://www.iana.org/assignments/media-types/text/xml IANA MimeType registration\n\t * @see https://en.wikipedia.org/wiki/XML_and_MIME Wikipedia\n\t */\n\tXML_TEXT: 'text/xml',\n\n\t/**\n\t * `application/xhtml+xml`, indicates an XML document that has the default HTML namespace,\n\t * but is parsed as an XML document.\n\t *\n\t * @see https://www.iana.org/assignments/media-types/application/xhtml+xml IANA MimeType registration\n\t * @see https://dom.spec.whatwg.org/#dom-domimplementation-createdocument WHATWG DOM Spec\n\t * @see https://en.wikipedia.org/wiki/XHTML Wikipedia\n\t */\n\tXML_XHTML_APPLICATION: 'application/xhtml+xml',\n\n\t/**\n\t * `image/svg+xml`,\n\t *\n\t * @see https://www.iana.org/assignments/media-types/image/svg+xml IANA MimeType registration\n\t * @see https://www.w3.org/TR/SVG11/ W3C SVG 1.1\n\t * @see https://en.wikipedia.org/wiki/Scalable_Vector_Graphics Wikipedia\n\t */\n\tXML_SVG_IMAGE: 'image/svg+xml',\n})\n\n/**\n * Namespaces that are used in this code base.\n *\n * @see http://www.w3.org/TR/REC-xml-names\n */\nvar NAMESPACE = freeze({\n\t/**\n\t * The XHTML namespace.\n\t *\n\t * @see http://www.w3.org/1999/xhtml\n\t */\n\tHTML: 'http://www.w3.org/1999/xhtml',\n\n\t/**\n\t * Checks if `uri` equals `NAMESPACE.HTML`.\n\t *\n\t * @param {string} [uri]\n\t *\n\t * @see NAMESPACE.HTML\n\t */\n\tisHTML: function (uri) {\n\t\treturn uri === NAMESPACE.HTML\n\t},\n\n\t/**\n\t * The SVG namespace.\n\t *\n\t * @see http://www.w3.org/2000/svg\n\t */\n\tSVG: 'http://www.w3.org/2000/svg',\n\n\t/**\n\t * The `xml:` namespace.\n\t *\n\t * @see http://www.w3.org/XML/1998/namespace\n\t */\n\tXML: 'http://www.w3.org/XML/1998/namespace',\n\n\t/**\n\t * The `xmlns:` namespace\n\t *\n\t * @see https://www.w3.org/2000/xmlns/\n\t */\n\tXMLNS: 'http://www.w3.org/2000/xmlns/',\n})\n\nexports.assign = assign;\nexports.find = find;\nexports.freeze = freeze;\nexports.MIME_TYPE = MIME_TYPE;\nexports.NAMESPACE = NAMESPACE;\n\n},{}],2:[function(require,module,exports){\nvar conventions = require(\"./conventions\");\nvar dom = require('./dom')\nvar entities = require('./entities');\nvar sax = require('./sax');\n\nvar DOMImplementation = dom.DOMImplementation;\n\nvar NAMESPACE = conventions.NAMESPACE;\n\nvar ParseError = sax.ParseError;\nvar XMLReader = sax.XMLReader;\n\n/**\n * Normalizes line ending according to https://www.w3.org/TR/xml11/#sec-line-ends:\n *\n * > XML parsed entities are often stored in computer files which,\n * > for editing convenience, are organized into lines.\n * > These lines are typically separated by some combination\n * > of the characters CARRIAGE RETURN (#xD) and LINE FEED (#xA).\n * >\n * > To simplify the tasks of applications, the XML processor must behave\n * > as if it normalized all line breaks in external parsed entities (including the document entity)\n * > on input, before parsing, by translating all of the following to a single #xA character:\n * >\n * > 1. the two-character sequence #xD #xA\n * > 2. the two-character sequence #xD #x85\n * > 3. the single character #x85\n * > 4. the single character #x2028\n * > 5. any #xD character that is not immediately followed by #xA or #x85.\n *\n * @param {string} input\n * @returns {string}\n */\nfunction normalizeLineEndings(input) {\n\treturn input\n\t\t.replace(/\\r[\\n\\u0085]/g, '\\n')\n\t\t.replace(/[\\r\\u0085\\u2028]/g, '\\n')\n}\n\n/**\n * @typedef Locator\n * @property {number} [columnNumber]\n * @property {number} [lineNumber]\n */\n\n/**\n * @typedef DOMParserOptions\n * @property {DOMHandler} [domBuilder]\n * @property {Function} [errorHandler]\n * @property {(string) => string} [normalizeLineEndings] used to replace line endings before parsing\n * \t\t\t\t\t\tdefaults to `normalizeLineEndings`\n * @property {Locator} [locator]\n * @property {Record<string, string>} [xmlns]\n *\n * @see normalizeLineEndings\n */\n\n/**\n * The DOMParser interface provides the ability to parse XML or HTML source code\n * from a string into a DOM `Document`.\n *\n * _xmldom is different from the spec in that it allows an `options` parameter,\n * to override the default behavior._\n *\n * @param {DOMParserOptions} [options]\n * @constructor\n *\n * @see https://developer.mozilla.org/en-US/docs/Web/API/DOMParser\n * @see https://html.spec.whatwg.org/multipage/dynamic-markup-insertion.html#dom-parsing-and-serialization\n */\nfunction DOMParser(options){\n\tthis.options = options ||{locator:{}};\n}\n\nDOMParser.prototype.parseFromString = function(source,mimeType){\n\tvar options = this.options;\n\tvar sax =  new XMLReader();\n\tvar domBuilder = options.domBuilder || new DOMHandler();//contentHandler and LexicalHandler\n\tvar errorHandler = options.errorHandler;\n\tvar locator = options.locator;\n\tvar defaultNSMap = options.xmlns||{};\n\tvar isHTML = /\\/x?html?$/.test(mimeType);//mimeType.toLowerCase().indexOf('html') > -1;\n  \tvar entityMap = isHTML ? entities.HTML_ENTITIES : entities.XML_ENTITIES;\n\tif(locator){\n\t\tdomBuilder.setDocumentLocator(locator)\n\t}\n\n\tsax.errorHandler = buildErrorHandler(errorHandler,domBuilder,locator);\n\tsax.domBuilder = options.domBuilder || domBuilder;\n\tif(isHTML){\n\t\tdefaultNSMap[''] = NAMESPACE.HTML;\n\t}\n\tdefaultNSMap.xml = defaultNSMap.xml || NAMESPACE.XML;\n\tvar normalize = options.normalizeLineEndings || normalizeLineEndings;\n\tif (source && typeof source === 'string') {\n\t\tsax.parse(\n\t\t\tnormalize(source),\n\t\t\tdefaultNSMap,\n\t\t\tentityMap\n\t\t)\n\t} else {\n\t\tsax.errorHandler.error('invalid doc source')\n\t}\n\treturn domBuilder.doc;\n}\nfunction buildErrorHandler(errorImpl,domBuilder,locator){\n\tif(!errorImpl){\n\t\tif(domBuilder instanceof DOMHandler){\n\t\t\treturn domBuilder;\n\t\t}\n\t\terrorImpl = domBuilder ;\n\t}\n\tvar errorHandler = {}\n\tvar isCallback = errorImpl instanceof Function;\n\tlocator = locator||{}\n\tfunction build(key){\n\t\tvar fn = errorImpl[key];\n\t\tif(!fn && isCallback){\n\t\t\tfn = errorImpl.length == 2?function(msg){errorImpl(key,msg)}:errorImpl;\n\t\t}\n\t\terrorHandler[key] = fn && function(msg){\n\t\t\tfn('[xmldom '+key+']\\t'+msg+_locator(locator));\n\t\t}||function(){};\n\t}\n\tbuild('warning');\n\tbuild('error');\n\tbuild('fatalError');\n\treturn errorHandler;\n}\n\n//console.log('#\\n\\n\\n\\n\\n\\n\\n####')\n/**\n * +ContentHandler+ErrorHandler\n * +LexicalHandler+EntityResolver2\n * -DeclHandler-DTDHandler\n *\n * DefaultHandler:EntityResolver, DTDHandler, ContentHandler, ErrorHandler\n * DefaultHandler2:DefaultHandler,LexicalHandler, DeclHandler, EntityResolver2\n * @link http://www.saxproject.org/apidoc/org/xml/sax/helpers/DefaultHandler.html\n */\nfunction DOMHandler() {\n    this.cdata = false;\n}\nfunction position(locator,node){\n\tnode.lineNumber = locator.lineNumber;\n\tnode.columnNumber = locator.columnNumber;\n}\n/**\n * @see org.xml.sax.ContentHandler#startDocument\n * @link http://www.saxproject.org/apidoc/org/xml/sax/ContentHandler.html\n */\nDOMHandler.prototype = {\n\tstartDocument : function() {\n    \tthis.doc = new DOMImplementation().createDocument(null, null, null);\n    \tif (this.locator) {\n        \tthis.doc.documentURI = this.locator.systemId;\n    \t}\n\t},\n\tstartElement:function(namespaceURI, localName, qName, attrs) {\n\t\tvar doc = this.doc;\n\t    var el = doc.createElementNS(namespaceURI, qName||localName);\n\t    var len = attrs.length;\n\t    appendElement(this, el);\n\t    this.currentElement = el;\n\n\t\tthis.locator && position(this.locator,el)\n\t    for (var i = 0 ; i < len; i++) {\n\t        var namespaceURI = attrs.getURI(i);\n\t        var value = attrs.getValue(i);\n\t        var qName = attrs.getQName(i);\n\t\t\tvar attr = doc.createAttributeNS(namespaceURI, qName);\n\t\t\tthis.locator &&position(attrs.getLocator(i),attr);\n\t\t\tattr.value = attr.nodeValue = value;\n\t\t\tel.setAttributeNode(attr)\n\t    }\n\t},\n\tendElement:function(namespaceURI, localName, qName) {\n\t\tvar current = this.currentElement\n\t\tvar tagName = current.tagName;\n\t\tthis.currentElement = current.parentNode;\n\t},\n\tstartPrefixMapping:function(prefix, uri) {\n\t},\n\tendPrefixMapping:function(prefix) {\n\t},\n\tprocessingInstruction:function(target, data) {\n\t    var ins = this.doc.createProcessingInstruction(target, data);\n\t    this.locator && position(this.locator,ins)\n\t    appendElement(this, ins);\n\t},\n\tignorableWhitespace:function(ch, start, length) {\n\t},\n\tcharacters:function(chars, start, length) {\n\t\tchars = _toString.apply(this,arguments)\n\t\t//console.log(chars)\n\t\tif(chars){\n\t\t\tif (this.cdata) {\n\t\t\t\tvar charNode = this.doc.createCDATASection(chars);\n\t\t\t} else {\n\t\t\t\tvar charNode = this.doc.createTextNode(chars);\n\t\t\t}\n\t\t\tif(this.currentElement){\n\t\t\t\tthis.currentElement.appendChild(charNode);\n\t\t\t}else if(/^\\s*$/.test(chars)){\n\t\t\t\tthis.doc.appendChild(charNode);\n\t\t\t\t//process xml\n\t\t\t}\n\t\t\tthis.locator && position(this.locator,charNode)\n\t\t}\n\t},\n\tskippedEntity:function(name) {\n\t},\n\tendDocument:function() {\n\t\tthis.doc.normalize();\n\t},\n\tsetDocumentLocator:function (locator) {\n\t    if(this.locator = locator){// && !('lineNumber' in locator)){\n\t    \tlocator.lineNumber = 0;\n\t    }\n\t},\n\t//LexicalHandler\n\tcomment:function(chars, start, length) {\n\t\tchars = _toString.apply(this,arguments)\n\t    var comm = this.doc.createComment(chars);\n\t    this.locator && position(this.locator,comm)\n\t    appendElement(this, comm);\n\t},\n\n\tstartCDATA:function() {\n\t    //used in characters() methods\n\t    this.cdata = true;\n\t},\n\tendCDATA:function() {\n\t    this.cdata = false;\n\t},\n\n\tstartDTD:function(name, publicId, systemId) {\n\t\tvar impl = this.doc.implementation;\n\t    if (impl && impl.createDocumentType) {\n\t        var dt = impl.createDocumentType(name, publicId, systemId);\n\t        this.locator && position(this.locator,dt)\n\t        appendElement(this, dt);\n\t\t\t\t\tthis.doc.doctype = dt;\n\t    }\n\t},\n\t/**\n\t * @see org.xml.sax.ErrorHandler\n\t * @link http://www.saxproject.org/apidoc/org/xml/sax/ErrorHandler.html\n\t */\n\twarning:function(error) {\n\t\tconsole.warn('[xmldom warning]\\t'+error,_locator(this.locator));\n\t},\n\terror:function(error) {\n\t\tconsole.error('[xmldom error]\\t'+error,_locator(this.locator));\n\t},\n\tfatalError:function(error) {\n\t\tthrow new ParseError(error, this.locator);\n\t}\n}\nfunction _locator(l){\n\tif(l){\n\t\treturn '\\n@'+(l.systemId ||'')+'#[line:'+l.lineNumber+',col:'+l.columnNumber+']'\n\t}\n}\nfunction _toString(chars,start,length){\n\tif(typeof chars == 'string'){\n\t\treturn chars.substr(start,length)\n\t}else{//java sax connect width xmldom on rhino(what about: \"? && !(chars instanceof String)\")\n\t\tif(chars.length >= start+length || start){\n\t\t\treturn new java.lang.String(chars,start,length)+'';\n\t\t}\n\t\treturn chars;\n\t}\n}\n\n/*\n * @link http://www.saxproject.org/apidoc/org/xml/sax/ext/LexicalHandler.html\n * used method of org.xml.sax.ext.LexicalHandler:\n *  #comment(chars, start, length)\n *  #startCDATA()\n *  #endCDATA()\n *  #startDTD(name, publicId, systemId)\n *\n *\n * IGNORED method of org.xml.sax.ext.LexicalHandler:\n *  #endDTD()\n *  #startEntity(name)\n *  #endEntity(name)\n *\n *\n * @link http://www.saxproject.org/apidoc/org/xml/sax/ext/DeclHandler.html\n * IGNORED method of org.xml.sax.ext.DeclHandler\n * \t#attributeDecl(eName, aName, type, mode, value)\n *  #elementDecl(name, model)\n *  #externalEntityDecl(name, publicId, systemId)\n *  #internalEntityDecl(name, value)\n * @link http://www.saxproject.org/apidoc/org/xml/sax/ext/EntityResolver2.html\n * IGNORED method of org.xml.sax.EntityResolver2\n *  #resolveEntity(String name,String publicId,String baseURI,String systemId)\n *  #resolveEntity(publicId, systemId)\n *  #getExternalSubset(name, baseURI)\n * @link http://www.saxproject.org/apidoc/org/xml/sax/DTDHandler.html\n * IGNORED method of org.xml.sax.DTDHandler\n *  #notationDecl(name, publicId, systemId) {};\n *  #unparsedEntityDecl(name, publicId, systemId, notationName) {};\n */\n\"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl\".replace(/\\w+/g,function(key){\n\tDOMHandler.prototype[key] = function(){return null}\n})\n\n/* Private static helpers treated below as private instance methods, so don't need to add these to the public API; we might use a Relator to also get rid of non-standard public properties */\nfunction appendElement (hander,node) {\n    if (!hander.currentElement) {\n        hander.doc.appendChild(node);\n    } else {\n        hander.currentElement.appendChild(node);\n    }\n}//appendChild and setAttributeNS are preformance key\n\nexports.__DOMHandler = DOMHandler;\nexports.normalizeLineEndings = normalizeLineEndings;\nexports.DOMParser = DOMParser;\n\n},{\"./conventions\":1,\"./dom\":3,\"./entities\":4,\"./sax\":7}],3:[function(require,module,exports){\nvar conventions = require(\"./conventions\");\n\nvar find = conventions.find;\nvar NAMESPACE = conventions.NAMESPACE;\n\n/**\n * A prerequisite for `[].filter`, to drop elements that are empty\n * @param {string} input\n * @returns {boolean}\n */\nfunction notEmptyString (input) {\n\treturn input !== ''\n}\n/**\n * @see https://infra.spec.whatwg.org/#split-on-ascii-whitespace\n * @see https://infra.spec.whatwg.org/#ascii-whitespace\n *\n * @param {string} input\n * @returns {string[]} (can be empty)\n */\nfunction splitOnASCIIWhitespace(input) {\n\t// U+0009 TAB, U+000A LF, U+000C FF, U+000D CR, U+0020 SPACE\n\treturn input ? input.split(/[\\t\\n\\f\\r ]+/).filter(notEmptyString) : []\n}\n\n/**\n * Adds element as a key to current if it is not already present.\n *\n * @param {Record<string, boolean | undefined>} current\n * @param {string} element\n * @returns {Record<string, boolean | undefined>}\n */\nfunction orderedSetReducer (current, element) {\n\tif (!current.hasOwnProperty(element)) {\n\t\tcurrent[element] = true;\n\t}\n\treturn current;\n}\n\n/**\n * @see https://infra.spec.whatwg.org/#ordered-set\n * @param {string} input\n * @returns {string[]}\n */\nfunction toOrderedSet(input) {\n\tif (!input) return [];\n\tvar list = splitOnASCIIWhitespace(input);\n\treturn Object.keys(list.reduce(orderedSetReducer, {}))\n}\n\n/**\n * Uses `list.indexOf` to implement something like `Array.prototype.includes`,\n * which we can not rely on being available.\n *\n * @param {any[]} list\n * @returns {function(any): boolean}\n */\nfunction arrayIncludes (list) {\n\treturn function(element) {\n\t\treturn list && list.indexOf(element) !== -1;\n\t}\n}\n\nfunction copy(src,dest){\n\tfor(var p in src){\n\t\tif (Object.prototype.hasOwnProperty.call(src, p)) {\n\t\t\tdest[p] = src[p];\n\t\t}\n\t}\n}\n\n/**\n^\\w+\\.prototype\\.([_\\w]+)\\s*=\\s*((?:.*\\{\\s*?[\\r\\n][\\s\\S]*?^})|\\S.*?(?=[;\\r\\n]));?\n^\\w+\\.prototype\\.([_\\w]+)\\s*=\\s*(\\S.*?(?=[;\\r\\n]));?\n */\nfunction _extends(Class,Super){\n\tvar pt = Class.prototype;\n\tif(!(pt instanceof Super)){\n\t\tfunction t(){};\n\t\tt.prototype = Super.prototype;\n\t\tt = new t();\n\t\tcopy(pt,t);\n\t\tClass.prototype = pt = t;\n\t}\n\tif(pt.constructor != Class){\n\t\tif(typeof Class != 'function'){\n\t\t\tconsole.error(\"unknown Class:\"+Class)\n\t\t}\n\t\tpt.constructor = Class\n\t}\n}\n\n// Node Types\nvar NodeType = {}\nvar ELEMENT_NODE                = NodeType.ELEMENT_NODE                = 1;\nvar ATTRIBUTE_NODE              = NodeType.ATTRIBUTE_NODE              = 2;\nvar TEXT_NODE                   = NodeType.TEXT_NODE                   = 3;\nvar CDATA_SECTION_NODE          = NodeType.CDATA_SECTION_NODE          = 4;\nvar ENTITY_REFERENCE_NODE       = NodeType.ENTITY_REFERENCE_NODE       = 5;\nvar ENTITY_NODE                 = NodeType.ENTITY_NODE                 = 6;\nvar PROCESSING_INSTRUCTION_NODE = NodeType.PROCESSING_INSTRUCTION_NODE = 7;\nvar COMMENT_NODE                = NodeType.COMMENT_NODE                = 8;\nvar DOCUMENT_NODE               = NodeType.DOCUMENT_NODE               = 9;\nvar DOCUMENT_TYPE_NODE          = NodeType.DOCUMENT_TYPE_NODE          = 10;\nvar DOCUMENT_FRAGMENT_NODE      = NodeType.DOCUMENT_FRAGMENT_NODE      = 11;\nvar NOTATION_NODE               = NodeType.NOTATION_NODE               = 12;\n\n// ExceptionCode\nvar ExceptionCode = {}\nvar ExceptionMessage = {};\nvar INDEX_SIZE_ERR              = ExceptionCode.INDEX_SIZE_ERR              = ((ExceptionMessage[1]=\"Index size error\"),1);\nvar DOMSTRING_SIZE_ERR          = ExceptionCode.DOMSTRING_SIZE_ERR          = ((ExceptionMessage[2]=\"DOMString size error\"),2);\nvar HIERARCHY_REQUEST_ERR       = ExceptionCode.HIERARCHY_REQUEST_ERR       = ((ExceptionMessage[3]=\"Hierarchy request error\"),3);\nvar WRONG_DOCUMENT_ERR          = ExceptionCode.WRONG_DOCUMENT_ERR          = ((ExceptionMessage[4]=\"Wrong document\"),4);\nvar INVALID_CHARACTER_ERR       = ExceptionCode.INVALID_CHARACTER_ERR       = ((ExceptionMessage[5]=\"Invalid character\"),5);\nvar NO_DATA_ALLOWED_ERR         = ExceptionCode.NO_DATA_ALLOWED_ERR         = ((ExceptionMessage[6]=\"No data allowed\"),6);\nvar NO_MODIFICATION_ALLOWED_ERR = ExceptionCode.NO_MODIFICATION_ALLOWED_ERR = ((ExceptionMessage[7]=\"No modification allowed\"),7);\nvar NOT_FOUND_ERR               = ExceptionCode.NOT_FOUND_ERR               = ((ExceptionMessage[8]=\"Not found\"),8);\nvar NOT_SUPPORTED_ERR           = ExceptionCode.NOT_SUPPORTED_ERR           = ((ExceptionMessage[9]=\"Not supported\"),9);\nvar INUSE_ATTRIBUTE_ERR         = ExceptionCode.INUSE_ATTRIBUTE_ERR         = ((ExceptionMessage[10]=\"Attribute in use\"),10);\n//level2\nvar INVALID_STATE_ERR        \t= ExceptionCode.INVALID_STATE_ERR        \t= ((ExceptionMessage[11]=\"Invalid state\"),11);\nvar SYNTAX_ERR               \t= ExceptionCode.SYNTAX_ERR               \t= ((ExceptionMessage[12]=\"Syntax error\"),12);\nvar INVALID_MODIFICATION_ERR \t= ExceptionCode.INVALID_MODIFICATION_ERR \t= ((ExceptionMessage[13]=\"Invalid modification\"),13);\nvar NAMESPACE_ERR            \t= ExceptionCode.NAMESPACE_ERR           \t= ((ExceptionMessage[14]=\"Invalid namespace\"),14);\nvar INVALID_ACCESS_ERR       \t= ExceptionCode.INVALID_ACCESS_ERR      \t= ((ExceptionMessage[15]=\"Invalid access\"),15);\n\n/**\n * DOM Level 2\n * Object DOMException\n * @see http://www.w3.org/TR/2000/REC-DOM-Level-2-Core-20001113/ecma-script-binding.html\n * @see http://www.w3.org/TR/REC-DOM-Level-1/ecma-script-language-binding.html\n */\nfunction DOMException(code, message) {\n\tif(message instanceof Error){\n\t\tvar error = message;\n\t}else{\n\t\terror = this;\n\t\tError.call(this, ExceptionMessage[code]);\n\t\tthis.message = ExceptionMessage[code];\n\t\tif(Error.captureStackTrace) Error.captureStackTrace(this, DOMException);\n\t}\n\terror.code = code;\n\tif(message) this.message = this.message + \": \" + message;\n\treturn error;\n};\nDOMException.prototype = Error.prototype;\ncopy(ExceptionCode,DOMException)\n\n/**\n * @see http://www.w3.org/TR/2000/REC-DOM-Level-2-Core-20001113/core.html#ID-536297177\n * The NodeList interface provides the abstraction of an ordered collection of nodes, without defining or constraining how this collection is implemented. NodeList objects in the DOM are live.\n * The items in the NodeList are accessible via an integral index, starting from 0.\n */\nfunction NodeList() {\n};\nNodeList.prototype = {\n\t/**\n\t * The number of nodes in the list. The range of valid child node indices is 0 to length-1 inclusive.\n\t * @standard level1\n\t */\n\tlength:0,\n\t/**\n\t * Returns the indexth item in the collection. If index is greater than or equal to the number of nodes in the list, this returns null.\n\t * @standard level1\n\t * @param index  unsigned long\n\t *   Index into the collection.\n\t * @return Node\n\t * \tThe node at the indexth position in the NodeList, or null if that is not a valid index.\n\t */\n\titem: function(index) {\n\t\treturn this[index] || null;\n\t},\n\ttoString:function(isHTML,nodeFilter){\n\t\tfor(var buf = [], i = 0;i<this.length;i++){\n\t\t\tserializeToString(this[i],buf,isHTML,nodeFilter);\n\t\t}\n\t\treturn buf.join('');\n\t},\n\t/**\n\t * @private\n\t * @param {function (Node):boolean} predicate\n\t * @returns {Node[]}\n\t */\n\tfilter: function (predicate) {\n\t\treturn Array.prototype.filter.call(this, predicate);\n\t},\n\t/**\n\t * @private\n\t * @param {Node} item\n\t * @returns {number}\n\t */\n\tindexOf: function (item) {\n\t\treturn Array.prototype.indexOf.call(this, item);\n\t},\n};\n\nfunction LiveNodeList(node,refresh){\n\tthis._node = node;\n\tthis._refresh = refresh\n\t_updateLiveList(this);\n}\nfunction _updateLiveList(list){\n\tvar inc = list._node._inc || list._node.ownerDocument._inc;\n\tif(list._inc != inc){\n\t\tvar ls = list._refresh(list._node);\n\t\t//console.log(ls.length)\n\t\t__set__(list,'length',ls.length);\n\t\tcopy(ls,list);\n\t\tlist._inc = inc;\n\t}\n}\nLiveNodeList.prototype.item = function(i){\n\t_updateLiveList(this);\n\treturn this[i];\n}\n\n_extends(LiveNodeList,NodeList);\n\n/**\n * Objects implementing the NamedNodeMap interface are used\n * to represent collections of nodes that can be accessed by name.\n * Note that NamedNodeMap does not inherit from NodeList;\n * NamedNodeMaps are not maintained in any particular order.\n * Objects contained in an object implementing NamedNodeMap may also be accessed by an ordinal index,\n * but this is simply to allow convenient enumeration of the contents of a NamedNodeMap,\n * and does not imply that the DOM specifies an order to these Nodes.\n * NamedNodeMap objects in the DOM are live.\n * used for attributes or DocumentType entities\n */\nfunction NamedNodeMap() {\n};\n\nfunction _findNodeIndex(list,node){\n\tvar i = list.length;\n\twhile(i--){\n\t\tif(list[i] === node){return i}\n\t}\n}\n\nfunction _addNamedNode(el,list,newAttr,oldAttr){\n\tif(oldAttr){\n\t\tlist[_findNodeIndex(list,oldAttr)] = newAttr;\n\t}else{\n\t\tlist[list.length++] = newAttr;\n\t}\n\tif(el){\n\t\tnewAttr.ownerElement = el;\n\t\tvar doc = el.ownerDocument;\n\t\tif(doc){\n\t\t\toldAttr && _onRemoveAttribute(doc,el,oldAttr);\n\t\t\t_onAddAttribute(doc,el,newAttr);\n\t\t}\n\t}\n}\nfunction _removeNamedNode(el,list,attr){\n\t//console.log('remove attr:'+attr)\n\tvar i = _findNodeIndex(list,attr);\n\tif(i>=0){\n\t\tvar lastIndex = list.length-1\n\t\twhile(i<lastIndex){\n\t\t\tlist[i] = list[++i]\n\t\t}\n\t\tlist.length = lastIndex;\n\t\tif(el){\n\t\t\tvar doc = el.ownerDocument;\n\t\t\tif(doc){\n\t\t\t\t_onRemoveAttribute(doc,el,attr);\n\t\t\t\tattr.ownerElement = null;\n\t\t\t}\n\t\t}\n\t}else{\n\t\tthrow new DOMException(NOT_FOUND_ERR,new Error(el.tagName+'@'+attr))\n\t}\n}\nNamedNodeMap.prototype = {\n\tlength:0,\n\titem:NodeList.prototype.item,\n\tgetNamedItem: function(key) {\n//\t\tif(key.indexOf(':')>0 || key == 'xmlns'){\n//\t\t\treturn null;\n//\t\t}\n\t\t//console.log()\n\t\tvar i = this.length;\n\t\twhile(i--){\n\t\t\tvar attr = this[i];\n\t\t\t//console.log(attr.nodeName,key)\n\t\t\tif(attr.nodeName == key){\n\t\t\t\treturn attr;\n\t\t\t}\n\t\t}\n\t},\n\tsetNamedItem: function(attr) {\n\t\tvar el = attr.ownerElement;\n\t\tif(el && el!=this._ownerElement){\n\t\t\tthrow new DOMException(INUSE_ATTRIBUTE_ERR);\n\t\t}\n\t\tvar oldAttr = this.getNamedItem(attr.nodeName);\n\t\t_addNamedNode(this._ownerElement,this,attr,oldAttr);\n\t\treturn oldAttr;\n\t},\n\t/* returns Node */\n\tsetNamedItemNS: function(attr) {// raises: WRONG_DOCUMENT_ERR,NO_MODIFICATION_ALLOWED_ERR,INUSE_ATTRIBUTE_ERR\n\t\tvar el = attr.ownerElement, oldAttr;\n\t\tif(el && el!=this._ownerElement){\n\t\t\tthrow new DOMException(INUSE_ATTRIBUTE_ERR);\n\t\t}\n\t\toldAttr = this.getNamedItemNS(attr.namespaceURI,attr.localName);\n\t\t_addNamedNode(this._ownerElement,this,attr,oldAttr);\n\t\treturn oldAttr;\n\t},\n\n\t/* returns Node */\n\tremoveNamedItem: function(key) {\n\t\tvar attr = this.getNamedItem(key);\n\t\t_removeNamedNode(this._ownerElement,this,attr);\n\t\treturn attr;\n\n\n\t},// raises: NOT_FOUND_ERR,NO_MODIFICATION_ALLOWED_ERR\n\n\t//for level2\n\tremoveNamedItemNS:function(namespaceURI,localName){\n\t\tvar attr = this.getNamedItemNS(namespaceURI,localName);\n\t\t_removeNamedNode(this._ownerElement,this,attr);\n\t\treturn attr;\n\t},\n\tgetNamedItemNS: function(namespaceURI, localName) {\n\t\tvar i = this.length;\n\t\twhile(i--){\n\t\t\tvar node = this[i];\n\t\t\tif(node.localName == localName && node.namespaceURI == namespaceURI){\n\t\t\t\treturn node;\n\t\t\t}\n\t\t}\n\t\treturn null;\n\t}\n};\n\n/**\n * The DOMImplementation interface represents an object providing methods\n * which are not dependent on any particular document.\n * Such an object is returned by the `Document.implementation` property.\n *\n * __The individual methods describe the differences compared to the specs.__\n *\n * @constructor\n *\n * @see https://developer.mozilla.org/en-US/docs/Web/API/DOMImplementation MDN\n * @see https://www.w3.org/TR/REC-DOM-Level-1/level-one-core.html#ID-102161490 DOM Level 1 Core (Initial)\n * @see https://www.w3.org/TR/DOM-Level-2-Core/core.html#ID-102161490 DOM Level 2 Core\n * @see https://www.w3.org/TR/DOM-Level-3-Core/core.html#ID-102161490 DOM Level 3 Core\n * @see https://dom.spec.whatwg.org/#domimplementation DOM Living Standard\n */\nfunction DOMImplementation() {\n}\n\nDOMImplementation.prototype = {\n\t/**\n\t * The DOMImplementation.hasFeature() method returns a Boolean flag indicating if a given feature is supported.\n\t * The different implementations fairly diverged in what kind of features were reported.\n\t * The latest version of the spec settled to force this method to always return true, where the functionality was accurate and in use.\n\t *\n\t * @deprecated It is deprecated and modern browsers return true in all cases.\n\t *\n\t * @param {string} feature\n\t * @param {string} [version]\n\t * @returns {boolean} always true\n\t *\n\t * @see https://developer.mozilla.org/en-US/docs/Web/API/DOMImplementation/hasFeature MDN\n\t * @see https://www.w3.org/TR/REC-DOM-Level-1/level-one-core.html#ID-5CED94D7 DOM Level 1 Core\n\t * @see https://dom.spec.whatwg.org/#dom-domimplementation-hasfeature DOM Living Standard\n\t */\n\thasFeature: function(feature, version) {\n\t\t\treturn true;\n\t},\n\t/**\n\t * Creates an XML Document object of the specified type with its document element.\n\t *\n\t * __It behaves slightly different from the description in the living standard__:\n\t * - There is no interface/class `XMLDocument`, it returns a `Document` instance.\n\t * - `contentType`, `encoding`, `mode`, `origin`, `url` fields are currently not declared.\n\t * - this implementation is not validating names or qualified names\n\t *   (when parsing XML strings, the SAX parser takes care of that)\n\t *\n\t * @param {string|null} namespaceURI\n\t * @param {string} qualifiedName\n\t * @param {DocumentType=null} doctype\n\t * @returns {Document}\n\t *\n\t * @see https://developer.mozilla.org/en-US/docs/Web/API/DOMImplementation/createDocument MDN\n\t * @see https://www.w3.org/TR/DOM-Level-2-Core/core.html#Level-2-Core-DOM-createDocument DOM Level 2 Core (initial)\n\t * @see https://dom.spec.whatwg.org/#dom-domimplementation-createdocument  DOM Level 2 Core\n\t *\n\t * @see https://dom.spec.whatwg.org/#validate-and-extract DOM: Validate and extract\n\t * @see https://www.w3.org/TR/xml/#NT-NameStartChar XML Spec: Names\n\t * @see https://www.w3.org/TR/xml-names/#ns-qualnames XML Namespaces: Qualified names\n\t */\n\tcreateDocument: function(namespaceURI,  qualifiedName, doctype){\n\t\tvar doc = new Document();\n\t\tdoc.implementation = this;\n\t\tdoc.childNodes = new NodeList();\n\t\tdoc.doctype = doctype || null;\n\t\tif (doctype){\n\t\t\tdoc.appendChild(doctype);\n\t\t}\n\t\tif (qualifiedName){\n\t\t\tvar root = doc.createElementNS(namespaceURI, qualifiedName);\n\t\t\tdoc.appendChild(root);\n\t\t}\n\t\treturn doc;\n\t},\n\t/**\n\t * Returns a doctype, with the given `qualifiedName`, `publicId`, and `systemId`.\n\t *\n\t * __This behavior is slightly different from the in the specs__:\n\t * - this implementation is not validating names or qualified names\n\t *   (when parsing XML strings, the SAX parser takes care of that)\n\t *\n\t * @param {string} qualifiedName\n\t * @param {string} [publicId]\n\t * @param {string} [systemId]\n\t * @returns {DocumentType} which can either be used with `DOMImplementation.createDocument` upon document creation\n\t * \t\t\t\t  or can be put into the document via methods like `Node.insertBefore()` or `Node.replaceChild()`\n\t *\n\t * @see https://developer.mozilla.org/en-US/docs/Web/API/DOMImplementation/createDocumentType MDN\n\t * @see https://www.w3.org/TR/DOM-Level-2-Core/core.html#Level-2-Core-DOM-createDocType DOM Level 2 Core\n\t * @see https://dom.spec.whatwg.org/#dom-domimplementation-createdocumenttype DOM Living Standard\n\t *\n\t * @see https://dom.spec.whatwg.org/#validate-and-extract DOM: Validate and extract\n\t * @see https://www.w3.org/TR/xml/#NT-NameStartChar XML Spec: Names\n\t * @see https://www.w3.org/TR/xml-names/#ns-qualnames XML Namespaces: Qualified names\n\t */\n\tcreateDocumentType: function(qualifiedName, publicId, systemId){\n\t\tvar node = new DocumentType();\n\t\tnode.name = qualifiedName;\n\t\tnode.nodeName = qualifiedName;\n\t\tnode.publicId = publicId || '';\n\t\tnode.systemId = systemId || '';\n\n\t\treturn node;\n\t}\n};\n\n\n/**\n * @see http://www.w3.org/TR/2000/REC-DOM-Level-2-Core-20001113/core.html#ID-1950641247\n */\n\nfunction Node() {\n};\n\nNode.prototype = {\n\tfirstChild : null,\n\tlastChild : null,\n\tpreviousSibling : null,\n\tnextSibling : null,\n\tattributes : null,\n\tparentNode : null,\n\tchildNodes : null,\n\townerDocument : null,\n\tnodeValue : null,\n\tnamespaceURI : null,\n\tprefix : null,\n\tlocalName : null,\n\t// Modified in DOM Level 2:\n\tinsertBefore:function(newChild, refChild){//raises\n\t\treturn _insertBefore(this,newChild,refChild);\n\t},\n\treplaceChild:function(newChild, oldChild){//raises\n\t\t_insertBefore(this, newChild,oldChild, assertPreReplacementValidityInDocument);\n\t\tif(oldChild){\n\t\t\tthis.removeChild(oldChild);\n\t\t}\n\t},\n\tremoveChild:function(oldChild){\n\t\treturn _removeChild(this,oldChild);\n\t},\n\tappendChild:function(newChild){\n\t\treturn this.insertBefore(newChild,null);\n\t},\n\thasChildNodes:function(){\n\t\treturn this.firstChild != null;\n\t},\n\tcloneNode:function(deep){\n\t\treturn cloneNode(this.ownerDocument||this,this,deep);\n\t},\n\t// Modified in DOM Level 2:\n\tnormalize:function(){\n\t\tvar child = this.firstChild;\n\t\twhile(child){\n\t\t\tvar next = child.nextSibling;\n\t\t\tif(next && next.nodeType == TEXT_NODE && child.nodeType == TEXT_NODE){\n\t\t\t\tthis.removeChild(next);\n\t\t\t\tchild.appendData(next.data);\n\t\t\t}else{\n\t\t\t\tchild.normalize();\n\t\t\t\tchild = next;\n\t\t\t}\n\t\t}\n\t},\n  \t// Introduced in DOM Level 2:\n\tisSupported:function(feature, version){\n\t\treturn this.ownerDocument.implementation.hasFeature(feature,version);\n\t},\n    // Introduced in DOM Level 2:\n    hasAttributes:function(){\n    \treturn this.attributes.length>0;\n    },\n\t/**\n\t * Look up the prefix associated to the given namespace URI, starting from this node.\n\t * **The default namespace declarations are ignored by this method.**\n\t * See Namespace Prefix Lookup for details on the algorithm used by this method.\n\t *\n\t * _Note: The implementation seems to be incomplete when compared to the algorithm described in the specs._\n\t *\n\t * @param {string | null} namespaceURI\n\t * @returns {string | null}\n\t * @see https://www.w3.org/TR/DOM-Level-3-Core/core.html#Node3-lookupNamespacePrefix\n\t * @see https://www.w3.org/TR/DOM-Level-3-Core/namespaces-algorithms.html#lookupNamespacePrefixAlgo\n\t * @see https://dom.spec.whatwg.org/#dom-node-lookupprefix\n\t * @see https://github.com/xmldom/xmldom/issues/322\n\t */\n    lookupPrefix:function(namespaceURI){\n    \tvar el = this;\n    \twhile(el){\n    \t\tvar map = el._nsMap;\n    \t\t//console.dir(map)\n    \t\tif(map){\n    \t\t\tfor(var n in map){\n\t\t\t\t\t\tif (Object.prototype.hasOwnProperty.call(map, n) && map[n] === namespaceURI) {\n\t\t\t\t\t\t\treturn n;\n\t\t\t\t\t\t}\n    \t\t\t}\n    \t\t}\n    \t\tel = el.nodeType == ATTRIBUTE_NODE?el.ownerDocument : el.parentNode;\n    \t}\n    \treturn null;\n    },\n    // Introduced in DOM Level 3:\n    lookupNamespaceURI:function(prefix){\n    \tvar el = this;\n    \twhile(el){\n    \t\tvar map = el._nsMap;\n    \t\t//console.dir(map)\n    \t\tif(map){\n    \t\t\tif(Object.prototype.hasOwnProperty.call(map, prefix)){\n    \t\t\t\treturn map[prefix] ;\n    \t\t\t}\n    \t\t}\n    \t\tel = el.nodeType == ATTRIBUTE_NODE?el.ownerDocument : el.parentNode;\n    \t}\n    \treturn null;\n    },\n    // Introduced in DOM Level 3:\n    isDefaultNamespace:function(namespaceURI){\n    \tvar prefix = this.lookupPrefix(namespaceURI);\n    \treturn prefix == null;\n    }\n};\n\n\nfunction _xmlEncoder(c){\n\treturn c == '<' && '&lt;' ||\n         c == '>' && '&gt;' ||\n         c == '&' && '&amp;' ||\n         c == '\"' && '&quot;' ||\n         '&#'+c.charCodeAt()+';'\n}\n\n\ncopy(NodeType,Node);\ncopy(NodeType,Node.prototype);\n\n/**\n * @param callback return true for continue,false for break\n * @return boolean true: break visit;\n */\nfunction _visitNode(node,callback){\n\tif(callback(node)){\n\t\treturn true;\n\t}\n\tif(node = node.firstChild){\n\t\tdo{\n\t\t\tif(_visitNode(node,callback)){return true}\n        }while(node=node.nextSibling)\n    }\n}\n\n\n\nfunction Document(){\n\tthis.ownerDocument = this;\n}\n\nfunction _onAddAttribute(doc,el,newAttr){\n\tdoc && doc._inc++;\n\tvar ns = newAttr.namespaceURI ;\n\tif(ns === NAMESPACE.XMLNS){\n\t\t//update namespace\n\t\tel._nsMap[newAttr.prefix?newAttr.localName:''] = newAttr.value\n\t}\n}\n\nfunction _onRemoveAttribute(doc,el,newAttr,remove){\n\tdoc && doc._inc++;\n\tvar ns = newAttr.namespaceURI ;\n\tif(ns === NAMESPACE.XMLNS){\n\t\t//update namespace\n\t\tdelete el._nsMap[newAttr.prefix?newAttr.localName:'']\n\t}\n}\n\n/**\n * Updates `el.childNodes`, updating the indexed items and it's `length`.\n * Passing `newChild` means it will be appended.\n * Otherwise it's assumed that an item has been removed,\n * and `el.firstNode` and it's `.nextSibling` are used\n * to walk the current list of child nodes.\n *\n * @param {Document} doc\n * @param {Node} el\n * @param {Node} [newChild]\n * @private\n */\nfunction _onUpdateChild (doc, el, newChild) {\n\tif(doc && doc._inc){\n\t\tdoc._inc++;\n\t\t//update childNodes\n\t\tvar cs = el.childNodes;\n\t\tif (newChild) {\n\t\t\tcs[cs.length++] = newChild;\n\t\t} else {\n\t\t\tvar child = el.firstChild;\n\t\t\tvar i = 0;\n\t\t\twhile (child) {\n\t\t\t\tcs[i++] = child;\n\t\t\t\tchild = child.nextSibling;\n\t\t\t}\n\t\t\tcs.length = i;\n\t\t\tdelete cs[cs.length];\n\t\t}\n\t}\n}\n\n/**\n * Removes the connections between `parentNode` and `child`\n * and any existing `child.previousSibling` or `child.nextSibling`.\n *\n * @see https://github.com/xmldom/xmldom/issues/135\n * @see https://github.com/xmldom/xmldom/issues/145\n *\n * @param {Node} parentNode\n * @param {Node} child\n * @returns {Node} the child that was removed.\n * @private\n */\nfunction _removeChild (parentNode, child) {\n\tvar previous = child.previousSibling;\n\tvar next = child.nextSibling;\n\tif (previous) {\n\t\tprevious.nextSibling = next;\n\t} else {\n\t\tparentNode.firstChild = next;\n\t}\n\tif (next) {\n\t\tnext.previousSibling = previous;\n\t} else {\n\t\tparentNode.lastChild = previous;\n\t}\n\tchild.parentNode = null;\n\tchild.previousSibling = null;\n\tchild.nextSibling = null;\n\t_onUpdateChild(parentNode.ownerDocument, parentNode);\n\treturn child;\n}\n\n/**\n * Returns `true` if `node` can be a parent for insertion.\n * @param {Node} node\n * @returns {boolean}\n */\nfunction hasValidParentNodeType(node) {\n\treturn (\n\t\tnode &&\n\t\t(node.nodeType === Node.DOCUMENT_NODE || node.nodeType === Node.DOCUMENT_FRAGMENT_NODE || node.nodeType === Node.ELEMENT_NODE)\n\t);\n}\n\n/**\n * Returns `true` if `node` can be inserted according to it's `nodeType`.\n * @param {Node} node\n * @returns {boolean}\n */\nfunction hasInsertableNodeType(node) {\n\treturn (\n\t\tnode &&\n\t\t(isElementNode(node) ||\n\t\t\tisTextNode(node) ||\n\t\t\tisDocTypeNode(node) ||\n\t\t\tnode.nodeType === Node.DOCUMENT_FRAGMENT_NODE ||\n\t\t\tnode.nodeType === Node.COMMENT_NODE ||\n\t\t\tnode.nodeType === Node.PROCESSING_INSTRUCTION_NODE)\n\t);\n}\n\n/**\n * Returns true if `node` is a DOCTYPE node\n * @param {Node} node\n * @returns {boolean}\n */\nfunction isDocTypeNode(node) {\n\treturn node && node.nodeType === Node.DOCUMENT_TYPE_NODE;\n}\n\n/**\n * Returns true if the node is an element\n * @param {Node} node\n * @returns {boolean}\n */\nfunction isElementNode(node) {\n\treturn node && node.nodeType === Node.ELEMENT_NODE;\n}\n/**\n * Returns true if `node` is a text node\n * @param {Node} node\n * @returns {boolean}\n */\nfunction isTextNode(node) {\n\treturn node && node.nodeType === Node.TEXT_NODE;\n}\n\n/**\n * Check if en element node can be inserted before `child`, or at the end if child is falsy,\n * according to the presence and position of a doctype node on the same level.\n *\n * @param {Document} doc The document node\n * @param {Node} child the node that would become the nextSibling if the element would be inserted\n * @returns {boolean} `true` if an element can be inserted before child\n * @private\n * https://dom.spec.whatwg.org/#concept-node-ensure-pre-insertion-validity\n */\nfunction isElementInsertionPossible(doc, child) {\n\tvar parentChildNodes = doc.childNodes || [];\n\tif (find(parentChildNodes, isElementNode) || isDocTypeNode(child)) {\n\t\treturn false;\n\t}\n\tvar docTypeNode = find(parentChildNodes, isDocTypeNode);\n\treturn !(child && docTypeNode && parentChildNodes.indexOf(docTypeNode) > parentChildNodes.indexOf(child));\n}\n\n/**\n * Check if en element node can be inserted before `child`, or at the end if child is falsy,\n * according to the presence and position of a doctype node on the same level.\n *\n * @param {Node} doc The document node\n * @param {Node} child the node that would become the nextSibling if the element would be inserted\n * @returns {boolean} `true` if an element can be inserted before child\n * @private\n * https://dom.spec.whatwg.org/#concept-node-ensure-pre-insertion-validity\n */\nfunction isElementReplacementPossible(doc, child) {\n\tvar parentChildNodes = doc.childNodes || [];\n\n\tfunction hasElementChildThatIsNotChild(node) {\n\t\treturn isElementNode(node) && node !== child;\n\t}\n\n\tif (find(parentChildNodes, hasElementChildThatIsNotChild)) {\n\t\treturn false;\n\t}\n\tvar docTypeNode = find(parentChildNodes, isDocTypeNode);\n\treturn !(child && docTypeNode && parentChildNodes.indexOf(docTypeNode) > parentChildNodes.indexOf(child));\n}\n\n/**\n * @private\n * Steps 1-5 of the checks before inserting and before replacing a child are the same.\n *\n * @param {Node} parent the parent node to insert `node` into\n * @param {Node} node the node to insert\n * @param {Node=} child the node that should become the `nextSibling` of `node`\n * @returns {Node}\n * @throws DOMException for several node combinations that would create a DOM that is not well-formed.\n * @throws DOMException if `child` is provided but is not a child of `parent`.\n * @see https://dom.spec.whatwg.org/#concept-node-ensure-pre-insertion-validity\n * @see https://dom.spec.whatwg.org/#concept-node-replace\n */\nfunction assertPreInsertionValidity1to5(parent, node, child) {\n\t// 1. If `parent` is not a Document, DocumentFragment, or Element node, then throw a \"HierarchyRequestError\" DOMException.\n\tif (!hasValidParentNodeType(parent)) {\n\t\tthrow new DOMException(HIERARCHY_REQUEST_ERR, 'Unexpected parent node type ' + parent.nodeType);\n\t}\n\t// 2. If `node` is a host-including inclusive ancestor of `parent`, then throw a \"HierarchyRequestError\" DOMException.\n\t// not implemented!\n\t// 3. If `child` is non-null and its parent is not `parent`, then throw a \"NotFoundError\" DOMException.\n\tif (child && child.parentNode !== parent) {\n\t\tthrow new DOMException(NOT_FOUND_ERR, 'child not in parent');\n\t}\n\tif (\n\t\t// 4. If `node` is not a DocumentFragment, DocumentType, Element, or CharacterData node, then throw a \"HierarchyRequestError\" DOMException.\n\t\t!hasInsertableNodeType(node) ||\n\t\t// 5. If either `node` is a Text node and `parent` is a document,\n\t\t// the sax parser currently adds top level text nodes, this will be fixed in 0.9.0\n\t\t// || (node.nodeType === Node.TEXT_NODE && parent.nodeType === Node.DOCUMENT_NODE)\n\t\t// or `node` is a doctype and `parent` is not a document, then throw a \"HierarchyRequestError\" DOMException.\n\t\t(isDocTypeNode(node) && parent.nodeType !== Node.DOCUMENT_NODE)\n\t) {\n\t\tthrow new DOMException(\n\t\t\tHIERARCHY_REQUEST_ERR,\n\t\t\t'Unexpected node type ' + node.nodeType + ' for parent node type ' + parent.nodeType\n\t\t);\n\t}\n}\n\n/**\n * @private\n * Step 6 of the checks before inserting and before replacing a child are different.\n *\n * @param {Document} parent the parent node to insert `node` into\n * @param {Node} node the node to insert\n * @param {Node | undefined} child the node that should become the `nextSibling` of `node`\n * @returns {Node}\n * @throws DOMException for several node combinations that would create a DOM that is not well-formed.\n * @throws DOMException if `child` is provided but is not a child of `parent`.\n * @see https://dom.spec.whatwg.org/#concept-node-ensure-pre-insertion-validity\n * @see https://dom.spec.whatwg.org/#concept-node-replace\n */\nfunction assertPreInsertionValidityInDocument(parent, node, child) {\n\tvar parentChildNodes = parent.childNodes || [];\n\tvar nodeChildNodes = node.childNodes || [];\n\n\t// DocumentFragment\n\tif (node.nodeType === Node.DOCUMENT_FRAGMENT_NODE) {\n\t\tvar nodeChildElements = nodeChildNodes.filter(isElementNode);\n\t\t// If node has more than one element child or has a Text node child.\n\t\tif (nodeChildElements.length > 1 || find(nodeChildNodes, isTextNode)) {\n\t\t\tthrow new DOMException(HIERARCHY_REQUEST_ERR, 'More than one element or text in fragment');\n\t\t}\n\t\t// Otherwise, if `node` has one element child and either `parent` has an element child,\n\t\t// `child` is a doctype, or `child` is non-null and a doctype is following `child`.\n\t\tif (nodeChildElements.length === 1 && !isElementInsertionPossible(parent, child)) {\n\t\t\tthrow new DOMException(HIERARCHY_REQUEST_ERR, 'Element in fragment can not be inserted before doctype');\n\t\t}\n\t}\n\t// Element\n\tif (isElementNode(node)) {\n\t\t// `parent` has an element child, `child` is a doctype,\n\t\t// or `child` is non-null and a doctype is following `child`.\n\t\tif (!isElementInsertionPossible(parent, child)) {\n\t\t\tthrow new DOMException(HIERARCHY_REQUEST_ERR, 'Only one element can be added and only after doctype');\n\t\t}\n\t}\n\t// DocumentType\n\tif (isDocTypeNode(node)) {\n\t\t// `parent` has a doctype child,\n\t\tif (find(parentChildNodes, isDocTypeNode)) {\n\t\t\tthrow new DOMException(HIERARCHY_REQUEST_ERR, 'Only one doctype is allowed');\n\t\t}\n\t\tvar parentElementChild = find(parentChildNodes, isElementNode);\n\t\t// `child` is non-null and an element is preceding `child`,\n\t\tif (child && parentChildNodes.indexOf(parentElementChild) < parentChildNodes.indexOf(child)) {\n\t\t\tthrow new DOMException(HIERARCHY_REQUEST_ERR, 'Doctype can only be inserted before an element');\n\t\t}\n\t\t// or `child` is null and `parent` has an element child.\n\t\tif (!child && parentElementChild) {\n\t\t\tthrow new DOMException(HIERARCHY_REQUEST_ERR, 'Doctype can not be appended since element is present');\n\t\t}\n\t}\n}\n\n/**\n * @private\n * Step 6 of the checks before inserting and before replacing a child are different.\n *\n * @param {Document} parent the parent node to insert `node` into\n * @param {Node} node the node to insert\n * @param {Node | undefined} child the node that should become the `nextSibling` of `node`\n * @returns {Node}\n * @throws DOMException for several node combinations that would create a DOM that is not well-formed.\n * @throws DOMException if `child` is provided but is not a child of `parent`.\n * @see https://dom.spec.whatwg.org/#concept-node-ensure-pre-insertion-validity\n * @see https://dom.spec.whatwg.org/#concept-node-replace\n */\nfunction assertPreReplacementValidityInDocument(parent, node, child) {\n\tvar parentChildNodes = parent.childNodes || [];\n\tvar nodeChildNodes = node.childNodes || [];\n\n\t// DocumentFragment\n\tif (node.nodeType === Node.DOCUMENT_FRAGMENT_NODE) {\n\t\tvar nodeChildElements = nodeChildNodes.filter(isElementNode);\n\t\t// If `node` has more than one element child or has a Text node child.\n\t\tif (nodeChildElements.length > 1 || find(nodeChildNodes, isTextNode)) {\n\t\t\tthrow new DOMException(HIERARCHY_REQUEST_ERR, 'More than one element or text in fragment');\n\t\t}\n\t\t// Otherwise, if `node` has one element child and either `parent` has an element child that is not `child` or a doctype is following `child`.\n\t\tif (nodeChildElements.length === 1 && !isElementReplacementPossible(parent, child)) {\n\t\t\tthrow new DOMException(HIERARCHY_REQUEST_ERR, 'Element in fragment can not be inserted before doctype');\n\t\t}\n\t}\n\t// Element\n\tif (isElementNode(node)) {\n\t\t// `parent` has an element child that is not `child` or a doctype is following `child`.\n\t\tif (!isElementReplacementPossible(parent, child)) {\n\t\t\tthrow new DOMException(HIERARCHY_REQUEST_ERR, 'Only one element can be added and only after doctype');\n\t\t}\n\t}\n\t// DocumentType\n\tif (isDocTypeNode(node)) {\n\t\tfunction hasDoctypeChildThatIsNotChild(node) {\n\t\t\treturn isDocTypeNode(node) && node !== child;\n\t\t}\n\n\t\t// `parent` has a doctype child that is not `child`,\n\t\tif (find(parentChildNodes, hasDoctypeChildThatIsNotChild)) {\n\t\t\tthrow new DOMException(HIERARCHY_REQUEST_ERR, 'Only one doctype is allowed');\n\t\t}\n\t\tvar parentElementChild = find(parentChildNodes, isElementNode);\n\t\t// or an element is preceding `child`.\n\t\tif (child && parentChildNodes.indexOf(parentElementChild) < parentChildNodes.indexOf(child)) {\n\t\t\tthrow new DOMException(HIERARCHY_REQUEST_ERR, 'Doctype can only be inserted before an element');\n\t\t}\n\t}\n}\n\n/**\n * @private\n * @param {Node} parent the parent node to insert `node` into\n * @param {Node} node the node to insert\n * @param {Node=} child the node that should become the `nextSibling` of `node`\n * @returns {Node}\n * @throws DOMException for several node combinations that would create a DOM that is not well-formed.\n * @throws DOMException if `child` is provided but is not a child of `parent`.\n * @see https://dom.spec.whatwg.org/#concept-node-ensure-pre-insertion-validity\n */\nfunction _insertBefore(parent, node, child, _inDocumentAssertion) {\n\t// To ensure pre-insertion validity of a node into a parent before a child, run these steps:\n\tassertPreInsertionValidity1to5(parent, node, child);\n\n\t// If parent is a document, and any of the statements below, switched on the interface node implements,\n\t// are true, then throw a \"HierarchyRequestError\" DOMException.\n\tif (parent.nodeType === Node.DOCUMENT_NODE) {\n\t\t(_inDocumentAssertion || assertPreInsertionValidityInDocument)(parent, node, child);\n\t}\n\n\tvar cp = node.parentNode;\n\tif(cp){\n\t\tcp.removeChild(node);//remove and update\n\t}\n\tif(node.nodeType === DOCUMENT_FRAGMENT_NODE){\n\t\tvar newFirst = node.firstChild;\n\t\tif (newFirst == null) {\n\t\t\treturn node;\n\t\t}\n\t\tvar newLast = node.lastChild;\n\t}else{\n\t\tnewFirst = newLast = node;\n\t}\n\tvar pre = child ? child.previousSibling : parent.lastChild;\n\n\tnewFirst.previousSibling = pre;\n\tnewLast.nextSibling = child;\n\n\n\tif(pre){\n\t\tpre.nextSibling = newFirst;\n\t}else{\n\t\tparent.firstChild = newFirst;\n\t}\n\tif(child == null){\n\t\tparent.lastChild = newLast;\n\t}else{\n\t\tchild.previousSibling = newLast;\n\t}\n\tdo{\n\t\tnewFirst.parentNode = parent;\n\t}while(newFirst !== newLast && (newFirst= newFirst.nextSibling))\n\t_onUpdateChild(parent.ownerDocument||parent, parent);\n\t//console.log(parent.lastChild.nextSibling == null)\n\tif (node.nodeType == DOCUMENT_FRAGMENT_NODE) {\n\t\tnode.firstChild = node.lastChild = null;\n\t}\n\treturn node;\n}\n\n/**\n * Appends `newChild` to `parentNode`.\n * If `newChild` is already connected to a `parentNode` it is first removed from it.\n *\n * @see https://github.com/xmldom/xmldom/issues/135\n * @see https://github.com/xmldom/xmldom/issues/145\n * @param {Node} parentNode\n * @param {Node} newChild\n * @returns {Node}\n * @private\n */\nfunction _appendSingleChild (parentNode, newChild) {\n\tif (newChild.parentNode) {\n\t\tnewChild.parentNode.removeChild(newChild);\n\t}\n\tnewChild.parentNode = parentNode;\n\tnewChild.previousSibling = parentNode.lastChild;\n\tnewChild.nextSibling = null;\n\tif (newChild.previousSibling) {\n\t\tnewChild.previousSibling.nextSibling = newChild;\n\t} else {\n\t\tparentNode.firstChild = newChild;\n\t}\n\tparentNode.lastChild = newChild;\n\t_onUpdateChild(parentNode.ownerDocument, parentNode, newChild);\n\treturn newChild;\n}\n\nDocument.prototype = {\n\t//implementation : null,\n\tnodeName :  '#document',\n\tnodeType :  DOCUMENT_NODE,\n\t/**\n\t * The DocumentType node of the document.\n\t *\n\t * @readonly\n\t * @type DocumentType\n\t */\n\tdoctype :  null,\n\tdocumentElement :  null,\n\t_inc : 1,\n\n\tinsertBefore :  function(newChild, refChild){//raises\n\t\tif(newChild.nodeType == DOCUMENT_FRAGMENT_NODE){\n\t\t\tvar child = newChild.firstChild;\n\t\t\twhile(child){\n\t\t\t\tvar next = child.nextSibling;\n\t\t\t\tthis.insertBefore(child,refChild);\n\t\t\t\tchild = next;\n\t\t\t}\n\t\t\treturn newChild;\n\t\t}\n\t\t_insertBefore(this, newChild, refChild);\n\t\tnewChild.ownerDocument = this;\n\t\tif (this.documentElement === null && newChild.nodeType === ELEMENT_NODE) {\n\t\t\tthis.documentElement = newChild;\n\t\t}\n\n\t\treturn newChild;\n\t},\n\tremoveChild :  function(oldChild){\n\t\tif(this.documentElement == oldChild){\n\t\t\tthis.documentElement = null;\n\t\t}\n\t\treturn _removeChild(this,oldChild);\n\t},\n\treplaceChild: function (newChild, oldChild) {\n\t\t//raises\n\t\t_insertBefore(this, newChild, oldChild, assertPreReplacementValidityInDocument);\n\t\tnewChild.ownerDocument = this;\n\t\tif (oldChild) {\n\t\t\tthis.removeChild(oldChild);\n\t\t}\n\t\tif (isElementNode(newChild)) {\n\t\t\tthis.documentElement = newChild;\n\t\t}\n\t},\n\t// Introduced in DOM Level 2:\n\timportNode : function(importedNode,deep){\n\t\treturn importNode(this,importedNode,deep);\n\t},\n\t// Introduced in DOM Level 2:\n\tgetElementById :\tfunction(id){\n\t\tvar rtv = null;\n\t\t_visitNode(this.documentElement,function(node){\n\t\t\tif(node.nodeType == ELEMENT_NODE){\n\t\t\t\tif(node.getAttribute('id') == id){\n\t\t\t\t\trtv = node;\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t})\n\t\treturn rtv;\n\t},\n\n\t/**\n\t * The `getElementsByClassName` method of `Document` interface returns an array-like object\n\t * of all child elements which have **all** of the given class name(s).\n\t *\n\t * Returns an empty list if `classeNames` is an empty string or only contains HTML white space characters.\n\t *\n\t *\n\t * Warning: This is a live LiveNodeList.\n\t * Changes in the DOM will reflect in the array as the changes occur.\n\t * If an element selected by this array no longer qualifies for the selector,\n\t * it will automatically be removed. Be aware of this for iteration purposes.\n\t *\n\t * @param {string} classNames is a string representing the class name(s) to match; multiple class names are separated by (ASCII-)whitespace\n\t *\n\t * @see https://developer.mozilla.org/en-US/docs/Web/API/Document/getElementsByClassName\n\t * @see https://dom.spec.whatwg.org/#concept-getelementsbyclassname\n\t */\n\tgetElementsByClassName: function(classNames) {\n\t\tvar classNamesSet = toOrderedSet(classNames)\n\t\treturn new LiveNodeList(this, function(base) {\n\t\t\tvar ls = [];\n\t\t\tif (classNamesSet.length > 0) {\n\t\t\t\t_visitNode(base.documentElement, function(node) {\n\t\t\t\t\tif(node !== base && node.nodeType === ELEMENT_NODE) {\n\t\t\t\t\t\tvar nodeClassNames = node.getAttribute('class')\n\t\t\t\t\t\t// can be null if the attribute does not exist\n\t\t\t\t\t\tif (nodeClassNames) {\n\t\t\t\t\t\t\t// before splitting and iterating just compare them for the most common case\n\t\t\t\t\t\t\tvar matches = classNames === nodeClassNames;\n\t\t\t\t\t\t\tif (!matches) {\n\t\t\t\t\t\t\t\tvar nodeClassNamesSet = toOrderedSet(nodeClassNames)\n\t\t\t\t\t\t\t\tmatches = classNamesSet.every(arrayIncludes(nodeClassNamesSet))\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif(matches) {\n\t\t\t\t\t\t\t\tls.push(node);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t\treturn ls;\n\t\t});\n\t},\n\n\t//document factory method:\n\tcreateElement :\tfunction(tagName){\n\t\tvar node = new Element();\n\t\tnode.ownerDocument = this;\n\t\tnode.nodeName = tagName;\n\t\tnode.tagName = tagName;\n\t\tnode.localName = tagName;\n\t\tnode.childNodes = new NodeList();\n\t\tvar attrs\t= node.attributes = new NamedNodeMap();\n\t\tattrs._ownerElement = node;\n\t\treturn node;\n\t},\n\tcreateDocumentFragment :\tfunction(){\n\t\tvar node = new DocumentFragment();\n\t\tnode.ownerDocument = this;\n\t\tnode.childNodes = new NodeList();\n\t\treturn node;\n\t},\n\tcreateTextNode :\tfunction(data){\n\t\tvar node = new Text();\n\t\tnode.ownerDocument = this;\n\t\tnode.appendData(data)\n\t\treturn node;\n\t},\n\tcreateComment :\tfunction(data){\n\t\tvar node = new Comment();\n\t\tnode.ownerDocument = this;\n\t\tnode.appendData(data)\n\t\treturn node;\n\t},\n\tcreateCDATASection :\tfunction(data){\n\t\tvar node = new CDATASection();\n\t\tnode.ownerDocument = this;\n\t\tnode.appendData(data)\n\t\treturn node;\n\t},\n\tcreateProcessingInstruction :\tfunction(target,data){\n\t\tvar node = new ProcessingInstruction();\n\t\tnode.ownerDocument = this;\n\t\tnode.tagName = node.target = target;\n\t\tnode.nodeValue= node.data = data;\n\t\treturn node;\n\t},\n\tcreateAttribute :\tfunction(name){\n\t\tvar node = new Attr();\n\t\tnode.ownerDocument\t= this;\n\t\tnode.name = name;\n\t\tnode.nodeName\t= name;\n\t\tnode.localName = name;\n\t\tnode.specified = true;\n\t\treturn node;\n\t},\n\tcreateEntityReference :\tfunction(name){\n\t\tvar node = new EntityReference();\n\t\tnode.ownerDocument\t= this;\n\t\tnode.nodeName\t= name;\n\t\treturn node;\n\t},\n\t// Introduced in DOM Level 2:\n\tcreateElementNS :\tfunction(namespaceURI,qualifiedName){\n\t\tvar node = new Element();\n\t\tvar pl = qualifiedName.split(':');\n\t\tvar attrs\t= node.attributes = new NamedNodeMap();\n\t\tnode.childNodes = new NodeList();\n\t\tnode.ownerDocument = this;\n\t\tnode.nodeName = qualifiedName;\n\t\tnode.tagName = qualifiedName;\n\t\tnode.namespaceURI = namespaceURI;\n\t\tif(pl.length == 2){\n\t\t\tnode.prefix = pl[0];\n\t\t\tnode.localName = pl[1];\n\t\t}else{\n\t\t\t//el.prefix = null;\n\t\t\tnode.localName = qualifiedName;\n\t\t}\n\t\tattrs._ownerElement = node;\n\t\treturn node;\n\t},\n\t// Introduced in DOM Level 2:\n\tcreateAttributeNS :\tfunction(namespaceURI,qualifiedName){\n\t\tvar node = new Attr();\n\t\tvar pl = qualifiedName.split(':');\n\t\tnode.ownerDocument = this;\n\t\tnode.nodeName = qualifiedName;\n\t\tnode.name = qualifiedName;\n\t\tnode.namespaceURI = namespaceURI;\n\t\tnode.specified = true;\n\t\tif(pl.length == 2){\n\t\t\tnode.prefix = pl[0];\n\t\t\tnode.localName = pl[1];\n\t\t}else{\n\t\t\t//el.prefix = null;\n\t\t\tnode.localName = qualifiedName;\n\t\t}\n\t\treturn node;\n\t}\n};\n_extends(Document,Node);\n\n\nfunction Element() {\n\tthis._nsMap = {};\n};\nElement.prototype = {\n\tnodeType : ELEMENT_NODE,\n\thasAttribute : function(name){\n\t\treturn this.getAttributeNode(name)!=null;\n\t},\n\tgetAttribute : function(name){\n\t\tvar attr = this.getAttributeNode(name);\n\t\treturn attr && attr.value || '';\n\t},\n\tgetAttributeNode : function(name){\n\t\treturn this.attributes.getNamedItem(name);\n\t},\n\tsetAttribute : function(name, value){\n\t\tvar attr = this.ownerDocument.createAttribute(name);\n\t\tattr.value = attr.nodeValue = \"\" + value;\n\t\tthis.setAttributeNode(attr)\n\t},\n\tremoveAttribute : function(name){\n\t\tvar attr = this.getAttributeNode(name)\n\t\tattr && this.removeAttributeNode(attr);\n\t},\n\n\t//four real opeartion method\n\tappendChild:function(newChild){\n\t\tif(newChild.nodeType === DOCUMENT_FRAGMENT_NODE){\n\t\t\treturn this.insertBefore(newChild,null);\n\t\t}else{\n\t\t\treturn _appendSingleChild(this,newChild);\n\t\t}\n\t},\n\tsetAttributeNode : function(newAttr){\n\t\treturn this.attributes.setNamedItem(newAttr);\n\t},\n\tsetAttributeNodeNS : function(newAttr){\n\t\treturn this.attributes.setNamedItemNS(newAttr);\n\t},\n\tremoveAttributeNode : function(oldAttr){\n\t\t//console.log(this == oldAttr.ownerElement)\n\t\treturn this.attributes.removeNamedItem(oldAttr.nodeName);\n\t},\n\t//get real attribute name,and remove it by removeAttributeNode\n\tremoveAttributeNS : function(namespaceURI, localName){\n\t\tvar old = this.getAttributeNodeNS(namespaceURI, localName);\n\t\told && this.removeAttributeNode(old);\n\t},\n\n\thasAttributeNS : function(namespaceURI, localName){\n\t\treturn this.getAttributeNodeNS(namespaceURI, localName)!=null;\n\t},\n\tgetAttributeNS : function(namespaceURI, localName){\n\t\tvar attr = this.getAttributeNodeNS(namespaceURI, localName);\n\t\treturn attr && attr.value || '';\n\t},\n\tsetAttributeNS : function(namespaceURI, qualifiedName, value){\n\t\tvar attr = this.ownerDocument.createAttributeNS(namespaceURI, qualifiedName);\n\t\tattr.value = attr.nodeValue = \"\" + value;\n\t\tthis.setAttributeNode(attr)\n\t},\n\tgetAttributeNodeNS : function(namespaceURI, localName){\n\t\treturn this.attributes.getNamedItemNS(namespaceURI, localName);\n\t},\n\n\tgetElementsByTagName : function(tagName){\n\t\treturn new LiveNodeList(this,function(base){\n\t\t\tvar ls = [];\n\t\t\t_visitNode(base,function(node){\n\t\t\t\tif(node !== base && node.nodeType == ELEMENT_NODE && (tagName === '*' || node.tagName == tagName)){\n\t\t\t\t\tls.push(node);\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn ls;\n\t\t});\n\t},\n\tgetElementsByTagNameNS : function(namespaceURI, localName){\n\t\treturn new LiveNodeList(this,function(base){\n\t\t\tvar ls = [];\n\t\t\t_visitNode(base,function(node){\n\t\t\t\tif(node !== base && node.nodeType === ELEMENT_NODE && (namespaceURI === '*' || node.namespaceURI === namespaceURI) && (localName === '*' || node.localName == localName)){\n\t\t\t\t\tls.push(node);\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn ls;\n\n\t\t});\n\t}\n};\nDocument.prototype.getElementsByTagName = Element.prototype.getElementsByTagName;\nDocument.prototype.getElementsByTagNameNS = Element.prototype.getElementsByTagNameNS;\n\n\n_extends(Element,Node);\nfunction Attr() {\n};\nAttr.prototype.nodeType = ATTRIBUTE_NODE;\n_extends(Attr,Node);\n\n\nfunction CharacterData() {\n};\nCharacterData.prototype = {\n\tdata : '',\n\tsubstringData : function(offset, count) {\n\t\treturn this.data.substring(offset, offset+count);\n\t},\n\tappendData: function(text) {\n\t\ttext = this.data+text;\n\t\tthis.nodeValue = this.data = text;\n\t\tthis.length = text.length;\n\t},\n\tinsertData: function(offset,text) {\n\t\tthis.replaceData(offset,0,text);\n\n\t},\n\tappendChild:function(newChild){\n\t\tthrow new Error(ExceptionMessage[HIERARCHY_REQUEST_ERR])\n\t},\n\tdeleteData: function(offset, count) {\n\t\tthis.replaceData(offset,count,\"\");\n\t},\n\treplaceData: function(offset, count, text) {\n\t\tvar start = this.data.substring(0,offset);\n\t\tvar end = this.data.substring(offset+count);\n\t\ttext = start + text + end;\n\t\tthis.nodeValue = this.data = text;\n\t\tthis.length = text.length;\n\t}\n}\n_extends(CharacterData,Node);\nfunction Text() {\n};\nText.prototype = {\n\tnodeName : \"#text\",\n\tnodeType : TEXT_NODE,\n\tsplitText : function(offset) {\n\t\tvar text = this.data;\n\t\tvar newText = text.substring(offset);\n\t\ttext = text.substring(0, offset);\n\t\tthis.data = this.nodeValue = text;\n\t\tthis.length = text.length;\n\t\tvar newNode = this.ownerDocument.createTextNode(newText);\n\t\tif(this.parentNode){\n\t\t\tthis.parentNode.insertBefore(newNode, this.nextSibling);\n\t\t}\n\t\treturn newNode;\n\t}\n}\n_extends(Text,CharacterData);\nfunction Comment() {\n};\nComment.prototype = {\n\tnodeName : \"#comment\",\n\tnodeType : COMMENT_NODE\n}\n_extends(Comment,CharacterData);\n\nfunction CDATASection() {\n};\nCDATASection.prototype = {\n\tnodeName : \"#cdata-section\",\n\tnodeType : CDATA_SECTION_NODE\n}\n_extends(CDATASection,CharacterData);\n\n\nfunction DocumentType() {\n};\nDocumentType.prototype.nodeType = DOCUMENT_TYPE_NODE;\n_extends(DocumentType,Node);\n\nfunction Notation() {\n};\nNotation.prototype.nodeType = NOTATION_NODE;\n_extends(Notation,Node);\n\nfunction Entity() {\n};\nEntity.prototype.nodeType = ENTITY_NODE;\n_extends(Entity,Node);\n\nfunction EntityReference() {\n};\nEntityReference.prototype.nodeType = ENTITY_REFERENCE_NODE;\n_extends(EntityReference,Node);\n\nfunction DocumentFragment() {\n};\nDocumentFragment.prototype.nodeName =\t\"#document-fragment\";\nDocumentFragment.prototype.nodeType =\tDOCUMENT_FRAGMENT_NODE;\n_extends(DocumentFragment,Node);\n\n\nfunction ProcessingInstruction() {\n}\nProcessingInstruction.prototype.nodeType = PROCESSING_INSTRUCTION_NODE;\n_extends(ProcessingInstruction,Node);\nfunction XMLSerializer(){}\nXMLSerializer.prototype.serializeToString = function(node,isHtml,nodeFilter){\n\treturn nodeSerializeToString.call(node,isHtml,nodeFilter);\n}\nNode.prototype.toString = nodeSerializeToString;\nfunction nodeSerializeToString(isHtml,nodeFilter){\n\tvar buf = [];\n\tvar refNode = this.nodeType == 9 && this.documentElement || this;\n\tvar prefix = refNode.prefix;\n\tvar uri = refNode.namespaceURI;\n\n\tif(uri && prefix == null){\n\t\t//console.log(prefix)\n\t\tvar prefix = refNode.lookupPrefix(uri);\n\t\tif(prefix == null){\n\t\t\t//isHTML = true;\n\t\t\tvar visibleNamespaces=[\n\t\t\t{namespace:uri,prefix:null}\n\t\t\t//{namespace:uri,prefix:''}\n\t\t\t]\n\t\t}\n\t}\n\tserializeToString(this,buf,isHtml,nodeFilter,visibleNamespaces);\n\t//console.log('###',this.nodeType,uri,prefix,buf.join(''))\n\treturn buf.join('');\n}\n\nfunction needNamespaceDefine(node, isHTML, visibleNamespaces) {\n\tvar prefix = node.prefix || '';\n\tvar uri = node.namespaceURI;\n\t// According to [Namespaces in XML 1.0](https://www.w3.org/TR/REC-xml-names/#ns-using) ,\n\t// and more specifically https://www.w3.org/TR/REC-xml-names/#nsc-NoPrefixUndecl :\n\t// > In a namespace declaration for a prefix [...], the attribute value MUST NOT be empty.\n\t// in a similar manner [Namespaces in XML 1.1](https://www.w3.org/TR/xml-names11/#ns-using)\n\t// and more specifically https://www.w3.org/TR/xml-names11/#nsc-NSDeclared :\n\t// > [...] Furthermore, the attribute value [...] must not be an empty string.\n\t// so serializing empty namespace value like xmlns:ds=\"\" would produce an invalid XML document.\n\tif (!uri) {\n\t\treturn false;\n\t}\n\tif (prefix === \"xml\" && uri === NAMESPACE.XML || uri === NAMESPACE.XMLNS) {\n\t\treturn false;\n\t}\n\n\tvar i = visibleNamespaces.length\n\twhile (i--) {\n\t\tvar ns = visibleNamespaces[i];\n\t\t// get namespace prefix\n\t\tif (ns.prefix === prefix) {\n\t\t\treturn ns.namespace !== uri;\n\t\t}\n\t}\n\treturn true;\n}\n/**\n * Well-formed constraint: No < in Attribute Values\n * > The replacement text of any entity referred to directly or indirectly\n * > in an attribute value must not contain a <.\n * @see https://www.w3.org/TR/xml11/#CleanAttrVals\n * @see https://www.w3.org/TR/xml11/#NT-AttValue\n *\n * Literal whitespace other than space that appear in attribute values\n * are serialized as their entity references, so they will be preserved.\n * (In contrast to whitespace literals in the input which are normalized to spaces)\n * @see https://www.w3.org/TR/xml11/#AVNormalize\n * @see https://w3c.github.io/DOM-Parsing/#serializing-an-element-s-attributes\n */\nfunction addSerializedAttribute(buf, qualifiedName, value) {\n\tbuf.push(' ', qualifiedName, '=\"', value.replace(/[<>&\"\\t\\n\\r]/g, _xmlEncoder), '\"')\n}\n\nfunction serializeToString(node,buf,isHTML,nodeFilter,visibleNamespaces){\n\tif (!visibleNamespaces) {\n\t\tvisibleNamespaces = [];\n\t}\n\n\tif(nodeFilter){\n\t\tnode = nodeFilter(node);\n\t\tif(node){\n\t\t\tif(typeof node == 'string'){\n\t\t\t\tbuf.push(node);\n\t\t\t\treturn;\n\t\t\t}\n\t\t}else{\n\t\t\treturn;\n\t\t}\n\t\t//buf.sort.apply(attrs, attributeSorter);\n\t}\n\n\tswitch(node.nodeType){\n\tcase ELEMENT_NODE:\n\t\tvar attrs = node.attributes;\n\t\tvar len = attrs.length;\n\t\tvar child = node.firstChild;\n\t\tvar nodeName = node.tagName;\n\n\t\tisHTML = NAMESPACE.isHTML(node.namespaceURI) || isHTML\n\n\t\tvar prefixedNodeName = nodeName\n\t\tif (!isHTML && !node.prefix && node.namespaceURI) {\n\t\t\tvar defaultNS\n\t\t\t// lookup current default ns from `xmlns` attribute\n\t\t\tfor (var ai = 0; ai < attrs.length; ai++) {\n\t\t\t\tif (attrs.item(ai).name === 'xmlns') {\n\t\t\t\t\tdefaultNS = attrs.item(ai).value\n\t\t\t\t\tbreak\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (!defaultNS) {\n\t\t\t\t// lookup current default ns in visibleNamespaces\n\t\t\t\tfor (var nsi = visibleNamespaces.length - 1; nsi >= 0; nsi--) {\n\t\t\t\t\tvar namespace = visibleNamespaces[nsi]\n\t\t\t\t\tif (namespace.prefix === '' && namespace.namespace === node.namespaceURI) {\n\t\t\t\t\t\tdefaultNS = namespace.namespace\n\t\t\t\t\t\tbreak\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (defaultNS !== node.namespaceURI) {\n\t\t\t\tfor (var nsi = visibleNamespaces.length - 1; nsi >= 0; nsi--) {\n\t\t\t\t\tvar namespace = visibleNamespaces[nsi]\n\t\t\t\t\tif (namespace.namespace === node.namespaceURI) {\n\t\t\t\t\t\tif (namespace.prefix) {\n\t\t\t\t\t\t\tprefixedNodeName = namespace.prefix + ':' + nodeName\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tbuf.push('<', prefixedNodeName);\n\n\t\tfor(var i=0;i<len;i++){\n\t\t\t// add namespaces for attributes\n\t\t\tvar attr = attrs.item(i);\n\t\t\tif (attr.prefix == 'xmlns') {\n\t\t\t\tvisibleNamespaces.push({ prefix: attr.localName, namespace: attr.value });\n\t\t\t}else if(attr.nodeName == 'xmlns'){\n\t\t\t\tvisibleNamespaces.push({ prefix: '', namespace: attr.value });\n\t\t\t}\n\t\t}\n\n\t\tfor(var i=0;i<len;i++){\n\t\t\tvar attr = attrs.item(i);\n\t\t\tif (needNamespaceDefine(attr,isHTML, visibleNamespaces)) {\n\t\t\t\tvar prefix = attr.prefix||'';\n\t\t\t\tvar uri = attr.namespaceURI;\n\t\t\t\taddSerializedAttribute(buf, prefix ? 'xmlns:' + prefix : \"xmlns\", uri);\n\t\t\t\tvisibleNamespaces.push({ prefix: prefix, namespace:uri });\n\t\t\t}\n\t\t\tserializeToString(attr,buf,isHTML,nodeFilter,visibleNamespaces);\n\t\t}\n\n\t\t// add namespace for current node\n\t\tif (nodeName === prefixedNodeName && needNamespaceDefine(node, isHTML, visibleNamespaces)) {\n\t\t\tvar prefix = node.prefix||'';\n\t\t\tvar uri = node.namespaceURI;\n\t\t\taddSerializedAttribute(buf, prefix ? 'xmlns:' + prefix : \"xmlns\", uri);\n\t\t\tvisibleNamespaces.push({ prefix: prefix, namespace:uri });\n\t\t}\n\n\t\tif(child || isHTML && !/^(?:meta|link|img|br|hr|input)$/i.test(nodeName)){\n\t\t\tbuf.push('>');\n\t\t\t//if is cdata child node\n\t\t\tif(isHTML && /^script$/i.test(nodeName)){\n\t\t\t\twhile(child){\n\t\t\t\t\tif(child.data){\n\t\t\t\t\t\tbuf.push(child.data);\n\t\t\t\t\t}else{\n\t\t\t\t\t\tserializeToString(child, buf, isHTML, nodeFilter, visibleNamespaces.slice());\n\t\t\t\t\t}\n\t\t\t\t\tchild = child.nextSibling;\n\t\t\t\t}\n\t\t\t}else\n\t\t\t{\n\t\t\t\twhile(child){\n\t\t\t\t\tserializeToString(child, buf, isHTML, nodeFilter, visibleNamespaces.slice());\n\t\t\t\t\tchild = child.nextSibling;\n\t\t\t\t}\n\t\t\t}\n\t\t\tbuf.push('</',prefixedNodeName,'>');\n\t\t}else{\n\t\t\tbuf.push('/>');\n\t\t}\n\t\t// remove added visible namespaces\n\t\t//visibleNamespaces.length = startVisibleNamespaces;\n\t\treturn;\n\tcase DOCUMENT_NODE:\n\tcase DOCUMENT_FRAGMENT_NODE:\n\t\tvar child = node.firstChild;\n\t\twhile(child){\n\t\t\tserializeToString(child, buf, isHTML, nodeFilter, visibleNamespaces.slice());\n\t\t\tchild = child.nextSibling;\n\t\t}\n\t\treturn;\n\tcase ATTRIBUTE_NODE:\n\t\treturn addSerializedAttribute(buf, node.name, node.value);\n\tcase TEXT_NODE:\n\t\t/**\n\t\t * The ampersand character (&) and the left angle bracket (<) must not appear in their literal form,\n\t\t * except when used as markup delimiters, or within a comment, a processing instruction, or a CDATA section.\n\t\t * If they are needed elsewhere, they must be escaped using either numeric character references or the strings\n\t\t * `&amp;` and `&lt;` respectively.\n\t\t * The right angle bracket (>) may be represented using the string \" &gt; \", and must, for compatibility,\n\t\t * be escaped using either `&gt;` or a character reference when it appears in the string `]]>` in content,\n\t\t * when that string is not marking the end of a CDATA section.\n\t\t *\n\t\t * In the content of elements, character data is any string of characters\n\t\t * which does not contain the start-delimiter of any markup\n\t\t * and does not include the CDATA-section-close delimiter, `]]>`.\n\t\t *\n\t\t * @see https://www.w3.org/TR/xml/#NT-CharData\n\t\t * @see https://w3c.github.io/DOM-Parsing/#xml-serializing-a-text-node\n\t\t */\n\t\treturn buf.push(node.data\n\t\t\t.replace(/[<&>]/g,_xmlEncoder)\n\t\t);\n\tcase CDATA_SECTION_NODE:\n\t\treturn buf.push( '<![CDATA[',node.data,']]>');\n\tcase COMMENT_NODE:\n\t\treturn buf.push( \"<!--\",node.data,\"-->\");\n\tcase DOCUMENT_TYPE_NODE:\n\t\tvar pubid = node.publicId;\n\t\tvar sysid = node.systemId;\n\t\tbuf.push('<!DOCTYPE ',node.name);\n\t\tif(pubid){\n\t\t\tbuf.push(' PUBLIC ', pubid);\n\t\t\tif (sysid && sysid!='.') {\n\t\t\t\tbuf.push(' ', sysid);\n\t\t\t}\n\t\t\tbuf.push('>');\n\t\t}else if(sysid && sysid!='.'){\n\t\t\tbuf.push(' SYSTEM ', sysid, '>');\n\t\t}else{\n\t\t\tvar sub = node.internalSubset;\n\t\t\tif(sub){\n\t\t\t\tbuf.push(\" [\",sub,\"]\");\n\t\t\t}\n\t\t\tbuf.push(\">\");\n\t\t}\n\t\treturn;\n\tcase PROCESSING_INSTRUCTION_NODE:\n\t\treturn buf.push( \"<?\",node.target,\" \",node.data,\"?>\");\n\tcase ENTITY_REFERENCE_NODE:\n\t\treturn buf.push( '&',node.nodeName,';');\n\t//case ENTITY_NODE:\n\t//case NOTATION_NODE:\n\tdefault:\n\t\tbuf.push('??',node.nodeName);\n\t}\n}\nfunction importNode(doc,node,deep){\n\tvar node2;\n\tswitch (node.nodeType) {\n\tcase ELEMENT_NODE:\n\t\tnode2 = node.cloneNode(false);\n\t\tnode2.ownerDocument = doc;\n\t\t//var attrs = node2.attributes;\n\t\t//var len = attrs.length;\n\t\t//for(var i=0;i<len;i++){\n\t\t\t//node2.setAttributeNodeNS(importNode(doc,attrs.item(i),deep));\n\t\t//}\n\tcase DOCUMENT_FRAGMENT_NODE:\n\t\tbreak;\n\tcase ATTRIBUTE_NODE:\n\t\tdeep = true;\n\t\tbreak;\n\t//case ENTITY_REFERENCE_NODE:\n\t//case PROCESSING_INSTRUCTION_NODE:\n\t////case TEXT_NODE:\n\t//case CDATA_SECTION_NODE:\n\t//case COMMENT_NODE:\n\t//\tdeep = false;\n\t//\tbreak;\n\t//case DOCUMENT_NODE:\n\t//case DOCUMENT_TYPE_NODE:\n\t//cannot be imported.\n\t//case ENTITY_NODE:\n\t//case NOTATION_NODE\n\t//can not hit in level3\n\t//default:throw e;\n\t}\n\tif(!node2){\n\t\tnode2 = node.cloneNode(false);//false\n\t}\n\tnode2.ownerDocument = doc;\n\tnode2.parentNode = null;\n\tif(deep){\n\t\tvar child = node.firstChild;\n\t\twhile(child){\n\t\t\tnode2.appendChild(importNode(doc,child,deep));\n\t\t\tchild = child.nextSibling;\n\t\t}\n\t}\n\treturn node2;\n}\n//\n//var _relationMap = {firstChild:1,lastChild:1,previousSibling:1,nextSibling:1,\n//\t\t\t\t\tattributes:1,childNodes:1,parentNode:1,documentElement:1,doctype,};\nfunction cloneNode(doc,node,deep){\n\tvar node2 = new node.constructor();\n\tfor (var n in node) {\n\t\tif (Object.prototype.hasOwnProperty.call(node, n)) {\n\t\t\tvar v = node[n];\n\t\t\tif (typeof v != \"object\") {\n\t\t\t\tif (v != node2[n]) {\n\t\t\t\t\tnode2[n] = v;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\tif(node.childNodes){\n\t\tnode2.childNodes = new NodeList();\n\t}\n\tnode2.ownerDocument = doc;\n\tswitch (node2.nodeType) {\n\tcase ELEMENT_NODE:\n\t\tvar attrs\t= node.attributes;\n\t\tvar attrs2\t= node2.attributes = new NamedNodeMap();\n\t\tvar len = attrs.length\n\t\tattrs2._ownerElement = node2;\n\t\tfor(var i=0;i<len;i++){\n\t\t\tnode2.setAttributeNode(cloneNode(doc,attrs.item(i),true));\n\t\t}\n\t\tbreak;;\n\tcase ATTRIBUTE_NODE:\n\t\tdeep = true;\n\t}\n\tif(deep){\n\t\tvar child = node.firstChild;\n\t\twhile(child){\n\t\t\tnode2.appendChild(cloneNode(doc,child,deep));\n\t\t\tchild = child.nextSibling;\n\t\t}\n\t}\n\treturn node2;\n}\n\nfunction __set__(object,key,value){\n\tobject[key] = value\n}\n//do dynamic\ntry{\n\tif(Object.defineProperty){\n\t\tObject.defineProperty(LiveNodeList.prototype,'length',{\n\t\t\tget:function(){\n\t\t\t\t_updateLiveList(this);\n\t\t\t\treturn this.$$length;\n\t\t\t}\n\t\t});\n\n\t\tObject.defineProperty(Node.prototype,'textContent',{\n\t\t\tget:function(){\n\t\t\t\treturn getTextContent(this);\n\t\t\t},\n\n\t\t\tset:function(data){\n\t\t\t\tswitch(this.nodeType){\n\t\t\t\tcase ELEMENT_NODE:\n\t\t\t\tcase DOCUMENT_FRAGMENT_NODE:\n\t\t\t\t\twhile(this.firstChild){\n\t\t\t\t\t\tthis.removeChild(this.firstChild);\n\t\t\t\t\t}\n\t\t\t\t\tif(data || String(data)){\n\t\t\t\t\t\tthis.appendChild(this.ownerDocument.createTextNode(data));\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\t\t\t\t\tthis.data = data;\n\t\t\t\t\tthis.value = data;\n\t\t\t\t\tthis.nodeValue = data;\n\t\t\t\t}\n\t\t\t}\n\t\t})\n\n\t\tfunction getTextContent(node){\n\t\t\tswitch(node.nodeType){\n\t\t\tcase ELEMENT_NODE:\n\t\t\tcase DOCUMENT_FRAGMENT_NODE:\n\t\t\t\tvar buf = [];\n\t\t\t\tnode = node.firstChild;\n\t\t\t\twhile(node){\n\t\t\t\t\tif(node.nodeType!==7 && node.nodeType !==8){\n\t\t\t\t\t\tbuf.push(getTextContent(node));\n\t\t\t\t\t}\n\t\t\t\t\tnode = node.nextSibling;\n\t\t\t\t}\n\t\t\t\treturn buf.join('');\n\t\t\tdefault:\n\t\t\t\treturn node.nodeValue;\n\t\t\t}\n\t\t}\n\n\t\t__set__ = function(object,key,value){\n\t\t\t//console.log(value)\n\t\t\tobject['$$'+key] = value\n\t\t}\n\t}\n}catch(e){//ie8\n}\n\nvar DOMhelper = require('./helper').DOMHelper;\n\n[Document, DocumentFragment, Element].forEach(function (Class) {\n\tClass.prototype.querySelector = function (selectors) {\n\t\treturn DOMhelper(this).first(String(selectors), this);\n\t};\n\n\tClass.prototype.querySelectorAll = function (selectors) {\n\t\treturn DOMhelper(this).select(String(selectors), this);\n\t};\n});\n\nElement.prototype.matches = function (selectors) {\n\treturn DOMhelper(this).match(this, selectors);\n};\n\n\n//if(typeof require == 'function'){\n\texports.DocumentType = DocumentType;\n\texports.DOMException = DOMException;\n\texports.DOMImplementation = DOMImplementation;\n\texports.Element = Element;\n\texports.Node = Node;\n\texports.NodeList = NodeList;\n\texports.XMLSerializer = XMLSerializer;\n//}\n\n},{\"./conventions\":1,\"./helper\":5}],4:[function(require,module,exports){\nvar freeze = require('./conventions').freeze;\n\n/**\n * The entities that are predefined in every XML document.\n *\n * @see https://www.w3.org/TR/2006/REC-xml11-20060816/#sec-predefined-ent W3C XML 1.1\n * @see https://www.w3.org/TR/2008/REC-xml-20081126/#sec-predefined-ent W3C XML 1.0\n * @see https://en.wikipedia.org/wiki/List_of_XML_and_HTML_character_entity_references#Predefined_entities_in_XML Wikipedia\n */\nexports.XML_ENTITIES = freeze({amp:'&', apos:\"'\", gt:'>', lt:'<', quot:'\"'})\n\n/**\n * A map of currently 241 entities that are detected in an HTML document.\n * They contain all entries from `XML_ENTITIES`.\n *\n * @see XML_ENTITIES\n * @see DOMParser.parseFromString\n * @see DOMImplementation.prototype.createHTMLDocument\n * @see https://html.spec.whatwg.org/#named-character-references WHATWG HTML(5) Spec\n * @see https://www.w3.org/TR/xml-entity-names/ W3C XML Entity Names\n * @see https://www.w3.org/TR/html4/sgml/entities.html W3C HTML4/SGML\n * @see https://en.wikipedia.org/wiki/List_of_XML_and_HTML_character_entity_references#Character_entity_references_in_HTML Wikipedia (HTML)\n * @see https://en.wikipedia.org/wiki/List_of_XML_and_HTML_character_entity_references#Entities_representing_special_characters_in_XHTML Wikpedia (XHTML)\n */\nexports.HTML_ENTITIES = freeze({\n       lt: '<',\n       gt: '>',\n       amp: '&',\n       quot: '\"',\n       apos: \"'\",\n       Agrave: \"\",\n       Aacute: \"\",\n       Acirc: \"\",\n       Atilde: \"\",\n       Auml: \"\",\n       Aring: \"\",\n       AElig: \"\",\n       Ccedil: \"\",\n       Egrave: \"\",\n       Eacute: \"\",\n       Ecirc: \"\",\n       Euml: \"\",\n       Igrave: \"\",\n       Iacute: \"\",\n       Icirc: \"\",\n       Iuml: \"\",\n       ETH: \"\",\n       Ntilde: \"\",\n       Ograve: \"\",\n       Oacute: \"\",\n       Ocirc: \"\",\n       Otilde: \"\",\n       Ouml: \"\",\n       Oslash: \"\",\n       Ugrave: \"\",\n       Uacute: \"\",\n       Ucirc: \"\",\n       Uuml: \"\",\n       Yacute: \"\",\n       THORN: \"\",\n       szlig: \"\",\n       agrave: \"\",\n       aacute: \"\",\n       acirc: \"\",\n       atilde: \"\",\n       auml: \"\",\n       aring: \"\",\n       aelig: \"\",\n       ccedil: \"\",\n       egrave: \"\",\n       eacute: \"\",\n       ecirc: \"\",\n       euml: \"\",\n       igrave: \"\",\n       iacute: \"\",\n       icirc: \"\",\n       iuml: \"\",\n       eth: \"\",\n       ntilde: \"\",\n       ograve: \"\",\n       oacute: \"\",\n       ocirc: \"\",\n       otilde: \"\",\n       ouml: \"\",\n       oslash: \"\",\n       ugrave: \"\",\n       uacute: \"\",\n       ucirc: \"\",\n       uuml: \"\",\n       yacute: \"\",\n       thorn: \"\",\n       yuml: \"\",\n       nbsp: \"\\u00a0\",\n       iexcl: \"\",\n       cent: \"\",\n       pound: \"\",\n       curren: \"\",\n       yen: \"\",\n       brvbar: \"\",\n       sect: \"\",\n       uml: \"\",\n       copy: \"\",\n       ordf: \"\",\n       laquo: \"\",\n       not: \"\",\n       shy: \"\",\n       reg: \"\",\n       macr: \"\",\n       deg: \"\",\n       plusmn: \"\",\n       sup2: \"\",\n       sup3: \"\",\n       acute: \"\",\n       micro: \"\",\n       para: \"\",\n       middot: \"\",\n       cedil: \"\",\n       sup1: \"\",\n       ordm: \"\",\n       raquo: \"\",\n       frac14: \"\",\n       frac12: \"\",\n       frac34: \"\",\n       iquest: \"\",\n       times: \"\",\n       divide: \"\",\n       forall: \"\",\n       part: \"\",\n       exist: \"\",\n       empty: \"\",\n       nabla: \"\",\n       isin: \"\",\n       notin: \"\",\n       ni: \"\",\n       prod: \"\",\n       sum: \"\",\n       minus: \"\",\n       lowast: \"\",\n       radic: \"\",\n       prop: \"\",\n       infin: \"\",\n       ang: \"\",\n       and: \"\",\n       or: \"\",\n       cap: \"\",\n       cup: \"\",\n       'int': \"\",\n       there4: \"\",\n       sim: \"\",\n       cong: \"\",\n       asymp: \"\",\n       ne: \"\",\n       equiv: \"\",\n       le: \"\",\n       ge: \"\",\n       sub: \"\",\n       sup: \"\",\n       nsub: \"\",\n       sube: \"\",\n       supe: \"\",\n       oplus: \"\",\n       otimes: \"\",\n       perp: \"\",\n       sdot: \"\",\n       Alpha: \"\",\n       Beta: \"\",\n       Gamma: \"\",\n       Delta: \"\",\n       Epsilon: \"\",\n       Zeta: \"\",\n       Eta: \"\",\n       Theta: \"\",\n       Iota: \"\",\n       Kappa: \"\",\n       Lambda: \"\",\n       Mu: \"\",\n       Nu: \"\",\n       Xi: \"\",\n       Omicron: \"\",\n       Pi: \"\",\n       Rho: \"\",\n       Sigma: \"\",\n       Tau: \"\",\n       Upsilon: \"\",\n       Phi: \"\",\n       Chi: \"\",\n       Psi: \"\",\n       Omega: \"\",\n       alpha: \"\",\n       beta: \"\",\n       gamma: \"\",\n       delta: \"\",\n       epsilon: \"\",\n       zeta: \"\",\n       eta: \"\",\n       theta: \"\",\n       iota: \"\",\n       kappa: \"\",\n       lambda: \"\",\n       mu: \"\",\n       nu: \"\",\n       xi: \"\",\n       omicron: \"\",\n       pi: \"\",\n       rho: \"\",\n       sigmaf: \"\",\n       sigma: \"\",\n       tau: \"\",\n       upsilon: \"\",\n       phi: \"\",\n       chi: \"\",\n       psi: \"\",\n       omega: \"\",\n       thetasym: \"\",\n       upsih: \"\",\n       piv: \"\",\n       OElig: \"\",\n       oelig: \"\",\n       Scaron: \"\",\n       scaron: \"\",\n       Yuml: \"\",\n       fnof: \"\",\n       circ: \"\",\n       tilde: \"\",\n       ensp: \"\",\n       emsp: \"\",\n       thinsp: \"\",\n       zwnj: \"\",\n       zwj: \"\",\n       lrm: \"\",\n       rlm: \"\",\n       ndash: \"\",\n       mdash: \"\",\n       lsquo: \"\",\n       rsquo: \"\",\n       sbquo: \"\",\n       ldquo: \"\",\n       rdquo: \"\",\n       bdquo: \"\",\n       dagger: \"\",\n       Dagger: \"\",\n       bull: \"\",\n       hellip: \"\",\n       permil: \"\",\n       prime: \"\",\n       Prime: \"\",\n       lsaquo: \"\",\n       rsaquo: \"\",\n       oline: \"\",\n       euro: \"\",\n       trade: \"\",\n       larr: \"\",\n       uarr: \"\",\n       rarr: \"\",\n       darr: \"\",\n       harr: \"\",\n       crarr: \"\",\n       lceil: \"\",\n       rceil: \"\",\n       lfloor: \"\",\n       rfloor: \"\",\n       loz: \"\",\n       spades: \"\",\n       clubs: \"\",\n       hearts: \"\",\n       diams: \"\"\n});\n\n/**\n * @deprecated use `HTML_ENTITIES` instead\n * @see HTML_ENTITIES\n */\nexports.entityMap = exports.HTML_ENTITIES\n\n},{\"./conventions\":1}],5:[function(require,module,exports){\n(function (global){(function (){\nfunction helper(g) {\n    var doc = global.document || g,\n        root = doc.documentElement || g,\n\n        isSingleMatch,\n        isSingleSelect,\n\n        lastSlice,\n        lastContext,\n        lastPosition,\n\n        lastMatcher,\n        lastSelector,\n\n        lastPartsMatch,\n        lastPartsSelect,\n\n        prefixes = '(?:[#.:]|::)?',\n        operators = '([~*^$|!]?={1})',\n        whitespace = '[\\\\x20\\\\t\\\\n\\\\r\\\\f]',\n        combinators = '\\\\x20|[>+~](?=[^>+~])',\n        pseudoparms = '(?:[-+]?\\\\d*n)?[-+]?\\\\d*',\n        skip_groups = '\\\\[.*\\\\]|\\\\(.*\\\\)|\\\\{.*\\\\}',\n\n        any_esc_chr = '\\\\\\\\.',\n        alphalodash = '[_a-zA-Z]',\n        non_asc_chr = '[^\\\\x00-\\\\x9f]',\n        escaped_chr = '\\\\\\\\[^\\\\n\\\\r\\\\f0-9a-fA-F]',\n        unicode_chr = '\\\\\\\\[0-9a-fA-F]{1,6}(?:\\\\r\\\\n|' + whitespace + ')?',\n\n        quotedvalue = '\"[^\"\\\\\\\\]*(?:\\\\\\\\.[^\"\\\\\\\\]*)*\"' + \"|'[^'\\\\\\\\]*(?:\\\\\\\\.[^'\\\\\\\\]*)*'\",\n\n        reSplitGroup = /([^,\\\\()[\\]]+|\\[[^[\\]]*\\]|\\[.*\\]|\\([^()]+\\)|\\(.*\\)|\\{[^{}]+\\}|\\{.*\\}|\\\\.)+/g,\n\n        reTrimSpaces = RegExp('[\\\\n\\\\r\\\\f]|^' + whitespace + '+|' + whitespace + '+$', 'g'),\n\n        reEscapedChars = /\\\\([0-9a-fA-F]{1,6}[\\x20\\t\\n\\r\\f]?|.)|([\\x22\\x27])/g,\n\n        standardValidator, extendedValidator, reValidator,\n\n        attrcheck, attributes, attrmatcher, pseudoclass,\n\n        reOptimizeSelector, reSimpleNot, reSplitToken,\n\n        Optimize, identifier, extensions = '.+',\n\n        Patterns = {\n            spseudos: /^\\:(root|empty|(?:first|last|only)(?:-child|-of-type)|nth(?:-last)?(?:-child|-of-type)\\(\\s?(even|odd|(?:[-+]{0,1}\\d*n\\s?)?[-+]{0,1}\\s?\\d*)\\s?\\))?(.*)/i,\n            dpseudos: /^\\:(link|visited|target|active|focus|hover|checked|disabled|enabled|selected|lang\\(([-\\w]{2,})\\)|(?:matches|not)\\(\\s?(:nth(?:-last)?(?:-child|-of-type)\\(\\s?(?:even|odd|(?:[-+]{0,1}\\d*n\\s?)?[-+]{0,1}\\s?\\d*)\\s?\\)|[^()]*)\\s?\\))?(.*)/i,\n            epseudos: /^((?:[:]{1,2}(?:after|before|first-letter|first-line))|(?:[:]{2,2}(?:selection|backdrop|placeholder)))?(.*)/i,\n            children: RegExp('^' + whitespace + '?\\\\>' + whitespace + '?(.*)'),\n            adjacent: RegExp('^' + whitespace + '?\\\\+' + whitespace + '?(.*)'),\n            relative: RegExp('^' + whitespace + '?\\\\~' + whitespace + '?(.*)'),\n            ancestor: RegExp('^' + whitespace + '+(.*)'),\n            universal: RegExp('^\\\\*(.*)')\n        },\n\n        Tokens = {\n            prefixes: prefixes,\n            identifier: identifier,\n            attributes: attributes\n        },\n\n        QUIRKS_MODE,\n        XML_DOCUMENT,\n\n        GEBTN = 'getElementsByTagName' in doc,\n        GEBCN = 'getElementsByClassName' in doc,\n\n        IE_LT_9 = typeof doc.addEventListener != 'function',\n\n        LINK_NODES = { a: 1, A: 1, area: 1, AREA: 1, link: 1, LINK: 1 },\n\n        ATTR_BOOLEAN = {\n            checked: 1, disabled: 1, ismap: 1,\n            multiple: 1, readonly: 1, selected: 1\n        },\n\n        ATTR_DEFAULT = {\n            value: 'defaultValue',\n            checked: 'defaultChecked',\n            selected: 'defaultSelected'\n        },\n\n        ATTR_URIDATA = {\n            action: 2, cite: 2, codebase: 2, data: 2, href: 2,\n            longdesc: 2, lowsrc: 2, src: 2, usemap: 2\n        },\n\n        HTML_TABLE = {\n            'accept': 1, 'accept-charset': 1, 'align': 1, 'alink': 1, 'axis': 1,\n            'bgcolor': 1, 'charset': 1, 'checked': 1, 'clear': 1, 'codetype': 1, 'color': 1,\n            'compact': 1, 'declare': 1, 'defer': 1, 'dir': 1, 'direction': 1, 'disabled': 1,\n            'enctype': 1, 'face': 1, 'frame': 1, 'hreflang': 1, 'http-equiv': 1, 'lang': 1,\n            'language': 1, 'link': 1, 'media': 1, 'method': 1, 'multiple': 1, 'nohref': 1,\n            'noresize': 1, 'noshade': 1, 'nowrap': 1, 'readonly': 1, 'rel': 1, 'rev': 1,\n            'rules': 1, 'scope': 1, 'scrolling': 1, 'selected': 1, 'shape': 1, 'target': 1,\n            'text': 1, 'type': 1, 'valign': 1, 'valuetype': 1, 'vlink': 1\n        },\n\n        NATIVE_TRAVERSAL_API =\n            'nextElementSibling' in root &&\n            'previousElementSibling' in root,\n\n        Selectors = {},\n\n        Operators = {\n            '=': \"n=='%m'\",\n            '^=': \"n.indexOf('%m')==0\",\n            '*=': \"n.indexOf('%m')>-1\",\n            '|=': \"(n+'-').indexOf('%m-')==0\",\n            '~=': \"(' '+n+' ').indexOf(' %m ')>-1\",\n            '$=': \"n.substr(n.length-'%m'.length)=='%m'\"\n        },\n\n        concatCall =\n            function (data, elements, callback) {\n                var i = -1, element;\n                while ((element = elements[++i])) {\n                    if (false === callback(data[data.length] = element)) { break; }\n                }\n                return data;\n            },\n\n        switchContext =\n            function (from, force) {\n                var oldDoc = doc;\n                lastContext = from;\n                doc = from.ownerDocument || from;\n                if (force || oldDoc !== doc) {\n                    root = doc.documentElement;\n                    XML_DOCUMENT = doc.createElement('DiV').nodeName == 'DiV';\n                    QUIRKS_MODE = !XML_DOCUMENT &&\n                        typeof doc.compatMode == 'string' ?\n                        doc.compatMode.indexOf('CSS') < 0 :\n                        (function () {\n                            var style = doc.createElement('div').style;\n                            return style && (style.width = 1) && style.width == '1px';\n                        })();\n\n                    Config.CACHING && Dom.setCache(true, doc);\n                }\n            },\n\n        codePointToUTF16 =\n            function (codePoint) {\n                if (codePoint < 1 || codePoint > 0x10ffff ||\n                    (codePoint > 0xd7ff && codePoint < 0xe000)) {\n                    return '\\\\ufffd';\n                }\n                if (codePoint < 0x10000) {\n                    var lowHex = '000' + codePoint.toString(16);\n                    return '\\\\u' + lowHex.substr(lowHex.length - 4);\n                }\n                return '\\\\u' + (((codePoint - 0x10000) >> 0x0a) + 0xd800).toString(16) +\n                    '\\\\u' + (((codePoint - 0x10000) % 0x400) + 0xdc00).toString(16);\n            },\n\n        stringFromCodePoint =\n            function (codePoint) {\n                if (codePoint < 1 || codePoint > 0x10ffff ||\n                    (codePoint > 0xd7ff && codePoint < 0xe000)) {\n                    return '\\ufffd';\n                }\n                if (codePoint < 0x10000) {\n                    return String.fromCharCode(codePoint);\n                }\n                return String.fromCodePoint ?\n                    String.fromCodePoint(codePoint) :\n                    String.fromCharCode(\n                        ((codePoint - 0x10000) >> 0x0a) + 0xd800,\n                        ((codePoint - 0x10000) % 0x400) + 0xdc00);\n            },\n\n        convertEscapes =\n            function (str) {\n                return str.replace(reEscapedChars,\n                    function (substring, p1, p2) {\n                        return p2 ? '\\\\' + p2 :\n                            (/^[0-9a-fA-F]/).test(p1) ? codePointToUTF16(parseInt(p1, 16)) :\n                                (/^[\\\\\\x22\\x27]/).test(p1) ? substring :\n                                    p1;\n                    }\n                );\n            },\n\n        unescapeIdentifier =\n            function (str) {\n                return str.replace(reEscapedChars,\n                    function (substring, p1, p2) {\n                        return p2 ? p2 :\n                            (/^[0-9a-fA-F]/).test(p1) ? stringFromCodePoint(parseInt(p1, 16)) :\n                                (/^[\\\\\\x22\\x27]/).test(p1) ? substring :\n                                    p1;\n                    }\n                );\n            },\n\n        byIdRaw =\n            function (id, elements) {\n                var i = -1, element;\n                while ((element = elements[++i])) {\n                    if (element.getAttribute('id') == id) {\n                        break;\n                    }\n                }\n                return element || null;\n            },\n\n        _byId = !IE_LT_9 ?\n            function (id, from) {\n                id = (/\\\\/).test(id) ? unescapeIdentifier(id) : id;\n                return from.getElementById && from.getElementById(id) ||\n                    byIdRaw(id, from.getElementsByTagName('*'));\n            } :\n            function (id, from) {\n                var element = null;\n                id = (/\\\\/).test(id) ? unescapeIdentifier(id) : id;\n                if (XML_DOCUMENT || from.nodeType != 9) {\n                    return byIdRaw(id, from.getElementsByTagName('*'));\n                }\n                if ((element = from.getElementById(id)) &&\n                    element.name == id && from.getElementsByName) {\n                    return byIdRaw(id, from.getElementsByName(id));\n                }\n                return element;\n            },\n\n        byId =\n            function (id, from) {\n                from || (from = doc);\n                if (lastContext !== from) { switchContext(from); }\n                return _byId(id, from);\n            },\n\n        byTagRaw =\n            function (tag, from) {\n                var any = tag == '*', element = from, elements = [], next = element.firstChild;\n                any || (tag = tag.toUpperCase());\n                while ((element = next)) {\n                    if (element.tagName > '@' && (any || element.tagName.toUpperCase() == tag)) {\n                        elements[elements.length] = element;\n                    }\n                    if ((next = element.firstChild || element.nextSibling)) continue;\n                    while (!next && (element = element.parentNode) && element !== from) {\n                        next = element.nextSibling;\n                    }\n                }\n                return elements;\n            },\n\n        contains = 'compareDocumentPosition' in root ?\n            function (container, element) {\n                return (container.compareDocumentPosition(element) & 16) == 16;\n            } : 'contains' in root ?\n                function (container, element) {\n                    return container !== element && container.contains(element);\n                } :\n                function (container, element) {\n                    while ((element = element.parentNode)) {\n                        if (element === container) return true;\n                    }\n                    return false;\n                },\n\n        getAttribute = !IE_LT_9 ?\n            function (node, attribute) {\n                return node.getAttribute(attribute);\n            } :\n            function (node, attribute) {\n                attribute = attribute.toLowerCase();\n                if (typeof node[attribute] == 'object') {\n                    return node.attributes[attribute] &&\n                        node.attributes[attribute].value;\n                }\n                return (\n                    attribute == 'type' ? node.getAttribute(attribute) :\n                        ATTR_URIDATA[attribute] ? node.getAttribute(attribute, 2) :\n                            ATTR_BOOLEAN[attribute] ? node.getAttribute(attribute) ? attribute : 'false' :\n                                (node = node.getAttributeNode(attribute)) && node.value);\n            },\n\n        hasAttribute = !IE_LT_9 && root.hasAttribute ?\n            function (node, attribute) {\n                return node.hasAttribute(attribute);\n            } :\n            function (node, attribute) {\n                var obj = node.getAttributeNode(attribute = attribute.toLowerCase());\n                return ATTR_DEFAULT[attribute] && attribute != 'value' ?\n                    node[ATTR_DEFAULT[attribute]] : obj && obj.specified;\n            },\n\n        isEmpty =\n            function (node) {\n                node = node.firstChild;\n                while (node) {\n                    if (node.nodeType == 3 || node.nodeName > '@') return false;\n                    node = node.nextSibling;\n                }\n                return true;\n            },\n\n        isLink =\n            function (element) {\n                return hasAttribute(element, 'href') && LINK_NODES[element.nodeName];\n            },\n\n        nthElement =\n            function (element, last) {\n                var count = 1, succ = last ? 'nextSibling' : 'previousSibling';\n                while ((element = element[succ])) {\n                    if (element.nodeName > '@') ++count;\n                }\n                return count;\n            },\n\n        nthOfType =\n            function (element, last) {\n                var count = 1, succ = last ? 'nextSibling' : 'previousSibling', type = element.nodeName;\n                while ((element = element[succ])) {\n                    if (element.nodeName == type) ++count;\n                }\n                return count;\n            },\n\n        configure =\n            function (option) {\n                if (typeof option == 'string') { return !!Config[option]; }\n                if (typeof option != 'object') { return Config; }\n                for (var i in option) {\n                    Config[i] = !!option[i];\n                    if (i == 'SIMPLENOT') {\n                        matchContexts = {};\n                        matchResolvers = {};\n                        selectContexts = {};\n                        selectResolvers = {};\n                    }\n                }\n                setIdentifierSyntax();\n                reValidator = RegExp(Config.SIMPLENOT ?\n                    standardValidator : extendedValidator);\n                return true;\n            },\n\n        emit =\n            function (message) {\n                if (Config.VERBOSITY) { throw Error(message); }\n                if (Config.LOGERRORS && console && console.log) {\n                    console.log(message);\n                }\n            },\n\n        Config = {\n            CACHING: false,\n            ESCAPECHR: true,\n            NON_ASCII: true,\n            SELECTOR3: true,\n            UNICODE16: true,\n            SHORTCUTS: false,\n            SIMPLENOT: true,\n            SVG_LCASE: false,\n            UNIQUE_ID: true,\n            USE_HTML5: true,\n            VERBOSITY: true,\n            LOGERRORS: true\n        },\n\n        initialize =\n            function (doc) {\n                setIdentifierSyntax();\n                switchContext(doc, true);\n            },\n\n        setIdentifierSyntax =\n            function () {\n\n                var syntax = '', start = Config['SELECTOR3'] ? '-{2}|' : '';\n\n                Config['NON_ASCII'] && (syntax += '|' + non_asc_chr);\n                Config['UNICODE16'] && (syntax += '|' + unicode_chr);\n                Config['ESCAPECHR'] && (syntax += '|' + escaped_chr);\n\n                syntax += (Config['UNICODE16'] || Config['ESCAPECHR']) ? '' : '|' + any_esc_chr;\n\n                identifier = '-?(?:' + start + alphalodash + syntax + ')(?:-|[0-9]|' + alphalodash + syntax + ')*';\n\n                attrcheck = '(' + quotedvalue + '|' + identifier + ')';\n                attributes = whitespace + '*(' + identifier + '(?::' + identifier + ')?)' +\n                    whitespace + '*(?:' + operators + whitespace + '*' + attrcheck + ')?' + whitespace + '*' + '(i)?' + whitespace + '*';\n                attrmatcher = attributes.replace(attrcheck, '([\\\\x22\\\\x27]*)((?:\\\\\\\\?.)*?)\\\\3');\n\n                pseudoclass = '((?:' +\n                    pseudoparms + '|' + quotedvalue + '|' +\n                    prefixes + identifier + '|' +\n                    '\\\\[' + attributes + '\\\\]|' +\n                    '\\\\(.+\\\\)|' + whitespace + '*|' +\n                    ',)+)';\n\n                standardValidator =\n                    '(?=[\\\\x20\\\\t\\\\n\\\\r\\\\f]*[^>+~(){}<>])' +\n                    '(' +\n                    '\\\\*' +\n                    '|(?:' + prefixes + identifier + ')' +\n                    '|' + combinators +\n                    '|\\\\[' + attributes + '\\\\]' +\n                    '|\\\\(' + pseudoclass + '\\\\)' +\n                    '|\\\\{' + extensions + '\\\\}' +\n                    '|(?:,|' + whitespace + '*)' +\n                    ')+';\n\n                reSimpleNot = RegExp('^(' +\n                    '(?!:not)' +\n                    '(' + prefixes + identifier +\n                    '|\\\\([^()]*\\\\))+' +\n                    '|\\\\[' + attributes + '\\\\]' +\n                    ')$');\n\n                reSplitToken = RegExp('(' +\n                    prefixes + identifier + '|' +\n                    '\\\\[' + attributes + '\\\\]|' +\n                    '\\\\(' + pseudoclass + '\\\\)|' +\n                    '\\\\\\\\.|[^\\\\x20\\\\t\\\\n\\\\r\\\\f>+~])+', 'g');\n\n                reOptimizeSelector = RegExp(identifier + '|^$');\n\n                Optimize = {\n                    ID: RegExp('^\\\\*?#(' + identifier + ')|' + skip_groups),\n                    TAG: RegExp('^(' + identifier + ')|' + skip_groups),\n                    CLASS: RegExp('^\\\\.(' + identifier + '$)|' + skip_groups)\n                };\n\n                Patterns.id = RegExp('^#(' + identifier + ')(.*)');\n                Patterns.tagName = RegExp('^(' + identifier + ')(.*)');\n                Patterns.className = RegExp('^\\\\.(' + identifier + ')(.*)');\n                Patterns.attribute = RegExp('^\\\\[' + attrmatcher + '\\\\](.*)');\n\n                Tokens.identifier = identifier;\n                Tokens.attributes = attributes;\n\n                extendedValidator = standardValidator.replace(pseudoclass, '.*');\n\n                reValidator = RegExp(standardValidator);\n            },\n\n        ACCEPT_NODE = 'r[r.length]=c[k];if(f&&false===f(c[k]))break main;else continue main;',\n        REJECT_NODE = IE_LT_9 ? 'if(e.nodeName<\"A\")continue;' : '',\n        TO_UPPER_CASE = IE_LT_9 ? '.toUpperCase()' : '',\n\n        compile =\n            function (selector, source, mode) {\n\n                var parts = typeof selector == 'string' ? selector.match(reSplitGroup) : selector;\n\n                typeof source == 'string' || (source = '');\n\n                if (parts.length == 1) {\n                    source += compileSelector(parts[0], mode ? ACCEPT_NODE : 'f&&f(k);return true;', mode);\n                } else {\n                    var i = -1, seen = {}, token;\n                    while ((token = parts[++i])) {\n                        token = token.replace(reTrimSpaces, '');\n                        if (!seen[token] && (seen[token] = true)) {\n                            source += compileSelector(token, mode ? ACCEPT_NODE : 'f&&f(k);return true;', mode);\n                        }\n                    }\n                }\n\n                if (mode) {\n                    return Function('c,s,d,h,g,f',\n                        'var N,n,x=0,k=-1,e,r=[];main:while((e=c[++k])){' + source + '}return r;');\n                } else {\n                    return Function('e,s,d,h,g,f',\n                        'var N,n,x=0,k=e;' + source + 'return false;');\n                }\n            },\n\n        compileSelector =\n            function (selector, source, mode) {\n\n                var a, b, n, k = 0, expr, match, result, status, test, type;\n\n                while (selector) {\n\n                    k++;\n\n                    if ((match = selector.match(Patterns.universal))) {\n                        expr = '';\n                    }\n\n                    else if ((match = selector.match(Patterns.id))) {\n                        match[1] = (/\\\\/).test(match[1]) ? convertEscapes(match[1]) : match[1];\n                        source = 'if(' + (XML_DOCUMENT ?\n                            's.getAttribute(e,\"id\")' :\n                            '(e.submit?s.getAttribute(e,\"id\"):e.id)') +\n                            '==\"' + match[1] + '\"' +\n                            '){' + source + '}';\n                    }\n\n                    else if ((match = selector.match(Patterns.tagName))) {\n                        test = Config.SVG_LCASE ? '||e.nodeName==\"' + match[1].toLowerCase() + '\"' : '';\n                        source = 'if(e.nodeName' + (XML_DOCUMENT ?\n                            '==\"' + match[1] + '\"' : TO_UPPER_CASE +\n                            '==\"' + match[1].toUpperCase() + '\"' + test) +\n                            '){' + source + '}';\n                    }\n\n                    else if ((match = selector.match(Patterns.className))) {\n                        match[1] = (/\\\\/).test(match[1]) ? convertEscapes(match[1]) : match[1];\n                        match[1] = QUIRKS_MODE ? match[1].toLowerCase() : match[1];\n                        source = 'if((n=' + (XML_DOCUMENT ?\n                            'e.getAttribute(\"class\")' : 'e.className') +\n                            ')&&n.length&&(\" \"+' + (QUIRKS_MODE ? 'n.toLowerCase()' : 'n') +\n                            '.replace(/' + whitespace + '+/g,\" \")+\" \").indexOf(\" ' + match[1] + ' \")>-1' +\n                            '){' + source + '}';\n                    }\n\n                    else if ((match = selector.match(Patterns.attribute))) {\n                        expr = match[1].split(':');\n                        expr = expr.length == 2 ? expr[1] : expr[0] + '';\n\n                        if (match[2] && !Operators[match[2]]) {\n                            emit('Unsupported operator in attribute selectors \"' + selector + '\"');\n                            return '';\n                        }\n                        test = 'false';\n                        if (match[2] && match[4] && (test = Operators[match[2]])) {\n                            match[4] = (/\\\\/).test(match[4]) ? convertEscapes(match[4]) : match[4];\n                            type = match[5] == 'i' || HTML_TABLE[expr.toLowerCase()];\n                            test = test.replace(/\\%m/g, type ? match[4].toLowerCase() : match[4]);\n                        } else if (match[2] == '!=' || match[2] == '=') {\n                            test = 'n' + match[2] + '=\"\"';\n                        }\n                        source = 'if(n=s.hasAttribute(e,\"' + match[1] + '\")){' +\n                            (match[2] ? 'n=s.getAttribute(e,\"' + match[1] + '\")' : '') +\n                            (type && match[2] ? '.toLowerCase();' : ';') +\n                            'if(' + (match[2] ? test : 'n') + '){' + source + '}}';\n                    }\n\n                    else if ((match = selector.match(Patterns.adjacent))) {\n                        source = NATIVE_TRAVERSAL_API ?\n                            'var N' + k + '=e;if((e=e.previousElementSibling)){' + source + '}e=N' + k + ';' :\n                            'var N' + k + '=e;while((e=e.previousSibling)){if(e.nodeType==1){' + source + 'break;}}e=N' + k + ';';\n                    }\n\n                    else if ((match = selector.match(Patterns.relative))) {\n                        source = NATIVE_TRAVERSAL_API ?\n                            'var N' + k + '=e;while((e=e.previousElementSibling)){' + source + '}e=N' + k + ';' :\n                            'var N' + k + '=e;while((e=e.previousSibling)){if(e.nodeType==1){' + source + '}}e=N' + k + ';';\n                    }\n\n                    else if ((match = selector.match(Patterns.children))) {\n                        source = 'var N' + k + '=e;if((e=e.parentNode)&&e.nodeType==1){' + source + '}e=N' + k + ';';\n                    }\n\n                    else if ((match = selector.match(Patterns.ancestor))) {\n                        source = 'var N' + k + '=e;while((e=e.parentNode)&&e.nodeType==1){' + source + '}e=N' + k + ';';\n                    }\n\n                    else if ((match = selector.match(Patterns.spseudos)) && match[1]) {\n                        switch (match[1]) {\n                            case 'root':\n                                if (match[3]) {\n                                    source = 'if(e===h||s.contains(h,e)){' + source + '}';\n                                } else {\n                                    source = 'if(e===h){' + source + '}';\n                                }\n                                break;\n                            case 'empty':\n                                source = 'if(s.isEmpty(e)){' + source + '}';\n                                break;\n                            default:\n                                if (match[1] && match[2]) {\n                                    if (match[2] == 'n') {\n                                        source = 'if(e!==h){' + source + '}';\n                                        break;\n                                    } else if (match[2] == 'even') {\n                                        a = 2;\n                                        b = 0;\n                                    } else if (match[2] == 'odd') {\n                                        a = 2;\n                                        b = 1;\n                                    } else {\n                                        b = ((n = match[2].match(/(-?\\d+)$/)) ? parseInt(n[1], 10) : 0);\n                                        a = ((n = match[2].match(/(-?\\d*)n/i)) ? parseInt(n[1], 10) : 0);\n                                        if (n && n[1] == '-') a = -1;\n                                    }\n                                    test = a > 1 ?\n                                        (/last/i.test(match[1])) ? '(n-(' + b + '))%' + a + '==0' :\n                                            'n>=' + b + '&&(n-(' + b + '))%' + a + '==0' : a < -1 ?\n                                            (/last/i.test(match[1])) ? '(n-(' + b + '))%' + a + '==0' :\n                                                'n<=' + b + '&&(n-(' + b + '))%' + a + '==0' : a === 0 ?\n                                                'n==' + b : a == -1 ? 'n<=' + b : 'n>=' + b;\n                                    source =\n                                        'if(e!==h){' +\n                                        'n=s[' + (/-of-type/i.test(match[1]) ? '\"nthOfType\"' : '\"nthElement\"') + ']' +\n                                        '(e,' + (/last/i.test(match[1]) ? 'true' : 'false') + ');' +\n                                        'if(' + test + '){' + source + '}' +\n                                        '}';\n                                } else {\n                                    a = /first/i.test(match[1]) ? 'previous' : 'next';\n                                    n = /only/i.test(match[1]) ? 'previous' : 'next';\n                                    b = /first|last/i.test(match[1]);\n                                    type = /-of-type/i.test(match[1]) ? '&&n.nodeName!=e.nodeName' : '&&n.nodeName<\"@\"';\n                                    source = 'if(e!==h){' +\n                                        ('n=e;while((n=n.' + a + 'Sibling)' + type + ');if(!n){' + (b ? source :\n                                            'n=e;while((n=n.' + n + 'Sibling)' + type + ');if(!n){' + source + '}') + '}') + '}';\n                                }\n                                break;\n                        }\n                    }\n\n                    else if ((match = selector.match(Patterns.dpseudos)) && match[1]) {\n                        switch (match[1].match(/^\\w+/)[0]) {\n                            case 'matches':\n                                expr = match[3].replace(reTrimSpaces, '');\n                                source = 'if(s.match(e, \"' + expr.replace(/\\x22/g, '\\\\\"') + '\",g)){' + source + '}';\n                                break;\n\n                            case 'not':\n                                expr = match[3].replace(reTrimSpaces, '');\n                                if (Config.SIMPLENOT && !reSimpleNot.test(expr)) {\n                                    emit('Negation pseudo-class only accepts simple selectors \"' + selector + '\"');\n                                    return '';\n                                } else {\n                                    if ('compatMode' in doc) {\n                                        source = 'if(!' + compile(expr, '', false) + '(e,s,d,h,g)){' + source + '}';\n                                    } else {\n                                        source = 'if(!s.match(e, \"' + expr.replace(/\\x22/g, '\\\\\"') + '\",g)){' + source + '}';\n                                    }\n                                }\n                                break;\n                            case 'checked':\n                                source = 'if((typeof e.form!==\"undefined\"&&(/^(?:radio|checkbox)$/i).test(e.type)&&e.checked)' +\n                                    (Config.USE_HTML5 ? '||(/^option$/i.test(e.nodeName)&&(e.selected||e.checked))' : '') +\n                                    '){' + source + '}';\n                                break;\n                            case 'disabled':\n                                source = 'if(((typeof e.form!==\"undefined\"' +\n                                    (Config.USE_HTML5 ? '' : '&&!(/^hidden$/i).test(e.type)') +\n                                    ')||s.isLink(e))&&e.disabled===true){' + source + '}';\n                                break;\n                            case 'enabled':\n                                source = 'if(((typeof e.form!==\"undefined\"' +\n                                    (Config.USE_HTML5 ? '' : '&&!(/^hidden$/i).test(e.type)') +\n                                    ')||s.isLink(e))&&e.disabled===false){' + source + '}';\n                                break;\n                            case 'lang':\n                                test = '';\n                                if (match[2]) test = match[2].substr(0, 2) + '-';\n                                source = 'do{(n=e.lang||\"\").toLowerCase();' +\n                                    'if((n==\"\"&&h.lang==\"' + match[2].toLowerCase() + '\")||' +\n                                    '(n&&(n==\"' + match[2].toLowerCase() +\n                                    '\"||n.substr(0,3)==\"' + test.toLowerCase() + '\")))' +\n                                    '{' + source + 'break;}}while((e=e.parentNode)&&e!==g);';\n                                break;\n                            case 'target':\n                                source = 'if(e.id==d.location.hash.slice(1)){' + source + '}';\n                                break;\n                            case 'link':\n                                source = 'if(s.isLink(e)&&!e.visited){' + source + '}';\n                                break;\n                            case 'visited':\n                                source = 'if(s.isLink(e)&&e.visited){' + source + '}';\n                                break;\n                            case 'active':\n                                source = 'if(e===d.activeElement){' + source + '}';\n                                break;\n                            case 'hover':\n                                source = 'if(e===d.hoverElement){' + source + '}';\n                                break;\n                            case 'focus':\n                                source = 'hasFocus' in doc ?\n                                    'if(e===d.activeElement&&d.hasFocus()&&(e.type||e.href||typeof e.tabIndex==\"number\")){' + source + '}' :\n                                    'if(e===d.activeElement&&(e.type||e.href)){' + source + '}';\n                                break;\n                            case 'selected':\n                                source = 'if(/^option$/i.test(e.nodeName)&&(e.selected||e.checked)){' + source + '}';\n                                break;\n                            default:\n                                break;\n                        }\n                    }\n\n                    else if ((match = selector.match(Patterns.epseudos)) && match[1]) {\n                        source = 'if(!(/1|11/).test(e.nodeType)){' + source + '}';\n                    }\n\n                    else {\n\n                        expr = false;\n                        status = false;\n                        for (expr in Selectors) {\n                            if ((match = selector.match(Selectors[expr].Expression)) && match[1]) {\n                                result = Selectors[expr].Callback(match, source);\n                                if ('match' in result) { match = result.match; }\n                                source = result.source;\n                                status = result.status;\n                                if (status) { break; }\n                            }\n                        }\n\n                        if (!status) {\n                            emit('Unknown pseudo-class selector \"' + selector + '\"');\n                            return '';\n                        }\n\n                        if (!expr) {\n                            emit('Unknown token in selector \"' + selector + '\"');\n                            return '';\n                        }\n\n                    }\n\n                    if (!match) {\n                        emit('Invalid syntax in selector \"' + selector + '\"');\n                        return '';\n                    }\n\n                    selector = match && match[match.length - 1];\n                }\n\n                return source;\n            },\n\n        match =\n            function (element, selector, from, callback) {\n\n                var parts;\n\n                if (!(element && element.nodeType == 1)) {\n                    emit('Invalid element argument');\n                    return false;\n                } else if (typeof selector != 'string') {\n                    emit('Invalid selector argument');\n                    return false;\n                } else if (lastContext !== from) {\n                    switchContext(from || (from = element.ownerDocument));\n                }\n\n                selector = selector.\n                    replace(reTrimSpaces, '').\n                    replace(/\\x00|\\\\$/g, '\\ufffd');\n\n                Config.SHORTCUTS && (selector = Dom.shortcuts(selector, element, from));\n\n                if (lastMatcher != selector) {\n                    if ((parts = selector.match(reValidator)) && parts[0] == selector) {\n                        isSingleMatch = (parts = selector.match(reSplitGroup)).length < 2;\n                        lastMatcher = selector;\n                        lastPartsMatch = parts;\n                    } else {\n                        emit('The string \"' + selector + '\", is not a valid CSS selector');\n                        return false;\n                    }\n                } else parts = lastPartsMatch;\n\n                if (!matchResolvers[selector] || matchContexts[selector] !== from) {\n                    matchResolvers[selector] = compile(isSingleMatch ? [selector] : parts, '', false);\n                    matchContexts[selector] = from;\n                }\n\n                return matchResolvers[selector](element, Snapshot, doc, root, from, callback);\n            },\n\n        first =\n            function (selector, from) {\n                return select(selector, from, function () { return false; })[0] || null;\n            },\n\n        select =\n            function (selector, from, callback) {\n\n                var i, changed, element, elements, parts, token, original = selector;\n\n                if (arguments.length === 0) {\n                    emit('Not enough arguments');\n                    return [];\n                } else if (typeof selector != 'string') {\n                    return [];\n                } else if (from && !(/1|9|11/).test(from.nodeType)) {\n                    emit('Invalid or illegal context element');\n                    return [];\n                } else if (lastContext !== from) {\n                    switchContext(from || (from = doc));\n                }\n\n                if (Config.CACHING && (elements = Dom.loadResults(original, from, doc, root))) {\n                    return callback ? concatCall([], elements, callback) : elements;\n                }\n\n                selector = selector.\n                    replace(reTrimSpaces, '').\n                    replace(/\\x00|\\\\$/g, '\\ufffd');\n\n                Config.SHORTCUTS && (selector = Dom.shortcuts(selector, from));\n\n                if ((changed = lastSelector != selector)) {\n                    if ((parts = selector.match(reValidator)) && parts[0] == selector) {\n                        isSingleSelect = (parts = selector.match(reSplitGroup)).length < 2;\n                        lastSelector = selector;\n                        lastPartsSelect = parts;\n                    } else {\n                        emit('The string \"' + selector + '\", is not a valid CSS selector');\n                        return [];\n                    }\n                } else parts = lastPartsSelect;\n\n                if (from.nodeType == 11) {\n\n                    elements = byTagRaw('*', from);\n\n                } else if (isSingleSelect) {\n\n                    if (changed) {\n                        parts = selector.match(reSplitToken);\n                        token = parts[parts.length - 1];\n                        lastSlice = token.split(':not');\n                        lastSlice = lastSlice[lastSlice.length - 1];\n                        lastPosition = selector.length - token.length;\n                    }\n\n                    if (Config.UNIQUE_ID && lastSlice && (parts = lastSlice.match(Optimize.ID)) && (token = parts[1])) {\n                        if ((element = _byId(token, from))) {\n                            if (match(element, selector)) {\n                                callback && callback(element);\n                                elements = [element];\n                            } else elements = [];\n                        }\n                    }\n\n                    else if (Config.UNIQUE_ID && (parts = selector.match(Optimize.ID)) && (token = parts[1])) {\n                        if ((element = _byId(token, doc))) {\n                            if ('#' + token == selector) {\n                                callback && callback(element);\n                                elements = [element];\n                            } else if (/[>+~]/.test(selector)) {\n                                from = element.parentNode;\n                            } else {\n                                from = element;\n                            }\n                        } else elements = [];\n                    }\n\n                    if (elements) {\n                        Config.CACHING && Dom.saveResults(original, from, doc, elements);\n                        return elements;\n                    }\n\n                    if (!XML_DOCUMENT && GEBTN && lastSlice && (parts = lastSlice.match(Optimize.TAG)) && (token = parts[1])) {\n                        if ((elements = from.getElementsByTagName(token)).length === 0) { return []; }\n                        selector = selector.slice(0, lastPosition) + selector.slice(lastPosition).replace(token, '*');\n                    }\n\n                    else if (!XML_DOCUMENT && GEBCN && lastSlice && (parts = lastSlice.match(Optimize.CLASS)) && (token = parts[1])) {\n                        if ((elements = from.getElementsByClassName(unescapeIdentifier(token))).length === 0) { return []; }\n                        selector = selector.slice(0, lastPosition) + selector.slice(lastPosition).replace('.' + token,\n                            reOptimizeSelector.test(selector.charAt(selector.indexOf(token) - 1)) ? '' : '*');\n                    }\n\n                }\n\n                if (!elements) {\n                    if (IE_LT_9) {\n                        elements = /^(?:applet|object)$/i.test(from.nodeName) ? from.children : byTagRaw('*', from);\n                    } else {\n                        elements = from.getElementsByTagName('*');\n                    }\n                }\n\n                if (!selectResolvers[selector] || selectContexts[selector] !== from) {\n                    selectResolvers[selector] = compile(isSingleSelect ? [selector] : parts, REJECT_NODE, true);\n                    selectContexts[selector] = from;\n                }\n\n                elements = selectResolvers[selector](elements, Snapshot, doc, root, from, callback);\n\n                Config.CACHING && Dom.saveResults(original, from, doc, elements);\n\n                return elements;\n            },\n\n        FN = function (x) { return x; },\n\n        matchContexts = {},\n        matchResolvers = {},\n\n        selectContexts = {},\n        selectResolvers = {},\n\n        Snapshot = {\n            byId: _byId,\n            match: match,\n            select: select,\n            isLink: isLink,\n            isEmpty: isEmpty,\n            contains: contains,\n            nthOfType: nthOfType,\n            nthElement: nthElement,\n            getAttribute: getAttribute,\n            hasAttribute: hasAttribute\n        },\n\n        Dom = {\n\n            ACCEPT_NODE: ACCEPT_NODE,\n\n            byId: byId,\n            match: match,\n            first: first,\n            select: select,\n            compile: compile,\n            contains: contains,\n            configure: configure,\n            getAttribute: getAttribute,\n            hasAttribute: hasAttribute,\n\n            setCache: FN,\n            shortcuts: FN,\n            loadResults: FN,\n            saveResults: FN,\n\n            emit: emit,\n            Config: Config,\n            Snapshot: Snapshot,\n\n            Operators: Operators,\n            Selectors: Selectors,\n\n            Tokens: Tokens,\n\n            registerOperator:\n                function (symbol, resolver) {\n                    Operators[symbol] || (Operators[symbol] = resolver);\n                },\n\n            registerSelector:\n                function (name, rexp, func) {\n                    Selectors[name] || (Selectors[name] = {\n                        Expression: rexp,\n                        Callback: func\n                    });\n                }\n\n        };\n\n    initialize(doc);\n\n    return Dom\n}\n\nexports.DOMHelper = helper\n\n}).call(this)}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{}],6:[function(require,module,exports){\nvar dom = require('./dom')\nexports.DOMImplementation = dom.DOMImplementation\nexports.XMLSerializer = dom.XMLSerializer\nexports.DOMParser = require('./dom-parser').DOMParser\n\n},{\"./dom\":3,\"./dom-parser\":2}],7:[function(require,module,exports){\nvar NAMESPACE = require(\"./conventions\").NAMESPACE;\n\n//[4]   \tNameStartChar\t   ::=   \t\":\" | [A-Z] | \"_\" | [a-z] | [#xC0-#xD6] | [#xD8-#xF6] | [#xF8-#x2FF] | [#x370-#x37D] | [#x37F-#x1FFF] | [#x200C-#x200D] | [#x2070-#x218F] | [#x2C00-#x2FEF] | [#x3001-#xD7FF] | [#xF900-#xFDCF] | [#xFDF0-#xFFFD] | [#x10000-#xEFFFF]\n//[4a]   \tNameChar\t   ::=   \tNameStartChar | \"-\" | \".\" | [0-9] | #xB7 | [#x0300-#x036F] | [#x203F-#x2040]\n//[5]   \tName\t   ::=   \tNameStartChar (NameChar)*\nvar nameStartChar = /[A-Z_a-z\\xC0-\\xD6\\xD8-\\xF6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD]///\\u10000-\\uEFFFF\nvar nameChar = new RegExp(\"[\\\\-\\\\.0-9\"+nameStartChar.source.slice(1,-1)+\"\\\\u00B7\\\\u0300-\\\\u036F\\\\u203F-\\\\u2040]\");\nvar tagNamePattern = new RegExp('^'+nameStartChar.source+nameChar.source+'*(?:\\:'+nameStartChar.source+nameChar.source+'*)?$');\n//var tagNamePattern = /^[a-zA-Z_][\\w\\-\\.]*(?:\\:[a-zA-Z_][\\w\\-\\.]*)?$/\n//var handlers = 'resolveEntity,getExternalSubset,characters,endDocument,endElement,endPrefixMapping,ignorableWhitespace,processingInstruction,setDocumentLocator,skippedEntity,startDocument,startElement,startPrefixMapping,notationDecl,unparsedEntityDecl,error,fatalError,warning,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,comment,endCDATA,endDTD,endEntity,startCDATA,startDTD,startEntity'.split(',')\n\n//S_TAG,\tS_ATTR,\tS_EQ,\tS_ATTR_NOQUOT_VALUE\n//S_ATTR_SPACE,\tS_ATTR_END,\tS_TAG_SPACE, S_TAG_CLOSE\nvar S_TAG = 0;//tag name offerring\nvar S_ATTR = 1;//attr name offerring\nvar S_ATTR_SPACE=2;//attr name end and space offer\nvar S_EQ = 3;//=space?\nvar S_ATTR_NOQUOT_VALUE = 4;//attr value(no quot value only)\nvar S_ATTR_END = 5;//attr value end and no space(quot end)\nvar S_TAG_SPACE = 6;//(attr value end || tag end ) && (space offer)\nvar S_TAG_CLOSE = 7;//closed el<el />\n\n/**\n * Creates an error that will not be caught by XMLReader aka the SAX parser.\n *\n * @param {string} message\n * @param {any?} locator Optional, can provide details about the location in the source\n * @constructor\n */\nfunction ParseError(message, locator) {\n\tthis.message = message\n\tthis.locator = locator\n\tif(Error.captureStackTrace) Error.captureStackTrace(this, ParseError);\n}\nParseError.prototype = new Error();\nParseError.prototype.name = ParseError.name\n\nfunction XMLReader(){\n\n}\n\nXMLReader.prototype = {\n\tparse:function(source,defaultNSMap,entityMap){\n\t\tvar domBuilder = this.domBuilder;\n\t\tdomBuilder.startDocument();\n\t\t_copy(defaultNSMap ,defaultNSMap = {})\n\t\tparse(source,defaultNSMap,entityMap,\n\t\t\t\tdomBuilder,this.errorHandler);\n\t\tdomBuilder.endDocument();\n\t}\n}\nfunction parse(source,defaultNSMapCopy,entityMap,domBuilder,errorHandler){\n\tfunction fixedFromCharCode(code) {\n\t\t// String.prototype.fromCharCode does not supports\n\t\t// > 2 bytes unicode chars directly\n\t\tif (code > 0xffff) {\n\t\t\tcode -= 0x10000;\n\t\t\tvar surrogate1 = 0xd800 + (code >> 10)\n\t\t\t\t, surrogate2 = 0xdc00 + (code & 0x3ff);\n\n\t\t\treturn String.fromCharCode(surrogate1, surrogate2);\n\t\t} else {\n\t\t\treturn String.fromCharCode(code);\n\t\t}\n\t}\n\tfunction entityReplacer(a){\n\t\tvar k = a.slice(1,-1);\n\t\tif (Object.hasOwnProperty.call(entityMap, k)) {\n\t\t\treturn entityMap[k];\n\t\t}else if(k.charAt(0) === '#'){\n\t\t\treturn fixedFromCharCode(parseInt(k.substr(1).replace('x','0x')))\n\t\t}else{\n\t\t\terrorHandler.error('entity not found:'+a);\n\t\t\treturn a;\n\t\t}\n\t}\n\tfunction appendText(end){//has some bugs\n\t\tif(end>start){\n\t\t\tvar xt = source.substring(start,end).replace(/&#?\\w+;/g,entityReplacer);\n\t\t\tlocator&&position(start);\n\t\t\tdomBuilder.characters(xt,0,end-start);\n\t\t\tstart = end\n\t\t}\n\t}\n\tfunction position(p,m){\n\t\twhile(p>=lineEnd && (m = linePattern.exec(source))){\n\t\t\tlineStart = m.index;\n\t\t\tlineEnd = lineStart + m[0].length;\n\t\t\tlocator.lineNumber++;\n\t\t\t//console.log('line++:',locator,startPos,endPos)\n\t\t}\n\t\tlocator.columnNumber = p-lineStart+1;\n\t}\n\tvar lineStart = 0;\n\tvar lineEnd = 0;\n\tvar linePattern = /.*(?:\\r\\n?|\\n)|.*$/g\n\tvar locator = domBuilder.locator;\n\n\tvar parseStack = [{currentNSMap:defaultNSMapCopy}]\n\tvar closeMap = {};\n\tvar start = 0;\n\twhile(true){\n\t\ttry{\n\t\t\tvar tagStart = source.indexOf('<',start);\n\t\t\tif(tagStart<0){\n\t\t\t\tif(!source.substr(start).match(/^\\s*$/)){\n\t\t\t\t\tvar doc = domBuilder.doc;\n\t    \t\t\tvar text = doc.createTextNode(source.substr(start));\n\t    \t\t\tdoc.appendChild(text);\n\t    \t\t\tdomBuilder.currentElement = text;\n\t\t\t\t}\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif(tagStart>start){\n\t\t\t\tappendText(tagStart);\n\t\t\t}\n\t\t\tswitch(source.charAt(tagStart+1)){\n\t\t\tcase '/':\n\t\t\t\tvar end = source.indexOf('>',tagStart+3);\n\t\t\t\tvar tagName = source.substring(tagStart + 2, end).replace(/[ \\t\\n\\r]+$/g, '');\n\t\t\t\tvar config = parseStack.pop();\n\t\t\t\tif(end<0){\n\n\t        \t\ttagName = source.substring(tagStart+2).replace(/[\\s<].*/,'');\n\t        \t\terrorHandler.error(\"end tag name: \"+tagName+' is not complete:'+config.tagName);\n\t        \t\tend = tagStart+1+tagName.length;\n\t        \t}else if(tagName.match(/\\s</)){\n\t        \t\ttagName = tagName.replace(/[\\s<].*/,'');\n\t        \t\terrorHandler.error(\"end tag name: \"+tagName+' maybe not complete');\n\t        \t\tend = tagStart+1+tagName.length;\n\t\t\t\t}\n\t\t\t\tvar localNSMap = config.localNSMap;\n\t\t\t\tvar endMatch = config.tagName == tagName;\n\t\t\t\tvar endIgnoreCaseMach = endMatch || config.tagName&&config.tagName.toLowerCase() == tagName.toLowerCase()\n\t\t        if(endIgnoreCaseMach){\n\t\t        \tdomBuilder.endElement(config.uri,config.localName,tagName);\n\t\t\t\t\tif(localNSMap){\n\t\t\t\t\t\tfor (var prefix in localNSMap) {\n\t\t\t\t\t\t\tif (Object.prototype.hasOwnProperty.call(localNSMap, prefix)) {\n\t\t\t\t\t\t\t\tdomBuilder.endPrefixMapping(prefix);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif(!endMatch){\n\t\t            \terrorHandler.fatalError(\"end tag name: \"+tagName+' is not match the current start tagName:'+config.tagName ); // No known test case\n\t\t\t\t\t}\n\t\t        }else{\n\t\t        \tparseStack.push(config)\n\t\t        }\n\n\t\t\t\tend++;\n\t\t\t\tbreak;\n\t\t\t\t// end elment\n\t\t\tcase '?':// <?...?>\n\t\t\t\tlocator&&position(tagStart);\n\t\t\t\tend = parseInstruction(source,tagStart,domBuilder);\n\t\t\t\tbreak;\n\t\t\tcase '!':// <!doctype,<![CDATA,<!--\n\t\t\t\tlocator&&position(tagStart);\n\t\t\t\tend = parseDCC(source,tagStart,domBuilder,errorHandler);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tlocator&&position(tagStart);\n\t\t\t\tvar el = new ElementAttributes();\n\t\t\t\tvar currentNSMap = parseStack[parseStack.length-1].currentNSMap;\n\t\t\t\t//elStartEnd\n\t\t\t\tvar end = parseElementStartPart(source,tagStart,el,currentNSMap,entityReplacer,errorHandler);\n\t\t\t\tvar len = el.length;\n\n\n\t\t\t\tif(!el.closed && fixSelfClosed(source,end,el.tagName,closeMap)){\n\t\t\t\t\tel.closed = true;\n\t\t\t\t\tif(!entityMap.nbsp){\n\t\t\t\t\t\terrorHandler.warning('unclosed xml attribute');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif(locator && len){\n\t\t\t\t\tvar locator2 = copyLocator(locator,{});\n\t\t\t\t\t//try{//attribute position fixed\n\t\t\t\t\tfor(var i = 0;i<len;i++){\n\t\t\t\t\t\tvar a = el[i];\n\t\t\t\t\t\tposition(a.offset);\n\t\t\t\t\t\ta.locator = copyLocator(locator,{});\n\t\t\t\t\t}\n\t\t\t\t\tdomBuilder.locator = locator2\n\t\t\t\t\tif(appendElement(el,domBuilder,currentNSMap)){\n\t\t\t\t\t\tparseStack.push(el)\n\t\t\t\t\t}\n\t\t\t\t\tdomBuilder.locator = locator;\n\t\t\t\t}else{\n\t\t\t\t\tif(appendElement(el,domBuilder,currentNSMap)){\n\t\t\t\t\t\tparseStack.push(el)\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (NAMESPACE.isHTML(el.uri) && !el.closed) {\n\t\t\t\t\tend = parseHtmlSpecialContent(source,end,el.tagName,entityReplacer,domBuilder)\n\t\t\t\t} else {\n\t\t\t\t\tend++;\n\t\t\t\t}\n\t\t\t}\n\t\t}catch(e){\n\t\t\tif (e instanceof ParseError) {\n\t\t\t\tthrow e;\n\t\t\t}\n\t\t\terrorHandler.error('element parse error: '+e)\n\t\t\tend = -1;\n\t\t}\n\t\tif(end>start){\n\t\t\tstart = end;\n\t\t}else{\n\t\t\t//TODO: sax\n\t\t\tappendText(Math.max(tagStart,start)+1);\n\t\t}\n\t}\n}\nfunction copyLocator(f,t){\n\tt.lineNumber = f.lineNumber;\n\tt.columnNumber = f.columnNumber;\n\treturn t;\n}\n\n/**\n * @see #appendElement(source,elStartEnd,el,selfClosed,entityReplacer,domBuilder,parseStack);\n * @return end of the elementStartPart(end of elementEndPart for selfClosed el)\n */\nfunction parseElementStartPart(source,start,el,currentNSMap,entityReplacer,errorHandler){\n\n\t/**\n\t * @param {string} qname\n\t * @param {string} value\n\t * @param {number} startIndex\n\t */\n\tfunction addAttribute(qname, value, startIndex) {\n\t\tif (el.attributeNames.hasOwnProperty(qname)) {\n\t\t\terrorHandler.fatalError('Attribute ' + qname + ' redefined')\n\t\t}\n\t\tel.addValue(\n\t\t\tqname,\n\t\t\t// @see https://www.w3.org/TR/xml/#AVNormalize\n\t\t\t// since the xmldom sax parser does not \"interpret\" DTD the following is not implemented:\n\t\t\t// - recursive replacement of (DTD) entity references\n\t\t\t// - trimming and collapsing multiple spaces into a single one for attributes that are not of type CDATA\n\t\t\tvalue.replace(/[\\t\\n\\r]/g, ' ').replace(/&#?\\w+;/g, entityReplacer),\n\t\t\tstartIndex\n\t\t)\n\t}\n\tvar attrName;\n\tvar value;\n\tvar p = ++start;\n\tvar s = S_TAG;//status\n\twhile(true){\n\t\tvar c = source.charAt(p);\n\t\tswitch(c){\n\t\tcase '=':\n\t\t\tif(s === S_ATTR){//attrName\n\t\t\t\tattrName = source.slice(start,p);\n\t\t\t\ts = S_EQ;\n\t\t\t}else if(s === S_ATTR_SPACE){\n\t\t\t\ts = S_EQ;\n\t\t\t}else{\n\t\t\t\t//fatalError: equal must after attrName or space after attrName\n\t\t\t\tthrow new Error('attribute equal must after attrName'); // No known test case\n\t\t\t}\n\t\t\tbreak;\n\t\tcase '\\'':\n\t\tcase '\"':\n\t\t\tif(s === S_EQ || s === S_ATTR //|| s == S_ATTR_SPACE\n\t\t\t\t){//equal\n\t\t\t\tif(s === S_ATTR){\n\t\t\t\t\terrorHandler.warning('attribute value must after \"=\"')\n\t\t\t\t\tattrName = source.slice(start,p)\n\t\t\t\t}\n\t\t\t\tstart = p+1;\n\t\t\t\tp = source.indexOf(c,start)\n\t\t\t\tif(p>0){\n\t\t\t\t\tvalue = source.slice(start, p);\n\t\t\t\t\taddAttribute(attrName, value, start-1);\n\t\t\t\t\ts = S_ATTR_END;\n\t\t\t\t}else{\n\t\t\t\t\t//fatalError: no end quot match\n\t\t\t\t\tthrow new Error('attribute value no end \\''+c+'\\' match');\n\t\t\t\t}\n\t\t\t}else if(s == S_ATTR_NOQUOT_VALUE){\n\t\t\t\tvalue = source.slice(start, p);\n\t\t\t\taddAttribute(attrName, value, start);\n\t\t\t\terrorHandler.warning('attribute \"'+attrName+'\" missed start quot('+c+')!!');\n\t\t\t\tstart = p+1;\n\t\t\t\ts = S_ATTR_END\n\t\t\t}else{\n\t\t\t\t//fatalError: no equal before\n\t\t\t\tthrow new Error('attribute value must after \"=\"'); // No known test case\n\t\t\t}\n\t\t\tbreak;\n\t\tcase '/':\n\t\t\tswitch(s){\n\t\t\tcase S_TAG:\n\t\t\t\tel.setTagName(source.slice(start,p));\n\t\t\tcase S_ATTR_END:\n\t\t\tcase S_TAG_SPACE:\n\t\t\tcase S_TAG_CLOSE:\n\t\t\t\ts =S_TAG_CLOSE;\n\t\t\t\tel.closed = true;\n\t\t\tcase S_ATTR_NOQUOT_VALUE:\n\t\t\tcase S_ATTR:\n\t\t\tcase S_ATTR_SPACE:\n\t\t\t\tbreak;\n\t\t\t//case S_EQ:\n\t\t\tdefault:\n\t\t\t\tthrow new Error(\"attribute invalid close char('/')\") // No known test case\n\t\t\t}\n\t\t\tbreak;\n\t\tcase ''://end document\n\t\t\terrorHandler.error('unexpected end of input');\n\t\t\tif(s == S_TAG){\n\t\t\t\tel.setTagName(source.slice(start,p));\n\t\t\t}\n\t\t\treturn p;\n\t\tcase '>':\n\t\t\tswitch(s){\n\t\t\tcase S_TAG:\n\t\t\t\tel.setTagName(source.slice(start,p));\n\t\t\tcase S_ATTR_END:\n\t\t\tcase S_TAG_SPACE:\n\t\t\tcase S_TAG_CLOSE:\n\t\t\t\tbreak;//normal\n\t\t\tcase S_ATTR_NOQUOT_VALUE://Compatible state\n\t\t\tcase S_ATTR:\n\t\t\t\tvalue = source.slice(start,p);\n\t\t\t\tif(value.slice(-1) === '/'){\n\t\t\t\t\tel.closed  = true;\n\t\t\t\t\tvalue = value.slice(0,-1)\n\t\t\t\t}\n\t\t\tcase S_ATTR_SPACE:\n\t\t\t\tif(s === S_ATTR_SPACE){\n\t\t\t\t\tvalue = attrName;\n\t\t\t\t}\n\t\t\t\tif(s == S_ATTR_NOQUOT_VALUE){\n\t\t\t\t\terrorHandler.warning('attribute \"'+value+'\" missed quot(\")!');\n\t\t\t\t\taddAttribute(attrName, value, start)\n\t\t\t\t}else{\n\t\t\t\t\tif(!NAMESPACE.isHTML(currentNSMap['']) || !value.match(/^(?:disabled|checked|selected)$/i)){\n\t\t\t\t\t\terrorHandler.warning('attribute \"'+value+'\" missed value!! \"'+value+'\" instead!!')\n\t\t\t\t\t}\n\t\t\t\t\taddAttribute(value, value, start)\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase S_EQ:\n\t\t\t\tthrow new Error('attribute value missed!!');\n\t\t\t}\n//\t\t\tconsole.log(tagName,tagNamePattern,tagNamePattern.test(tagName))\n\t\t\treturn p;\n\t\t/*xml space '\\x20' | #x9 | #xD | #xA; */\n\t\tcase '\\u0080':\n\t\t\tc = ' ';\n\t\tdefault:\n\t\t\tif(c<= ' '){//space\n\t\t\t\tswitch(s){\n\t\t\t\tcase S_TAG:\n\t\t\t\t\tel.setTagName(source.slice(start,p));//tagName\n\t\t\t\t\ts = S_TAG_SPACE;\n\t\t\t\t\tbreak;\n\t\t\t\tcase S_ATTR:\n\t\t\t\t\tattrName = source.slice(start,p)\n\t\t\t\t\ts = S_ATTR_SPACE;\n\t\t\t\t\tbreak;\n\t\t\t\tcase S_ATTR_NOQUOT_VALUE:\n\t\t\t\t\tvar value = source.slice(start, p);\n\t\t\t\t\terrorHandler.warning('attribute \"'+value+'\" missed quot(\")!!');\n\t\t\t\t\taddAttribute(attrName, value, start)\n\t\t\t\tcase S_ATTR_END:\n\t\t\t\t\ts = S_TAG_SPACE;\n\t\t\t\t\tbreak;\n\t\t\t\t//case S_TAG_SPACE:\n\t\t\t\t//case S_EQ:\n\t\t\t\t//case S_ATTR_SPACE:\n\t\t\t\t//\tvoid();break;\n\t\t\t\t//case S_TAG_CLOSE:\n\t\t\t\t\t//ignore warning\n\t\t\t\t}\n\t\t\t}else{//not space\n//S_TAG,\tS_ATTR,\tS_EQ,\tS_ATTR_NOQUOT_VALUE\n//S_ATTR_SPACE,\tS_ATTR_END,\tS_TAG_SPACE, S_TAG_CLOSE\n\t\t\t\tswitch(s){\n\t\t\t\t//case S_TAG:void();break;\n\t\t\t\t//case S_ATTR:void();break;\n\t\t\t\t//case S_ATTR_NOQUOT_VALUE:void();break;\n\t\t\t\tcase S_ATTR_SPACE:\n\t\t\t\t\tvar tagName =  el.tagName;\n\t\t\t\t\tif (!NAMESPACE.isHTML(currentNSMap['']) || !attrName.match(/^(?:disabled|checked|selected)$/i)) {\n\t\t\t\t\t\terrorHandler.warning('attribute \"'+attrName+'\" missed value!! \"'+attrName+'\" instead2!!')\n\t\t\t\t\t}\n\t\t\t\t\taddAttribute(attrName, attrName, start);\n\t\t\t\t\tstart = p;\n\t\t\t\t\ts = S_ATTR;\n\t\t\t\t\tbreak;\n\t\t\t\tcase S_ATTR_END:\n\t\t\t\t\terrorHandler.warning('attribute space is required\"'+attrName+'\"!!')\n\t\t\t\tcase S_TAG_SPACE:\n\t\t\t\t\ts = S_ATTR;\n\t\t\t\t\tstart = p;\n\t\t\t\t\tbreak;\n\t\t\t\tcase S_EQ:\n\t\t\t\t\ts = S_ATTR_NOQUOT_VALUE;\n\t\t\t\t\tstart = p;\n\t\t\t\t\tbreak;\n\t\t\t\tcase S_TAG_CLOSE:\n\t\t\t\t\tthrow new Error(\"elements closed character '/' and '>' must be connected to\");\n\t\t\t\t}\n\t\t\t}\n\t\t}//end outer switch\n\t\t//console.log('p++',p)\n\t\tp++;\n\t}\n}\n/**\n * @return true if has new namespace define\n */\nfunction appendElement(el,domBuilder,currentNSMap){\n\tvar tagName = el.tagName;\n\tvar localNSMap = null;\n\t//var currentNSMap = parseStack[parseStack.length-1].currentNSMap;\n\tvar i = el.length;\n\twhile(i--){\n\t\tvar a = el[i];\n\t\tvar qName = a.qName;\n\t\tvar value = a.value;\n\t\tvar nsp = qName.indexOf(':');\n\t\tif(nsp>0){\n\t\t\tvar prefix = a.prefix = qName.slice(0,nsp);\n\t\t\tvar localName = qName.slice(nsp+1);\n\t\t\tvar nsPrefix = prefix === 'xmlns' && localName\n\t\t}else{\n\t\t\tlocalName = qName;\n\t\t\tprefix = null\n\t\t\tnsPrefix = qName === 'xmlns' && ''\n\t\t}\n\t\t//can not set prefix,because prefix !== ''\n\t\ta.localName = localName ;\n\t\t//prefix == null for no ns prefix attribute\n\t\tif(nsPrefix !== false){//hack!!\n\t\t\tif(localNSMap == null){\n\t\t\t\tlocalNSMap = {}\n\t\t\t\t//console.log(currentNSMap,0)\n\t\t\t\t_copy(currentNSMap,currentNSMap={})\n\t\t\t\t//console.log(currentNSMap,1)\n\t\t\t}\n\t\t\tcurrentNSMap[nsPrefix] = localNSMap[nsPrefix] = value;\n\t\t\ta.uri = NAMESPACE.XMLNS\n\t\t\tdomBuilder.startPrefixMapping(nsPrefix, value)\n\t\t}\n\t}\n\tvar i = el.length;\n\twhile(i--){\n\t\ta = el[i];\n\t\tvar prefix = a.prefix;\n\t\tif(prefix){//no prefix attribute has no namespace\n\t\t\tif(prefix === 'xml'){\n\t\t\t\ta.uri = NAMESPACE.XML;\n\t\t\t}if(prefix !== 'xmlns'){\n\t\t\t\ta.uri = currentNSMap[prefix || '']\n\n\t\t\t\t//{console.log('###'+a.qName,domBuilder.locator.systemId+'',currentNSMap,a.uri)}\n\t\t\t}\n\t\t}\n\t}\n\tvar nsp = tagName.indexOf(':');\n\tif(nsp>0){\n\t\tprefix = el.prefix = tagName.slice(0,nsp);\n\t\tlocalName = el.localName = tagName.slice(nsp+1);\n\t}else{\n\t\tprefix = null;//important!!\n\t\tlocalName = el.localName = tagName;\n\t}\n\t//no prefix element has default namespace\n\tvar ns = el.uri = currentNSMap[prefix || ''];\n\tdomBuilder.startElement(ns,localName,tagName,el);\n\t//endPrefixMapping and startPrefixMapping have not any help for dom builder\n\t//localNSMap = null\n\tif(el.closed){\n\t\tdomBuilder.endElement(ns,localName,tagName);\n\t\tif(localNSMap){\n\t\t\tfor (prefix in localNSMap) {\n\t\t\t\tif (Object.prototype.hasOwnProperty.call(localNSMap, prefix)) {\n\t\t\t\t\tdomBuilder.endPrefixMapping(prefix);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}else{\n\t\tel.currentNSMap = currentNSMap;\n\t\tel.localNSMap = localNSMap;\n\t\t//parseStack.push(el);\n\t\treturn true;\n\t}\n}\nfunction parseHtmlSpecialContent(source,elStartEnd,tagName,entityReplacer,domBuilder){\n\tif(/^(?:script|textarea)$/i.test(tagName)){\n\t\tvar elEndStart =  source.indexOf('</'+tagName+'>',elStartEnd);\n\t\tvar text = source.substring(elStartEnd+1,elEndStart);\n\t\tif(/[&<]/.test(text)){\n\t\t\tif(/^script$/i.test(tagName)){\n\t\t\t\t//if(!/\\]\\]>/.test(text)){\n\t\t\t\t\t//lexHandler.startCDATA();\n\t\t\t\t\tdomBuilder.characters(text,0,text.length);\n\t\t\t\t\t//lexHandler.endCDATA();\n\t\t\t\t\treturn elEndStart;\n\t\t\t\t//}\n\t\t\t}//}else{//text area\n\t\t\t\ttext = text.replace(/&#?\\w+;/g,entityReplacer);\n\t\t\t\tdomBuilder.characters(text,0,text.length);\n\t\t\t\treturn elEndStart;\n\t\t\t//}\n\n\t\t}\n\t}\n\treturn elStartEnd+1;\n}\nfunction fixSelfClosed(source,elStartEnd,tagName,closeMap){\n\t//if(tagName in closeMap){\n\tvar pos = closeMap[tagName];\n\tif(pos == null){\n\t\t//console.log(tagName)\n\t\tpos =  source.lastIndexOf('</'+tagName+'>')\n\t\tif(pos<elStartEnd){//\n\t\t\tpos = source.lastIndexOf('</'+tagName)\n\t\t}\n\t\tcloseMap[tagName] =pos\n\t}\n\treturn pos<elStartEnd;\n\t//}\n}\n\nfunction _copy (source, target) {\n\tfor (var n in source) {\n\t\tif (Object.prototype.hasOwnProperty.call(source, n)) {\n\t\t\ttarget[n] = source[n];\n\t\t}\n\t}\n}\n\nfunction parseDCC(source,start,domBuilder,errorHandler){//sure start with '<!'\n\tvar next= source.charAt(start+2)\n\tswitch(next){\n\tcase '-':\n\t\tif(source.charAt(start + 3) === '-'){\n\t\t\tvar end = source.indexOf('-->',start+4);\n\t\t\t//append comment source.substring(4,end)//<!--\n\t\t\tif(end>start){\n\t\t\t\tdomBuilder.comment(source,start+4,end-start-4);\n\t\t\t\treturn end+3;\n\t\t\t}else{\n\t\t\t\terrorHandler.error(\"Unclosed comment\");\n\t\t\t\treturn -1;\n\t\t\t}\n\t\t}else{\n\t\t\t//error\n\t\t\treturn -1;\n\t\t}\n\tdefault:\n\t\tif(source.substr(start+3,6) == 'CDATA['){\n\t\t\tvar end = source.indexOf(']]>',start+9);\n\t\t\tdomBuilder.startCDATA();\n\t\t\tdomBuilder.characters(source,start+9,end-start-9);\n\t\t\tdomBuilder.endCDATA()\n\t\t\treturn end+3;\n\t\t}\n\t\t//<!DOCTYPE\n\t\t//startDTD(java.lang.String name, java.lang.String publicId, java.lang.String systemId)\n\t\tvar matchs = split(source,start);\n\t\tvar len = matchs.length;\n\t\tif(len>1 && /!doctype/i.test(matchs[0][0])){\n\t\t\tvar name = matchs[1][0];\n\t\t\tvar pubid = false;\n\t\t\tvar sysid = false;\n\t\t\tif(len>3){\n\t\t\t\tif(/^public$/i.test(matchs[2][0])){\n\t\t\t\t\tpubid = matchs[3][0];\n\t\t\t\t\tsysid = len>4 && matchs[4][0];\n\t\t\t\t}else if(/^system$/i.test(matchs[2][0])){\n\t\t\t\t\tsysid = matchs[3][0];\n\t\t\t\t}\n\t\t\t}\n\t\t\tvar lastMatch = matchs[len-1]\n\t\t\tdomBuilder.startDTD(name, pubid, sysid);\n\t\t\tdomBuilder.endDTD();\n\n\t\t\treturn lastMatch.index+lastMatch[0].length\n\t\t}\n\t}\n\treturn -1;\n}\n\n\n\nfunction parseInstruction(source,start,domBuilder){\n\tvar end = source.indexOf('?>',start);\n\tif(end){\n\t\tvar match = source.substring(start,end).match(/^<\\?(\\S*)\\s*([\\s\\S]*?)\\s*$/);\n\t\tif(match){\n\t\t\tvar len = match[0].length;\n\t\t\tdomBuilder.processingInstruction(match[1], match[2]) ;\n\t\t\treturn end+2;\n\t\t}else{//error\n\t\t\treturn -1;\n\t\t}\n\t}\n\treturn -1;\n}\n\nfunction ElementAttributes(){\n\tthis.attributeNames = {}\n}\nElementAttributes.prototype = {\n\tsetTagName:function(tagName){\n\t\tif(!tagNamePattern.test(tagName)){\n\t\t\tthrow new Error('invalid tagName:'+tagName)\n\t\t}\n\t\tthis.tagName = tagName\n\t},\n\taddValue:function(qName, value, offset) {\n\t\tif(!tagNamePattern.test(qName)){\n\t\t\tthrow new Error('invalid attribute:'+qName)\n\t\t}\n\t\tthis.attributeNames[qName] = this.length;\n\t\tthis[this.length++] = {qName:qName,value:value,offset:offset}\n\t},\n\tlength:0,\n\tgetLocalName:function(i){return this[i].localName},\n\tgetLocator:function(i){return this[i].locator},\n\tgetQName:function(i){return this[i].qName},\n\tgetURI:function(i){return this[i].uri},\n\tgetValue:function(i){return this[i].value}\n//\t,getIndex:function(uri, localName)){\n//\t\tif(localName){\n//\n//\t\t}else{\n//\t\t\tvar qName = uri\n//\t\t}\n//\t},\n//\tgetValue:function(){return this.getValue(this.getIndex.apply(this,arguments))},\n//\tgetType:function(uri,localName){}\n//\tgetType:function(i){},\n}\n\n\n\nfunction split(source,start){\n\tvar match;\n\tvar buf = [];\n\tvar reg = /'[^']+'|\"[^\"]+\"|[^\\s<>\\/=]+=?|(\\/?\\s*>|<)/g;\n\treg.lastIndex = start;\n\treg.exec(source);//skip <\n\twhile(match = reg.exec(source)){\n\t\tbuf.push(match);\n\t\tif(match[1])return buf;\n\t}\n}\n\nexports.XMLReader = XMLReader;\nexports.ParseError = ParseError;\n\n},{\"./conventions\":1}],8:[function(require,module,exports){\n// create DOMParser variable from xmldom\nvar DOMParser = require('xmldom-qsa').DOMParser;\nvar DOMImplementation = require('xmldom-qsa').DOMImplementation\n\n// necessary to create a standalone browserify version\nmodule.exports = {\n    DOMParser: DOMParser,\n    DOMImplementation: DOMImplementation\n}\n},{\"xmldom-qsa\":6}]},{},[8])(8)\n});\n","import constant from \"./constant.js\";\nimport {withPath} from \"./path.js\";\nimport asterisk from \"./symbol/asterisk.js\";\nimport circle from \"./symbol/circle.js\";\nimport cross from \"./symbol/cross.js\";\nimport diamond from \"./symbol/diamond.js\";\nimport diamond2 from \"./symbol/diamond2.js\";\nimport plus from \"./symbol/plus.js\";\nimport square from \"./symbol/square.js\";\nimport square2 from \"./symbol/square2.js\";\nimport star from \"./symbol/star.js\";\nimport triangle from \"./symbol/triangle.js\";\nimport triangle2 from \"./symbol/triangle2.js\";\nimport wye from \"./symbol/wye.js\";\nimport times from \"./symbol/times.js\";\n\n// These symbols are designed to be filled.\nexport const symbolsFill = [\n  circle,\n  cross,\n  diamond,\n  square,\n  star,\n  triangle,\n  wye\n];\n\n// These symbols are designed to be stroked (with a width of 1.5px and round caps).\nexport const symbolsStroke = [\n  circle,\n  plus,\n  times,\n  triangle2,\n  asterisk,\n  square2,\n  diamond2\n];\n\nexport default function Symbol(type, size) {\n  let context = null,\n      path = withPath(symbol);\n\n  type = typeof type === \"function\" ? type : constant(type || circle);\n  size = typeof size === \"function\" ? size : constant(size === undefined ? 64 : +size);\n\n  function symbol() {\n    let buffer;\n    if (!context) context = buffer = path();\n    type.apply(this, arguments).draw(context, +size.apply(this, arguments));\n    if (buffer) return context = null, buffer + \"\" || null;\n  }\n\n  symbol.type = function(_) {\n    return arguments.length ? (type = typeof _ === \"function\" ? _ : constant(_), symbol) : type;\n  };\n\n  symbol.size = function(_) {\n    return arguments.length ? (size = typeof _ === \"function\" ? _ : constant(+_), symbol) : size;\n  };\n\n  symbol.context = function(_) {\n    return arguments.length ? (context = _ == null ? null : _, symbol) : context;\n  };\n\n  return symbol;\n}\n","import {min, sqrt} from \"../math.js\";\n\nconst sqrt3 = sqrt(3);\n\nexport default {\n  draw(context, size) {\n    const r = sqrt(size + min(size / 28, 0.75)) * 0.59436;\n    const t = r / 2;\n    const u = t * sqrt3;\n    context.moveTo(0, r);\n    context.lineTo(0, -r);\n    context.moveTo(-u, -t);\n    context.lineTo(u, t);\n    context.moveTo(-u, t);\n    context.lineTo(u, -t);\n  }\n};\n","import {pi, sqrt, tau} from \"../math.js\";\n\nexport default {\n  draw(context, size) {\n    const r = sqrt(size / pi);\n    context.moveTo(r, 0);\n    context.arc(0, 0, r, 0, tau);\n  }\n};\n","import {sqrt} from \"../math.js\";\n\nexport default {\n  draw(context, size) {\n    const r = sqrt(size / 5) / 2;\n    context.moveTo(-3 * r, -r);\n    context.lineTo(-r, -r);\n    context.lineTo(-r, -3 * r);\n    context.lineTo(r, -3 * r);\n    context.lineTo(r, -r);\n    context.lineTo(3 * r, -r);\n    context.lineTo(3 * r, r);\n    context.lineTo(r, r);\n    context.lineTo(r, 3 * r);\n    context.lineTo(-r, 3 * r);\n    context.lineTo(-r, r);\n    context.lineTo(-3 * r, r);\n    context.closePath();\n  }\n};\n","import {sqrt} from \"../math.js\";\n\nconst tan30 = sqrt(1 / 3);\nconst tan30_2 = tan30 * 2;\n\nexport default {\n  draw(context, size) {\n    const y = sqrt(size / tan30_2);\n    const x = y * tan30;\n    context.moveTo(0, -y);\n    context.lineTo(x, 0);\n    context.lineTo(0, y);\n    context.lineTo(-x, 0);\n    context.closePath();\n  }\n};\n","import {sqrt} from \"../math.js\";\n\nexport default {\n  draw(context, size) {\n    const r = sqrt(size) * 0.62625;\n    context.moveTo(0, -r);\n    context.lineTo(r, 0);\n    context.lineTo(0, r);\n    context.lineTo(-r, 0);\n    context.closePath();\n  }\n};\n","import {min, sqrt} from \"../math.js\";\n\nexport default {\n  draw(context, size) {\n    const r = sqrt(size - min(size / 7, 2)) * 0.87559;\n    context.moveTo(-r, 0);\n    context.lineTo(r, 0);\n    context.moveTo(0, r);\n    context.lineTo(0, -r);\n  }\n};\n","import {sqrt} from \"../math.js\";\n\nexport default {\n  draw(context, size) {\n    const w = sqrt(size);\n    const x = -w / 2;\n    context.rect(x, x, w, w);\n  }\n};\n","import {sqrt} from \"../math.js\";\n\nexport default {\n  draw(context, size) {\n    const r = sqrt(size) * 0.4431;\n    context.moveTo(r, r);\n    context.lineTo(r, -r);\n    context.lineTo(-r, -r);\n    context.lineTo(-r, r);\n    context.closePath();\n  }\n};\n","import {sin, cos, sqrt, pi, tau} from \"../math.js\";\n\nconst ka = 0.89081309152928522810;\nconst kr = sin(pi / 10) / sin(7 * pi / 10);\nconst kx = sin(tau / 10) * kr;\nconst ky = -cos(tau / 10) * kr;\n\nexport default {\n  draw(context, size) {\n    const r = sqrt(size * ka);\n    const x = kx * r;\n    const y = ky * r;\n    context.moveTo(0, -r);\n    context.lineTo(x, y);\n    for (let i = 1; i < 5; ++i) {\n      const a = tau * i / 5;\n      const c = cos(a);\n      const s = sin(a);\n      context.lineTo(s * r, -c * r);\n      context.lineTo(c * x - s * y, s * x + c * y);\n    }\n    context.closePath();\n  }\n};\n","import {sqrt} from \"../math.js\";\n\nconst sqrt3 = sqrt(3);\n\nexport default {\n  draw(context, size) {\n    const y = -sqrt(size / (sqrt3 * 3));\n    context.moveTo(0, y * 2);\n    context.lineTo(-sqrt3 * y, -y);\n    context.lineTo(sqrt3 * y, -y);\n    context.closePath();\n  }\n};\n","import {sqrt} from \"../math.js\";\n\nconst sqrt3 = sqrt(3);\n\nexport default {\n  draw(context, size) {\n    const s = sqrt(size) * 0.6824;\n    const t = s  / 2;\n    const u = (s * sqrt3) / 2; // cos(Math.PI / 6)\n    context.moveTo(0, -s);\n    context.lineTo(u, t);\n    context.lineTo(-u, t);\n    context.closePath();\n  }\n};\n","import {sqrt} from \"../math.js\";\n\nconst c = -0.5;\nconst s = sqrt(3) / 2;\nconst k = 1 / sqrt(12);\nconst a = (k / 2 + 1) * 3;\n\nexport default {\n  draw(context, size) {\n    const r = sqrt(size / a);\n    const x0 = r / 2, y0 = r * k;\n    const x1 = x0, y1 = r * k + r;\n    const x2 = -x1, y2 = y1;\n    context.moveTo(x0, y0);\n    context.lineTo(x1, y1);\n    context.lineTo(x2, y2);\n    context.lineTo(c * x0 - s * y0, s * x0 + c * y0);\n    context.lineTo(c * x1 - s * y1, s * x1 + c * y1);\n    context.lineTo(c * x2 - s * y2, s * x2 + c * y2);\n    context.lineTo(c * x0 + s * y0, c * y0 - s * x0);\n    context.lineTo(c * x1 + s * y1, c * y1 - s * x1);\n    context.lineTo(c * x2 + s * y2, c * y2 - s * x2);\n    context.closePath();\n  }\n};\n","import {min, sqrt} from \"../math.js\";\n\nexport default {\n  draw(context, size) {\n    const r = sqrt(size - min(size / 6, 1.7)) * 0.6189;\n    context.moveTo(-r, -r);\n    context.lineTo(r, r);\n    context.moveTo(-r, r);\n    context.lineTo(r, -r);\n  }\n};\n"],"names":["parcelRequire","abs","$7e559dfd99cf9284$var$abs","max","$7e559dfd99cf9284$var$max","min","$7e559dfd99cf9284$var$min","Math","$7e559dfd99cf9284$var$number1","e","$7e559dfd99cf9284$var$number2","map","$7e559dfd99cf9284$var$type","t","type","$5f4629e300d5fac4$var$noop","value","$5f4629e300d5fac4$var$dispatch","i","n","arguments","length","_","test","Error","$5f4629e300d5fac4$var$Dispatch","this","$5f4629e300d5fac4$var$get","name","c","$5f4629e300d5fac4$var$set","callback","slice","concat","push","prototype","constructor","on","typename","types","T","trim","split","indexOf","hasOwnProperty","copy","call","that","args","Array","apply","$5f4629e300d5fac4$export$2e2bcd8739ae039","$jwO5r","$19ba8ecc7a012581$export$2e2bcd8739ae039","view","root","document","documentElement","selection","default","$3FUEu","nonpassivecapture","__noselect","style","MozUserSelect","$19ba8ecc7a012581$export$833237748009e1e1","noclick","setTimeout","$lNfCP","$e377dba856d0e0d7$export$2e2bcd8739ae039","selector","Selection","querySelector","$fXNa0","$fdda4b6cdb2d1787$export$e8e78c978b129247","$fdda4b6cdb2d1787$export$52baac22726c72bf","groups","parents","_groups","_parents","$fdda4b6cdb2d1787$var$selection","select","selectAll","$hk7Yj","selectChild","$kRmTP","selectChildren","$elNWt","filter","$2Vzda","data","$lwhxt","enter","$iM42z","exit","$Nn9dy","join","$iRvRz","merge","$cIa2N","order","$6Yr44","sort","$l2VKd","$4ZD9V","nodes","$fZADc","node","$d8oN1","size","$h9ohj","empty","$dafOG","each","$4749D","attr","$8bQyO","$8mfMZ","property","$VV8Lq","classed","$5KOr8","text","$7lrYP","html","$2mXdw","raise","$fU0AX","lower","$aOpm3","append","$34Lwj","insert","$to4KW","remove","$kXzWc","clone","$imivU","datum","$jlvdR","$gOUux","dispatch","$60TS6","Symbol","iterator","$bztTW","$fdda4b6cdb2d1787$export$2e2bcd8739ae039","$b9f27fec2859c468$export$2e2bcd8739ae039","$iuvvt","m","subgroups","j","subnode","group","subgroup","__data__","$d76377ec40999ffa$var$none","$d76377ec40999ffa$export$2e2bcd8739ae039","$c9ca7cf926691768$export$2e2bcd8739ae039","$96bxx","$c9ca7cf926691768$var$arrayAll","$7ysBc","$69fda03336c14f28$export$2e2bcd8739ae039","x","isArray","from","$5801e489fa30d885$var$empty","$5801e489fa30d885$export$2e2bcd8739ae039","querySelectorAll","$8MvoG","$f2fa853a1434a575$var$find","find","$f2fa853a1434a575$var$childFirst","firstElementChild","$f2fa853a1434a575$export$2e2bcd8739ae039","match","children","$f2fa853a1434a575$var$childFind","childMatcher","$664b293b55ab92bf$export$2e2bcd8739ae039","matches","$664b293b55ab92bf$export$90c2759c036528","$a729c4565ef0940f$var$filter","$a729c4565ef0940f$var$children","$a729c4565ef0940f$export$2e2bcd8739ae039","$a729c4565ef0940f$var$childrenFilter","$221c37e76e367e21$export$2e2bcd8739ae039","$faaa31032bba57a9$var$bindIndex","parent","update","groupLength","dataLength","EnterNode","$faaa31032bba57a9$var$bindKey","key","keyValue","nodeByKeyValue","Map","keyValues","has","set","get","delete","$faaa31032bba57a9$var$datum","$faaa31032bba57a9$export$2e2bcd8739ae039","bind","$1vMSR","$faaa31032bba57a9$var$arraylike","enterGroup","updateGroup","previous","next","i0","i1","_next","_enter","_exit","$eZ6nx","$daafd80d746d0b91$export$2e2bcd8739ae039","$daafd80d746d0b91$export$67b01759a14cf6a4","ownerDocument","namespaceURI","_parent","appendChild","child","insertBefore","$ae8bb5d8500b95a3$export$2e2bcd8739ae039","$119e9b05d5dabb8c$export$2e2bcd8739ae039","$0946885ced5b4b7d$export$2e2bcd8739ae039","$dbb5e491eba23869$export$2e2bcd8739ae039","onenter","onupdate","onexit","$941162a932feaef8$export$2e2bcd8739ae039","context","groups0","groups1","m0","m1","merges","group0","group1","$513d572612df5888$export$2e2bcd8739ae039","compareDocumentPosition","parentNode","$f52693b18ff46a41$export$2e2bcd8739ae039","compare","compareNode","a","b","$f52693b18ff46a41$var$ascending","sortgroups","sortgroup","NaN","$3a2b3c1f5a7b2241$export$2e2bcd8739ae039","$ba48f7bbf0661468$export$2e2bcd8739ae039","$98ff406d4adbe2dd$export$2e2bcd8739ae039","$c7c61c10095ccc35$export$2e2bcd8739ae039","$99587a5a9ef1c782$export$2e2bcd8739ae039","$2feb09dc1c1c5f8d$export$2e2bcd8739ae039","$8PPiD","$5f681f3b36cf5278$var$attrRemove","removeAttribute","$5f681f3b36cf5278$var$attrRemoveNS","fullname","removeAttributeNS","space","local","$5f681f3b36cf5278$var$attrConstant","setAttribute","$5f681f3b36cf5278$var$attrConstantNS","setAttributeNS","$5f681f3b36cf5278$var$attrFunction","v","$5f681f3b36cf5278$var$attrFunctionNS","$5f681f3b36cf5278$export$2e2bcd8739ae039","getAttributeNS","getAttribute","$hYThN","$66eae128d5ae6ad8$export$2e2bcd8739ae039","prefix","$d172ece65c10f4ab$export$201a3f7520ccc326","$d172ece65c10f4ab$export$2e2bcd8739ae039","svg","xhtml","xlink","xml","xmlns","$6R5rf","$615ca0388a7b16c7$var$styleRemove","removeProperty","$615ca0388a7b16c7$var$styleConstant","priority","setProperty","$615ca0388a7b16c7$var$styleFunction","$615ca0388a7b16c7$export$2e2bcd8739ae039","$615ca0388a7b16c7$export$5e3cec964f0b5efd","getPropertyValue","getComputedStyle","$4fdbe94682ce5ef1$export$2e2bcd8739ae039","defaultView","$0ae1a5deb9eb3a03$var$propertyRemove","$0ae1a5deb9eb3a03$var$propertyConstant","$0ae1a5deb9eb3a03$var$propertyFunction","$0ae1a5deb9eb3a03$export$2e2bcd8739ae039","$43085f501a08389e$var$classArray","string","$43085f501a08389e$var$classList","classList","$43085f501a08389e$var$ClassList","_node","_names","$43085f501a08389e$var$classedAdd","names","list","add","$43085f501a08389e$var$classedRemove","$43085f501a08389e$var$classedTrue","$43085f501a08389e$var$classedFalse","$43085f501a08389e$var$classedFunction","$43085f501a08389e$export$2e2bcd8739ae039","contains","splice","$559032d1cd55295a$var$textRemove","textContent","$559032d1cd55295a$var$textConstant","$559032d1cd55295a$var$textFunction","$559032d1cd55295a$export$2e2bcd8739ae039","$1b9b921b3c2deed9$var$htmlRemove","innerHTML","$1b9b921b3c2deed9$var$htmlConstant","$1b9b921b3c2deed9$var$htmlFunction","$1b9b921b3c2deed9$export$2e2bcd8739ae039","$b93c8c211047fb14$var$raise","nextSibling","$b93c8c211047fb14$export$2e2bcd8739ae039","$7df23dd0506b3a96$var$lower","previousSibling","firstChild","$7df23dd0506b3a96$export$2e2bcd8739ae039","$gRPRE","$23d69b5b919f7e65$export$2e2bcd8739ae039","create","$c479d3be15c8f73b$var$creatorInherit","uri","createElement","createElementNS","$c479d3be15c8f73b$var$creatorFixed","$c479d3be15c8f73b$export$2e2bcd8739ae039","$0585627b9b710f8e$var$constantNull","$0585627b9b710f8e$export$2e2bcd8739ae039","before","$f42531d42e5f1d3c$var$remove","removeChild","$f42531d42e5f1d3c$export$2e2bcd8739ae039","$d5d8a47f59de46a9$var$selection_cloneShallow","cloneNode","$d5d8a47f59de46a9$var$selection_cloneDeep","$d5d8a47f59de46a9$export$2e2bcd8739ae039","deep","$e15832a2a6af59e6$export$2e2bcd8739ae039","$c3ed22e91a5405ba$var$onRemove","__on","o","removeEventListener","listener","options","$c3ed22e91a5405ba$var$onAdd","event","$c3ed22e91a5405ba$var$contextListener","addEventListener","$c3ed22e91a5405ba$export$2e2bcd8739ae039","typenames","$c3ed22e91a5405ba$var$parseTypenames","$460e151c83344cc2$var$dispatchEvent","params","window","CustomEvent","createEvent","initEvent","bubbles","cancelable","detail","dispatchEvent","$460e151c83344cc2$var$dispatchConstant","$460e151c83344cc2$var$dispatchFunction","$460e151c83344cc2$export$2e2bcd8739ae039","$86ca285d1c128e91$export$2e2bcd8739ae039","$2ad12558f110ae1a$export$35431a0e47022de1","capture","passive","$2ad12558f110ae1a$export$2e2bcd8739ae039","preventDefault","stopImmediatePropagation","$b64uw","$245d0299d8ca546d$export$2e2bcd8739ae039","$eYuTS","$dxJZk","$diuMl","$hG78e","Date","$lqjSx","$cXC8a","isNumberArray","$lXXnj","genericArray","valueOf","toString","isNaN","$hKLOA","$4pHdU","$8143bd25d7028a00$export$892596cec99bc70e","$8143bd25d7028a00$export$4adafc6ed0600c10","$8143bd25d7028a00$export$9eace2cc0d12c98d","$8143bd25d7028a00$var$reI","$8143bd25d7028a00$var$reN","$8143bd25d7028a00$var$reP","$8143bd25d7028a00$var$reHex","$8143bd25d7028a00$var$reRgbInteger","RegExp","$8143bd25d7028a00$var$reRgbPercent","$8143bd25d7028a00$var$reRgbaInteger","$8143bd25d7028a00$var$reRgbaPercent","$8143bd25d7028a00$var$reHslPercent","$8143bd25d7028a00$var$reHslaPercent","$8143bd25d7028a00$var$named","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","$8143bd25d7028a00$var$color_formatHex","rgb","formatHex","$8143bd25d7028a00$var$color_formatRgb","formatRgb","$8143bd25d7028a00$export$2e2bcd8739ae039","format","l","toLowerCase","exec","parseInt","$8143bd25d7028a00$var$rgbn","$8143bd25d7028a00$export$5e05a94393ac29e3","$8143bd25d7028a00$var$rgba","$8143bd25d7028a00$var$hsla","r","g","$8143bd25d7028a00$export$8972dc0e6ad9238f","opacity","$8143bd25d7028a00$var$rgb_formatHex","$8143bd25d7028a00$var$hex","$8143bd25d7028a00$var$rgb_formatRgb","$8143bd25d7028a00$var$clampa","$8143bd25d7028a00$var$clampi","round","h","s","$8143bd25d7028a00$var$Hsl","$8143bd25d7028a00$export$8133dc3fa904d6d1","$8143bd25d7028a00$var$clamph","$8143bd25d7028a00$var$clampt","$8143bd25d7028a00$var$hsl2rgb","m2","channels","Object","assign","displayable","hex","formatHex8","formatHsl","extend","brighter","k","pow","darker","clamp","$336b067ac3772ee0$export$2e2bcd8739ae039","factory","$336b067ac3772ee0$export$8b58be045bf06082","definition","$9ae4d4d4dff710e6$export$2e2bcd8739ae039","rgbGamma","y","color","$a35nW","gamma","start","end","$9ae4d4d4dff710e6$var$rgbSpline","spline","colors","$b3d79","$bUiw4","$80ba25c7a8d765f9$export$4e41033bfeec1a4c","t1","v0","v1","v2","v3","t2","t3","$80ba25c7a8d765f9$export$2e2bcd8739ae039","values","floor","$8ab3499884aa1c2a$export$2e2bcd8739ae039","basis","$750e5c8dfca74dd7$var$linear","d","$750e5c8dfca74dd7$export$a7ebe8cc6aaf8d37","$750e5c8dfca74dd7$export$2e2bcd8739ae039","$750e5c8dfca74dd7$var$exponential","$ae6ea36750952983$export$2e2bcd8739ae039","$37yMS","$ffdd2a4ba6ed6846$export$15d09067c6a5ee49","nb","na","$96f892b1197b36bc$export$2e2bcd8739ae039","$96f892b1197b36bc$export$5cd576d1827d40c8","ArrayBuffer","isView","DataView","$f98b7229cf152fee$export$2e2bcd8739ae039","setTime","$9dc207b6926978c8$export$2e2bcd8739ae039","$cecbd295448bf552$export$2e2bcd8739ae039","$cdebe425e625540e$var$reA","$cdebe425e625540e$var$reB","source","$cdebe425e625540e$export$2e2bcd8739ae039","am","bm","bs","bi","lastIndex","q","index","$cdebe425e625540e$var$one","$cdebe425e625540e$var$zero","$iuzTt","$8c033241fafa8cce$export$2e2bcd8739ae039","undefined","currentTarget","ownerSVGElement","createSVGPoint","point","clientX","clientY","matrixTransform","getScreenCTM","inverse","getBoundingClientRect","rect","left","clientLeft","top","clientTop","pageX","pageY","$d766df1b5fe1392a$export$2e2bcd8739ae039","sourceEvent","interrupt","$ajqIq","transition","$aIkCI","$7v3aY","$782066e0e9505c50$export$2e2bcd8739ae039","$gxLBw","$575de456bf0df66d$export$2e2bcd8739ae039","schedule","active","schedules","__transition","state","STARTING","ENDING","ENDED","timer","stop","$8b8MA","$c0b4a79b62fca422$var$emptyOn","$c0b4a79b62fca422$var$emptyTween","$c0b4a79b62fca422$export$ff39ebd4bb12b718","$c0b4a79b62fca422$export$584530fe98d14a84","$c0b4a79b62fca422$export$a5d151aee16efd42","$c0b4a79b62fca422$export$fb935ab5849a0db9","$c0b4a79b62fca422$export$1573e22b087389af","$c0b4a79b62fca422$export$a2e792214ded83b2","$c0b4a79b62fca422$export$9d38167254403955","$c0b4a79b62fca422$export$2e2bcd8739ae039","id","timing","self","tween","elapsed","restart","delay","time","$lXai2","tick","duration","ease","$d4oT3","$c0b4a79b62fca422$var$create","$c0b4a79b62fca422$export$2cd8252107eb640b","$c0b4a79b62fca422$export$3988ae62b71be9a3","$c0b4a79b62fca422$export$adaa4cf7ef1b65be","$ffb7170649480410$export$2e2bcd8739ae039","Timer","$983ef41e0479cc7a$var$taskHead","$983ef41e0479cc7a$var$taskTail","$983ef41e0479cc7a$var$frame","$983ef41e0479cc7a$var$timeout","$983ef41e0479cc7a$var$interval","$983ef41e0479cc7a$var$pokeDelay","$983ef41e0479cc7a$var$clockLast","$983ef41e0479cc7a$var$clockNow","$983ef41e0479cc7a$var$clockSkew","$983ef41e0479cc7a$var$clock","performance","now","$983ef41e0479cc7a$var$setFrame","requestAnimationFrame","f","$983ef41e0479cc7a$export$461939dd4422153","$983ef41e0479cc7a$var$clearNow","$983ef41e0479cc7a$export$c57e9b2d8b9e4de","_call","_time","$983ef41e0479cc7a$export$9dc4ecf953986f04","$983ef41e0479cc7a$var$wake","$983ef41e0479cc7a$export$d60154c1d7f3990e","t0","Infinity","$983ef41e0479cc7a$var$sleep","$983ef41e0479cc7a$var$nap","$983ef41e0479cc7a$var$poke","clearTimeout","clearInterval","setInterval","TypeError","$42UUG","$7cce02d6ea2b27a2$var$defaultTiming","$7u0Lb","cubicInOut","$7cce02d6ea2b27a2$var$inherit","$7cce02d6ea2b27a2$export$2e2bcd8739ae039","Transition","_id","_name","newId","$2f237f17f5466ba3$var$id","$2f237f17f5466ba3$export$be58926105124dd4","$2f237f17f5466ba3$export$9ffd10a3fbdc175b","$2f237f17f5466ba3$var$selection_prototype","$iyT1N","$3RGsG","$9GYf8","$2VsRN","$l5Vis","$5Hy9F","$ioKxO","$hnmjV","attrTween","$81e80","$f6k80","styleTween","$8LAnk","$gObik","textTween","$ge7o9","$bbU6l","$3V9iO","$p4wcP","$fNZdP","$8vPfK","easeVarying","$lrC3m","$jRrmR","$4NKxa","$ca65e5ff95ab8b0a$var$attrRemove","$ca65e5ff95ab8b0a$var$attrRemoveNS","$ca65e5ff95ab8b0a$var$attrConstant","interpolate","value1","string00","interpolate0","string1","string0","$ca65e5ff95ab8b0a$var$attrConstantNS","$ca65e5ff95ab8b0a$var$attrFunction","string10","$ca65e5ff95ab8b0a$var$attrFunctionNS","$ca65e5ff95ab8b0a$export$2e2bcd8739ae039","interpolateTransformSvg","$bJ8qk","tweenValue","$37efd5ad401420fc$var$interpolateTransform","parse","pxComma","pxParen","degParen","pop","xa","ya","xb","yb","translate","translateX","translateY","rotate","skewX","scale","scaleX","scaleY","$37efd5ad401420fc$export$56bec7123bb3589a","$jmDw4","parseCss","$37efd5ad401420fc$export$da8cba906d64c082","parseSvg","$e18eb985eda93eca$var$svgNode","$8yiMe","$e18eb985eda93eca$export$59ad369bf4938177","DOMMatrix","WebKitCSSMatrix","isIdentity","identity","$e18eb985eda93eca$export$f9ef43f9a1d89a18","transform","baseVal","consolidate","matrix","$63a010663014103a$var$degrees","PI","$63a010663014103a$export$f0954fd7d5368655","$63a010663014103a$export$2e2bcd8739ae039","sqrt","atan2","atan","$2dade938c3f813c7$var$tweenRemove","tween0","tween1","$2dade938c3f813c7$var$tweenFunction","$2dade938c3f813c7$export$2e2bcd8739ae039","$2dade938c3f813c7$export$f78ce6ab10405d82","$889a6e6c99d6e1ef$export$2e2bcd8739ae039","$5d69604a35d1cd29$var$attrTweenNS","$5d69604a35d1cd29$var$attrInterpolateNS","_value","$5d69604a35d1cd29$var$attrTween","$5d69604a35d1cd29$var$attrInterpolate","$5d69604a35d1cd29$export$2e2bcd8739ae039","$04b5d72f20af5b0e$var$delayFunction","init","$04b5d72f20af5b0e$var$delayConstant","$04b5d72f20af5b0e$export$2e2bcd8739ae039","$b81aec0a593c5544$var$durationFunction","$b81aec0a593c5544$var$durationConstant","$b81aec0a593c5544$export$2e2bcd8739ae039","$6328f9c36361bdf2$export$2e2bcd8739ae039","$6328f9c36361bdf2$var$easeConstant","$f9c9a3274b49456a$export$2e2bcd8739ae039","$f9c9a3274b49456a$var$easeVarying","$70e6c44ed77d18b4$export$2e2bcd8739ae039","$22174bf64f95bdbc$export$2e2bcd8739ae039","$d64e92a3f95d10b8$export$2e2bcd8739ae039","on0","on1","sit","every","$d64e92a3f95d10b8$var$start","$d64e92a3f95d10b8$var$onFunction","$825c3d5ac15989d0$export$2e2bcd8739ae039","$d836165f87686f8d$export$2e2bcd8739ae039","$2d0742592f2f5323$export$2e2bcd8739ae039","inherit","$f5b6828672acb2f2$var$Selection","$f5b6828672acb2f2$export$2e2bcd8739ae039","$afe7078deddf822d$var$styleRemove","$afe7078deddf822d$export$2e2bcd8739ae039","interpolateTransformCss","styleValue","$afe7078deddf822d$var$styleNull","$afe7078deddf822d$var$styleFunction","listener0","$afe7078deddf822d$var$styleMaybeRemove","$afe7078deddf822d$var$styleConstant","$661eede365a9ea17$export$2e2bcd8739ae039","$661eede365a9ea17$var$styleInterpolate","$661eede365a9ea17$var$styleTween","$c3ca13bfcdf0e879$export$2e2bcd8739ae039","$c3ca13bfcdf0e879$var$textFunction","$c3ca13bfcdf0e879$var$textConstant","$bd03af56a0ad7007$export$2e2bcd8739ae039","$bd03af56a0ad7007$var$textInterpolate","$bd03af56a0ad7007$var$textTween","$426b766053bf0421$export$2e2bcd8739ae039","id0","id1","$e7583233edf0d7ca$export$2e2bcd8739ae039","Promise","resolve","reject","cancel","$572becafec869eb9$export$89238d3bc79d3ada","$a35aed6a5fb49f50$export$2e2bcd8739ae039","$a8781f6d8d283267$export$2e2bcd8739ae039","target","mode","defineProperties","enumerable","configurable","$d3354a646ca31f40$export$2e2561858db9bf47","$d3354a646ca31f40$export$2e2bcd8739ae039","$90bd0b8d1d7ff6bd$var$epsilon2","$90bd0b8d1d7ff6bd$var$cosh","exp","$90bd0b8d1d7ff6bd$export$2e2bcd8739ae039","zoomRho","rho","rho2","rho4","zoom","p0","p1","S","ux0","uy0","w0","ux1","uy1","w1","dx","dy","d2","log","d1","b0","b1","r0","r1","coshr0","u","$90bd0b8d1d7ff6bd$var$sinh","SQRT2","_1","_2","$fb366b6828faa558$export$2e2bcd8739ae039","$9930bba5ac808660$export$2e2bcd8739ae039","$36dc23e23038171b$export$563a914cafbdc389","applyX","applyY","invert","location","invertX","invertY","rescaleX","domain","range","rescaleY","$36dc23e23038171b$export$f0954fd7d5368655","$622fee541f140e5c$export$2e2561858db9bf47","$622fee541f140e5c$export$2e2bcd8739ae039","$3PWDX","$2410d3a04c306db4$var$arcInnerRadius","innerRadius","$2410d3a04c306db4$var$arcOuterRadius","outerRadius","$2410d3a04c306db4$var$arcStartAngle","startAngle","$2410d3a04c306db4$var$arcEndAngle","endAngle","$2410d3a04c306db4$var$arcPadAngle","padAngle","$2410d3a04c306db4$var$cornerTangents","x0","y0","x1","y1","rc","cw","x01","y01","lo","$cbveU","ox","oy","x11","y11","x10","y10","x00","y00","D","cx0","cy0","cx1","cy1","dx0","dy0","dx1","dy1","cx","cy","$2410d3a04c306db4$export$2e2bcd8739ae039","cornerRadius","padRadius","path","$jaPjS","withPath","arc","buffer","a0","halfPi","a1","da","epsilon","tau","moveTo","cos","sin","a01","a11","a00","a10","da0","da1","ap","rp","rc0","rc1","asin","oc","pi","x2","y2","x3","y3","x32","y32","$2410d3a04c306db4$var$intersect","ax","ay","bx","by","kc","acos","lc","lineTo","closePath","centroid","$2cb39fe50df1444d$export$2e2bcd8739ae039","$8deebe9ed0a5eab0$export$2335f513bbd82c6d","$8deebe9ed0a5eab0$export$b8b770ee6a0d9760","$8deebe9ed0a5eab0$export$50d414a77b60d802","$8deebe9ed0a5eab0$export$8960430cfd85939f","$8deebe9ed0a5eab0$export$96ec731ed4dcb222","$8deebe9ed0a5eab0$export$5de3937cb4b592ed","$8deebe9ed0a5eab0$export$eba8049fb5020b81","$8deebe9ed0a5eab0$export$6c421550c66a327d","$8deebe9ed0a5eab0$export$18c7bea995a110f","$8deebe9ed0a5eab0$export$e51408a300e8929a","$8deebe9ed0a5eab0$export$a4b4b4d4d776fe92","$8deebe9ed0a5eab0$export$fd6306be3fde5b04","$8deebe9ed0a5eab0$export$41726bdb1fc63f","$l1XJt","$df56c27a86232c13$export$fb6e83118a5dcd45","shape","digits","RangeError","Path","$f4f80697fbc61a1b$var$pi","$f4f80697fbc61a1b$var$tau","$f4f80697fbc61a1b$var$epsilon","$f4f80697fbc61a1b$var$tauEpsilon","$f4f80697fbc61a1b$var$append","strings","$f4f80697fbc61a1b$export$4b2950bdac9b6ee9","_x0","_y0","_x1","_y1","_append","$f4f80697fbc61a1b$var$appendRound","quadraticCurveTo","bezierCurveTo","arcTo","x21","y21","l01_2","x20","y20","l21_2","l20_2","l21","l01","t01","t21","ccw","w","$4wXTk","$04a8c6023ff1c037$export$2e2bcd8739ae039","queue","tasks","interpolator","generator","draw","dequeue","enqueue","chart","dataContainer","current","transitionId","currentTask","input","sections","dataBinding","section","fill","updateData","$6ucM5","polyInOut","exponent","catch","console","then","custom","polyIn","polyOut","$4b8f742b9bd39b4d$export$ae94c6a40058b429","module","exports","code","p","require1","module1","predicate","ac","item","freeze","object","MIME_TYPE","HTML","isHTML","XML_APPLICATION","XML_TEXT","XML_XHTML_APPLICATION","XML_SVG_IMAGE","NAMESPACE","SVG","XML","XMLNS","conventions","dom","entities","sax","DOMImplementation","ParseError","XMLReader","normalizeLineEndings","replace","DOMParser","locator","buildErrorHandler","errorImpl","domBuilder","DOMHandler","errorHandler","isCallback","Function","build","fn","msg","_locator","cdata","position","lineNumber","columnNumber","systemId","_toString","chars","substr","java","lang","String","appendElement","hander","currentElement","doc","parseFromString","mimeType","defaultNSMap","entityMap","HTML_ENTITIES","XML_ENTITIES","setDocumentLocator","normalize","error","startDocument","createDocument","documentURI","startElement","localName","qName","attrs","el","len","getURI","getValue","getQName","createAttributeNS","getLocator","nodeValue","setAttributeNode","endElement","tagName","startPrefixMapping","endPrefixMapping","processingInstruction","ins","createProcessingInstruction","ignorableWhitespace","ch","characters","charNode","createCDATASection","createTextNode","skippedEntity","endDocument","comment","comm","createComment","startCDATA","endCDATA","startDTD","publicId","impl","implementation","createDocumentType","dt","doctype","warning","warn","fatalError","__DOMHandler","notEmptyString","splitOnASCIIWhitespace","orderedSetReducer","element","toOrderedSet","keys","reduce","arrayIncludes","src","dest","_extends","Class","Super","pt","NodeType","ELEMENT_NODE","ATTRIBUTE_NODE","TEXT_NODE","CDATA_SECTION_NODE","ENTITY_REFERENCE_NODE","ENTITY_NODE","PROCESSING_INSTRUCTION_NODE","COMMENT_NODE","DOCUMENT_NODE","DOCUMENT_TYPE_NODE","DOCUMENT_FRAGMENT_NODE","NOTATION_NODE","ExceptionCode","ExceptionMessage","HIERARCHY_REQUEST_ERR","INDEX_SIZE_ERR","DOMSTRING_SIZE_ERR","NOT_FOUND_ERR","WRONG_DOCUMENT_ERR","INVALID_CHARACTER_ERR","NO_DATA_ALLOWED_ERR","NO_MODIFICATION_ALLOWED_ERR","INUSE_ATTRIBUTE_ERR","NOT_SUPPORTED_ERR","DOMException","message","captureStackTrace","NodeList","LiveNodeList","refresh","_refresh","_updateLiveList","inc","_inc","ls","__set__","NamedNodeMap","_findNodeIndex","_addNamedNode","newAttr","oldAttr","ownerElement","_onRemoveAttribute","_onAddAttribute","_removeNamedNode","Node","_xmlEncoder","charCodeAt","_visitNode","Document","_nsMap","_onUpdateChild","newChild","cs","childNodes","_removeChild","lastChild","hasValidParentNodeType","nodeType","hasInsertableNodeType","isElementNode","isTextNode","isDocTypeNode","isElementInsertionPossible","parentChildNodes","docTypeNode","isElementReplacementPossible","hasElementChildThatIsNotChild","assertPreInsertionValidity1to5","assertPreInsertionValidityInDocument","nodeChildNodes","nodeChildElements","parentElementChild","assertPreReplacementValidityInDocument","hasDoctypeChildThatIsNotChild","_insertBefore","_inDocumentAssertion","cp","newFirst","newLast","pre","_appendSingleChild","Element","Attr","CharacterData","Text","Comment","CDATASection","DocumentType","Notation","Entity","EntityReference","DocumentFragment","ProcessingInstruction","XMLSerializer","nodeSerializeToString","isHtml","nodeFilter","buf","refNode","lookupPrefix","visibleNamespaces","namespace","serializeToString","needNamespaceDefine","ns","addSerializedAttribute","qualifiedName","attributes","nodeName","prefixedNodeName","defaultNS","ai","nsi","pubid","sysid","sub","internalSubset","importNode","node2","attrs2","_ownerElement","INVALID_STATE_ERR","SYNTAX_ERR","INVALID_MODIFICATION_ERR","NAMESPACE_ERR","INVALID_ACCESS_ERR","getNamedItem","setNamedItem","setNamedItemNS","getNamedItemNS","removeNamedItem","removeNamedItemNS","hasFeature","feature","version","refChild","replaceChild","oldChild","hasChildNodes","appendData","isSupported","hasAttributes","lookupNamespaceURI","isDefaultNamespace","importedNode","getElementById","rtv","getElementsByClassName","classNames","classNamesSet","base","nodeClassNames","nodeClassNamesSet","createDocumentFragment","createAttribute","specified","createEntityReference","pl","hasAttribute","getAttributeNode","removeAttributeNode","setAttributeNodeNS","old","getAttributeNodeNS","hasAttributeNS","getElementsByTagName","getElementsByTagNameNS","substringData","offset","count","substring","insertData","replaceData","deleteData","splitText","newText","newNode","defineProperty","getTextContent","$$length","DOMhelper","DOMHelper","forEach","selectors","first","amp","apos","gt","lt","quot","Agrave","Aacute","Acirc","Atilde","Auml","Aring","AElig","Ccedil","Egrave","Eacute","Ecirc","Euml","Igrave","Iacute","Icirc","Iuml","ETH","Ntilde","Ograve","Oacute","Ocirc","Otilde","Ouml","Oslash","Ugrave","Uacute","Ucirc","Uuml","Yacute","THORN","szlig","agrave","aacute","acirc","atilde","auml","aring","aelig","ccedil","egrave","eacute","ecirc","euml","igrave","iacute","icirc","iuml","eth","ntilde","ograve","oacute","ocirc","otilde","ouml","oslash","ugrave","uacute","ucirc","uuml","yacute","thorn","yuml","nbsp","iexcl","cent","pound","curren","yen","brvbar","sect","uml","ordf","laquo","not","shy","reg","macr","deg","plusmn","sup2","sup3","acute","micro","para","middot","cedil","sup1","ordm","raquo","frac14","frac12","frac34","iquest","times","divide","forall","part","exist","nabla","isin","notin","ni","prod","sum","minus","lowast","radic","prop","infin","ang","and","or","cap","cup","int","there4","sim","cong","asymp","ne","equiv","le","ge","sup","nsub","sube","supe","oplus","otimes","perp","sdot","Alpha","Beta","Gamma","Delta","Epsilon","Zeta","Eta","Theta","Iota","Kappa","Lambda","Mu","Nu","Xi","Omicron","Pi","Rho","Sigma","Tau","Upsilon","Phi","Chi","Psi","Omega","alpha","beta","delta","zeta","eta","theta","iota","kappa","lambda","mu","nu","xi","omicron","sigmaf","sigma","upsilon","phi","chi","psi","omega","thetasym","upsih","piv","OElig","oelig","Scaron","scaron","Yuml","fnof","circ","tilde","ensp","emsp","thinsp","zwnj","zwj","lrm","rlm","ndash","mdash","lsquo","rsquo","sbquo","ldquo","rdquo","bdquo","dagger","Dagger","bull","hellip","permil","prime","Prime","lsaquo","rsaquo","oline","euro","trade","larr","uarr","rarr","darr","harr","crarr","lceil","rceil","lfloor","rfloor","loz","spades","clubs","hearts","diams","global1","helper","isSingleMatch","isSingleSelect","lastSlice","lastContext","lastPosition","lastMatcher","lastSelector","lastPartsMatch","lastPartsSelect","standardValidator","extendedValidator","reValidator","attrcheck","attrmatcher","pseudoclass","reOptimizeSelector","reSimpleNot","reSplitToken","Optimize","identifier","QUIRKS_MODE","XML_DOCUMENT","prefixes","operators","whitespace","combinators","pseudoparms","skip_groups","any_esc_chr","alphalodash","non_asc_chr","escaped_chr","unicode_chr","quotedvalue","reSplitGroup","reTrimSpaces","reEscapedChars","extensions","Patterns","spseudos","dpseudos","epseudos","adjacent","relative","ancestor","universal","Tokens","GEBTN","GEBCN","IE_LT_9","LINK_NODES","A","area","AREA","link","LINK","ATTR_BOOLEAN","checked","disabled","ismap","multiple","readonly","selected","ATTR_DEFAULT","ATTR_URIDATA","action","cite","codebase","href","longdesc","lowsrc","usemap","HTML_TABLE","accept","align","alink","axis","bgcolor","charset","clear","codetype","compact","declare","defer","dir","direction","enctype","face","frame","hreflang","language","media","method","nohref","noresize","noshade","nowrap","rel","rev","rules","scope","scrolling","valign","valuetype","vlink","NATIVE_TRAVERSAL_API","Selectors","Operators","concatCall","elements","switchContext","force","oldDoc","compatMode","width","Config","CACHING","Dom","setCache","codePointToUTF16","codePoint","lowHex","stringFromCodePoint","fromCharCode","fromCodePoint","convertEscapes","str","p2","unescapeIdentifier","byIdRaw","_byId","getElementsByName","byId","byTagRaw","tag","any","toUpperCase","container","attribute","obj","configure","option","matchContexts","matchResolvers","selectContexts","selectResolvers","setIdentifierSyntax","SIMPLENOT","emit","VERBOSITY","LOGERRORS","ESCAPECHR","NON_ASCII","SELECTOR3","UNICODE16","SHORTCUTS","SVG_LCASE","UNIQUE_ID","USE_HTML5","initialize","syntax","ID","TAG","CLASS","className","ACCEPT_NODE","REJECT_NODE","TO_UPPER_CASE","compile","parts","compileSelector","token","seen","expr","result","status","Expression","Callback","shortcuts","Snapshot","changed","original","loadResults","saveResults","charAt","FN","isLink","isEmpty","nthOfType","last","succ","nthElement","registerOperator","symbol","resolver","registerSelector","rexp","func","$parcel$global","nameStartChar","nameChar","tagNamePattern","S_TAG","S_ATTR","S_ATTR_SPACE","S_EQ","S_ATTR_NOQUOT_VALUE","S_ATTR_END","S_TAG_SPACE","S_TAG_CLOSE","defaultNSMapCopy","fixedFromCharCode","surrogate1","surrogate2","entityReplacer","appendText","xt","lineEnd","linePattern","lineStart","parseStack","currentNSMap","closeMap","tagStart","config","localNSMap","endMatch","parseInstruction","parseDCC","ElementAttributes","parseElementStartPart","closed","fixSelfClosed","locator2","copyLocator","parseHtmlSpecialContent","addAttribute","qname","startIndex","attributeNames","addValue","attrName","setTagName","nsp","nsPrefix","_copy","elStartEnd","elEndStart","pos","lastIndexOf","matchs","lastMatch","endDTD","getLocalName","$1Dr1S","$icao6","$kOXEq","$3brMd","$6TtJe","$8nb8S","$h75hb","$j1JGG","$h7rvi","$1HF1T","$5QmPw","$gkCG6","$i4Jqb","$80c3c9cba49b32b9$export$2e2bcd8739ae039","$441384a629703166$var$sqrt3","$441384a629703166$export$2e2bcd8739ae039","$130e666881f78e68$export$2e2bcd8739ae039","$d3f167c6f105faca$export$2e2bcd8739ae039","$f286bf9d04fbe20e$var$tan30","$f286bf9d04fbe20e$var$tan30_2","$f286bf9d04fbe20e$export$2e2bcd8739ae039","$d28bd5731819fa9f$export$2e2bcd8739ae039","$dda18ce209787f9b$export$2e2bcd8739ae039","$2517f210cc5fa16b$export$2e2bcd8739ae039","$03117e011ebe8289$export$2e2bcd8739ae039","$504ef09d972d3305$var$kr","$504ef09d972d3305$var$kx","$504ef09d972d3305$var$ky","$504ef09d972d3305$export$2e2bcd8739ae039","$61891d5797395c18$var$sqrt3","$61891d5797395c18$export$2e2bcd8739ae039","$13d9a2383076c876$var$sqrt3","$13d9a2383076c876$export$2e2bcd8739ae039","$c7572ed86855c731$var$c","$c7572ed86855c731$var$s","$c7572ed86855c731$var$k","$c7572ed86855c731$var$a","$c7572ed86855c731$export$2e2bcd8739ae039","$c7686cd0b0203053$export$2e2bcd8739ae039"],"version":3,"file":"backgroundWorker.13776449.js.map"}