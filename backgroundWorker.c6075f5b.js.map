{"mappings":"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","sources":["node_modules/d3-selection/src/select.js","node_modules/d3-selection/src/selection/index.js","node_modules/d3-selection/src/selection/select.js","node_modules/d3-selection/src/selector.js","node_modules/d3-selection/src/selection/selectAll.js","node_modules/d3-selection/src/array.js","node_modules/d3-selection/src/selectorAll.js","node_modules/d3-selection/src/selection/selectChild.js","node_modules/d3-selection/src/matcher.js","node_modules/d3-selection/src/selection/selectChildren.js","node_modules/d3-selection/src/selection/filter.js","node_modules/d3-selection/src/selection/data.js","node_modules/d3-selection/src/selection/enter.js","node_modules/d3-selection/src/selection/sparse.js","node_modules/d3-selection/src/constant.js","node_modules/d3-selection/src/selection/exit.js","node_modules/d3-selection/src/selection/join.js","node_modules/d3-selection/src/selection/merge.js","node_modules/d3-selection/src/selection/order.js","node_modules/d3-selection/src/selection/sort.js","node_modules/d3-selection/src/selection/call.js","node_modules/d3-selection/src/selection/nodes.js","node_modules/d3-selection/src/selection/node.js","node_modules/d3-selection/src/selection/size.js","node_modules/d3-selection/src/selection/empty.js","node_modules/d3-selection/src/selection/each.js","node_modules/d3-selection/src/selection/attr.js","node_modules/d3-selection/src/namespace.js","node_modules/d3-selection/src/namespaces.js","node_modules/d3-selection/src/selection/style.js","node_modules/d3-selection/src/window.js","node_modules/d3-selection/src/selection/property.js","node_modules/d3-selection/src/selection/classed.js","node_modules/d3-selection/src/selection/text.js","node_modules/d3-selection/src/selection/html.js","node_modules/d3-selection/src/selection/raise.js","node_modules/d3-selection/src/selection/lower.js","node_modules/d3-selection/src/selection/append.js","node_modules/d3-selection/src/creator.js","node_modules/d3-selection/src/selection/insert.js","node_modules/d3-selection/src/selection/remove.js","node_modules/d3-selection/src/selection/clone.js","node_modules/d3-selection/src/selection/datum.js","node_modules/d3-selection/src/selection/on.js","node_modules/d3-selection/src/selection/dispatch.js","node_modules/d3-selection/src/selection/iterator.js","node_modules/d3-color/src/color.js","node_modules/d3-color/src/define.js","node_modules/d3-interpolate/src/rgb.js","node_modules/d3-interpolate/src/basis.js","node_modules/d3-interpolate/src/basisClosed.js","node_modules/d3-interpolate/src/color.js","node_modules/d3-interpolate/src/constant.js","node_modules/d3-interpolate/src/number.js","node_modules/d3-interpolate/src/string.js","node_modules/d3-shape/src/arc.js","node_modules/d3-shape/src/constant.js","node_modules/d3-shape/src/math.js","node_modules/d3-shape/src/path.js","node_modules/d3-path/src/path.js","src/d3/renderBackground.ts","node_modules/d3-ease/src/poly.js","node_modules/d3-timer/src/timer.js","node_modules/d3-transition/src/index.js","node_modules/d3-transition/src/selection/index.js","node_modules/d3-transition/src/selection/interrupt.js","node_modules/d3-transition/src/interrupt.js","node_modules/d3-transition/src/transition/schedule.js","node_modules/d3-dispatch/src/dispatch.js","node_modules/d3-timer/src/timeout.js","node_modules/d3-transition/src/selection/transition.js","node_modules/d3-transition/src/transition/index.js","node_modules/d3-transition/src/transition/attr.js","node_modules/d3-interpolate/src/transform/index.js","node_modules/d3-interpolate/src/transform/parse.js","node_modules/d3-interpolate/src/transform/decompose.js","node_modules/d3-transition/src/transition/tween.js","node_modules/d3-transition/src/transition/interpolate.js","node_modules/d3-transition/src/transition/attrTween.js","node_modules/d3-transition/src/transition/delay.js","node_modules/d3-transition/src/transition/duration.js","node_modules/d3-transition/src/transition/ease.js","node_modules/d3-transition/src/transition/easeVarying.js","node_modules/d3-transition/src/transition/filter.js","node_modules/d3-transition/src/transition/merge.js","node_modules/d3-transition/src/transition/on.js","node_modules/d3-transition/src/transition/remove.js","node_modules/d3-transition/src/transition/select.js","node_modules/d3-transition/src/transition/selectAll.js","node_modules/d3-transition/src/transition/selection.js","node_modules/d3-transition/src/transition/style.js","node_modules/d3-transition/src/transition/styleTween.js","node_modules/d3-transition/src/transition/text.js","node_modules/d3-transition/src/transition/textTween.js","node_modules/d3-transition/src/transition/transition.js","node_modules/d3-transition/src/transition/end.js","node_modules/d3-ease/src/cubic.js","src/domparser_bundle.js"],"sourcesContent":["import {Selection, root} from \"./selection/index.js\";\n\nexport default function(selector) {\n  return typeof selector === \"string\"\n      ? new Selection([[document.querySelector(selector)]], [document.documentElement])\n      : new Selection([[selector]], root);\n}\n","import selection_select from \"./select.js\";\nimport selection_selectAll from \"./selectAll.js\";\nimport selection_selectChild from \"./selectChild.js\";\nimport selection_selectChildren from \"./selectChildren.js\";\nimport selection_filter from \"./filter.js\";\nimport selection_data from \"./data.js\";\nimport selection_enter from \"./enter.js\";\nimport selection_exit from \"./exit.js\";\nimport selection_join from \"./join.js\";\nimport selection_merge from \"./merge.js\";\nimport selection_order from \"./order.js\";\nimport selection_sort from \"./sort.js\";\nimport selection_call from \"./call.js\";\nimport selection_nodes from \"./nodes.js\";\nimport selection_node from \"./node.js\";\nimport selection_size from \"./size.js\";\nimport selection_empty from \"./empty.js\";\nimport selection_each from \"./each.js\";\nimport selection_attr from \"./attr.js\";\nimport selection_style from \"./style.js\";\nimport selection_property from \"./property.js\";\nimport selection_classed from \"./classed.js\";\nimport selection_text from \"./text.js\";\nimport selection_html from \"./html.js\";\nimport selection_raise from \"./raise.js\";\nimport selection_lower from \"./lower.js\";\nimport selection_append from \"./append.js\";\nimport selection_insert from \"./insert.js\";\nimport selection_remove from \"./remove.js\";\nimport selection_clone from \"./clone.js\";\nimport selection_datum from \"./datum.js\";\nimport selection_on from \"./on.js\";\nimport selection_dispatch from \"./dispatch.js\";\nimport selection_iterator from \"./iterator.js\";\n\nexport var root = [null];\n\nexport function Selection(groups, parents) {\n  this._groups = groups;\n  this._parents = parents;\n}\n\nfunction selection() {\n  return new Selection([[document.documentElement]], root);\n}\n\nfunction selection_selection() {\n  return this;\n}\n\nSelection.prototype = selection.prototype = {\n  constructor: Selection,\n  select: selection_select,\n  selectAll: selection_selectAll,\n  selectChild: selection_selectChild,\n  selectChildren: selection_selectChildren,\n  filter: selection_filter,\n  data: selection_data,\n  enter: selection_enter,\n  exit: selection_exit,\n  join: selection_join,\n  merge: selection_merge,\n  selection: selection_selection,\n  order: selection_order,\n  sort: selection_sort,\n  call: selection_call,\n  nodes: selection_nodes,\n  node: selection_node,\n  size: selection_size,\n  empty: selection_empty,\n  each: selection_each,\n  attr: selection_attr,\n  style: selection_style,\n  property: selection_property,\n  classed: selection_classed,\n  text: selection_text,\n  html: selection_html,\n  raise: selection_raise,\n  lower: selection_lower,\n  append: selection_append,\n  insert: selection_insert,\n  remove: selection_remove,\n  clone: selection_clone,\n  datum: selection_datum,\n  on: selection_on,\n  dispatch: selection_dispatch,\n  [Symbol.iterator]: selection_iterator\n};\n\nexport default selection;\n","import {Selection} from \"./index.js\";\nimport selector from \"../selector.js\";\n\nexport default function(select) {\n  if (typeof select !== \"function\") select = selector(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = new Array(n), node, subnode, i = 0; i < n; ++i) {\n      if ((node = group[i]) && (subnode = select.call(node, node.__data__, i, group))) {\n        if (\"__data__\" in node) subnode.__data__ = node.__data__;\n        subgroup[i] = subnode;\n      }\n    }\n  }\n\n  return new Selection(subgroups, this._parents);\n}\n","function none() {}\n\nexport default function(selector) {\n  return selector == null ? none : function() {\n    return this.querySelector(selector);\n  };\n}\n","import {Selection} from \"./index.js\";\nimport array from \"../array.js\";\nimport selectorAll from \"../selectorAll.js\";\n\nfunction arrayAll(select) {\n  return function() {\n    return array(select.apply(this, arguments));\n  };\n}\n\nexport default function(select) {\n  if (typeof select === \"function\") select = arrayAll(select);\n  else select = selectorAll(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = [], parents = [], j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        subgroups.push(select.call(node, node.__data__, i, group));\n        parents.push(node);\n      }\n    }\n  }\n\n  return new Selection(subgroups, parents);\n}\n","// Given something array like (or null), returns something that is strictly an\n// array. This is used to ensure that array-like objects passed to d3.selectAll\n// or selection.selectAll are converted into proper arrays when creating a\n// selection; we don’t ever want to create a selection backed by a live\n// HTMLCollection or NodeList. However, note that selection.selectAll will use a\n// static NodeList as a group, since it safely derived from querySelectorAll.\nexport default function array(x) {\n  return x == null ? [] : Array.isArray(x) ? x : Array.from(x);\n}\n","function empty() {\n  return [];\n}\n\nexport default function(selector) {\n  return selector == null ? empty : function() {\n    return this.querySelectorAll(selector);\n  };\n}\n","import {childMatcher} from \"../matcher.js\";\n\nvar find = Array.prototype.find;\n\nfunction childFind(match) {\n  return function() {\n    return find.call(this.children, match);\n  };\n}\n\nfunction childFirst() {\n  return this.firstElementChild;\n}\n\nexport default function(match) {\n  return this.select(match == null ? childFirst\n      : childFind(typeof match === \"function\" ? match : childMatcher(match)));\n}\n","export default function(selector) {\n  return function() {\n    return this.matches(selector);\n  };\n}\n\nexport function childMatcher(selector) {\n  return function(node) {\n    return node.matches(selector);\n  };\n}\n\n","import {childMatcher} from \"../matcher.js\";\n\nvar filter = Array.prototype.filter;\n\nfunction children() {\n  return Array.from(this.children);\n}\n\nfunction childrenFilter(match) {\n  return function() {\n    return filter.call(this.children, match);\n  };\n}\n\nexport default function(match) {\n  return this.selectAll(match == null ? children\n      : childrenFilter(typeof match === \"function\" ? match : childMatcher(match)));\n}\n","import {Selection} from \"./index.js\";\nimport matcher from \"../matcher.js\";\n\nexport default function(match) {\n  if (typeof match !== \"function\") match = matcher(match);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = [], node, i = 0; i < n; ++i) {\n      if ((node = group[i]) && match.call(node, node.__data__, i, group)) {\n        subgroup.push(node);\n      }\n    }\n  }\n\n  return new Selection(subgroups, this._parents);\n}\n","import {Selection} from \"./index.js\";\nimport {EnterNode} from \"./enter.js\";\nimport constant from \"../constant.js\";\n\nfunction bindIndex(parent, group, enter, update, exit, data) {\n  var i = 0,\n      node,\n      groupLength = group.length,\n      dataLength = data.length;\n\n  // Put any non-null nodes that fit into update.\n  // Put any null nodes into enter.\n  // Put any remaining data into enter.\n  for (; i < dataLength; ++i) {\n    if (node = group[i]) {\n      node.__data__ = data[i];\n      update[i] = node;\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  }\n\n  // Put any non-null nodes that don’t fit into exit.\n  for (; i < groupLength; ++i) {\n    if (node = group[i]) {\n      exit[i] = node;\n    }\n  }\n}\n\nfunction bindKey(parent, group, enter, update, exit, data, key) {\n  var i,\n      node,\n      nodeByKeyValue = new Map,\n      groupLength = group.length,\n      dataLength = data.length,\n      keyValues = new Array(groupLength),\n      keyValue;\n\n  // Compute the key for each node.\n  // If multiple nodes have the same key, the duplicates are added to exit.\n  for (i = 0; i < groupLength; ++i) {\n    if (node = group[i]) {\n      keyValues[i] = keyValue = key.call(node, node.__data__, i, group) + \"\";\n      if (nodeByKeyValue.has(keyValue)) {\n        exit[i] = node;\n      } else {\n        nodeByKeyValue.set(keyValue, node);\n      }\n    }\n  }\n\n  // Compute the key for each datum.\n  // If there a node associated with this key, join and add it to update.\n  // If there is not (or the key is a duplicate), add it to enter.\n  for (i = 0; i < dataLength; ++i) {\n    keyValue = key.call(parent, data[i], i, data) + \"\";\n    if (node = nodeByKeyValue.get(keyValue)) {\n      update[i] = node;\n      node.__data__ = data[i];\n      nodeByKeyValue.delete(keyValue);\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  }\n\n  // Add any remaining nodes that were not bound to data to exit.\n  for (i = 0; i < groupLength; ++i) {\n    if ((node = group[i]) && (nodeByKeyValue.get(keyValues[i]) === node)) {\n      exit[i] = node;\n    }\n  }\n}\n\nfunction datum(node) {\n  return node.__data__;\n}\n\nexport default function(value, key) {\n  if (!arguments.length) return Array.from(this, datum);\n\n  var bind = key ? bindKey : bindIndex,\n      parents = this._parents,\n      groups = this._groups;\n\n  if (typeof value !== \"function\") value = constant(value);\n\n  for (var m = groups.length, update = new Array(m), enter = new Array(m), exit = new Array(m), j = 0; j < m; ++j) {\n    var parent = parents[j],\n        group = groups[j],\n        groupLength = group.length,\n        data = arraylike(value.call(parent, parent && parent.__data__, j, parents)),\n        dataLength = data.length,\n        enterGroup = enter[j] = new Array(dataLength),\n        updateGroup = update[j] = new Array(dataLength),\n        exitGroup = exit[j] = new Array(groupLength);\n\n    bind(parent, group, enterGroup, updateGroup, exitGroup, data, key);\n\n    // Now connect the enter nodes to their following update node, such that\n    // appendChild can insert the materialized enter node before this node,\n    // rather than at the end of the parent node.\n    for (var i0 = 0, i1 = 0, previous, next; i0 < dataLength; ++i0) {\n      if (previous = enterGroup[i0]) {\n        if (i0 >= i1) i1 = i0 + 1;\n        while (!(next = updateGroup[i1]) && ++i1 < dataLength);\n        previous._next = next || null;\n      }\n    }\n  }\n\n  update = new Selection(update, parents);\n  update._enter = enter;\n  update._exit = exit;\n  return update;\n}\n\n// Given some data, this returns an array-like view of it: an object that\n// exposes a length property and allows numeric indexing. Note that unlike\n// selectAll, this isn’t worried about “live” collections because the resulting\n// array will only be used briefly while data is being bound. (It is possible to\n// cause the data to change while iterating by using a key function, but please\n// don’t; we’d rather avoid a gratuitous copy.)\nfunction arraylike(data) {\n  return typeof data === \"object\" && \"length\" in data\n    ? data // Array, TypedArray, NodeList, array-like\n    : Array.from(data); // Map, Set, iterable, string, or anything else\n}\n","import sparse from \"./sparse.js\";\nimport {Selection} from \"./index.js\";\n\nexport default function() {\n  return new Selection(this._enter || this._groups.map(sparse), this._parents);\n}\n\nexport function EnterNode(parent, datum) {\n  this.ownerDocument = parent.ownerDocument;\n  this.namespaceURI = parent.namespaceURI;\n  this._next = null;\n  this._parent = parent;\n  this.__data__ = datum;\n}\n\nEnterNode.prototype = {\n  constructor: EnterNode,\n  appendChild: function(child) { return this._parent.insertBefore(child, this._next); },\n  insertBefore: function(child, next) { return this._parent.insertBefore(child, next); },\n  querySelector: function(selector) { return this._parent.querySelector(selector); },\n  querySelectorAll: function(selector) { return this._parent.querySelectorAll(selector); }\n};\n","export default function(update) {\n  return new Array(update.length);\n}\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","import sparse from \"./sparse.js\";\nimport {Selection} from \"./index.js\";\n\nexport default function() {\n  return new Selection(this._exit || this._groups.map(sparse), this._parents);\n}\n","export default function(onenter, onupdate, onexit) {\n  var enter = this.enter(), update = this, exit = this.exit();\n  if (typeof onenter === \"function\") {\n    enter = onenter(enter);\n    if (enter) enter = enter.selection();\n  } else {\n    enter = enter.append(onenter + \"\");\n  }\n  if (onupdate != null) {\n    update = onupdate(update);\n    if (update) update = update.selection();\n  }\n  if (onexit == null) exit.remove(); else onexit(exit);\n  return enter && update ? enter.merge(update).order() : update;\n}\n","import {Selection} from \"./index.js\";\n\nexport default function(context) {\n  var selection = context.selection ? context.selection() : context;\n\n  for (var groups0 = this._groups, groups1 = selection._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {\n    for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge = merges[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group0[i] || group1[i]) {\n        merge[i] = node;\n      }\n    }\n  }\n\n  for (; j < m0; ++j) {\n    merges[j] = groups0[j];\n  }\n\n  return new Selection(merges, this._parents);\n}\n","export default function() {\n\n  for (var groups = this._groups, j = -1, m = groups.length; ++j < m;) {\n    for (var group = groups[j], i = group.length - 1, next = group[i], node; --i >= 0;) {\n      if (node = group[i]) {\n        if (next && node.compareDocumentPosition(next) ^ 4) next.parentNode.insertBefore(node, next);\n        next = node;\n      }\n    }\n  }\n\n  return this;\n}\n","import {Selection} from \"./index.js\";\n\nexport default function(compare) {\n  if (!compare) compare = ascending;\n\n  function compareNode(a, b) {\n    return a && b ? compare(a.__data__, b.__data__) : !a - !b;\n  }\n\n  for (var groups = this._groups, m = groups.length, sortgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, sortgroup = sortgroups[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        sortgroup[i] = node;\n      }\n    }\n    sortgroup.sort(compareNode);\n  }\n\n  return new Selection(sortgroups, this._parents).order();\n}\n\nfunction ascending(a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n","export default function() {\n  var callback = arguments[0];\n  arguments[0] = this;\n  callback.apply(null, arguments);\n  return this;\n}\n","export default function() {\n  return Array.from(this);\n}\n","export default function() {\n\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length; i < n; ++i) {\n      var node = group[i];\n      if (node) return node;\n    }\n  }\n\n  return null;\n}\n","export default function() {\n  let size = 0;\n  for (const node of this) ++size; // eslint-disable-line no-unused-vars\n  return size;\n}\n","export default function() {\n  return !this.node();\n}\n","export default function(callback) {\n\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length, node; i < n; ++i) {\n      if (node = group[i]) callback.call(node, node.__data__, i, group);\n    }\n  }\n\n  return this;\n}\n","import namespace from \"../namespace.js\";\n\nfunction attrRemove(name) {\n  return function() {\n    this.removeAttribute(name);\n  };\n}\n\nfunction attrRemoveNS(fullname) {\n  return function() {\n    this.removeAttributeNS(fullname.space, fullname.local);\n  };\n}\n\nfunction attrConstant(name, value) {\n  return function() {\n    this.setAttribute(name, value);\n  };\n}\n\nfunction attrConstantNS(fullname, value) {\n  return function() {\n    this.setAttributeNS(fullname.space, fullname.local, value);\n  };\n}\n\nfunction attrFunction(name, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.removeAttribute(name);\n    else this.setAttribute(name, v);\n  };\n}\n\nfunction attrFunctionNS(fullname, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.removeAttributeNS(fullname.space, fullname.local);\n    else this.setAttributeNS(fullname.space, fullname.local, v);\n  };\n}\n\nexport default function(name, value) {\n  var fullname = namespace(name);\n\n  if (arguments.length < 2) {\n    var node = this.node();\n    return fullname.local\n        ? node.getAttributeNS(fullname.space, fullname.local)\n        : node.getAttribute(fullname);\n  }\n\n  return this.each((value == null\n      ? (fullname.local ? attrRemoveNS : attrRemove) : (typeof value === \"function\"\n      ? (fullname.local ? attrFunctionNS : attrFunction)\n      : (fullname.local ? attrConstantNS : attrConstant)))(fullname, value));\n}\n","import namespaces from \"./namespaces.js\";\n\nexport default function(name) {\n  var prefix = name += \"\", i = prefix.indexOf(\":\");\n  if (i >= 0 && (prefix = name.slice(0, i)) !== \"xmlns\") name = name.slice(i + 1);\n  return namespaces.hasOwnProperty(prefix) ? {space: namespaces[prefix], local: name} : name; // eslint-disable-line no-prototype-builtins\n}\n","export var xhtml = \"http://www.w3.org/1999/xhtml\";\n\nexport default {\n  svg: \"http://www.w3.org/2000/svg\",\n  xhtml: xhtml,\n  xlink: \"http://www.w3.org/1999/xlink\",\n  xml: \"http://www.w3.org/XML/1998/namespace\",\n  xmlns: \"http://www.w3.org/2000/xmlns/\"\n};\n","import defaultView from \"../window.js\";\n\nfunction styleRemove(name) {\n  return function() {\n    this.style.removeProperty(name);\n  };\n}\n\nfunction styleConstant(name, value, priority) {\n  return function() {\n    this.style.setProperty(name, value, priority);\n  };\n}\n\nfunction styleFunction(name, value, priority) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.style.removeProperty(name);\n    else this.style.setProperty(name, v, priority);\n  };\n}\n\nexport default function(name, value, priority) {\n  return arguments.length > 1\n      ? this.each((value == null\n            ? styleRemove : typeof value === \"function\"\n            ? styleFunction\n            : styleConstant)(name, value, priority == null ? \"\" : priority))\n      : styleValue(this.node(), name);\n}\n\nexport function styleValue(node, name) {\n  return node.style.getPropertyValue(name)\n      || defaultView(node).getComputedStyle(node, null).getPropertyValue(name);\n}\n","export default function(node) {\n  return (node.ownerDocument && node.ownerDocument.defaultView) // node is a Node\n      || (node.document && node) // node is a Window\n      || node.defaultView; // node is a Document\n}\n","function propertyRemove(name) {\n  return function() {\n    delete this[name];\n  };\n}\n\nfunction propertyConstant(name, value) {\n  return function() {\n    this[name] = value;\n  };\n}\n\nfunction propertyFunction(name, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) delete this[name];\n    else this[name] = v;\n  };\n}\n\nexport default function(name, value) {\n  return arguments.length > 1\n      ? this.each((value == null\n          ? propertyRemove : typeof value === \"function\"\n          ? propertyFunction\n          : propertyConstant)(name, value))\n      : this.node()[name];\n}\n","function classArray(string) {\n  return string.trim().split(/^|\\s+/);\n}\n\nfunction classList(node) {\n  return node.classList || new ClassList(node);\n}\n\nfunction ClassList(node) {\n  this._node = node;\n  this._names = classArray(node.getAttribute(\"class\") || \"\");\n}\n\nClassList.prototype = {\n  add: function(name) {\n    var i = this._names.indexOf(name);\n    if (i < 0) {\n      this._names.push(name);\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  remove: function(name) {\n    var i = this._names.indexOf(name);\n    if (i >= 0) {\n      this._names.splice(i, 1);\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  contains: function(name) {\n    return this._names.indexOf(name) >= 0;\n  }\n};\n\nfunction classedAdd(node, names) {\n  var list = classList(node), i = -1, n = names.length;\n  while (++i < n) list.add(names[i]);\n}\n\nfunction classedRemove(node, names) {\n  var list = classList(node), i = -1, n = names.length;\n  while (++i < n) list.remove(names[i]);\n}\n\nfunction classedTrue(names) {\n  return function() {\n    classedAdd(this, names);\n  };\n}\n\nfunction classedFalse(names) {\n  return function() {\n    classedRemove(this, names);\n  };\n}\n\nfunction classedFunction(names, value) {\n  return function() {\n    (value.apply(this, arguments) ? classedAdd : classedRemove)(this, names);\n  };\n}\n\nexport default function(name, value) {\n  var names = classArray(name + \"\");\n\n  if (arguments.length < 2) {\n    var list = classList(this.node()), i = -1, n = names.length;\n    while (++i < n) if (!list.contains(names[i])) return false;\n    return true;\n  }\n\n  return this.each((typeof value === \"function\"\n      ? classedFunction : value\n      ? classedTrue\n      : classedFalse)(names, value));\n}\n","function textRemove() {\n  this.textContent = \"\";\n}\n\nfunction textConstant(value) {\n  return function() {\n    this.textContent = value;\n  };\n}\n\nfunction textFunction(value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    this.textContent = v == null ? \"\" : v;\n  };\n}\n\nexport default function(value) {\n  return arguments.length\n      ? this.each(value == null\n          ? textRemove : (typeof value === \"function\"\n          ? textFunction\n          : textConstant)(value))\n      : this.node().textContent;\n}\n","function htmlRemove() {\n  this.innerHTML = \"\";\n}\n\nfunction htmlConstant(value) {\n  return function() {\n    this.innerHTML = value;\n  };\n}\n\nfunction htmlFunction(value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    this.innerHTML = v == null ? \"\" : v;\n  };\n}\n\nexport default function(value) {\n  return arguments.length\n      ? this.each(value == null\n          ? htmlRemove : (typeof value === \"function\"\n          ? htmlFunction\n          : htmlConstant)(value))\n      : this.node().innerHTML;\n}\n","function raise() {\n  if (this.nextSibling) this.parentNode.appendChild(this);\n}\n\nexport default function() {\n  return this.each(raise);\n}\n","function lower() {\n  if (this.previousSibling) this.parentNode.insertBefore(this, this.parentNode.firstChild);\n}\n\nexport default function() {\n  return this.each(lower);\n}\n","import creator from \"../creator.js\";\n\nexport default function(name) {\n  var create = typeof name === \"function\" ? name : creator(name);\n  return this.select(function() {\n    return this.appendChild(create.apply(this, arguments));\n  });\n}\n","import namespace from \"./namespace.js\";\nimport {xhtml} from \"./namespaces.js\";\n\nfunction creatorInherit(name) {\n  return function() {\n    var document = this.ownerDocument,\n        uri = this.namespaceURI;\n    return uri === xhtml && document.documentElement.namespaceURI === xhtml\n        ? document.createElement(name)\n        : document.createElementNS(uri, name);\n  };\n}\n\nfunction creatorFixed(fullname) {\n  return function() {\n    return this.ownerDocument.createElementNS(fullname.space, fullname.local);\n  };\n}\n\nexport default function(name) {\n  var fullname = namespace(name);\n  return (fullname.local\n      ? creatorFixed\n      : creatorInherit)(fullname);\n}\n","import creator from \"../creator.js\";\nimport selector from \"../selector.js\";\n\nfunction constantNull() {\n  return null;\n}\n\nexport default function(name, before) {\n  var create = typeof name === \"function\" ? name : creator(name),\n      select = before == null ? constantNull : typeof before === \"function\" ? before : selector(before);\n  return this.select(function() {\n    return this.insertBefore(create.apply(this, arguments), select.apply(this, arguments) || null);\n  });\n}\n","function remove() {\n  var parent = this.parentNode;\n  if (parent) parent.removeChild(this);\n}\n\nexport default function() {\n  return this.each(remove);\n}\n","function selection_cloneShallow() {\n  var clone = this.cloneNode(false), parent = this.parentNode;\n  return parent ? parent.insertBefore(clone, this.nextSibling) : clone;\n}\n\nfunction selection_cloneDeep() {\n  var clone = this.cloneNode(true), parent = this.parentNode;\n  return parent ? parent.insertBefore(clone, this.nextSibling) : clone;\n}\n\nexport default function(deep) {\n  return this.select(deep ? selection_cloneDeep : selection_cloneShallow);\n}\n","export default function(value) {\n  return arguments.length\n      ? this.property(\"__data__\", value)\n      : this.node().__data__;\n}\n","function contextListener(listener) {\n  return function(event) {\n    listener.call(this, event, this.__data__);\n  };\n}\n\nfunction parseTypenames(typenames) {\n  return typenames.trim().split(/^|\\s+/).map(function(t) {\n    var name = \"\", i = t.indexOf(\".\");\n    if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);\n    return {type: t, name: name};\n  });\n}\n\nfunction onRemove(typename) {\n  return function() {\n    var on = this.__on;\n    if (!on) return;\n    for (var j = 0, i = -1, m = on.length, o; j < m; ++j) {\n      if (o = on[j], (!typename.type || o.type === typename.type) && o.name === typename.name) {\n        this.removeEventListener(o.type, o.listener, o.options);\n      } else {\n        on[++i] = o;\n      }\n    }\n    if (++i) on.length = i;\n    else delete this.__on;\n  };\n}\n\nfunction onAdd(typename, value, options) {\n  return function() {\n    var on = this.__on, o, listener = contextListener(value);\n    if (on) for (var j = 0, m = on.length; j < m; ++j) {\n      if ((o = on[j]).type === typename.type && o.name === typename.name) {\n        this.removeEventListener(o.type, o.listener, o.options);\n        this.addEventListener(o.type, o.listener = listener, o.options = options);\n        o.value = value;\n        return;\n      }\n    }\n    this.addEventListener(typename.type, listener, options);\n    o = {type: typename.type, name: typename.name, value: value, listener: listener, options: options};\n    if (!on) this.__on = [o];\n    else on.push(o);\n  };\n}\n\nexport default function(typename, value, options) {\n  var typenames = parseTypenames(typename + \"\"), i, n = typenames.length, t;\n\n  if (arguments.length < 2) {\n    var on = this.node().__on;\n    if (on) for (var j = 0, m = on.length, o; j < m; ++j) {\n      for (i = 0, o = on[j]; i < n; ++i) {\n        if ((t = typenames[i]).type === o.type && t.name === o.name) {\n          return o.value;\n        }\n      }\n    }\n    return;\n  }\n\n  on = value ? onAdd : onRemove;\n  for (i = 0; i < n; ++i) this.each(on(typenames[i], value, options));\n  return this;\n}\n","import defaultView from \"../window.js\";\n\nfunction dispatchEvent(node, type, params) {\n  var window = defaultView(node),\n      event = window.CustomEvent;\n\n  if (typeof event === \"function\") {\n    event = new event(type, params);\n  } else {\n    event = window.document.createEvent(\"Event\");\n    if (params) event.initEvent(type, params.bubbles, params.cancelable), event.detail = params.detail;\n    else event.initEvent(type, false, false);\n  }\n\n  node.dispatchEvent(event);\n}\n\nfunction dispatchConstant(type, params) {\n  return function() {\n    return dispatchEvent(this, type, params);\n  };\n}\n\nfunction dispatchFunction(type, params) {\n  return function() {\n    return dispatchEvent(this, type, params.apply(this, arguments));\n  };\n}\n\nexport default function(type, params) {\n  return this.each((typeof params === \"function\"\n      ? dispatchFunction\n      : dispatchConstant)(type, params));\n}\n","export default function*() {\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length, node; i < n; ++i) {\n      if (node = group[i]) yield node;\n    }\n  }\n}\n","import define, {extend} from \"./define.js\";\n\nexport function Color() {}\n\nexport var darker = 0.7;\nexport var brighter = 1 / darker;\n\nvar reI = \"\\\\s*([+-]?\\\\d+)\\\\s*\",\n    reN = \"\\\\s*([+-]?(?:\\\\d*\\\\.)?\\\\d+(?:[eE][+-]?\\\\d+)?)\\\\s*\",\n    reP = \"\\\\s*([+-]?(?:\\\\d*\\\\.)?\\\\d+(?:[eE][+-]?\\\\d+)?)%\\\\s*\",\n    reHex = /^#([0-9a-f]{3,8})$/,\n    reRgbInteger = new RegExp(`^rgb\\\\(${reI},${reI},${reI}\\\\)$`),\n    reRgbPercent = new RegExp(`^rgb\\\\(${reP},${reP},${reP}\\\\)$`),\n    reRgbaInteger = new RegExp(`^rgba\\\\(${reI},${reI},${reI},${reN}\\\\)$`),\n    reRgbaPercent = new RegExp(`^rgba\\\\(${reP},${reP},${reP},${reN}\\\\)$`),\n    reHslPercent = new RegExp(`^hsl\\\\(${reN},${reP},${reP}\\\\)$`),\n    reHslaPercent = new RegExp(`^hsla\\\\(${reN},${reP},${reP},${reN}\\\\)$`);\n\nvar named = {\n  aliceblue: 0xf0f8ff,\n  antiquewhite: 0xfaebd7,\n  aqua: 0x00ffff,\n  aquamarine: 0x7fffd4,\n  azure: 0xf0ffff,\n  beige: 0xf5f5dc,\n  bisque: 0xffe4c4,\n  black: 0x000000,\n  blanchedalmond: 0xffebcd,\n  blue: 0x0000ff,\n  blueviolet: 0x8a2be2,\n  brown: 0xa52a2a,\n  burlywood: 0xdeb887,\n  cadetblue: 0x5f9ea0,\n  chartreuse: 0x7fff00,\n  chocolate: 0xd2691e,\n  coral: 0xff7f50,\n  cornflowerblue: 0x6495ed,\n  cornsilk: 0xfff8dc,\n  crimson: 0xdc143c,\n  cyan: 0x00ffff,\n  darkblue: 0x00008b,\n  darkcyan: 0x008b8b,\n  darkgoldenrod: 0xb8860b,\n  darkgray: 0xa9a9a9,\n  darkgreen: 0x006400,\n  darkgrey: 0xa9a9a9,\n  darkkhaki: 0xbdb76b,\n  darkmagenta: 0x8b008b,\n  darkolivegreen: 0x556b2f,\n  darkorange: 0xff8c00,\n  darkorchid: 0x9932cc,\n  darkred: 0x8b0000,\n  darksalmon: 0xe9967a,\n  darkseagreen: 0x8fbc8f,\n  darkslateblue: 0x483d8b,\n  darkslategray: 0x2f4f4f,\n  darkslategrey: 0x2f4f4f,\n  darkturquoise: 0x00ced1,\n  darkviolet: 0x9400d3,\n  deeppink: 0xff1493,\n  deepskyblue: 0x00bfff,\n  dimgray: 0x696969,\n  dimgrey: 0x696969,\n  dodgerblue: 0x1e90ff,\n  firebrick: 0xb22222,\n  floralwhite: 0xfffaf0,\n  forestgreen: 0x228b22,\n  fuchsia: 0xff00ff,\n  gainsboro: 0xdcdcdc,\n  ghostwhite: 0xf8f8ff,\n  gold: 0xffd700,\n  goldenrod: 0xdaa520,\n  gray: 0x808080,\n  green: 0x008000,\n  greenyellow: 0xadff2f,\n  grey: 0x808080,\n  honeydew: 0xf0fff0,\n  hotpink: 0xff69b4,\n  indianred: 0xcd5c5c,\n  indigo: 0x4b0082,\n  ivory: 0xfffff0,\n  khaki: 0xf0e68c,\n  lavender: 0xe6e6fa,\n  lavenderblush: 0xfff0f5,\n  lawngreen: 0x7cfc00,\n  lemonchiffon: 0xfffacd,\n  lightblue: 0xadd8e6,\n  lightcoral: 0xf08080,\n  lightcyan: 0xe0ffff,\n  lightgoldenrodyellow: 0xfafad2,\n  lightgray: 0xd3d3d3,\n  lightgreen: 0x90ee90,\n  lightgrey: 0xd3d3d3,\n  lightpink: 0xffb6c1,\n  lightsalmon: 0xffa07a,\n  lightseagreen: 0x20b2aa,\n  lightskyblue: 0x87cefa,\n  lightslategray: 0x778899,\n  lightslategrey: 0x778899,\n  lightsteelblue: 0xb0c4de,\n  lightyellow: 0xffffe0,\n  lime: 0x00ff00,\n  limegreen: 0x32cd32,\n  linen: 0xfaf0e6,\n  magenta: 0xff00ff,\n  maroon: 0x800000,\n  mediumaquamarine: 0x66cdaa,\n  mediumblue: 0x0000cd,\n  mediumorchid: 0xba55d3,\n  mediumpurple: 0x9370db,\n  mediumseagreen: 0x3cb371,\n  mediumslateblue: 0x7b68ee,\n  mediumspringgreen: 0x00fa9a,\n  mediumturquoise: 0x48d1cc,\n  mediumvioletred: 0xc71585,\n  midnightblue: 0x191970,\n  mintcream: 0xf5fffa,\n  mistyrose: 0xffe4e1,\n  moccasin: 0xffe4b5,\n  navajowhite: 0xffdead,\n  navy: 0x000080,\n  oldlace: 0xfdf5e6,\n  olive: 0x808000,\n  olivedrab: 0x6b8e23,\n  orange: 0xffa500,\n  orangered: 0xff4500,\n  orchid: 0xda70d6,\n  palegoldenrod: 0xeee8aa,\n  palegreen: 0x98fb98,\n  paleturquoise: 0xafeeee,\n  palevioletred: 0xdb7093,\n  papayawhip: 0xffefd5,\n  peachpuff: 0xffdab9,\n  peru: 0xcd853f,\n  pink: 0xffc0cb,\n  plum: 0xdda0dd,\n  powderblue: 0xb0e0e6,\n  purple: 0x800080,\n  rebeccapurple: 0x663399,\n  red: 0xff0000,\n  rosybrown: 0xbc8f8f,\n  royalblue: 0x4169e1,\n  saddlebrown: 0x8b4513,\n  salmon: 0xfa8072,\n  sandybrown: 0xf4a460,\n  seagreen: 0x2e8b57,\n  seashell: 0xfff5ee,\n  sienna: 0xa0522d,\n  silver: 0xc0c0c0,\n  skyblue: 0x87ceeb,\n  slateblue: 0x6a5acd,\n  slategray: 0x708090,\n  slategrey: 0x708090,\n  snow: 0xfffafa,\n  springgreen: 0x00ff7f,\n  steelblue: 0x4682b4,\n  tan: 0xd2b48c,\n  teal: 0x008080,\n  thistle: 0xd8bfd8,\n  tomato: 0xff6347,\n  turquoise: 0x40e0d0,\n  violet: 0xee82ee,\n  wheat: 0xf5deb3,\n  white: 0xffffff,\n  whitesmoke: 0xf5f5f5,\n  yellow: 0xffff00,\n  yellowgreen: 0x9acd32\n};\n\ndefine(Color, color, {\n  copy(channels) {\n    return Object.assign(new this.constructor, this, channels);\n  },\n  displayable() {\n    return this.rgb().displayable();\n  },\n  hex: color_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: color_formatHex,\n  formatHex8: color_formatHex8,\n  formatHsl: color_formatHsl,\n  formatRgb: color_formatRgb,\n  toString: color_formatRgb\n});\n\nfunction color_formatHex() {\n  return this.rgb().formatHex();\n}\n\nfunction color_formatHex8() {\n  return this.rgb().formatHex8();\n}\n\nfunction color_formatHsl() {\n  return hslConvert(this).formatHsl();\n}\n\nfunction color_formatRgb() {\n  return this.rgb().formatRgb();\n}\n\nexport default function color(format) {\n  var m, l;\n  format = (format + \"\").trim().toLowerCase();\n  return (m = reHex.exec(format)) ? (l = m[1].length, m = parseInt(m[1], 16), l === 6 ? rgbn(m) // #ff0000\n      : l === 3 ? new Rgb((m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), ((m & 0xf) << 4) | (m & 0xf), 1) // #f00\n      : l === 8 ? rgba(m >> 24 & 0xff, m >> 16 & 0xff, m >> 8 & 0xff, (m & 0xff) / 0xff) // #ff000000\n      : l === 4 ? rgba((m >> 12 & 0xf) | (m >> 8 & 0xf0), (m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), (((m & 0xf) << 4) | (m & 0xf)) / 0xff) // #f000\n      : null) // invalid hex\n      : (m = reRgbInteger.exec(format)) ? new Rgb(m[1], m[2], m[3], 1) // rgb(255, 0, 0)\n      : (m = reRgbPercent.exec(format)) ? new Rgb(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, 1) // rgb(100%, 0%, 0%)\n      : (m = reRgbaInteger.exec(format)) ? rgba(m[1], m[2], m[3], m[4]) // rgba(255, 0, 0, 1)\n      : (m = reRgbaPercent.exec(format)) ? rgba(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, m[4]) // rgb(100%, 0%, 0%, 1)\n      : (m = reHslPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, 1) // hsl(120, 50%, 50%)\n      : (m = reHslaPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, m[4]) // hsla(120, 50%, 50%, 1)\n      : named.hasOwnProperty(format) ? rgbn(named[format]) // eslint-disable-line no-prototype-builtins\n      : format === \"transparent\" ? new Rgb(NaN, NaN, NaN, 0)\n      : null;\n}\n\nfunction rgbn(n) {\n  return new Rgb(n >> 16 & 0xff, n >> 8 & 0xff, n & 0xff, 1);\n}\n\nfunction rgba(r, g, b, a) {\n  if (a <= 0) r = g = b = NaN;\n  return new Rgb(r, g, b, a);\n}\n\nexport function rgbConvert(o) {\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Rgb;\n  o = o.rgb();\n  return new Rgb(o.r, o.g, o.b, o.opacity);\n}\n\nexport function rgb(r, g, b, opacity) {\n  return arguments.length === 1 ? rgbConvert(r) : new Rgb(r, g, b, opacity == null ? 1 : opacity);\n}\n\nexport function Rgb(r, g, b, opacity) {\n  this.r = +r;\n  this.g = +g;\n  this.b = +b;\n  this.opacity = +opacity;\n}\n\ndefine(Rgb, rgb, extend(Color, {\n  brighter(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  darker(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  rgb() {\n    return this;\n  },\n  clamp() {\n    return new Rgb(clampi(this.r), clampi(this.g), clampi(this.b), clampa(this.opacity));\n  },\n  displayable() {\n    return (-0.5 <= this.r && this.r < 255.5)\n        && (-0.5 <= this.g && this.g < 255.5)\n        && (-0.5 <= this.b && this.b < 255.5)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  hex: rgb_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: rgb_formatHex,\n  formatHex8: rgb_formatHex8,\n  formatRgb: rgb_formatRgb,\n  toString: rgb_formatRgb\n}));\n\nfunction rgb_formatHex() {\n  return `#${hex(this.r)}${hex(this.g)}${hex(this.b)}`;\n}\n\nfunction rgb_formatHex8() {\n  return `#${hex(this.r)}${hex(this.g)}${hex(this.b)}${hex((isNaN(this.opacity) ? 1 : this.opacity) * 255)}`;\n}\n\nfunction rgb_formatRgb() {\n  const a = clampa(this.opacity);\n  return `${a === 1 ? \"rgb(\" : \"rgba(\"}${clampi(this.r)}, ${clampi(this.g)}, ${clampi(this.b)}${a === 1 ? \")\" : `, ${a})`}`;\n}\n\nfunction clampa(opacity) {\n  return isNaN(opacity) ? 1 : Math.max(0, Math.min(1, opacity));\n}\n\nfunction clampi(value) {\n  return Math.max(0, Math.min(255, Math.round(value) || 0));\n}\n\nfunction hex(value) {\n  value = clampi(value);\n  return (value < 16 ? \"0\" : \"\") + value.toString(16);\n}\n\nfunction hsla(h, s, l, a) {\n  if (a <= 0) h = s = l = NaN;\n  else if (l <= 0 || l >= 1) h = s = NaN;\n  else if (s <= 0) h = NaN;\n  return new Hsl(h, s, l, a);\n}\n\nexport function hslConvert(o) {\n  if (o instanceof Hsl) return new Hsl(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Hsl;\n  if (o instanceof Hsl) return o;\n  o = o.rgb();\n  var r = o.r / 255,\n      g = o.g / 255,\n      b = o.b / 255,\n      min = Math.min(r, g, b),\n      max = Math.max(r, g, b),\n      h = NaN,\n      s = max - min,\n      l = (max + min) / 2;\n  if (s) {\n    if (r === max) h = (g - b) / s + (g < b) * 6;\n    else if (g === max) h = (b - r) / s + 2;\n    else h = (r - g) / s + 4;\n    s /= l < 0.5 ? max + min : 2 - max - min;\n    h *= 60;\n  } else {\n    s = l > 0 && l < 1 ? 0 : h;\n  }\n  return new Hsl(h, s, l, o.opacity);\n}\n\nexport function hsl(h, s, l, opacity) {\n  return arguments.length === 1 ? hslConvert(h) : new Hsl(h, s, l, opacity == null ? 1 : opacity);\n}\n\nfunction Hsl(h, s, l, opacity) {\n  this.h = +h;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Hsl, hsl, extend(Color, {\n  brighter(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb() {\n    var h = this.h % 360 + (this.h < 0) * 360,\n        s = isNaN(h) || isNaN(this.s) ? 0 : this.s,\n        l = this.l,\n        m2 = l + (l < 0.5 ? l : 1 - l) * s,\n        m1 = 2 * l - m2;\n    return new Rgb(\n      hsl2rgb(h >= 240 ? h - 240 : h + 120, m1, m2),\n      hsl2rgb(h, m1, m2),\n      hsl2rgb(h < 120 ? h + 240 : h - 120, m1, m2),\n      this.opacity\n    );\n  },\n  clamp() {\n    return new Hsl(clamph(this.h), clampt(this.s), clampt(this.l), clampa(this.opacity));\n  },\n  displayable() {\n    return (0 <= this.s && this.s <= 1 || isNaN(this.s))\n        && (0 <= this.l && this.l <= 1)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  formatHsl() {\n    const a = clampa(this.opacity);\n    return `${a === 1 ? \"hsl(\" : \"hsla(\"}${clamph(this.h)}, ${clampt(this.s) * 100}%, ${clampt(this.l) * 100}%${a === 1 ? \")\" : `, ${a})`}`;\n  }\n}));\n\nfunction clamph(value) {\n  value = (value || 0) % 360;\n  return value < 0 ? value + 360 : value;\n}\n\nfunction clampt(value) {\n  return Math.max(0, Math.min(1, value || 0));\n}\n\n/* From FvD 13.37, CSS Color Module Level 3 */\nfunction hsl2rgb(h, m1, m2) {\n  return (h < 60 ? m1 + (m2 - m1) * h / 60\n      : h < 180 ? m2\n      : h < 240 ? m1 + (m2 - m1) * (240 - h) / 60\n      : m1) * 255;\n}\n","export default function(constructor, factory, prototype) {\n  constructor.prototype = factory.prototype = prototype;\n  prototype.constructor = constructor;\n}\n\nexport function extend(parent, definition) {\n  var prototype = Object.create(parent.prototype);\n  for (var key in definition) prototype[key] = definition[key];\n  return prototype;\n}\n","import {rgb as colorRgb} from \"d3-color\";\nimport basis from \"./basis.js\";\nimport basisClosed from \"./basisClosed.js\";\nimport nogamma, {gamma} from \"./color.js\";\n\nexport default (function rgbGamma(y) {\n  var color = gamma(y);\n\n  function rgb(start, end) {\n    var r = color((start = colorRgb(start)).r, (end = colorRgb(end)).r),\n        g = color(start.g, end.g),\n        b = color(start.b, end.b),\n        opacity = nogamma(start.opacity, end.opacity);\n    return function(t) {\n      start.r = r(t);\n      start.g = g(t);\n      start.b = b(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n\n  rgb.gamma = rgbGamma;\n\n  return rgb;\n})(1);\n\nfunction rgbSpline(spline) {\n  return function(colors) {\n    var n = colors.length,\n        r = new Array(n),\n        g = new Array(n),\n        b = new Array(n),\n        i, color;\n    for (i = 0; i < n; ++i) {\n      color = colorRgb(colors[i]);\n      r[i] = color.r || 0;\n      g[i] = color.g || 0;\n      b[i] = color.b || 0;\n    }\n    r = spline(r);\n    g = spline(g);\n    b = spline(b);\n    color.opacity = 1;\n    return function(t) {\n      color.r = r(t);\n      color.g = g(t);\n      color.b = b(t);\n      return color + \"\";\n    };\n  };\n}\n\nexport var rgbBasis = rgbSpline(basis);\nexport var rgbBasisClosed = rgbSpline(basisClosed);\n","export function basis(t1, v0, v1, v2, v3) {\n  var t2 = t1 * t1, t3 = t2 * t1;\n  return ((1 - 3 * t1 + 3 * t2 - t3) * v0\n      + (4 - 6 * t2 + 3 * t3) * v1\n      + (1 + 3 * t1 + 3 * t2 - 3 * t3) * v2\n      + t3 * v3) / 6;\n}\n\nexport default function(values) {\n  var n = values.length - 1;\n  return function(t) {\n    var i = t <= 0 ? (t = 0) : t >= 1 ? (t = 1, n - 1) : Math.floor(t * n),\n        v1 = values[i],\n        v2 = values[i + 1],\n        v0 = i > 0 ? values[i - 1] : 2 * v1 - v2,\n        v3 = i < n - 1 ? values[i + 2] : 2 * v2 - v1;\n    return basis((t - i / n) * n, v0, v1, v2, v3);\n  };\n}\n","import {basis} from \"./basis.js\";\n\nexport default function(values) {\n  var n = values.length;\n  return function(t) {\n    var i = Math.floor(((t %= 1) < 0 ? ++t : t) * n),\n        v0 = values[(i + n - 1) % n],\n        v1 = values[i % n],\n        v2 = values[(i + 1) % n],\n        v3 = values[(i + 2) % n];\n    return basis((t - i / n) * n, v0, v1, v2, v3);\n  };\n}\n","import constant from \"./constant.js\";\n\nfunction linear(a, d) {\n  return function(t) {\n    return a + t * d;\n  };\n}\n\nfunction exponential(a, b, y) {\n  return a = Math.pow(a, y), b = Math.pow(b, y) - a, y = 1 / y, function(t) {\n    return Math.pow(a + t * b, y);\n  };\n}\n\nexport function hue(a, b) {\n  var d = b - a;\n  return d ? linear(a, d > 180 || d < -180 ? d - 360 * Math.round(d / 360) : d) : constant(isNaN(a) ? b : a);\n}\n\nexport function gamma(y) {\n  return (y = +y) === 1 ? nogamma : function(a, b) {\n    return b - a ? exponential(a, b, y) : constant(isNaN(a) ? b : a);\n  };\n}\n\nexport default function nogamma(a, b) {\n  var d = b - a;\n  return d ? linear(a, d) : constant(isNaN(a) ? b : a);\n}\n","export default x => () => x;\n","export default function(a, b) {\n  return a = +a, b = +b, function(t) {\n    return a * (1 - t) + b * t;\n  };\n}\n","import number from \"./number.js\";\n\nvar reA = /[-+]?(?:\\d+\\.?\\d*|\\.?\\d+)(?:[eE][-+]?\\d+)?/g,\n    reB = new RegExp(reA.source, \"g\");\n\nfunction zero(b) {\n  return function() {\n    return b;\n  };\n}\n\nfunction one(b) {\n  return function(t) {\n    return b(t) + \"\";\n  };\n}\n\nexport default function(a, b) {\n  var bi = reA.lastIndex = reB.lastIndex = 0, // scan index for next number in b\n      am, // current match in a\n      bm, // current match in b\n      bs, // string preceding current number in b, if any\n      i = -1, // index in s\n      s = [], // string constants and placeholders\n      q = []; // number interpolators\n\n  // Coerce inputs to strings.\n  a = a + \"\", b = b + \"\";\n\n  // Interpolate pairs of numbers in a & b.\n  while ((am = reA.exec(a))\n      && (bm = reB.exec(b))) {\n    if ((bs = bm.index) > bi) { // a string precedes the next number in b\n      bs = b.slice(bi, bs);\n      if (s[i]) s[i] += bs; // coalesce with previous string\n      else s[++i] = bs;\n    }\n    if ((am = am[0]) === (bm = bm[0])) { // numbers in a & b match\n      if (s[i]) s[i] += bm; // coalesce with previous string\n      else s[++i] = bm;\n    } else { // interpolate non-matching numbers\n      s[++i] = null;\n      q.push({i: i, x: number(am, bm)});\n    }\n    bi = reB.lastIndex;\n  }\n\n  // Add remains of b.\n  if (bi < b.length) {\n    bs = b.slice(bi);\n    if (s[i]) s[i] += bs; // coalesce with previous string\n    else s[++i] = bs;\n  }\n\n  // Special optimization for only a single match.\n  // Otherwise, interpolate each of the numbers and rejoin the string.\n  return s.length < 2 ? (q[0]\n      ? one(q[0].x)\n      : zero(b))\n      : (b = q.length, function(t) {\n          for (var i = 0, o; i < b; ++i) s[(o = q[i]).i] = o.x(t);\n          return s.join(\"\");\n        });\n}\n","import constant from \"./constant.js\";\nimport {abs, acos, asin, atan2, cos, epsilon, halfPi, max, min, pi, sin, sqrt, tau} from \"./math.js\";\nimport {withPath} from \"./path.js\";\n\nfunction arcInnerRadius(d) {\n  return d.innerRadius;\n}\n\nfunction arcOuterRadius(d) {\n  return d.outerRadius;\n}\n\nfunction arcStartAngle(d) {\n  return d.startAngle;\n}\n\nfunction arcEndAngle(d) {\n  return d.endAngle;\n}\n\nfunction arcPadAngle(d) {\n  return d && d.padAngle; // Note: optional!\n}\n\nfunction intersect(x0, y0, x1, y1, x2, y2, x3, y3) {\n  var x10 = x1 - x0, y10 = y1 - y0,\n      x32 = x3 - x2, y32 = y3 - y2,\n      t = y32 * x10 - x32 * y10;\n  if (t * t < epsilon) return;\n  t = (x32 * (y0 - y2) - y32 * (x0 - x2)) / t;\n  return [x0 + t * x10, y0 + t * y10];\n}\n\n// Compute perpendicular offset line of length rc.\n// http://mathworld.wolfram.com/Circle-LineIntersection.html\nfunction cornerTangents(x0, y0, x1, y1, r1, rc, cw) {\n  var x01 = x0 - x1,\n      y01 = y0 - y1,\n      lo = (cw ? rc : -rc) / sqrt(x01 * x01 + y01 * y01),\n      ox = lo * y01,\n      oy = -lo * x01,\n      x11 = x0 + ox,\n      y11 = y0 + oy,\n      x10 = x1 + ox,\n      y10 = y1 + oy,\n      x00 = (x11 + x10) / 2,\n      y00 = (y11 + y10) / 2,\n      dx = x10 - x11,\n      dy = y10 - y11,\n      d2 = dx * dx + dy * dy,\n      r = r1 - rc,\n      D = x11 * y10 - x10 * y11,\n      d = (dy < 0 ? -1 : 1) * sqrt(max(0, r * r * d2 - D * D)),\n      cx0 = (D * dy - dx * d) / d2,\n      cy0 = (-D * dx - dy * d) / d2,\n      cx1 = (D * dy + dx * d) / d2,\n      cy1 = (-D * dx + dy * d) / d2,\n      dx0 = cx0 - x00,\n      dy0 = cy0 - y00,\n      dx1 = cx1 - x00,\n      dy1 = cy1 - y00;\n\n  // Pick the closer of the two intersection points.\n  // TODO Is there a faster way to determine which intersection to use?\n  if (dx0 * dx0 + dy0 * dy0 > dx1 * dx1 + dy1 * dy1) cx0 = cx1, cy0 = cy1;\n\n  return {\n    cx: cx0,\n    cy: cy0,\n    x01: -ox,\n    y01: -oy,\n    x11: cx0 * (r1 / r - 1),\n    y11: cy0 * (r1 / r - 1)\n  };\n}\n\nexport default function() {\n  var innerRadius = arcInnerRadius,\n      outerRadius = arcOuterRadius,\n      cornerRadius = constant(0),\n      padRadius = null,\n      startAngle = arcStartAngle,\n      endAngle = arcEndAngle,\n      padAngle = arcPadAngle,\n      context = null,\n      path = withPath(arc);\n\n  function arc() {\n    var buffer,\n        r,\n        r0 = +innerRadius.apply(this, arguments),\n        r1 = +outerRadius.apply(this, arguments),\n        a0 = startAngle.apply(this, arguments) - halfPi,\n        a1 = endAngle.apply(this, arguments) - halfPi,\n        da = abs(a1 - a0),\n        cw = a1 > a0;\n\n    if (!context) context = buffer = path();\n\n    // Ensure that the outer radius is always larger than the inner radius.\n    if (r1 < r0) r = r1, r1 = r0, r0 = r;\n\n    // Is it a point?\n    if (!(r1 > epsilon)) context.moveTo(0, 0);\n\n    // Or is it a circle or annulus?\n    else if (da > tau - epsilon) {\n      context.moveTo(r1 * cos(a0), r1 * sin(a0));\n      context.arc(0, 0, r1, a0, a1, !cw);\n      if (r0 > epsilon) {\n        context.moveTo(r0 * cos(a1), r0 * sin(a1));\n        context.arc(0, 0, r0, a1, a0, cw);\n      }\n    }\n\n    // Or is it a circular or annular sector?\n    else {\n      var a01 = a0,\n          a11 = a1,\n          a00 = a0,\n          a10 = a1,\n          da0 = da,\n          da1 = da,\n          ap = padAngle.apply(this, arguments) / 2,\n          rp = (ap > epsilon) && (padRadius ? +padRadius.apply(this, arguments) : sqrt(r0 * r0 + r1 * r1)),\n          rc = min(abs(r1 - r0) / 2, +cornerRadius.apply(this, arguments)),\n          rc0 = rc,\n          rc1 = rc,\n          t0,\n          t1;\n\n      // Apply padding? Note that since r1 ≥ r0, da1 ≥ da0.\n      if (rp > epsilon) {\n        var p0 = asin(rp / r0 * sin(ap)),\n            p1 = asin(rp / r1 * sin(ap));\n        if ((da0 -= p0 * 2) > epsilon) p0 *= (cw ? 1 : -1), a00 += p0, a10 -= p0;\n        else da0 = 0, a00 = a10 = (a0 + a1) / 2;\n        if ((da1 -= p1 * 2) > epsilon) p1 *= (cw ? 1 : -1), a01 += p1, a11 -= p1;\n        else da1 = 0, a01 = a11 = (a0 + a1) / 2;\n      }\n\n      var x01 = r1 * cos(a01),\n          y01 = r1 * sin(a01),\n          x10 = r0 * cos(a10),\n          y10 = r0 * sin(a10);\n\n      // Apply rounded corners?\n      if (rc > epsilon) {\n        var x11 = r1 * cos(a11),\n            y11 = r1 * sin(a11),\n            x00 = r0 * cos(a00),\n            y00 = r0 * sin(a00),\n            oc;\n\n        // Restrict the corner radius according to the sector angle. If this\n        // intersection fails, it’s probably because the arc is too small, so\n        // disable the corner radius entirely.\n        if (da < pi) {\n          if (oc = intersect(x01, y01, x00, y00, x11, y11, x10, y10)) {\n            var ax = x01 - oc[0],\n                ay = y01 - oc[1],\n                bx = x11 - oc[0],\n                by = y11 - oc[1],\n                kc = 1 / sin(acos((ax * bx + ay * by) / (sqrt(ax * ax + ay * ay) * sqrt(bx * bx + by * by))) / 2),\n                lc = sqrt(oc[0] * oc[0] + oc[1] * oc[1]);\n            rc0 = min(rc, (r0 - lc) / (kc - 1));\n            rc1 = min(rc, (r1 - lc) / (kc + 1));\n          } else {\n            rc0 = rc1 = 0;\n          }\n        }\n      }\n\n      // Is the sector collapsed to a line?\n      if (!(da1 > epsilon)) context.moveTo(x01, y01);\n\n      // Does the sector’s outer ring have rounded corners?\n      else if (rc1 > epsilon) {\n        t0 = cornerTangents(x00, y00, x01, y01, r1, rc1, cw);\n        t1 = cornerTangents(x11, y11, x10, y10, r1, rc1, cw);\n\n        context.moveTo(t0.cx + t0.x01, t0.cy + t0.y01);\n\n        // Have the corners merged?\n        if (rc1 < rc) context.arc(t0.cx, t0.cy, rc1, atan2(t0.y01, t0.x01), atan2(t1.y01, t1.x01), !cw);\n\n        // Otherwise, draw the two corners and the ring.\n        else {\n          context.arc(t0.cx, t0.cy, rc1, atan2(t0.y01, t0.x01), atan2(t0.y11, t0.x11), !cw);\n          context.arc(0, 0, r1, atan2(t0.cy + t0.y11, t0.cx + t0.x11), atan2(t1.cy + t1.y11, t1.cx + t1.x11), !cw);\n          context.arc(t1.cx, t1.cy, rc1, atan2(t1.y11, t1.x11), atan2(t1.y01, t1.x01), !cw);\n        }\n      }\n\n      // Or is the outer ring just a circular arc?\n      else context.moveTo(x01, y01), context.arc(0, 0, r1, a01, a11, !cw);\n\n      // Is there no inner ring, and it’s a circular sector?\n      // Or perhaps it’s an annular sector collapsed due to padding?\n      if (!(r0 > epsilon) || !(da0 > epsilon)) context.lineTo(x10, y10);\n\n      // Does the sector’s inner ring (or point) have rounded corners?\n      else if (rc0 > epsilon) {\n        t0 = cornerTangents(x10, y10, x11, y11, r0, -rc0, cw);\n        t1 = cornerTangents(x01, y01, x00, y00, r0, -rc0, cw);\n\n        context.lineTo(t0.cx + t0.x01, t0.cy + t0.y01);\n\n        // Have the corners merged?\n        if (rc0 < rc) context.arc(t0.cx, t0.cy, rc0, atan2(t0.y01, t0.x01), atan2(t1.y01, t1.x01), !cw);\n\n        // Otherwise, draw the two corners and the ring.\n        else {\n          context.arc(t0.cx, t0.cy, rc0, atan2(t0.y01, t0.x01), atan2(t0.y11, t0.x11), !cw);\n          context.arc(0, 0, r0, atan2(t0.cy + t0.y11, t0.cx + t0.x11), atan2(t1.cy + t1.y11, t1.cx + t1.x11), cw);\n          context.arc(t1.cx, t1.cy, rc0, atan2(t1.y11, t1.x11), atan2(t1.y01, t1.x01), !cw);\n        }\n      }\n\n      // Or is the inner ring just a circular arc?\n      else context.arc(0, 0, r0, a10, a00, cw);\n    }\n\n    context.closePath();\n\n    if (buffer) return context = null, buffer + \"\" || null;\n  }\n\n  arc.centroid = function() {\n    var r = (+innerRadius.apply(this, arguments) + +outerRadius.apply(this, arguments)) / 2,\n        a = (+startAngle.apply(this, arguments) + +endAngle.apply(this, arguments)) / 2 - pi / 2;\n    return [cos(a) * r, sin(a) * r];\n  };\n\n  arc.innerRadius = function(_) {\n    return arguments.length ? (innerRadius = typeof _ === \"function\" ? _ : constant(+_), arc) : innerRadius;\n  };\n\n  arc.outerRadius = function(_) {\n    return arguments.length ? (outerRadius = typeof _ === \"function\" ? _ : constant(+_), arc) : outerRadius;\n  };\n\n  arc.cornerRadius = function(_) {\n    return arguments.length ? (cornerRadius = typeof _ === \"function\" ? _ : constant(+_), arc) : cornerRadius;\n  };\n\n  arc.padRadius = function(_) {\n    return arguments.length ? (padRadius = _ == null ? null : typeof _ === \"function\" ? _ : constant(+_), arc) : padRadius;\n  };\n\n  arc.startAngle = function(_) {\n    return arguments.length ? (startAngle = typeof _ === \"function\" ? _ : constant(+_), arc) : startAngle;\n  };\n\n  arc.endAngle = function(_) {\n    return arguments.length ? (endAngle = typeof _ === \"function\" ? _ : constant(+_), arc) : endAngle;\n  };\n\n  arc.padAngle = function(_) {\n    return arguments.length ? (padAngle = typeof _ === \"function\" ? _ : constant(+_), arc) : padAngle;\n  };\n\n  arc.context = function(_) {\n    return arguments.length ? ((context = _ == null ? null : _), arc) : context;\n  };\n\n  return arc;\n}\n","export default function(x) {\n  return function constant() {\n    return x;\n  };\n}\n","export const abs = Math.abs;\nexport const atan2 = Math.atan2;\nexport const cos = Math.cos;\nexport const max = Math.max;\nexport const min = Math.min;\nexport const sin = Math.sin;\nexport const sqrt = Math.sqrt;\n\nexport const epsilon = 1e-12;\nexport const pi = Math.PI;\nexport const halfPi = pi / 2;\nexport const tau = 2 * pi;\n\nexport function acos(x) {\n  return x > 1 ? 0 : x < -1 ? pi : Math.acos(x);\n}\n\nexport function asin(x) {\n  return x >= 1 ? halfPi : x <= -1 ? -halfPi : Math.asin(x);\n}\n","import {Path} from \"d3-path\";\n\nexport function withPath(shape) {\n  let digits = 3;\n\n  shape.digits = function(_) {\n    if (!arguments.length) return digits;\n    if (_ == null) {\n      digits = null;\n    } else {\n      const d = Math.floor(_);\n      if (!(d >= 0)) throw new RangeError(`invalid digits: ${_}`);\n      digits = d;\n    }\n    return shape;\n  };\n\n  return () => new Path(digits);\n}\n","const pi = Math.PI,\n    tau = 2 * pi,\n    epsilon = 1e-6,\n    tauEpsilon = tau - epsilon;\n\nfunction append(strings) {\n  this._ += strings[0];\n  for (let i = 1, n = strings.length; i < n; ++i) {\n    this._ += arguments[i] + strings[i];\n  }\n}\n\nfunction appendRound(digits) {\n  let d = Math.floor(digits);\n  if (!(d >= 0)) throw new Error(`invalid digits: ${digits}`);\n  if (d > 15) return append;\n  const k = 10 ** d;\n  return function(strings) {\n    this._ += strings[0];\n    for (let i = 1, n = strings.length; i < n; ++i) {\n      this._ += Math.round(arguments[i] * k) / k + strings[i];\n    }\n  };\n}\n\nexport class Path {\n  constructor(digits) {\n    this._x0 = this._y0 = // start of current subpath\n    this._x1 = this._y1 = null; // end of current subpath\n    this._ = \"\";\n    this._append = digits == null ? append : appendRound(digits);\n  }\n  moveTo(x, y) {\n    this._append`M${this._x0 = this._x1 = +x},${this._y0 = this._y1 = +y}`;\n  }\n  closePath() {\n    if (this._x1 !== null) {\n      this._x1 = this._x0, this._y1 = this._y0;\n      this._append`Z`;\n    }\n  }\n  lineTo(x, y) {\n    this._append`L${this._x1 = +x},${this._y1 = +y}`;\n  }\n  quadraticCurveTo(x1, y1, x, y) {\n    this._append`Q${+x1},${+y1},${this._x1 = +x},${this._y1 = +y}`;\n  }\n  bezierCurveTo(x1, y1, x2, y2, x, y) {\n    this._append`C${+x1},${+y1},${+x2},${+y2},${this._x1 = +x},${this._y1 = +y}`;\n  }\n  arcTo(x1, y1, x2, y2, r) {\n    x1 = +x1, y1 = +y1, x2 = +x2, y2 = +y2, r = +r;\n\n    // Is the radius negative? Error.\n    if (r < 0) throw new Error(`negative radius: ${r}`);\n\n    let x0 = this._x1,\n        y0 = this._y1,\n        x21 = x2 - x1,\n        y21 = y2 - y1,\n        x01 = x0 - x1,\n        y01 = y0 - y1,\n        l01_2 = x01 * x01 + y01 * y01;\n\n    // Is this path empty? Move to (x1,y1).\n    if (this._x1 === null) {\n      this._append`M${this._x1 = x1},${this._y1 = y1}`;\n    }\n\n    // Or, is (x1,y1) coincident with (x0,y0)? Do nothing.\n    else if (!(l01_2 > epsilon));\n\n    // Or, are (x0,y0), (x1,y1) and (x2,y2) collinear?\n    // Equivalently, is (x1,y1) coincident with (x2,y2)?\n    // Or, is the radius zero? Line to (x1,y1).\n    else if (!(Math.abs(y01 * x21 - y21 * x01) > epsilon) || !r) {\n      this._append`L${this._x1 = x1},${this._y1 = y1}`;\n    }\n\n    // Otherwise, draw an arc!\n    else {\n      let x20 = x2 - x0,\n          y20 = y2 - y0,\n          l21_2 = x21 * x21 + y21 * y21,\n          l20_2 = x20 * x20 + y20 * y20,\n          l21 = Math.sqrt(l21_2),\n          l01 = Math.sqrt(l01_2),\n          l = r * Math.tan((pi - Math.acos((l21_2 + l01_2 - l20_2) / (2 * l21 * l01))) / 2),\n          t01 = l / l01,\n          t21 = l / l21;\n\n      // If the start tangent is not coincident with (x0,y0), line to.\n      if (Math.abs(t01 - 1) > epsilon) {\n        this._append`L${x1 + t01 * x01},${y1 + t01 * y01}`;\n      }\n\n      this._append`A${r},${r},0,0,${+(y01 * x20 > x01 * y20)},${this._x1 = x1 + t21 * x21},${this._y1 = y1 + t21 * y21}`;\n    }\n  }\n  arc(x, y, r, a0, a1, ccw) {\n    x = +x, y = +y, r = +r, ccw = !!ccw;\n\n    // Is the radius negative? Error.\n    if (r < 0) throw new Error(`negative radius: ${r}`);\n\n    let dx = r * Math.cos(a0),\n        dy = r * Math.sin(a0),\n        x0 = x + dx,\n        y0 = y + dy,\n        cw = 1 ^ ccw,\n        da = ccw ? a0 - a1 : a1 - a0;\n\n    // Is this path empty? Move to (x0,y0).\n    if (this._x1 === null) {\n      this._append`M${x0},${y0}`;\n    }\n\n    // Or, is (x0,y0) not coincident with the previous point? Line to (x0,y0).\n    else if (Math.abs(this._x1 - x0) > epsilon || Math.abs(this._y1 - y0) > epsilon) {\n      this._append`L${x0},${y0}`;\n    }\n\n    // Is this arc empty? We’re done.\n    if (!r) return;\n\n    // Does the angle go the wrong way? Flip the direction.\n    if (da < 0) da = da % tau + tau;\n\n    // Is this a complete circle? Draw two arcs to complete the circle.\n    if (da > tauEpsilon) {\n      this._append`A${r},${r},0,1,${cw},${x - dx},${y - dy}A${r},${r},0,1,${cw},${this._x1 = x0},${this._y1 = y0}`;\n    }\n\n    // Is this arc non-empty? Draw an arc!\n    else if (da > epsilon) {\n      this._append`A${r},${r},0,${+(da >= pi)},${cw},${this._x1 = x + r * Math.cos(a1)},${this._y1 = y + r * Math.sin(a1)}`;\n    }\n  }\n  rect(x, y, w, h) {\n    this._append`M${this._x0 = this._x1 = +x},${this._y0 = this._y1 = +y}h${w = +w}v${+h}h${-w}Z`;\n  }\n  toString() {\n    return this._;\n  }\n}\n\nexport function path() {\n  return new Path;\n}\n\n// Allow instanceof d3.path\npath.prototype = Path.prototype;\n\nexport function pathRound(digits = 3) {\n  return new Path(+digits);\n}\n","import { BaseType, select, Selection } from \"d3-selection\";\nimport { easePolyInOut } from \"d3-ease\";\nimport { timer } from \"d3-timer\";\nimport transition from 'd3-transition' //<--there's some kind of bug in d3 where I have to import transition into the namespace to use select(...).transition()\n\nfunction pizza(): typeof chart {\n    let queue: QueueInterface<QueueTask>,\n        tasks: QueueTask,\n        interpolator: (from: any, to: any) => (t: number) => any,\n        generator: any,\n        draw: UpdateHandler,\n        dequeue: UpdateHandler,\n        enqueue: UpdateHandler\n    function chart(selection: Selection<Document, unknown, null, undefined>) {\n        selection.each(function () {\n            const dataContainer = select(this).append('custom')\n            //private variables\n            let duration = 250,\n                current: { [id: string]: any } = {},\n                transitionId = ''\n\n            enqueue = function () {\n                queue.enqueue(tasks)\n            }\n\n            dequeue = function () {\n                let currentTask = queue.dequeue()\n                if (currentTask) {\n                    const { type, input } = currentTask\n                    switch (type) {\n                        case 'sections':\n                            transitionId = input[0] ? input[0].id : ''\n                            updateData(input)\n                            break;\n                        case 'duration':\n                            duration = input\n                            dequeue()\n                        default:\n                            break;\n                    }\n                } else {\n                    duration = 250\n                    transitionId = \"\"\n                }\n            }\n\n            function updateData(sections: Section[]) {\n\n                const dataBinding = dataContainer.selectAll<HTMLElement, Section>(\"custom.section\")\n                    .data(sections, function (d) { return d.id || select(this).attr('id') })\n\n                dataBinding\n                    .exit()\n                    .each(function () {\n                        const id = select(this).attr('id')\n                        delete current[id]\n                    })\n                    .remove()\n\n                transition(dataBinding)\n\n                dataBinding\n                    .enter()\n                    .append(\"custom\")\n                    .attr('id', section => section.id)\n                    .classed(\"section\", true)\n                    .append('path')\n                    .attr('fill', section => section.fill)\n                    .attr('d', section => generator(section))\n                    .attr('opacity', 1)\n                    .each(function (s) {\n                        current = { ...current, [s.id]: { ...s } }\n                    })\n            }\n\n            const transition = function (selection: Selection<HTMLElement, Section, BaseType, unknown>) {\n                const t = timer(function (elapsed) {\n                    draw();\n                    if (elapsed > duration + 100) t.stop();\n                })\n\n                selection\n                    .select('path')\n                    .transition()\n                    .duration(duration)\n                    .ease(easePolyInOut.exponent(3))\n                    .attr('opacity', 1)\n                    .attrTween(\"d\", function (a: Section) {\n                        const from = { ...current[a.id] }\n                        const i = interpolator(from, a);\n                        return (t: number): string => {\n                            return generator(i(t))\n                        };\n                    })\n                    .attr('fill', d => d.fill)\n                    .end()\n                    .catch(() => { console.log('rejected ') })\n                    .then(() => {\n                        selection\n                            .each(function (d) {\n                                current = { ...current, [d.id]: d }\n                            })\n                        dequeue()\n                    })\n            }\n\n            //boot\n           dequeue()\n        })\n    }\n\n    chart.interpolator = function (value: typeof interpolator) {\n        interpolator = value\n        return chart\n    }\n\n    chart.generator = function (value: typeof generator) {\n        generator = value\n        return chart\n    }\n\n    chart.draw = function (value: UpdateHandler): typeof chart {\n        draw = value\n        return chart\n    }\n\n    chart.queue = function (value: QueueInterface<QueueTask>) {\n        queue = value\n        return chart\n    }\n    chart.enqueue = function (value: QueueTask) {\n        tasks = value\n        if (typeof enqueue === 'function') enqueue()\n        return chart\n    }\n    chart.dequeue = function () {\n        if (typeof dequeue === 'function') dequeue()\n        return chart\n    }\n    return chart\n}\n\nexport default pizza\n\n","var exponent = 3;\n\nexport var polyIn = (function custom(e) {\n  e = +e;\n\n  function polyIn(t) {\n    return Math.pow(t, e);\n  }\n\n  polyIn.exponent = custom;\n\n  return polyIn;\n})(exponent);\n\nexport var polyOut = (function custom(e) {\n  e = +e;\n\n  function polyOut(t) {\n    return 1 - Math.pow(1 - t, e);\n  }\n\n  polyOut.exponent = custom;\n\n  return polyOut;\n})(exponent);\n\nexport var polyInOut = (function custom(e) {\n  e = +e;\n\n  function polyInOut(t) {\n    return ((t *= 2) <= 1 ? Math.pow(t, e) : 2 - Math.pow(2 - t, e)) / 2;\n  }\n\n  polyInOut.exponent = custom;\n\n  return polyInOut;\n})(exponent);\n","var frame = 0, // is an animation frame pending?\n    timeout = 0, // is a timeout pending?\n    interval = 0, // are any timers active?\n    pokeDelay = 1000, // how frequently we check for clock skew\n    taskHead,\n    taskTail,\n    clockLast = 0,\n    clockNow = 0,\n    clockSkew = 0,\n    clock = typeof performance === \"object\" && performance.now ? performance : Date,\n    setFrame = typeof window === \"object\" && window.requestAnimationFrame ? window.requestAnimationFrame.bind(window) : function(f) { setTimeout(f, 17); };\n\nexport function now() {\n  return clockNow || (setFrame(clearNow), clockNow = clock.now() + clockSkew);\n}\n\nfunction clearNow() {\n  clockNow = 0;\n}\n\nexport function Timer() {\n  this._call =\n  this._time =\n  this._next = null;\n}\n\nTimer.prototype = timer.prototype = {\n  constructor: Timer,\n  restart: function(callback, delay, time) {\n    if (typeof callback !== \"function\") throw new TypeError(\"callback is not a function\");\n    time = (time == null ? now() : +time) + (delay == null ? 0 : +delay);\n    if (!this._next && taskTail !== this) {\n      if (taskTail) taskTail._next = this;\n      else taskHead = this;\n      taskTail = this;\n    }\n    this._call = callback;\n    this._time = time;\n    sleep();\n  },\n  stop: function() {\n    if (this._call) {\n      this._call = null;\n      this._time = Infinity;\n      sleep();\n    }\n  }\n};\n\nexport function timer(callback, delay, time) {\n  var t = new Timer;\n  t.restart(callback, delay, time);\n  return t;\n}\n\nexport function timerFlush() {\n  now(); // Get the current time, if not already set.\n  ++frame; // Pretend we’ve set an alarm, if we haven’t already.\n  var t = taskHead, e;\n  while (t) {\n    if ((e = clockNow - t._time) >= 0) t._call.call(undefined, e);\n    t = t._next;\n  }\n  --frame;\n}\n\nfunction wake() {\n  clockNow = (clockLast = clock.now()) + clockSkew;\n  frame = timeout = 0;\n  try {\n    timerFlush();\n  } finally {\n    frame = 0;\n    nap();\n    clockNow = 0;\n  }\n}\n\nfunction poke() {\n  var now = clock.now(), delay = now - clockLast;\n  if (delay > pokeDelay) clockSkew -= delay, clockLast = now;\n}\n\nfunction nap() {\n  var t0, t1 = taskHead, t2, time = Infinity;\n  while (t1) {\n    if (t1._call) {\n      if (time > t1._time) time = t1._time;\n      t0 = t1, t1 = t1._next;\n    } else {\n      t2 = t1._next, t1._next = null;\n      t1 = t0 ? t0._next = t2 : taskHead = t2;\n    }\n  }\n  taskTail = t0;\n  sleep(time);\n}\n\nfunction sleep(time) {\n  if (frame) return; // Soonest alarm already set, or will be.\n  if (timeout) timeout = clearTimeout(timeout);\n  var delay = time - clockNow; // Strictly less than if we recomputed clockNow.\n  if (delay > 24) {\n    if (time < Infinity) timeout = setTimeout(wake, time - clock.now() - clockSkew);\n    if (interval) interval = clearInterval(interval);\n  } else {\n    if (!interval) clockLast = clock.now(), interval = setInterval(poke, pokeDelay);\n    frame = 1, setFrame(wake);\n  }\n}\n","import \"./selection/index.js\";\nexport {default as transition} from \"./transition/index.js\";\nexport {default as active} from \"./active.js\";\nexport {default as interrupt} from \"./interrupt.js\";\n","import {selection} from \"d3-selection\";\nimport selection_interrupt from \"./interrupt.js\";\nimport selection_transition from \"./transition.js\";\n\nselection.prototype.interrupt = selection_interrupt;\nselection.prototype.transition = selection_transition;\n","import interrupt from \"../interrupt.js\";\n\nexport default function(name) {\n  return this.each(function() {\n    interrupt(this, name);\n  });\n}\n","import {STARTING, ENDING, ENDED} from \"./transition/schedule.js\";\n\nexport default function(node, name) {\n  var schedules = node.__transition,\n      schedule,\n      active,\n      empty = true,\n      i;\n\n  if (!schedules) return;\n\n  name = name == null ? null : name + \"\";\n\n  for (i in schedules) {\n    if ((schedule = schedules[i]).name !== name) { empty = false; continue; }\n    active = schedule.state > STARTING && schedule.state < ENDING;\n    schedule.state = ENDED;\n    schedule.timer.stop();\n    schedule.on.call(active ? \"interrupt\" : \"cancel\", node, node.__data__, schedule.index, schedule.group);\n    delete schedules[i];\n  }\n\n  if (empty) delete node.__transition;\n}\n","import {dispatch} from \"d3-dispatch\";\nimport {timer, timeout} from \"d3-timer\";\n\nvar emptyOn = dispatch(\"start\", \"end\", \"cancel\", \"interrupt\");\nvar emptyTween = [];\n\nexport var CREATED = 0;\nexport var SCHEDULED = 1;\nexport var STARTING = 2;\nexport var STARTED = 3;\nexport var RUNNING = 4;\nexport var ENDING = 5;\nexport var ENDED = 6;\n\nexport default function(node, name, id, index, group, timing) {\n  var schedules = node.__transition;\n  if (!schedules) node.__transition = {};\n  else if (id in schedules) return;\n  create(node, id, {\n    name: name,\n    index: index, // For context during callback.\n    group: group, // For context during callback.\n    on: emptyOn,\n    tween: emptyTween,\n    time: timing.time,\n    delay: timing.delay,\n    duration: timing.duration,\n    ease: timing.ease,\n    timer: null,\n    state: CREATED\n  });\n}\n\nexport function init(node, id) {\n  var schedule = get(node, id);\n  if (schedule.state > CREATED) throw new Error(\"too late; already scheduled\");\n  return schedule;\n}\n\nexport function set(node, id) {\n  var schedule = get(node, id);\n  if (schedule.state > STARTED) throw new Error(\"too late; already running\");\n  return schedule;\n}\n\nexport function get(node, id) {\n  var schedule = node.__transition;\n  if (!schedule || !(schedule = schedule[id])) throw new Error(\"transition not found\");\n  return schedule;\n}\n\nfunction create(node, id, self) {\n  var schedules = node.__transition,\n      tween;\n\n  // Initialize the self timer when the transition is created.\n  // Note the actual delay is not known until the first callback!\n  schedules[id] = self;\n  self.timer = timer(schedule, 0, self.time);\n\n  function schedule(elapsed) {\n    self.state = SCHEDULED;\n    self.timer.restart(start, self.delay, self.time);\n\n    // If the elapsed delay is less than our first sleep, start immediately.\n    if (self.delay <= elapsed) start(elapsed - self.delay);\n  }\n\n  function start(elapsed) {\n    var i, j, n, o;\n\n    // If the state is not SCHEDULED, then we previously errored on start.\n    if (self.state !== SCHEDULED) return stop();\n\n    for (i in schedules) {\n      o = schedules[i];\n      if (o.name !== self.name) continue;\n\n      // While this element already has a starting transition during this frame,\n      // defer starting an interrupting transition until that transition has a\n      // chance to tick (and possibly end); see d3/d3-transition#54!\n      if (o.state === STARTED) return timeout(start);\n\n      // Interrupt the active transition, if any.\n      if (o.state === RUNNING) {\n        o.state = ENDED;\n        o.timer.stop();\n        o.on.call(\"interrupt\", node, node.__data__, o.index, o.group);\n        delete schedules[i];\n      }\n\n      // Cancel any pre-empted transitions.\n      else if (+i < id) {\n        o.state = ENDED;\n        o.timer.stop();\n        o.on.call(\"cancel\", node, node.__data__, o.index, o.group);\n        delete schedules[i];\n      }\n    }\n\n    // Defer the first tick to end of the current frame; see d3/d3#1576.\n    // Note the transition may be canceled after start and before the first tick!\n    // Note this must be scheduled before the start event; see d3/d3-transition#16!\n    // Assuming this is successful, subsequent callbacks go straight to tick.\n    timeout(function() {\n      if (self.state === STARTED) {\n        self.state = RUNNING;\n        self.timer.restart(tick, self.delay, self.time);\n        tick(elapsed);\n      }\n    });\n\n    // Dispatch the start event.\n    // Note this must be done before the tween are initialized.\n    self.state = STARTING;\n    self.on.call(\"start\", node, node.__data__, self.index, self.group);\n    if (self.state !== STARTING) return; // interrupted\n    self.state = STARTED;\n\n    // Initialize the tween, deleting null tween.\n    tween = new Array(n = self.tween.length);\n    for (i = 0, j = -1; i < n; ++i) {\n      if (o = self.tween[i].value.call(node, node.__data__, self.index, self.group)) {\n        tween[++j] = o;\n      }\n    }\n    tween.length = j + 1;\n  }\n\n  function tick(elapsed) {\n    var t = elapsed < self.duration ? self.ease.call(null, elapsed / self.duration) : (self.timer.restart(stop), self.state = ENDING, 1),\n        i = -1,\n        n = tween.length;\n\n    while (++i < n) {\n      tween[i].call(node, t);\n    }\n\n    // Dispatch the end event.\n    if (self.state === ENDING) {\n      self.on.call(\"end\", node, node.__data__, self.index, self.group);\n      stop();\n    }\n  }\n\n  function stop() {\n    self.state = ENDED;\n    self.timer.stop();\n    delete schedules[id];\n    for (var i in schedules) return; // eslint-disable-line no-unused-vars\n    delete node.__transition;\n  }\n}\n","var noop = {value: () => {}};\n\nfunction dispatch() {\n  for (var i = 0, n = arguments.length, _ = {}, t; i < n; ++i) {\n    if (!(t = arguments[i] + \"\") || (t in _) || /[\\s.]/.test(t)) throw new Error(\"illegal type: \" + t);\n    _[t] = [];\n  }\n  return new Dispatch(_);\n}\n\nfunction Dispatch(_) {\n  this._ = _;\n}\n\nfunction parseTypenames(typenames, types) {\n  return typenames.trim().split(/^|\\s+/).map(function(t) {\n    var name = \"\", i = t.indexOf(\".\");\n    if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);\n    if (t && !types.hasOwnProperty(t)) throw new Error(\"unknown type: \" + t);\n    return {type: t, name: name};\n  });\n}\n\nDispatch.prototype = dispatch.prototype = {\n  constructor: Dispatch,\n  on: function(typename, callback) {\n    var _ = this._,\n        T = parseTypenames(typename + \"\", _),\n        t,\n        i = -1,\n        n = T.length;\n\n    // If no callback was specified, return the callback of the given type and name.\n    if (arguments.length < 2) {\n      while (++i < n) if ((t = (typename = T[i]).type) && (t = get(_[t], typename.name))) return t;\n      return;\n    }\n\n    // If a type was specified, set the callback for the given type and name.\n    // Otherwise, if a null callback was specified, remove callbacks of the given name.\n    if (callback != null && typeof callback !== \"function\") throw new Error(\"invalid callback: \" + callback);\n    while (++i < n) {\n      if (t = (typename = T[i]).type) _[t] = set(_[t], typename.name, callback);\n      else if (callback == null) for (t in _) _[t] = set(_[t], typename.name, null);\n    }\n\n    return this;\n  },\n  copy: function() {\n    var copy = {}, _ = this._;\n    for (var t in _) copy[t] = _[t].slice();\n    return new Dispatch(copy);\n  },\n  call: function(type, that) {\n    if ((n = arguments.length - 2) > 0) for (var args = new Array(n), i = 0, n, t; i < n; ++i) args[i] = arguments[i + 2];\n    if (!this._.hasOwnProperty(type)) throw new Error(\"unknown type: \" + type);\n    for (t = this._[type], i = 0, n = t.length; i < n; ++i) t[i].value.apply(that, args);\n  },\n  apply: function(type, that, args) {\n    if (!this._.hasOwnProperty(type)) throw new Error(\"unknown type: \" + type);\n    for (var t = this._[type], i = 0, n = t.length; i < n; ++i) t[i].value.apply(that, args);\n  }\n};\n\nfunction get(type, name) {\n  for (var i = 0, n = type.length, c; i < n; ++i) {\n    if ((c = type[i]).name === name) {\n      return c.value;\n    }\n  }\n}\n\nfunction set(type, name, callback) {\n  for (var i = 0, n = type.length; i < n; ++i) {\n    if (type[i].name === name) {\n      type[i] = noop, type = type.slice(0, i).concat(type.slice(i + 1));\n      break;\n    }\n  }\n  if (callback != null) type.push({name: name, value: callback});\n  return type;\n}\n\nexport default dispatch;\n","import {Timer} from \"./timer.js\";\n\nexport default function(callback, delay, time) {\n  var t = new Timer;\n  delay = delay == null ? 0 : +delay;\n  t.restart(elapsed => {\n    t.stop();\n    callback(elapsed + delay);\n  }, delay, time);\n  return t;\n}\n","import {Transition, newId} from \"../transition/index.js\";\nimport schedule from \"../transition/schedule.js\";\nimport {easeCubicInOut} from \"d3-ease\";\nimport {now} from \"d3-timer\";\n\nvar defaultTiming = {\n  time: null, // Set on use.\n  delay: 0,\n  duration: 250,\n  ease: easeCubicInOut\n};\n\nfunction inherit(node, id) {\n  var timing;\n  while (!(timing = node.__transition) || !(timing = timing[id])) {\n    if (!(node = node.parentNode)) {\n      throw new Error(`transition ${id} not found`);\n    }\n  }\n  return timing;\n}\n\nexport default function(name) {\n  var id,\n      timing;\n\n  if (name instanceof Transition) {\n    id = name._id, name = name._name;\n  } else {\n    id = newId(), (timing = defaultTiming).time = now(), name = name == null ? null : name + \"\";\n  }\n\n  for (var groups = this._groups, m = groups.length, j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        schedule(node, name, id, i, group, timing || inherit(node, id));\n      }\n    }\n  }\n\n  return new Transition(groups, this._parents, name, id);\n}\n","import {selection} from \"d3-selection\";\nimport transition_attr from \"./attr.js\";\nimport transition_attrTween from \"./attrTween.js\";\nimport transition_delay from \"./delay.js\";\nimport transition_duration from \"./duration.js\";\nimport transition_ease from \"./ease.js\";\nimport transition_easeVarying from \"./easeVarying.js\";\nimport transition_filter from \"./filter.js\";\nimport transition_merge from \"./merge.js\";\nimport transition_on from \"./on.js\";\nimport transition_remove from \"./remove.js\";\nimport transition_select from \"./select.js\";\nimport transition_selectAll from \"./selectAll.js\";\nimport transition_selection from \"./selection.js\";\nimport transition_style from \"./style.js\";\nimport transition_styleTween from \"./styleTween.js\";\nimport transition_text from \"./text.js\";\nimport transition_textTween from \"./textTween.js\";\nimport transition_transition from \"./transition.js\";\nimport transition_tween from \"./tween.js\";\nimport transition_end from \"./end.js\";\n\nvar id = 0;\n\nexport function Transition(groups, parents, name, id) {\n  this._groups = groups;\n  this._parents = parents;\n  this._name = name;\n  this._id = id;\n}\n\nexport default function transition(name) {\n  return selection().transition(name);\n}\n\nexport function newId() {\n  return ++id;\n}\n\nvar selection_prototype = selection.prototype;\n\nTransition.prototype = transition.prototype = {\n  constructor: Transition,\n  select: transition_select,\n  selectAll: transition_selectAll,\n  selectChild: selection_prototype.selectChild,\n  selectChildren: selection_prototype.selectChildren,\n  filter: transition_filter,\n  merge: transition_merge,\n  selection: transition_selection,\n  transition: transition_transition,\n  call: selection_prototype.call,\n  nodes: selection_prototype.nodes,\n  node: selection_prototype.node,\n  size: selection_prototype.size,\n  empty: selection_prototype.empty,\n  each: selection_prototype.each,\n  on: transition_on,\n  attr: transition_attr,\n  attrTween: transition_attrTween,\n  style: transition_style,\n  styleTween: transition_styleTween,\n  text: transition_text,\n  textTween: transition_textTween,\n  remove: transition_remove,\n  tween: transition_tween,\n  delay: transition_delay,\n  duration: transition_duration,\n  ease: transition_ease,\n  easeVarying: transition_easeVarying,\n  end: transition_end,\n  [Symbol.iterator]: selection_prototype[Symbol.iterator]\n};\n","import {interpolateTransformSvg as interpolateTransform} from \"d3-interpolate\";\nimport {namespace} from \"d3-selection\";\nimport {tweenValue} from \"./tween.js\";\nimport interpolate from \"./interpolate.js\";\n\nfunction attrRemove(name) {\n  return function() {\n    this.removeAttribute(name);\n  };\n}\n\nfunction attrRemoveNS(fullname) {\n  return function() {\n    this.removeAttributeNS(fullname.space, fullname.local);\n  };\n}\n\nfunction attrConstant(name, interpolate, value1) {\n  var string00,\n      string1 = value1 + \"\",\n      interpolate0;\n  return function() {\n    var string0 = this.getAttribute(name);\n    return string0 === string1 ? null\n        : string0 === string00 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, value1);\n  };\n}\n\nfunction attrConstantNS(fullname, interpolate, value1) {\n  var string00,\n      string1 = value1 + \"\",\n      interpolate0;\n  return function() {\n    var string0 = this.getAttributeNS(fullname.space, fullname.local);\n    return string0 === string1 ? null\n        : string0 === string00 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, value1);\n  };\n}\n\nfunction attrFunction(name, interpolate, value) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0, value1 = value(this), string1;\n    if (value1 == null) return void this.removeAttribute(name);\n    string0 = this.getAttribute(name);\n    string1 = value1 + \"\";\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));\n  };\n}\n\nfunction attrFunctionNS(fullname, interpolate, value) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0, value1 = value(this), string1;\n    if (value1 == null) return void this.removeAttributeNS(fullname.space, fullname.local);\n    string0 = this.getAttributeNS(fullname.space, fullname.local);\n    string1 = value1 + \"\";\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));\n  };\n}\n\nexport default function(name, value) {\n  var fullname = namespace(name), i = fullname === \"transform\" ? interpolateTransform : interpolate;\n  return this.attrTween(name, typeof value === \"function\"\n      ? (fullname.local ? attrFunctionNS : attrFunction)(fullname, i, tweenValue(this, \"attr.\" + name, value))\n      : value == null ? (fullname.local ? attrRemoveNS : attrRemove)(fullname)\n      : (fullname.local ? attrConstantNS : attrConstant)(fullname, i, value));\n}\n","import number from \"../number.js\";\nimport {parseCss, parseSvg} from \"./parse.js\";\n\nfunction interpolateTransform(parse, pxComma, pxParen, degParen) {\n\n  function pop(s) {\n    return s.length ? s.pop() + \" \" : \"\";\n  }\n\n  function translate(xa, ya, xb, yb, s, q) {\n    if (xa !== xb || ya !== yb) {\n      var i = s.push(\"translate(\", null, pxComma, null, pxParen);\n      q.push({i: i - 4, x: number(xa, xb)}, {i: i - 2, x: number(ya, yb)});\n    } else if (xb || yb) {\n      s.push(\"translate(\" + xb + pxComma + yb + pxParen);\n    }\n  }\n\n  function rotate(a, b, s, q) {\n    if (a !== b) {\n      if (a - b > 180) b += 360; else if (b - a > 180) a += 360; // shortest path\n      q.push({i: s.push(pop(s) + \"rotate(\", null, degParen) - 2, x: number(a, b)});\n    } else if (b) {\n      s.push(pop(s) + \"rotate(\" + b + degParen);\n    }\n  }\n\n  function skewX(a, b, s, q) {\n    if (a !== b) {\n      q.push({i: s.push(pop(s) + \"skewX(\", null, degParen) - 2, x: number(a, b)});\n    } else if (b) {\n      s.push(pop(s) + \"skewX(\" + b + degParen);\n    }\n  }\n\n  function scale(xa, ya, xb, yb, s, q) {\n    if (xa !== xb || ya !== yb) {\n      var i = s.push(pop(s) + \"scale(\", null, \",\", null, \")\");\n      q.push({i: i - 4, x: number(xa, xb)}, {i: i - 2, x: number(ya, yb)});\n    } else if (xb !== 1 || yb !== 1) {\n      s.push(pop(s) + \"scale(\" + xb + \",\" + yb + \")\");\n    }\n  }\n\n  return function(a, b) {\n    var s = [], // string constants and placeholders\n        q = []; // number interpolators\n    a = parse(a), b = parse(b);\n    translate(a.translateX, a.translateY, b.translateX, b.translateY, s, q);\n    rotate(a.rotate, b.rotate, s, q);\n    skewX(a.skewX, b.skewX, s, q);\n    scale(a.scaleX, a.scaleY, b.scaleX, b.scaleY, s, q);\n    a = b = null; // gc\n    return function(t) {\n      var i = -1, n = q.length, o;\n      while (++i < n) s[(o = q[i]).i] = o.x(t);\n      return s.join(\"\");\n    };\n  };\n}\n\nexport var interpolateTransformCss = interpolateTransform(parseCss, \"px, \", \"px)\", \"deg)\");\nexport var interpolateTransformSvg = interpolateTransform(parseSvg, \", \", \")\", \")\");\n","import decompose, {identity} from \"./decompose.js\";\n\nvar svgNode;\n\n/* eslint-disable no-undef */\nexport function parseCss(value) {\n  const m = new (typeof DOMMatrix === \"function\" ? DOMMatrix : WebKitCSSMatrix)(value + \"\");\n  return m.isIdentity ? identity : decompose(m.a, m.b, m.c, m.d, m.e, m.f);\n}\n\nexport function parseSvg(value) {\n  if (value == null) return identity;\n  if (!svgNode) svgNode = document.createElementNS(\"http://www.w3.org/2000/svg\", \"g\");\n  svgNode.setAttribute(\"transform\", value);\n  if (!(value = svgNode.transform.baseVal.consolidate())) return identity;\n  value = value.matrix;\n  return decompose(value.a, value.b, value.c, value.d, value.e, value.f);\n}\n","var degrees = 180 / Math.PI;\n\nexport var identity = {\n  translateX: 0,\n  translateY: 0,\n  rotate: 0,\n  skewX: 0,\n  scaleX: 1,\n  scaleY: 1\n};\n\nexport default function(a, b, c, d, e, f) {\n  var scaleX, scaleY, skewX;\n  if (scaleX = Math.sqrt(a * a + b * b)) a /= scaleX, b /= scaleX;\n  if (skewX = a * c + b * d) c -= a * skewX, d -= b * skewX;\n  if (scaleY = Math.sqrt(c * c + d * d)) c /= scaleY, d /= scaleY, skewX /= scaleY;\n  if (a * d < b * c) a = -a, b = -b, skewX = -skewX, scaleX = -scaleX;\n  return {\n    translateX: e,\n    translateY: f,\n    rotate: Math.atan2(b, a) * degrees,\n    skewX: Math.atan(skewX) * degrees,\n    scaleX: scaleX,\n    scaleY: scaleY\n  };\n}\n","import {get, set} from \"./schedule.js\";\n\nfunction tweenRemove(id, name) {\n  var tween0, tween1;\n  return function() {\n    var schedule = set(this, id),\n        tween = schedule.tween;\n\n    // If this node shared tween with the previous node,\n    // just assign the updated shared tween and we’re done!\n    // Otherwise, copy-on-write.\n    if (tween !== tween0) {\n      tween1 = tween0 = tween;\n      for (var i = 0, n = tween1.length; i < n; ++i) {\n        if (tween1[i].name === name) {\n          tween1 = tween1.slice();\n          tween1.splice(i, 1);\n          break;\n        }\n      }\n    }\n\n    schedule.tween = tween1;\n  };\n}\n\nfunction tweenFunction(id, name, value) {\n  var tween0, tween1;\n  if (typeof value !== \"function\") throw new Error;\n  return function() {\n    var schedule = set(this, id),\n        tween = schedule.tween;\n\n    // If this node shared tween with the previous node,\n    // just assign the updated shared tween and we’re done!\n    // Otherwise, copy-on-write.\n    if (tween !== tween0) {\n      tween1 = (tween0 = tween).slice();\n      for (var t = {name: name, value: value}, i = 0, n = tween1.length; i < n; ++i) {\n        if (tween1[i].name === name) {\n          tween1[i] = t;\n          break;\n        }\n      }\n      if (i === n) tween1.push(t);\n    }\n\n    schedule.tween = tween1;\n  };\n}\n\nexport default function(name, value) {\n  var id = this._id;\n\n  name += \"\";\n\n  if (arguments.length < 2) {\n    var tween = get(this.node(), id).tween;\n    for (var i = 0, n = tween.length, t; i < n; ++i) {\n      if ((t = tween[i]).name === name) {\n        return t.value;\n      }\n    }\n    return null;\n  }\n\n  return this.each((value == null ? tweenRemove : tweenFunction)(id, name, value));\n}\n\nexport function tweenValue(transition, name, value) {\n  var id = transition._id;\n\n  transition.each(function() {\n    var schedule = set(this, id);\n    (schedule.value || (schedule.value = {}))[name] = value.apply(this, arguments);\n  });\n\n  return function(node) {\n    return get(node, id).value[name];\n  };\n}\n","import {color} from \"d3-color\";\nimport {interpolateNumber, interpolateRgb, interpolateString} from \"d3-interpolate\";\n\nexport default function(a, b) {\n  var c;\n  return (typeof b === \"number\" ? interpolateNumber\n      : b instanceof color ? interpolateRgb\n      : (c = color(b)) ? (b = c, interpolateRgb)\n      : interpolateString)(a, b);\n}\n","import {namespace} from \"d3-selection\";\n\nfunction attrInterpolate(name, i) {\n  return function(t) {\n    this.setAttribute(name, i.call(this, t));\n  };\n}\n\nfunction attrInterpolateNS(fullname, i) {\n  return function(t) {\n    this.setAttributeNS(fullname.space, fullname.local, i.call(this, t));\n  };\n}\n\nfunction attrTweenNS(fullname, value) {\n  var t0, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t0 = (i0 = i) && attrInterpolateNS(fullname, i);\n    return t0;\n  }\n  tween._value = value;\n  return tween;\n}\n\nfunction attrTween(name, value) {\n  var t0, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t0 = (i0 = i) && attrInterpolate(name, i);\n    return t0;\n  }\n  tween._value = value;\n  return tween;\n}\n\nexport default function(name, value) {\n  var key = \"attr.\" + name;\n  if (arguments.length < 2) return (key = this.tween(key)) && key._value;\n  if (value == null) return this.tween(key, null);\n  if (typeof value !== \"function\") throw new Error;\n  var fullname = namespace(name);\n  return this.tween(key, (fullname.local ? attrTweenNS : attrTween)(fullname, value));\n}\n","import {get, init} from \"./schedule.js\";\n\nfunction delayFunction(id, value) {\n  return function() {\n    init(this, id).delay = +value.apply(this, arguments);\n  };\n}\n\nfunction delayConstant(id, value) {\n  return value = +value, function() {\n    init(this, id).delay = value;\n  };\n}\n\nexport default function(value) {\n  var id = this._id;\n\n  return arguments.length\n      ? this.each((typeof value === \"function\"\n          ? delayFunction\n          : delayConstant)(id, value))\n      : get(this.node(), id).delay;\n}\n","import {get, set} from \"./schedule.js\";\n\nfunction durationFunction(id, value) {\n  return function() {\n    set(this, id).duration = +value.apply(this, arguments);\n  };\n}\n\nfunction durationConstant(id, value) {\n  return value = +value, function() {\n    set(this, id).duration = value;\n  };\n}\n\nexport default function(value) {\n  var id = this._id;\n\n  return arguments.length\n      ? this.each((typeof value === \"function\"\n          ? durationFunction\n          : durationConstant)(id, value))\n      : get(this.node(), id).duration;\n}\n","import {get, set} from \"./schedule.js\";\n\nfunction easeConstant(id, value) {\n  if (typeof value !== \"function\") throw new Error;\n  return function() {\n    set(this, id).ease = value;\n  };\n}\n\nexport default function(value) {\n  var id = this._id;\n\n  return arguments.length\n      ? this.each(easeConstant(id, value))\n      : get(this.node(), id).ease;\n}\n","import {set} from \"./schedule.js\";\n\nfunction easeVarying(id, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (typeof v !== \"function\") throw new Error;\n    set(this, id).ease = v;\n  };\n}\n\nexport default function(value) {\n  if (typeof value !== \"function\") throw new Error;\n  return this.each(easeVarying(this._id, value));\n}\n","import {matcher} from \"d3-selection\";\nimport {Transition} from \"./index.js\";\n\nexport default function(match) {\n  if (typeof match !== \"function\") match = matcher(match);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = [], node, i = 0; i < n; ++i) {\n      if ((node = group[i]) && match.call(node, node.__data__, i, group)) {\n        subgroup.push(node);\n      }\n    }\n  }\n\n  return new Transition(subgroups, this._parents, this._name, this._id);\n}\n","import {Transition} from \"./index.js\";\n\nexport default function(transition) {\n  if (transition._id !== this._id) throw new Error;\n\n  for (var groups0 = this._groups, groups1 = transition._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {\n    for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge = merges[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group0[i] || group1[i]) {\n        merge[i] = node;\n      }\n    }\n  }\n\n  for (; j < m0; ++j) {\n    merges[j] = groups0[j];\n  }\n\n  return new Transition(merges, this._parents, this._name, this._id);\n}\n","import {get, set, init} from \"./schedule.js\";\n\nfunction start(name) {\n  return (name + \"\").trim().split(/^|\\s+/).every(function(t) {\n    var i = t.indexOf(\".\");\n    if (i >= 0) t = t.slice(0, i);\n    return !t || t === \"start\";\n  });\n}\n\nfunction onFunction(id, name, listener) {\n  var on0, on1, sit = start(name) ? init : set;\n  return function() {\n    var schedule = sit(this, id),\n        on = schedule.on;\n\n    // If this node shared a dispatch with the previous node,\n    // just assign the updated shared dispatch and we’re done!\n    // Otherwise, copy-on-write.\n    if (on !== on0) (on1 = (on0 = on).copy()).on(name, listener);\n\n    schedule.on = on1;\n  };\n}\n\nexport default function(name, listener) {\n  var id = this._id;\n\n  return arguments.length < 2\n      ? get(this.node(), id).on.on(name)\n      : this.each(onFunction(id, name, listener));\n}\n","function removeFunction(id) {\n  return function() {\n    var parent = this.parentNode;\n    for (var i in this.__transition) if (+i !== id) return;\n    if (parent) parent.removeChild(this);\n  };\n}\n\nexport default function() {\n  return this.on(\"end.remove\", removeFunction(this._id));\n}\n","import {selector} from \"d3-selection\";\nimport {Transition} from \"./index.js\";\nimport schedule, {get} from \"./schedule.js\";\n\nexport default function(select) {\n  var name = this._name,\n      id = this._id;\n\n  if (typeof select !== \"function\") select = selector(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = new Array(n), node, subnode, i = 0; i < n; ++i) {\n      if ((node = group[i]) && (subnode = select.call(node, node.__data__, i, group))) {\n        if (\"__data__\" in node) subnode.__data__ = node.__data__;\n        subgroup[i] = subnode;\n        schedule(subgroup[i], name, id, i, subgroup, get(node, id));\n      }\n    }\n  }\n\n  return new Transition(subgroups, this._parents, name, id);\n}\n","import {selectorAll} from \"d3-selection\";\nimport {Transition} from \"./index.js\";\nimport schedule, {get} from \"./schedule.js\";\n\nexport default function(select) {\n  var name = this._name,\n      id = this._id;\n\n  if (typeof select !== \"function\") select = selectorAll(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = [], parents = [], j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        for (var children = select.call(node, node.__data__, i, group), child, inherit = get(node, id), k = 0, l = children.length; k < l; ++k) {\n          if (child = children[k]) {\n            schedule(child, name, id, k, children, inherit);\n          }\n        }\n        subgroups.push(children);\n        parents.push(node);\n      }\n    }\n  }\n\n  return new Transition(subgroups, parents, name, id);\n}\n","import {selection} from \"d3-selection\";\n\nvar Selection = selection.prototype.constructor;\n\nexport default function() {\n  return new Selection(this._groups, this._parents);\n}\n","import {interpolateTransformCss as interpolateTransform} from \"d3-interpolate\";\nimport {style} from \"d3-selection\";\nimport {set} from \"./schedule.js\";\nimport {tweenValue} from \"./tween.js\";\nimport interpolate from \"./interpolate.js\";\n\nfunction styleNull(name, interpolate) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0 = style(this, name),\n        string1 = (this.style.removeProperty(name), style(this, name));\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, string10 = string1);\n  };\n}\n\nfunction styleRemove(name) {\n  return function() {\n    this.style.removeProperty(name);\n  };\n}\n\nfunction styleConstant(name, interpolate, value1) {\n  var string00,\n      string1 = value1 + \"\",\n      interpolate0;\n  return function() {\n    var string0 = style(this, name);\n    return string0 === string1 ? null\n        : string0 === string00 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, value1);\n  };\n}\n\nfunction styleFunction(name, interpolate, value) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0 = style(this, name),\n        value1 = value(this),\n        string1 = value1 + \"\";\n    if (value1 == null) string1 = value1 = (this.style.removeProperty(name), style(this, name));\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));\n  };\n}\n\nfunction styleMaybeRemove(id, name) {\n  var on0, on1, listener0, key = \"style.\" + name, event = \"end.\" + key, remove;\n  return function() {\n    var schedule = set(this, id),\n        on = schedule.on,\n        listener = schedule.value[key] == null ? remove || (remove = styleRemove(name)) : undefined;\n\n    // If this node shared a dispatch with the previous node,\n    // just assign the updated shared dispatch and we’re done!\n    // Otherwise, copy-on-write.\n    if (on !== on0 || listener0 !== listener) (on1 = (on0 = on).copy()).on(event, listener0 = listener);\n\n    schedule.on = on1;\n  };\n}\n\nexport default function(name, value, priority) {\n  var i = (name += \"\") === \"transform\" ? interpolateTransform : interpolate;\n  return value == null ? this\n      .styleTween(name, styleNull(name, i))\n      .on(\"end.style.\" + name, styleRemove(name))\n    : typeof value === \"function\" ? this\n      .styleTween(name, styleFunction(name, i, tweenValue(this, \"style.\" + name, value)))\n      .each(styleMaybeRemove(this._id, name))\n    : this\n      .styleTween(name, styleConstant(name, i, value), priority)\n      .on(\"end.style.\" + name, null);\n}\n","function styleInterpolate(name, i, priority) {\n  return function(t) {\n    this.style.setProperty(name, i.call(this, t), priority);\n  };\n}\n\nfunction styleTween(name, value, priority) {\n  var t, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t = (i0 = i) && styleInterpolate(name, i, priority);\n    return t;\n  }\n  tween._value = value;\n  return tween;\n}\n\nexport default function(name, value, priority) {\n  var key = \"style.\" + (name += \"\");\n  if (arguments.length < 2) return (key = this.tween(key)) && key._value;\n  if (value == null) return this.tween(key, null);\n  if (typeof value !== \"function\") throw new Error;\n  return this.tween(key, styleTween(name, value, priority == null ? \"\" : priority));\n}\n","import {tweenValue} from \"./tween.js\";\n\nfunction textConstant(value) {\n  return function() {\n    this.textContent = value;\n  };\n}\n\nfunction textFunction(value) {\n  return function() {\n    var value1 = value(this);\n    this.textContent = value1 == null ? \"\" : value1;\n  };\n}\n\nexport default function(value) {\n  return this.tween(\"text\", typeof value === \"function\"\n      ? textFunction(tweenValue(this, \"text\", value))\n      : textConstant(value == null ? \"\" : value + \"\"));\n}\n","function textInterpolate(i) {\n  return function(t) {\n    this.textContent = i.call(this, t);\n  };\n}\n\nfunction textTween(value) {\n  var t0, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t0 = (i0 = i) && textInterpolate(i);\n    return t0;\n  }\n  tween._value = value;\n  return tween;\n}\n\nexport default function(value) {\n  var key = \"text\";\n  if (arguments.length < 1) return (key = this.tween(key)) && key._value;\n  if (value == null) return this.tween(key, null);\n  if (typeof value !== \"function\") throw new Error;\n  return this.tween(key, textTween(value));\n}\n","import {Transition, newId} from \"./index.js\";\nimport schedule, {get} from \"./schedule.js\";\n\nexport default function() {\n  var name = this._name,\n      id0 = this._id,\n      id1 = newId();\n\n  for (var groups = this._groups, m = groups.length, j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        var inherit = get(node, id0);\n        schedule(node, name, id1, i, group, {\n          time: inherit.time + inherit.delay + inherit.duration,\n          delay: 0,\n          duration: inherit.duration,\n          ease: inherit.ease\n        });\n      }\n    }\n  }\n\n  return new Transition(groups, this._parents, name, id1);\n}\n","import {set} from \"./schedule.js\";\n\nexport default function() {\n  var on0, on1, that = this, id = that._id, size = that.size();\n  return new Promise(function(resolve, reject) {\n    var cancel = {value: reject},\n        end = {value: function() { if (--size === 0) resolve(); }};\n\n    that.each(function() {\n      var schedule = set(this, id),\n          on = schedule.on;\n\n      // If this node shared a dispatch with the previous node,\n      // just assign the updated shared dispatch and we’re done!\n      // Otherwise, copy-on-write.\n      if (on !== on0) {\n        on1 = (on0 = on).copy();\n        on1._.cancel.push(cancel);\n        on1._.interrupt.push(cancel);\n        on1._.end.push(end);\n      }\n\n      schedule.on = on1;\n    });\n\n    // The selection was empty, resolve end immediately\n    if (size === 0) resolve();\n  });\n}\n","export function cubicIn(t) {\n  return t * t * t;\n}\n\nexport function cubicOut(t) {\n  return --t * t * t + 1;\n}\n\nexport function cubicInOut(t) {\n  return ((t *= 2) <= 1 ? t * t * t : (t -= 2) * t * t + 2) / 2;\n}\n","(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define([],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}g.xmldom = f()}})(function(){var define,module,exports;return (function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){\n'use strict'\n\n/**\n * Ponyfill for `Array.prototype.find` which is only available in ES6 runtimes.\n *\n * Works with anything that has a `length` property and index access properties, including NodeList.\n *\n * @template {unknown} T\n * @param {Array<T> | ({length:number, [number]: T})} list\n * @param {function (item: T, index: number, list:Array<T> | ({length:number, [number]: T})):boolean} predicate\n * @param {Partial<Pick<ArrayConstructor['prototype'], 'find'>>?} ac `Array.prototype` by default,\n * \t\t\t\tallows injecting a custom implementation in tests\n * @returns {T | undefined}\n *\n * @see https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/find\n * @see https://tc39.es/ecma262/multipage/indexed-collections.html#sec-array.prototype.find\n */\nfunction find(list, predicate, ac) {\n\tif (ac === undefined) {\n\t\tac = Array.prototype;\n\t}\n\tif (list && typeof ac.find === 'function') {\n\t\treturn ac.find.call(list, predicate);\n\t}\n\tfor (var i = 0; i < list.length; i++) {\n\t\tif (Object.prototype.hasOwnProperty.call(list, i)) {\n\t\t\tvar item = list[i];\n\t\t\tif (predicate.call(undefined, item, i, list)) {\n\t\t\t\treturn item;\n\t\t\t}\n\t\t}\n\t}\n}\n\n/**\n * \"Shallow freezes\" an object to render it immutable.\n * Uses `Object.freeze` if available,\n * otherwise the immutability is only in the type.\n *\n * Is used to create \"enum like\" objects.\n *\n * @template T\n * @param {T} object the object to freeze\n * @param {Pick<ObjectConstructor, 'freeze'> = Object} oc `Object` by default,\n * \t\t\t\tallows to inject custom object constructor for tests\n * @returns {Readonly<T>}\n *\n * @see https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/freeze\n */\nfunction freeze(object, oc) {\n\tif (oc === undefined) {\n\t\toc = Object\n\t}\n\treturn oc && typeof oc.freeze === 'function' ? oc.freeze(object) : object\n}\n\n/**\n * Since we can not rely on `Object.assign` we provide a simplified version\n * that is sufficient for our needs.\n *\n * @param {Object} target\n * @param {Object | null | undefined} source\n *\n * @returns {Object} target\n * @throws TypeError if target is not an object\n *\n * @see https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/assign\n * @see https://tc39.es/ecma262/multipage/fundamental-objects.html#sec-object.assign\n */\nfunction assign(target, source) {\n\tif (target === null || typeof target !== 'object') {\n\t\tthrow new TypeError('target is not an object')\n\t}\n\tfor (var key in source) {\n\t\tif (Object.prototype.hasOwnProperty.call(source, key)) {\n\t\t\ttarget[key] = source[key]\n\t\t}\n\t}\n\treturn target\n}\n\n/**\n * All mime types that are allowed as input to `DOMParser.parseFromString`\n *\n * @see https://developer.mozilla.org/en-US/docs/Web/API/DOMParser/parseFromString#Argument02 MDN\n * @see https://html.spec.whatwg.org/multipage/dynamic-markup-insertion.html#domparsersupportedtype WHATWG HTML Spec\n * @see DOMParser.prototype.parseFromString\n */\nvar MIME_TYPE = freeze({\n\t/**\n\t * `text/html`, the only mime type that triggers treating an XML document as HTML.\n\t *\n\t * @see DOMParser.SupportedType.isHTML\n\t * @see https://www.iana.org/assignments/media-types/text/html IANA MimeType registration\n\t * @see https://en.wikipedia.org/wiki/HTML Wikipedia\n\t * @see https://developer.mozilla.org/en-US/docs/Web/API/DOMParser/parseFromString MDN\n\t * @see https://html.spec.whatwg.org/multipage/dynamic-markup-insertion.html#dom-domparser-parsefromstring WHATWG HTML Spec\n\t */\n\tHTML: 'text/html',\n\n\t/**\n\t * Helper method to check a mime type if it indicates an HTML document\n\t *\n\t * @param {string} [value]\n\t * @returns {boolean}\n\t *\n\t * @see https://www.iana.org/assignments/media-types/text/html IANA MimeType registration\n\t * @see https://en.wikipedia.org/wiki/HTML Wikipedia\n\t * @see https://developer.mozilla.org/en-US/docs/Web/API/DOMParser/parseFromString MDN\n\t * @see https://html.spec.whatwg.org/multipage/dynamic-markup-insertion.html#dom-domparser-parsefromstring \t */\n\tisHTML: function (value) {\n\t\treturn value === MIME_TYPE.HTML\n\t},\n\n\t/**\n\t * `application/xml`, the standard mime type for XML documents.\n\t *\n\t * @see https://www.iana.org/assignments/media-types/application/xml IANA MimeType registration\n\t * @see https://tools.ietf.org/html/rfc7303#section-9.1 RFC 7303\n\t * @see https://en.wikipedia.org/wiki/XML_and_MIME Wikipedia\n\t */\n\tXML_APPLICATION: 'application/xml',\n\n\t/**\n\t * `text/html`, an alias for `application/xml`.\n\t *\n\t * @see https://tools.ietf.org/html/rfc7303#section-9.2 RFC 7303\n\t * @see https://www.iana.org/assignments/media-types/text/xml IANA MimeType registration\n\t * @see https://en.wikipedia.org/wiki/XML_and_MIME Wikipedia\n\t */\n\tXML_TEXT: 'text/xml',\n\n\t/**\n\t * `application/xhtml+xml`, indicates an XML document that has the default HTML namespace,\n\t * but is parsed as an XML document.\n\t *\n\t * @see https://www.iana.org/assignments/media-types/application/xhtml+xml IANA MimeType registration\n\t * @see https://dom.spec.whatwg.org/#dom-domimplementation-createdocument WHATWG DOM Spec\n\t * @see https://en.wikipedia.org/wiki/XHTML Wikipedia\n\t */\n\tXML_XHTML_APPLICATION: 'application/xhtml+xml',\n\n\t/**\n\t * `image/svg+xml`,\n\t *\n\t * @see https://www.iana.org/assignments/media-types/image/svg+xml IANA MimeType registration\n\t * @see https://www.w3.org/TR/SVG11/ W3C SVG 1.1\n\t * @see https://en.wikipedia.org/wiki/Scalable_Vector_Graphics Wikipedia\n\t */\n\tXML_SVG_IMAGE: 'image/svg+xml',\n})\n\n/**\n * Namespaces that are used in this code base.\n *\n * @see http://www.w3.org/TR/REC-xml-names\n */\nvar NAMESPACE = freeze({\n\t/**\n\t * The XHTML namespace.\n\t *\n\t * @see http://www.w3.org/1999/xhtml\n\t */\n\tHTML: 'http://www.w3.org/1999/xhtml',\n\n\t/**\n\t * Checks if `uri` equals `NAMESPACE.HTML`.\n\t *\n\t * @param {string} [uri]\n\t *\n\t * @see NAMESPACE.HTML\n\t */\n\tisHTML: function (uri) {\n\t\treturn uri === NAMESPACE.HTML\n\t},\n\n\t/**\n\t * The SVG namespace.\n\t *\n\t * @see http://www.w3.org/2000/svg\n\t */\n\tSVG: 'http://www.w3.org/2000/svg',\n\n\t/**\n\t * The `xml:` namespace.\n\t *\n\t * @see http://www.w3.org/XML/1998/namespace\n\t */\n\tXML: 'http://www.w3.org/XML/1998/namespace',\n\n\t/**\n\t * The `xmlns:` namespace\n\t *\n\t * @see https://www.w3.org/2000/xmlns/\n\t */\n\tXMLNS: 'http://www.w3.org/2000/xmlns/',\n})\n\nexports.assign = assign;\nexports.find = find;\nexports.freeze = freeze;\nexports.MIME_TYPE = MIME_TYPE;\nexports.NAMESPACE = NAMESPACE;\n\n},{}],2:[function(require,module,exports){\nvar conventions = require(\"./conventions\");\nvar dom = require('./dom')\nvar entities = require('./entities');\nvar sax = require('./sax');\n\nvar DOMImplementation = dom.DOMImplementation;\n\nvar NAMESPACE = conventions.NAMESPACE;\n\nvar ParseError = sax.ParseError;\nvar XMLReader = sax.XMLReader;\n\n/**\n * Normalizes line ending according to https://www.w3.org/TR/xml11/#sec-line-ends:\n *\n * > XML parsed entities are often stored in computer files which,\n * > for editing convenience, are organized into lines.\n * > These lines are typically separated by some combination\n * > of the characters CARRIAGE RETURN (#xD) and LINE FEED (#xA).\n * >\n * > To simplify the tasks of applications, the XML processor must behave\n * > as if it normalized all line breaks in external parsed entities (including the document entity)\n * > on input, before parsing, by translating all of the following to a single #xA character:\n * >\n * > 1. the two-character sequence #xD #xA\n * > 2. the two-character sequence #xD #x85\n * > 3. the single character #x85\n * > 4. the single character #x2028\n * > 5. any #xD character that is not immediately followed by #xA or #x85.\n *\n * @param {string} input\n * @returns {string}\n */\nfunction normalizeLineEndings(input) {\n\treturn input\n\t\t.replace(/\\r[\\n\\u0085]/g, '\\n')\n\t\t.replace(/[\\r\\u0085\\u2028]/g, '\\n')\n}\n\n/**\n * @typedef Locator\n * @property {number} [columnNumber]\n * @property {number} [lineNumber]\n */\n\n/**\n * @typedef DOMParserOptions\n * @property {DOMHandler} [domBuilder]\n * @property {Function} [errorHandler]\n * @property {(string) => string} [normalizeLineEndings] used to replace line endings before parsing\n * \t\t\t\t\t\tdefaults to `normalizeLineEndings`\n * @property {Locator} [locator]\n * @property {Record<string, string>} [xmlns]\n *\n * @see normalizeLineEndings\n */\n\n/**\n * The DOMParser interface provides the ability to parse XML or HTML source code\n * from a string into a DOM `Document`.\n *\n * _xmldom is different from the spec in that it allows an `options` parameter,\n * to override the default behavior._\n *\n * @param {DOMParserOptions} [options]\n * @constructor\n *\n * @see https://developer.mozilla.org/en-US/docs/Web/API/DOMParser\n * @see https://html.spec.whatwg.org/multipage/dynamic-markup-insertion.html#dom-parsing-and-serialization\n */\nfunction DOMParser(options){\n\tthis.options = options ||{locator:{}};\n}\n\nDOMParser.prototype.parseFromString = function(source,mimeType){\n\tvar options = this.options;\n\tvar sax =  new XMLReader();\n\tvar domBuilder = options.domBuilder || new DOMHandler();//contentHandler and LexicalHandler\n\tvar errorHandler = options.errorHandler;\n\tvar locator = options.locator;\n\tvar defaultNSMap = options.xmlns||{};\n\tvar isHTML = /\\/x?html?$/.test(mimeType);//mimeType.toLowerCase().indexOf('html') > -1;\n  \tvar entityMap = isHTML ? entities.HTML_ENTITIES : entities.XML_ENTITIES;\n\tif(locator){\n\t\tdomBuilder.setDocumentLocator(locator)\n\t}\n\n\tsax.errorHandler = buildErrorHandler(errorHandler,domBuilder,locator);\n\tsax.domBuilder = options.domBuilder || domBuilder;\n\tif(isHTML){\n\t\tdefaultNSMap[''] = NAMESPACE.HTML;\n\t}\n\tdefaultNSMap.xml = defaultNSMap.xml || NAMESPACE.XML;\n\tvar normalize = options.normalizeLineEndings || normalizeLineEndings;\n\tif (source && typeof source === 'string') {\n\t\tsax.parse(\n\t\t\tnormalize(source),\n\t\t\tdefaultNSMap,\n\t\t\tentityMap\n\t\t)\n\t} else {\n\t\tsax.errorHandler.error('invalid doc source')\n\t}\n\treturn domBuilder.doc;\n}\nfunction buildErrorHandler(errorImpl,domBuilder,locator){\n\tif(!errorImpl){\n\t\tif(domBuilder instanceof DOMHandler){\n\t\t\treturn domBuilder;\n\t\t}\n\t\terrorImpl = domBuilder ;\n\t}\n\tvar errorHandler = {}\n\tvar isCallback = errorImpl instanceof Function;\n\tlocator = locator||{}\n\tfunction build(key){\n\t\tvar fn = errorImpl[key];\n\t\tif(!fn && isCallback){\n\t\t\tfn = errorImpl.length == 2?function(msg){errorImpl(key,msg)}:errorImpl;\n\t\t}\n\t\terrorHandler[key] = fn && function(msg){\n\t\t\tfn('[xmldom '+key+']\\t'+msg+_locator(locator));\n\t\t}||function(){};\n\t}\n\tbuild('warning');\n\tbuild('error');\n\tbuild('fatalError');\n\treturn errorHandler;\n}\n\n//console.log('#\\n\\n\\n\\n\\n\\n\\n####')\n/**\n * +ContentHandler+ErrorHandler\n * +LexicalHandler+EntityResolver2\n * -DeclHandler-DTDHandler\n *\n * DefaultHandler:EntityResolver, DTDHandler, ContentHandler, ErrorHandler\n * DefaultHandler2:DefaultHandler,LexicalHandler, DeclHandler, EntityResolver2\n * @link http://www.saxproject.org/apidoc/org/xml/sax/helpers/DefaultHandler.html\n */\nfunction DOMHandler() {\n    this.cdata = false;\n}\nfunction position(locator,node){\n\tnode.lineNumber = locator.lineNumber;\n\tnode.columnNumber = locator.columnNumber;\n}\n/**\n * @see org.xml.sax.ContentHandler#startDocument\n * @link http://www.saxproject.org/apidoc/org/xml/sax/ContentHandler.html\n */\nDOMHandler.prototype = {\n\tstartDocument : function() {\n    \tthis.doc = new DOMImplementation().createDocument(null, null, null);\n    \tif (this.locator) {\n        \tthis.doc.documentURI = this.locator.systemId;\n    \t}\n\t},\n\tstartElement:function(namespaceURI, localName, qName, attrs) {\n\t\tvar doc = this.doc;\n\t    var el = doc.createElementNS(namespaceURI, qName||localName);\n\t    var len = attrs.length;\n\t    appendElement(this, el);\n\t    this.currentElement = el;\n\n\t\tthis.locator && position(this.locator,el)\n\t    for (var i = 0 ; i < len; i++) {\n\t        var namespaceURI = attrs.getURI(i);\n\t        var value = attrs.getValue(i);\n\t        var qName = attrs.getQName(i);\n\t\t\tvar attr = doc.createAttributeNS(namespaceURI, qName);\n\t\t\tthis.locator &&position(attrs.getLocator(i),attr);\n\t\t\tattr.value = attr.nodeValue = value;\n\t\t\tel.setAttributeNode(attr)\n\t    }\n\t},\n\tendElement:function(namespaceURI, localName, qName) {\n\t\tvar current = this.currentElement\n\t\tvar tagName = current.tagName;\n\t\tthis.currentElement = current.parentNode;\n\t},\n\tstartPrefixMapping:function(prefix, uri) {\n\t},\n\tendPrefixMapping:function(prefix) {\n\t},\n\tprocessingInstruction:function(target, data) {\n\t    var ins = this.doc.createProcessingInstruction(target, data);\n\t    this.locator && position(this.locator,ins)\n\t    appendElement(this, ins);\n\t},\n\tignorableWhitespace:function(ch, start, length) {\n\t},\n\tcharacters:function(chars, start, length) {\n\t\tchars = _toString.apply(this,arguments)\n\t\t//console.log(chars)\n\t\tif(chars){\n\t\t\tif (this.cdata) {\n\t\t\t\tvar charNode = this.doc.createCDATASection(chars);\n\t\t\t} else {\n\t\t\t\tvar charNode = this.doc.createTextNode(chars);\n\t\t\t}\n\t\t\tif(this.currentElement){\n\t\t\t\tthis.currentElement.appendChild(charNode);\n\t\t\t}else if(/^\\s*$/.test(chars)){\n\t\t\t\tthis.doc.appendChild(charNode);\n\t\t\t\t//process xml\n\t\t\t}\n\t\t\tthis.locator && position(this.locator,charNode)\n\t\t}\n\t},\n\tskippedEntity:function(name) {\n\t},\n\tendDocument:function() {\n\t\tthis.doc.normalize();\n\t},\n\tsetDocumentLocator:function (locator) {\n\t    if(this.locator = locator){// && !('lineNumber' in locator)){\n\t    \tlocator.lineNumber = 0;\n\t    }\n\t},\n\t//LexicalHandler\n\tcomment:function(chars, start, length) {\n\t\tchars = _toString.apply(this,arguments)\n\t    var comm = this.doc.createComment(chars);\n\t    this.locator && position(this.locator,comm)\n\t    appendElement(this, comm);\n\t},\n\n\tstartCDATA:function() {\n\t    //used in characters() methods\n\t    this.cdata = true;\n\t},\n\tendCDATA:function() {\n\t    this.cdata = false;\n\t},\n\n\tstartDTD:function(name, publicId, systemId) {\n\t\tvar impl = this.doc.implementation;\n\t    if (impl && impl.createDocumentType) {\n\t        var dt = impl.createDocumentType(name, publicId, systemId);\n\t        this.locator && position(this.locator,dt)\n\t        appendElement(this, dt);\n\t\t\t\t\tthis.doc.doctype = dt;\n\t    }\n\t},\n\t/**\n\t * @see org.xml.sax.ErrorHandler\n\t * @link http://www.saxproject.org/apidoc/org/xml/sax/ErrorHandler.html\n\t */\n\twarning:function(error) {\n\t\tconsole.warn('[xmldom warning]\\t'+error,_locator(this.locator));\n\t},\n\terror:function(error) {\n\t\tconsole.error('[xmldom error]\\t'+error,_locator(this.locator));\n\t},\n\tfatalError:function(error) {\n\t\tthrow new ParseError(error, this.locator);\n\t}\n}\nfunction _locator(l){\n\tif(l){\n\t\treturn '\\n@'+(l.systemId ||'')+'#[line:'+l.lineNumber+',col:'+l.columnNumber+']'\n\t}\n}\nfunction _toString(chars,start,length){\n\tif(typeof chars == 'string'){\n\t\treturn chars.substr(start,length)\n\t}else{//java sax connect width xmldom on rhino(what about: \"? && !(chars instanceof String)\")\n\t\tif(chars.length >= start+length || start){\n\t\t\treturn new java.lang.String(chars,start,length)+'';\n\t\t}\n\t\treturn chars;\n\t}\n}\n\n/*\n * @link http://www.saxproject.org/apidoc/org/xml/sax/ext/LexicalHandler.html\n * used method of org.xml.sax.ext.LexicalHandler:\n *  #comment(chars, start, length)\n *  #startCDATA()\n *  #endCDATA()\n *  #startDTD(name, publicId, systemId)\n *\n *\n * IGNORED method of org.xml.sax.ext.LexicalHandler:\n *  #endDTD()\n *  #startEntity(name)\n *  #endEntity(name)\n *\n *\n * @link http://www.saxproject.org/apidoc/org/xml/sax/ext/DeclHandler.html\n * IGNORED method of org.xml.sax.ext.DeclHandler\n * \t#attributeDecl(eName, aName, type, mode, value)\n *  #elementDecl(name, model)\n *  #externalEntityDecl(name, publicId, systemId)\n *  #internalEntityDecl(name, value)\n * @link http://www.saxproject.org/apidoc/org/xml/sax/ext/EntityResolver2.html\n * IGNORED method of org.xml.sax.EntityResolver2\n *  #resolveEntity(String name,String publicId,String baseURI,String systemId)\n *  #resolveEntity(publicId, systemId)\n *  #getExternalSubset(name, baseURI)\n * @link http://www.saxproject.org/apidoc/org/xml/sax/DTDHandler.html\n * IGNORED method of org.xml.sax.DTDHandler\n *  #notationDecl(name, publicId, systemId) {};\n *  #unparsedEntityDecl(name, publicId, systemId, notationName) {};\n */\n\"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl\".replace(/\\w+/g,function(key){\n\tDOMHandler.prototype[key] = function(){return null}\n})\n\n/* Private static helpers treated below as private instance methods, so don't need to add these to the public API; we might use a Relator to also get rid of non-standard public properties */\nfunction appendElement (hander,node) {\n    if (!hander.currentElement) {\n        hander.doc.appendChild(node);\n    } else {\n        hander.currentElement.appendChild(node);\n    }\n}//appendChild and setAttributeNS are preformance key\n\nexports.__DOMHandler = DOMHandler;\nexports.normalizeLineEndings = normalizeLineEndings;\nexports.DOMParser = DOMParser;\n\n},{\"./conventions\":1,\"./dom\":3,\"./entities\":4,\"./sax\":7}],3:[function(require,module,exports){\nvar conventions = require(\"./conventions\");\n\nvar find = conventions.find;\nvar NAMESPACE = conventions.NAMESPACE;\n\n/**\n * A prerequisite for `[].filter`, to drop elements that are empty\n * @param {string} input\n * @returns {boolean}\n */\nfunction notEmptyString (input) {\n\treturn input !== ''\n}\n/**\n * @see https://infra.spec.whatwg.org/#split-on-ascii-whitespace\n * @see https://infra.spec.whatwg.org/#ascii-whitespace\n *\n * @param {string} input\n * @returns {string[]} (can be empty)\n */\nfunction splitOnASCIIWhitespace(input) {\n\t// U+0009 TAB, U+000A LF, U+000C FF, U+000D CR, U+0020 SPACE\n\treturn input ? input.split(/[\\t\\n\\f\\r ]+/).filter(notEmptyString) : []\n}\n\n/**\n * Adds element as a key to current if it is not already present.\n *\n * @param {Record<string, boolean | undefined>} current\n * @param {string} element\n * @returns {Record<string, boolean | undefined>}\n */\nfunction orderedSetReducer (current, element) {\n\tif (!current.hasOwnProperty(element)) {\n\t\tcurrent[element] = true;\n\t}\n\treturn current;\n}\n\n/**\n * @see https://infra.spec.whatwg.org/#ordered-set\n * @param {string} input\n * @returns {string[]}\n */\nfunction toOrderedSet(input) {\n\tif (!input) return [];\n\tvar list = splitOnASCIIWhitespace(input);\n\treturn Object.keys(list.reduce(orderedSetReducer, {}))\n}\n\n/**\n * Uses `list.indexOf` to implement something like `Array.prototype.includes`,\n * which we can not rely on being available.\n *\n * @param {any[]} list\n * @returns {function(any): boolean}\n */\nfunction arrayIncludes (list) {\n\treturn function(element) {\n\t\treturn list && list.indexOf(element) !== -1;\n\t}\n}\n\nfunction copy(src,dest){\n\tfor(var p in src){\n\t\tif (Object.prototype.hasOwnProperty.call(src, p)) {\n\t\t\tdest[p] = src[p];\n\t\t}\n\t}\n}\n\n/**\n^\\w+\\.prototype\\.([_\\w]+)\\s*=\\s*((?:.*\\{\\s*?[\\r\\n][\\s\\S]*?^})|\\S.*?(?=[;\\r\\n]));?\n^\\w+\\.prototype\\.([_\\w]+)\\s*=\\s*(\\S.*?(?=[;\\r\\n]));?\n */\nfunction _extends(Class,Super){\n\tvar pt = Class.prototype;\n\tif(!(pt instanceof Super)){\n\t\tfunction t(){};\n\t\tt.prototype = Super.prototype;\n\t\tt = new t();\n\t\tcopy(pt,t);\n\t\tClass.prototype = pt = t;\n\t}\n\tif(pt.constructor != Class){\n\t\tif(typeof Class != 'function'){\n\t\t\tconsole.error(\"unknown Class:\"+Class)\n\t\t}\n\t\tpt.constructor = Class\n\t}\n}\n\n// Node Types\nvar NodeType = {}\nvar ELEMENT_NODE                = NodeType.ELEMENT_NODE                = 1;\nvar ATTRIBUTE_NODE              = NodeType.ATTRIBUTE_NODE              = 2;\nvar TEXT_NODE                   = NodeType.TEXT_NODE                   = 3;\nvar CDATA_SECTION_NODE          = NodeType.CDATA_SECTION_NODE          = 4;\nvar ENTITY_REFERENCE_NODE       = NodeType.ENTITY_REFERENCE_NODE       = 5;\nvar ENTITY_NODE                 = NodeType.ENTITY_NODE                 = 6;\nvar PROCESSING_INSTRUCTION_NODE = NodeType.PROCESSING_INSTRUCTION_NODE = 7;\nvar COMMENT_NODE                = NodeType.COMMENT_NODE                = 8;\nvar DOCUMENT_NODE               = NodeType.DOCUMENT_NODE               = 9;\nvar DOCUMENT_TYPE_NODE          = NodeType.DOCUMENT_TYPE_NODE          = 10;\nvar DOCUMENT_FRAGMENT_NODE      = NodeType.DOCUMENT_FRAGMENT_NODE      = 11;\nvar NOTATION_NODE               = NodeType.NOTATION_NODE               = 12;\n\n// ExceptionCode\nvar ExceptionCode = {}\nvar ExceptionMessage = {};\nvar INDEX_SIZE_ERR              = ExceptionCode.INDEX_SIZE_ERR              = ((ExceptionMessage[1]=\"Index size error\"),1);\nvar DOMSTRING_SIZE_ERR          = ExceptionCode.DOMSTRING_SIZE_ERR          = ((ExceptionMessage[2]=\"DOMString size error\"),2);\nvar HIERARCHY_REQUEST_ERR       = ExceptionCode.HIERARCHY_REQUEST_ERR       = ((ExceptionMessage[3]=\"Hierarchy request error\"),3);\nvar WRONG_DOCUMENT_ERR          = ExceptionCode.WRONG_DOCUMENT_ERR          = ((ExceptionMessage[4]=\"Wrong document\"),4);\nvar INVALID_CHARACTER_ERR       = ExceptionCode.INVALID_CHARACTER_ERR       = ((ExceptionMessage[5]=\"Invalid character\"),5);\nvar NO_DATA_ALLOWED_ERR         = ExceptionCode.NO_DATA_ALLOWED_ERR         = ((ExceptionMessage[6]=\"No data allowed\"),6);\nvar NO_MODIFICATION_ALLOWED_ERR = ExceptionCode.NO_MODIFICATION_ALLOWED_ERR = ((ExceptionMessage[7]=\"No modification allowed\"),7);\nvar NOT_FOUND_ERR               = ExceptionCode.NOT_FOUND_ERR               = ((ExceptionMessage[8]=\"Not found\"),8);\nvar NOT_SUPPORTED_ERR           = ExceptionCode.NOT_SUPPORTED_ERR           = ((ExceptionMessage[9]=\"Not supported\"),9);\nvar INUSE_ATTRIBUTE_ERR         = ExceptionCode.INUSE_ATTRIBUTE_ERR         = ((ExceptionMessage[10]=\"Attribute in use\"),10);\n//level2\nvar INVALID_STATE_ERR        \t= ExceptionCode.INVALID_STATE_ERR        \t= ((ExceptionMessage[11]=\"Invalid state\"),11);\nvar SYNTAX_ERR               \t= ExceptionCode.SYNTAX_ERR               \t= ((ExceptionMessage[12]=\"Syntax error\"),12);\nvar INVALID_MODIFICATION_ERR \t= ExceptionCode.INVALID_MODIFICATION_ERR \t= ((ExceptionMessage[13]=\"Invalid modification\"),13);\nvar NAMESPACE_ERR            \t= ExceptionCode.NAMESPACE_ERR           \t= ((ExceptionMessage[14]=\"Invalid namespace\"),14);\nvar INVALID_ACCESS_ERR       \t= ExceptionCode.INVALID_ACCESS_ERR      \t= ((ExceptionMessage[15]=\"Invalid access\"),15);\n\n/**\n * DOM Level 2\n * Object DOMException\n * @see http://www.w3.org/TR/2000/REC-DOM-Level-2-Core-20001113/ecma-script-binding.html\n * @see http://www.w3.org/TR/REC-DOM-Level-1/ecma-script-language-binding.html\n */\nfunction DOMException(code, message) {\n\tif(message instanceof Error){\n\t\tvar error = message;\n\t}else{\n\t\terror = this;\n\t\tError.call(this, ExceptionMessage[code]);\n\t\tthis.message = ExceptionMessage[code];\n\t\tif(Error.captureStackTrace) Error.captureStackTrace(this, DOMException);\n\t}\n\terror.code = code;\n\tif(message) this.message = this.message + \": \" + message;\n\treturn error;\n};\nDOMException.prototype = Error.prototype;\ncopy(ExceptionCode,DOMException)\n\n/**\n * @see http://www.w3.org/TR/2000/REC-DOM-Level-2-Core-20001113/core.html#ID-536297177\n * The NodeList interface provides the abstraction of an ordered collection of nodes, without defining or constraining how this collection is implemented. NodeList objects in the DOM are live.\n * The items in the NodeList are accessible via an integral index, starting from 0.\n */\nfunction NodeList() {\n};\nNodeList.prototype = {\n\t/**\n\t * The number of nodes in the list. The range of valid child node indices is 0 to length-1 inclusive.\n\t * @standard level1\n\t */\n\tlength:0,\n\t/**\n\t * Returns the indexth item in the collection. If index is greater than or equal to the number of nodes in the list, this returns null.\n\t * @standard level1\n\t * @param index  unsigned long\n\t *   Index into the collection.\n\t * @return Node\n\t * \tThe node at the indexth position in the NodeList, or null if that is not a valid index.\n\t */\n\titem: function(index) {\n\t\treturn this[index] || null;\n\t},\n\ttoString:function(isHTML,nodeFilter){\n\t\tfor(var buf = [], i = 0;i<this.length;i++){\n\t\t\tserializeToString(this[i],buf,isHTML,nodeFilter);\n\t\t}\n\t\treturn buf.join('');\n\t},\n\t/**\n\t * @private\n\t * @param {function (Node):boolean} predicate\n\t * @returns {Node[]}\n\t */\n\tfilter: function (predicate) {\n\t\treturn Array.prototype.filter.call(this, predicate);\n\t},\n\t/**\n\t * @private\n\t * @param {Node} item\n\t * @returns {number}\n\t */\n\tindexOf: function (item) {\n\t\treturn Array.prototype.indexOf.call(this, item);\n\t},\n};\n\nfunction LiveNodeList(node,refresh){\n\tthis._node = node;\n\tthis._refresh = refresh\n\t_updateLiveList(this);\n}\nfunction _updateLiveList(list){\n\tvar inc = list._node._inc || list._node.ownerDocument._inc;\n\tif(list._inc != inc){\n\t\tvar ls = list._refresh(list._node);\n\t\t//console.log(ls.length)\n\t\t__set__(list,'length',ls.length);\n\t\tcopy(ls,list);\n\t\tlist._inc = inc;\n\t}\n}\nLiveNodeList.prototype.item = function(i){\n\t_updateLiveList(this);\n\treturn this[i];\n}\n\n_extends(LiveNodeList,NodeList);\n\n/**\n * Objects implementing the NamedNodeMap interface are used\n * to represent collections of nodes that can be accessed by name.\n * Note that NamedNodeMap does not inherit from NodeList;\n * NamedNodeMaps are not maintained in any particular order.\n * Objects contained in an object implementing NamedNodeMap may also be accessed by an ordinal index,\n * but this is simply to allow convenient enumeration of the contents of a NamedNodeMap,\n * and does not imply that the DOM specifies an order to these Nodes.\n * NamedNodeMap objects in the DOM are live.\n * used for attributes or DocumentType entities\n */\nfunction NamedNodeMap() {\n};\n\nfunction _findNodeIndex(list,node){\n\tvar i = list.length;\n\twhile(i--){\n\t\tif(list[i] === node){return i}\n\t}\n}\n\nfunction _addNamedNode(el,list,newAttr,oldAttr){\n\tif(oldAttr){\n\t\tlist[_findNodeIndex(list,oldAttr)] = newAttr;\n\t}else{\n\t\tlist[list.length++] = newAttr;\n\t}\n\tif(el){\n\t\tnewAttr.ownerElement = el;\n\t\tvar doc = el.ownerDocument;\n\t\tif(doc){\n\t\t\toldAttr && _onRemoveAttribute(doc,el,oldAttr);\n\t\t\t_onAddAttribute(doc,el,newAttr);\n\t\t}\n\t}\n}\nfunction _removeNamedNode(el,list,attr){\n\t//console.log('remove attr:'+attr)\n\tvar i = _findNodeIndex(list,attr);\n\tif(i>=0){\n\t\tvar lastIndex = list.length-1\n\t\twhile(i<lastIndex){\n\t\t\tlist[i] = list[++i]\n\t\t}\n\t\tlist.length = lastIndex;\n\t\tif(el){\n\t\t\tvar doc = el.ownerDocument;\n\t\t\tif(doc){\n\t\t\t\t_onRemoveAttribute(doc,el,attr);\n\t\t\t\tattr.ownerElement = null;\n\t\t\t}\n\t\t}\n\t}else{\n\t\tthrow new DOMException(NOT_FOUND_ERR,new Error(el.tagName+'@'+attr))\n\t}\n}\nNamedNodeMap.prototype = {\n\tlength:0,\n\titem:NodeList.prototype.item,\n\tgetNamedItem: function(key) {\n//\t\tif(key.indexOf(':')>0 || key == 'xmlns'){\n//\t\t\treturn null;\n//\t\t}\n\t\t//console.log()\n\t\tvar i = this.length;\n\t\twhile(i--){\n\t\t\tvar attr = this[i];\n\t\t\t//console.log(attr.nodeName,key)\n\t\t\tif(attr.nodeName == key){\n\t\t\t\treturn attr;\n\t\t\t}\n\t\t}\n\t},\n\tsetNamedItem: function(attr) {\n\t\tvar el = attr.ownerElement;\n\t\tif(el && el!=this._ownerElement){\n\t\t\tthrow new DOMException(INUSE_ATTRIBUTE_ERR);\n\t\t}\n\t\tvar oldAttr = this.getNamedItem(attr.nodeName);\n\t\t_addNamedNode(this._ownerElement,this,attr,oldAttr);\n\t\treturn oldAttr;\n\t},\n\t/* returns Node */\n\tsetNamedItemNS: function(attr) {// raises: WRONG_DOCUMENT_ERR,NO_MODIFICATION_ALLOWED_ERR,INUSE_ATTRIBUTE_ERR\n\t\tvar el = attr.ownerElement, oldAttr;\n\t\tif(el && el!=this._ownerElement){\n\t\t\tthrow new DOMException(INUSE_ATTRIBUTE_ERR);\n\t\t}\n\t\toldAttr = this.getNamedItemNS(attr.namespaceURI,attr.localName);\n\t\t_addNamedNode(this._ownerElement,this,attr,oldAttr);\n\t\treturn oldAttr;\n\t},\n\n\t/* returns Node */\n\tremoveNamedItem: function(key) {\n\t\tvar attr = this.getNamedItem(key);\n\t\t_removeNamedNode(this._ownerElement,this,attr);\n\t\treturn attr;\n\n\n\t},// raises: NOT_FOUND_ERR,NO_MODIFICATION_ALLOWED_ERR\n\n\t//for level2\n\tremoveNamedItemNS:function(namespaceURI,localName){\n\t\tvar attr = this.getNamedItemNS(namespaceURI,localName);\n\t\t_removeNamedNode(this._ownerElement,this,attr);\n\t\treturn attr;\n\t},\n\tgetNamedItemNS: function(namespaceURI, localName) {\n\t\tvar i = this.length;\n\t\twhile(i--){\n\t\t\tvar node = this[i];\n\t\t\tif(node.localName == localName && node.namespaceURI == namespaceURI){\n\t\t\t\treturn node;\n\t\t\t}\n\t\t}\n\t\treturn null;\n\t}\n};\n\n/**\n * The DOMImplementation interface represents an object providing methods\n * which are not dependent on any particular document.\n * Such an object is returned by the `Document.implementation` property.\n *\n * __The individual methods describe the differences compared to the specs.__\n *\n * @constructor\n *\n * @see https://developer.mozilla.org/en-US/docs/Web/API/DOMImplementation MDN\n * @see https://www.w3.org/TR/REC-DOM-Level-1/level-one-core.html#ID-102161490 DOM Level 1 Core (Initial)\n * @see https://www.w3.org/TR/DOM-Level-2-Core/core.html#ID-102161490 DOM Level 2 Core\n * @see https://www.w3.org/TR/DOM-Level-3-Core/core.html#ID-102161490 DOM Level 3 Core\n * @see https://dom.spec.whatwg.org/#domimplementation DOM Living Standard\n */\nfunction DOMImplementation() {\n}\n\nDOMImplementation.prototype = {\n\t/**\n\t * The DOMImplementation.hasFeature() method returns a Boolean flag indicating if a given feature is supported.\n\t * The different implementations fairly diverged in what kind of features were reported.\n\t * The latest version of the spec settled to force this method to always return true, where the functionality was accurate and in use.\n\t *\n\t * @deprecated It is deprecated and modern browsers return true in all cases.\n\t *\n\t * @param {string} feature\n\t * @param {string} [version]\n\t * @returns {boolean} always true\n\t *\n\t * @see https://developer.mozilla.org/en-US/docs/Web/API/DOMImplementation/hasFeature MDN\n\t * @see https://www.w3.org/TR/REC-DOM-Level-1/level-one-core.html#ID-5CED94D7 DOM Level 1 Core\n\t * @see https://dom.spec.whatwg.org/#dom-domimplementation-hasfeature DOM Living Standard\n\t */\n\thasFeature: function(feature, version) {\n\t\t\treturn true;\n\t},\n\t/**\n\t * Creates an XML Document object of the specified type with its document element.\n\t *\n\t * __It behaves slightly different from the description in the living standard__:\n\t * - There is no interface/class `XMLDocument`, it returns a `Document` instance.\n\t * - `contentType`, `encoding`, `mode`, `origin`, `url` fields are currently not declared.\n\t * - this implementation is not validating names or qualified names\n\t *   (when parsing XML strings, the SAX parser takes care of that)\n\t *\n\t * @param {string|null} namespaceURI\n\t * @param {string} qualifiedName\n\t * @param {DocumentType=null} doctype\n\t * @returns {Document}\n\t *\n\t * @see https://developer.mozilla.org/en-US/docs/Web/API/DOMImplementation/createDocument MDN\n\t * @see https://www.w3.org/TR/DOM-Level-2-Core/core.html#Level-2-Core-DOM-createDocument DOM Level 2 Core (initial)\n\t * @see https://dom.spec.whatwg.org/#dom-domimplementation-createdocument  DOM Level 2 Core\n\t *\n\t * @see https://dom.spec.whatwg.org/#validate-and-extract DOM: Validate and extract\n\t * @see https://www.w3.org/TR/xml/#NT-NameStartChar XML Spec: Names\n\t * @see https://www.w3.org/TR/xml-names/#ns-qualnames XML Namespaces: Qualified names\n\t */\n\tcreateDocument: function(namespaceURI,  qualifiedName, doctype){\n\t\tvar doc = new Document();\n\t\tdoc.implementation = this;\n\t\tdoc.childNodes = new NodeList();\n\t\tdoc.doctype = doctype || null;\n\t\tif (doctype){\n\t\t\tdoc.appendChild(doctype);\n\t\t}\n\t\tif (qualifiedName){\n\t\t\tvar root = doc.createElementNS(namespaceURI, qualifiedName);\n\t\t\tdoc.appendChild(root);\n\t\t}\n\t\treturn doc;\n\t},\n\t/**\n\t * Returns a doctype, with the given `qualifiedName`, `publicId`, and `systemId`.\n\t *\n\t * __This behavior is slightly different from the in the specs__:\n\t * - this implementation is not validating names or qualified names\n\t *   (when parsing XML strings, the SAX parser takes care of that)\n\t *\n\t * @param {string} qualifiedName\n\t * @param {string} [publicId]\n\t * @param {string} [systemId]\n\t * @returns {DocumentType} which can either be used with `DOMImplementation.createDocument` upon document creation\n\t * \t\t\t\t  or can be put into the document via methods like `Node.insertBefore()` or `Node.replaceChild()`\n\t *\n\t * @see https://developer.mozilla.org/en-US/docs/Web/API/DOMImplementation/createDocumentType MDN\n\t * @see https://www.w3.org/TR/DOM-Level-2-Core/core.html#Level-2-Core-DOM-createDocType DOM Level 2 Core\n\t * @see https://dom.spec.whatwg.org/#dom-domimplementation-createdocumenttype DOM Living Standard\n\t *\n\t * @see https://dom.spec.whatwg.org/#validate-and-extract DOM: Validate and extract\n\t * @see https://www.w3.org/TR/xml/#NT-NameStartChar XML Spec: Names\n\t * @see https://www.w3.org/TR/xml-names/#ns-qualnames XML Namespaces: Qualified names\n\t */\n\tcreateDocumentType: function(qualifiedName, publicId, systemId){\n\t\tvar node = new DocumentType();\n\t\tnode.name = qualifiedName;\n\t\tnode.nodeName = qualifiedName;\n\t\tnode.publicId = publicId || '';\n\t\tnode.systemId = systemId || '';\n\n\t\treturn node;\n\t}\n};\n\n\n/**\n * @see http://www.w3.org/TR/2000/REC-DOM-Level-2-Core-20001113/core.html#ID-1950641247\n */\n\nfunction Node() {\n};\n\nNode.prototype = {\n\tfirstChild : null,\n\tlastChild : null,\n\tpreviousSibling : null,\n\tnextSibling : null,\n\tattributes : null,\n\tparentNode : null,\n\tchildNodes : null,\n\townerDocument : null,\n\tnodeValue : null,\n\tnamespaceURI : null,\n\tprefix : null,\n\tlocalName : null,\n\t// Modified in DOM Level 2:\n\tinsertBefore:function(newChild, refChild){//raises\n\t\treturn _insertBefore(this,newChild,refChild);\n\t},\n\treplaceChild:function(newChild, oldChild){//raises\n\t\t_insertBefore(this, newChild,oldChild, assertPreReplacementValidityInDocument);\n\t\tif(oldChild){\n\t\t\tthis.removeChild(oldChild);\n\t\t}\n\t},\n\tremoveChild:function(oldChild){\n\t\treturn _removeChild(this,oldChild);\n\t},\n\tappendChild:function(newChild){\n\t\treturn this.insertBefore(newChild,null);\n\t},\n\thasChildNodes:function(){\n\t\treturn this.firstChild != null;\n\t},\n\tcloneNode:function(deep){\n\t\treturn cloneNode(this.ownerDocument||this,this,deep);\n\t},\n\t// Modified in DOM Level 2:\n\tnormalize:function(){\n\t\tvar child = this.firstChild;\n\t\twhile(child){\n\t\t\tvar next = child.nextSibling;\n\t\t\tif(next && next.nodeType == TEXT_NODE && child.nodeType == TEXT_NODE){\n\t\t\t\tthis.removeChild(next);\n\t\t\t\tchild.appendData(next.data);\n\t\t\t}else{\n\t\t\t\tchild.normalize();\n\t\t\t\tchild = next;\n\t\t\t}\n\t\t}\n\t},\n  \t// Introduced in DOM Level 2:\n\tisSupported:function(feature, version){\n\t\treturn this.ownerDocument.implementation.hasFeature(feature,version);\n\t},\n    // Introduced in DOM Level 2:\n    hasAttributes:function(){\n    \treturn this.attributes.length>0;\n    },\n\t/**\n\t * Look up the prefix associated to the given namespace URI, starting from this node.\n\t * **The default namespace declarations are ignored by this method.**\n\t * See Namespace Prefix Lookup for details on the algorithm used by this method.\n\t *\n\t * _Note: The implementation seems to be incomplete when compared to the algorithm described in the specs._\n\t *\n\t * @param {string | null} namespaceURI\n\t * @returns {string | null}\n\t * @see https://www.w3.org/TR/DOM-Level-3-Core/core.html#Node3-lookupNamespacePrefix\n\t * @see https://www.w3.org/TR/DOM-Level-3-Core/namespaces-algorithms.html#lookupNamespacePrefixAlgo\n\t * @see https://dom.spec.whatwg.org/#dom-node-lookupprefix\n\t * @see https://github.com/xmldom/xmldom/issues/322\n\t */\n    lookupPrefix:function(namespaceURI){\n    \tvar el = this;\n    \twhile(el){\n    \t\tvar map = el._nsMap;\n    \t\t//console.dir(map)\n    \t\tif(map){\n    \t\t\tfor(var n in map){\n\t\t\t\t\t\tif (Object.prototype.hasOwnProperty.call(map, n) && map[n] === namespaceURI) {\n\t\t\t\t\t\t\treturn n;\n\t\t\t\t\t\t}\n    \t\t\t}\n    \t\t}\n    \t\tel = el.nodeType == ATTRIBUTE_NODE?el.ownerDocument : el.parentNode;\n    \t}\n    \treturn null;\n    },\n    // Introduced in DOM Level 3:\n    lookupNamespaceURI:function(prefix){\n    \tvar el = this;\n    \twhile(el){\n    \t\tvar map = el._nsMap;\n    \t\t//console.dir(map)\n    \t\tif(map){\n    \t\t\tif(Object.prototype.hasOwnProperty.call(map, prefix)){\n    \t\t\t\treturn map[prefix] ;\n    \t\t\t}\n    \t\t}\n    \t\tel = el.nodeType == ATTRIBUTE_NODE?el.ownerDocument : el.parentNode;\n    \t}\n    \treturn null;\n    },\n    // Introduced in DOM Level 3:\n    isDefaultNamespace:function(namespaceURI){\n    \tvar prefix = this.lookupPrefix(namespaceURI);\n    \treturn prefix == null;\n    }\n};\n\n\nfunction _xmlEncoder(c){\n\treturn c == '<' && '&lt;' ||\n         c == '>' && '&gt;' ||\n         c == '&' && '&amp;' ||\n         c == '\"' && '&quot;' ||\n         '&#'+c.charCodeAt()+';'\n}\n\n\ncopy(NodeType,Node);\ncopy(NodeType,Node.prototype);\n\n/**\n * @param callback return true for continue,false for break\n * @return boolean true: break visit;\n */\nfunction _visitNode(node,callback){\n\tif(callback(node)){\n\t\treturn true;\n\t}\n\tif(node = node.firstChild){\n\t\tdo{\n\t\t\tif(_visitNode(node,callback)){return true}\n        }while(node=node.nextSibling)\n    }\n}\n\n\n\nfunction Document(){\n\tthis.ownerDocument = this;\n}\n\nfunction _onAddAttribute(doc,el,newAttr){\n\tdoc && doc._inc++;\n\tvar ns = newAttr.namespaceURI ;\n\tif(ns === NAMESPACE.XMLNS){\n\t\t//update namespace\n\t\tel._nsMap[newAttr.prefix?newAttr.localName:''] = newAttr.value\n\t}\n}\n\nfunction _onRemoveAttribute(doc,el,newAttr,remove){\n\tdoc && doc._inc++;\n\tvar ns = newAttr.namespaceURI ;\n\tif(ns === NAMESPACE.XMLNS){\n\t\t//update namespace\n\t\tdelete el._nsMap[newAttr.prefix?newAttr.localName:'']\n\t}\n}\n\n/**\n * Updates `el.childNodes`, updating the indexed items and it's `length`.\n * Passing `newChild` means it will be appended.\n * Otherwise it's assumed that an item has been removed,\n * and `el.firstNode` and it's `.nextSibling` are used\n * to walk the current list of child nodes.\n *\n * @param {Document} doc\n * @param {Node} el\n * @param {Node} [newChild]\n * @private\n */\nfunction _onUpdateChild (doc, el, newChild) {\n\tif(doc && doc._inc){\n\t\tdoc._inc++;\n\t\t//update childNodes\n\t\tvar cs = el.childNodes;\n\t\tif (newChild) {\n\t\t\tcs[cs.length++] = newChild;\n\t\t} else {\n\t\t\tvar child = el.firstChild;\n\t\t\tvar i = 0;\n\t\t\twhile (child) {\n\t\t\t\tcs[i++] = child;\n\t\t\t\tchild = child.nextSibling;\n\t\t\t}\n\t\t\tcs.length = i;\n\t\t\tdelete cs[cs.length];\n\t\t}\n\t}\n}\n\n/**\n * Removes the connections between `parentNode` and `child`\n * and any existing `child.previousSibling` or `child.nextSibling`.\n *\n * @see https://github.com/xmldom/xmldom/issues/135\n * @see https://github.com/xmldom/xmldom/issues/145\n *\n * @param {Node} parentNode\n * @param {Node} child\n * @returns {Node} the child that was removed.\n * @private\n */\nfunction _removeChild (parentNode, child) {\n\tvar previous = child.previousSibling;\n\tvar next = child.nextSibling;\n\tif (previous) {\n\t\tprevious.nextSibling = next;\n\t} else {\n\t\tparentNode.firstChild = next;\n\t}\n\tif (next) {\n\t\tnext.previousSibling = previous;\n\t} else {\n\t\tparentNode.lastChild = previous;\n\t}\n\tchild.parentNode = null;\n\tchild.previousSibling = null;\n\tchild.nextSibling = null;\n\t_onUpdateChild(parentNode.ownerDocument, parentNode);\n\treturn child;\n}\n\n/**\n * Returns `true` if `node` can be a parent for insertion.\n * @param {Node} node\n * @returns {boolean}\n */\nfunction hasValidParentNodeType(node) {\n\treturn (\n\t\tnode &&\n\t\t(node.nodeType === Node.DOCUMENT_NODE || node.nodeType === Node.DOCUMENT_FRAGMENT_NODE || node.nodeType === Node.ELEMENT_NODE)\n\t);\n}\n\n/**\n * Returns `true` if `node` can be inserted according to it's `nodeType`.\n * @param {Node} node\n * @returns {boolean}\n */\nfunction hasInsertableNodeType(node) {\n\treturn (\n\t\tnode &&\n\t\t(isElementNode(node) ||\n\t\t\tisTextNode(node) ||\n\t\t\tisDocTypeNode(node) ||\n\t\t\tnode.nodeType === Node.DOCUMENT_FRAGMENT_NODE ||\n\t\t\tnode.nodeType === Node.COMMENT_NODE ||\n\t\t\tnode.nodeType === Node.PROCESSING_INSTRUCTION_NODE)\n\t);\n}\n\n/**\n * Returns true if `node` is a DOCTYPE node\n * @param {Node} node\n * @returns {boolean}\n */\nfunction isDocTypeNode(node) {\n\treturn node && node.nodeType === Node.DOCUMENT_TYPE_NODE;\n}\n\n/**\n * Returns true if the node is an element\n * @param {Node} node\n * @returns {boolean}\n */\nfunction isElementNode(node) {\n\treturn node && node.nodeType === Node.ELEMENT_NODE;\n}\n/**\n * Returns true if `node` is a text node\n * @param {Node} node\n * @returns {boolean}\n */\nfunction isTextNode(node) {\n\treturn node && node.nodeType === Node.TEXT_NODE;\n}\n\n/**\n * Check if en element node can be inserted before `child`, or at the end if child is falsy,\n * according to the presence and position of a doctype node on the same level.\n *\n * @param {Document} doc The document node\n * @param {Node} child the node that would become the nextSibling if the element would be inserted\n * @returns {boolean} `true` if an element can be inserted before child\n * @private\n * https://dom.spec.whatwg.org/#concept-node-ensure-pre-insertion-validity\n */\nfunction isElementInsertionPossible(doc, child) {\n\tvar parentChildNodes = doc.childNodes || [];\n\tif (find(parentChildNodes, isElementNode) || isDocTypeNode(child)) {\n\t\treturn false;\n\t}\n\tvar docTypeNode = find(parentChildNodes, isDocTypeNode);\n\treturn !(child && docTypeNode && parentChildNodes.indexOf(docTypeNode) > parentChildNodes.indexOf(child));\n}\n\n/**\n * Check if en element node can be inserted before `child`, or at the end if child is falsy,\n * according to the presence and position of a doctype node on the same level.\n *\n * @param {Node} doc The document node\n * @param {Node} child the node that would become the nextSibling if the element would be inserted\n * @returns {boolean} `true` if an element can be inserted before child\n * @private\n * https://dom.spec.whatwg.org/#concept-node-ensure-pre-insertion-validity\n */\nfunction isElementReplacementPossible(doc, child) {\n\tvar parentChildNodes = doc.childNodes || [];\n\n\tfunction hasElementChildThatIsNotChild(node) {\n\t\treturn isElementNode(node) && node !== child;\n\t}\n\n\tif (find(parentChildNodes, hasElementChildThatIsNotChild)) {\n\t\treturn false;\n\t}\n\tvar docTypeNode = find(parentChildNodes, isDocTypeNode);\n\treturn !(child && docTypeNode && parentChildNodes.indexOf(docTypeNode) > parentChildNodes.indexOf(child));\n}\n\n/**\n * @private\n * Steps 1-5 of the checks before inserting and before replacing a child are the same.\n *\n * @param {Node} parent the parent node to insert `node` into\n * @param {Node} node the node to insert\n * @param {Node=} child the node that should become the `nextSibling` of `node`\n * @returns {Node}\n * @throws DOMException for several node combinations that would create a DOM that is not well-formed.\n * @throws DOMException if `child` is provided but is not a child of `parent`.\n * @see https://dom.spec.whatwg.org/#concept-node-ensure-pre-insertion-validity\n * @see https://dom.spec.whatwg.org/#concept-node-replace\n */\nfunction assertPreInsertionValidity1to5(parent, node, child) {\n\t// 1. If `parent` is not a Document, DocumentFragment, or Element node, then throw a \"HierarchyRequestError\" DOMException.\n\tif (!hasValidParentNodeType(parent)) {\n\t\tthrow new DOMException(HIERARCHY_REQUEST_ERR, 'Unexpected parent node type ' + parent.nodeType);\n\t}\n\t// 2. If `node` is a host-including inclusive ancestor of `parent`, then throw a \"HierarchyRequestError\" DOMException.\n\t// not implemented!\n\t// 3. If `child` is non-null and its parent is not `parent`, then throw a \"NotFoundError\" DOMException.\n\tif (child && child.parentNode !== parent) {\n\t\tthrow new DOMException(NOT_FOUND_ERR, 'child not in parent');\n\t}\n\tif (\n\t\t// 4. If `node` is not a DocumentFragment, DocumentType, Element, or CharacterData node, then throw a \"HierarchyRequestError\" DOMException.\n\t\t!hasInsertableNodeType(node) ||\n\t\t// 5. If either `node` is a Text node and `parent` is a document,\n\t\t// the sax parser currently adds top level text nodes, this will be fixed in 0.9.0\n\t\t// || (node.nodeType === Node.TEXT_NODE && parent.nodeType === Node.DOCUMENT_NODE)\n\t\t// or `node` is a doctype and `parent` is not a document, then throw a \"HierarchyRequestError\" DOMException.\n\t\t(isDocTypeNode(node) && parent.nodeType !== Node.DOCUMENT_NODE)\n\t) {\n\t\tthrow new DOMException(\n\t\t\tHIERARCHY_REQUEST_ERR,\n\t\t\t'Unexpected node type ' + node.nodeType + ' for parent node type ' + parent.nodeType\n\t\t);\n\t}\n}\n\n/**\n * @private\n * Step 6 of the checks before inserting and before replacing a child are different.\n *\n * @param {Document} parent the parent node to insert `node` into\n * @param {Node} node the node to insert\n * @param {Node | undefined} child the node that should become the `nextSibling` of `node`\n * @returns {Node}\n * @throws DOMException for several node combinations that would create a DOM that is not well-formed.\n * @throws DOMException if `child` is provided but is not a child of `parent`.\n * @see https://dom.spec.whatwg.org/#concept-node-ensure-pre-insertion-validity\n * @see https://dom.spec.whatwg.org/#concept-node-replace\n */\nfunction assertPreInsertionValidityInDocument(parent, node, child) {\n\tvar parentChildNodes = parent.childNodes || [];\n\tvar nodeChildNodes = node.childNodes || [];\n\n\t// DocumentFragment\n\tif (node.nodeType === Node.DOCUMENT_FRAGMENT_NODE) {\n\t\tvar nodeChildElements = nodeChildNodes.filter(isElementNode);\n\t\t// If node has more than one element child or has a Text node child.\n\t\tif (nodeChildElements.length > 1 || find(nodeChildNodes, isTextNode)) {\n\t\t\tthrow new DOMException(HIERARCHY_REQUEST_ERR, 'More than one element or text in fragment');\n\t\t}\n\t\t// Otherwise, if `node` has one element child and either `parent` has an element child,\n\t\t// `child` is a doctype, or `child` is non-null and a doctype is following `child`.\n\t\tif (nodeChildElements.length === 1 && !isElementInsertionPossible(parent, child)) {\n\t\t\tthrow new DOMException(HIERARCHY_REQUEST_ERR, 'Element in fragment can not be inserted before doctype');\n\t\t}\n\t}\n\t// Element\n\tif (isElementNode(node)) {\n\t\t// `parent` has an element child, `child` is a doctype,\n\t\t// or `child` is non-null and a doctype is following `child`.\n\t\tif (!isElementInsertionPossible(parent, child)) {\n\t\t\tthrow new DOMException(HIERARCHY_REQUEST_ERR, 'Only one element can be added and only after doctype');\n\t\t}\n\t}\n\t// DocumentType\n\tif (isDocTypeNode(node)) {\n\t\t// `parent` has a doctype child,\n\t\tif (find(parentChildNodes, isDocTypeNode)) {\n\t\t\tthrow new DOMException(HIERARCHY_REQUEST_ERR, 'Only one doctype is allowed');\n\t\t}\n\t\tvar parentElementChild = find(parentChildNodes, isElementNode);\n\t\t// `child` is non-null and an element is preceding `child`,\n\t\tif (child && parentChildNodes.indexOf(parentElementChild) < parentChildNodes.indexOf(child)) {\n\t\t\tthrow new DOMException(HIERARCHY_REQUEST_ERR, 'Doctype can only be inserted before an element');\n\t\t}\n\t\t// or `child` is null and `parent` has an element child.\n\t\tif (!child && parentElementChild) {\n\t\t\tthrow new DOMException(HIERARCHY_REQUEST_ERR, 'Doctype can not be appended since element is present');\n\t\t}\n\t}\n}\n\n/**\n * @private\n * Step 6 of the checks before inserting and before replacing a child are different.\n *\n * @param {Document} parent the parent node to insert `node` into\n * @param {Node} node the node to insert\n * @param {Node | undefined} child the node that should become the `nextSibling` of `node`\n * @returns {Node}\n * @throws DOMException for several node combinations that would create a DOM that is not well-formed.\n * @throws DOMException if `child` is provided but is not a child of `parent`.\n * @see https://dom.spec.whatwg.org/#concept-node-ensure-pre-insertion-validity\n * @see https://dom.spec.whatwg.org/#concept-node-replace\n */\nfunction assertPreReplacementValidityInDocument(parent, node, child) {\n\tvar parentChildNodes = parent.childNodes || [];\n\tvar nodeChildNodes = node.childNodes || [];\n\n\t// DocumentFragment\n\tif (node.nodeType === Node.DOCUMENT_FRAGMENT_NODE) {\n\t\tvar nodeChildElements = nodeChildNodes.filter(isElementNode);\n\t\t// If `node` has more than one element child or has a Text node child.\n\t\tif (nodeChildElements.length > 1 || find(nodeChildNodes, isTextNode)) {\n\t\t\tthrow new DOMException(HIERARCHY_REQUEST_ERR, 'More than one element or text in fragment');\n\t\t}\n\t\t// Otherwise, if `node` has one element child and either `parent` has an element child that is not `child` or a doctype is following `child`.\n\t\tif (nodeChildElements.length === 1 && !isElementReplacementPossible(parent, child)) {\n\t\t\tthrow new DOMException(HIERARCHY_REQUEST_ERR, 'Element in fragment can not be inserted before doctype');\n\t\t}\n\t}\n\t// Element\n\tif (isElementNode(node)) {\n\t\t// `parent` has an element child that is not `child` or a doctype is following `child`.\n\t\tif (!isElementReplacementPossible(parent, child)) {\n\t\t\tthrow new DOMException(HIERARCHY_REQUEST_ERR, 'Only one element can be added and only after doctype');\n\t\t}\n\t}\n\t// DocumentType\n\tif (isDocTypeNode(node)) {\n\t\tfunction hasDoctypeChildThatIsNotChild(node) {\n\t\t\treturn isDocTypeNode(node) && node !== child;\n\t\t}\n\n\t\t// `parent` has a doctype child that is not `child`,\n\t\tif (find(parentChildNodes, hasDoctypeChildThatIsNotChild)) {\n\t\t\tthrow new DOMException(HIERARCHY_REQUEST_ERR, 'Only one doctype is allowed');\n\t\t}\n\t\tvar parentElementChild = find(parentChildNodes, isElementNode);\n\t\t// or an element is preceding `child`.\n\t\tif (child && parentChildNodes.indexOf(parentElementChild) < parentChildNodes.indexOf(child)) {\n\t\t\tthrow new DOMException(HIERARCHY_REQUEST_ERR, 'Doctype can only be inserted before an element');\n\t\t}\n\t}\n}\n\n/**\n * @private\n * @param {Node} parent the parent node to insert `node` into\n * @param {Node} node the node to insert\n * @param {Node=} child the node that should become the `nextSibling` of `node`\n * @returns {Node}\n * @throws DOMException for several node combinations that would create a DOM that is not well-formed.\n * @throws DOMException if `child` is provided but is not a child of `parent`.\n * @see https://dom.spec.whatwg.org/#concept-node-ensure-pre-insertion-validity\n */\nfunction _insertBefore(parent, node, child, _inDocumentAssertion) {\n\t// To ensure pre-insertion validity of a node into a parent before a child, run these steps:\n\tassertPreInsertionValidity1to5(parent, node, child);\n\n\t// If parent is a document, and any of the statements below, switched on the interface node implements,\n\t// are true, then throw a \"HierarchyRequestError\" DOMException.\n\tif (parent.nodeType === Node.DOCUMENT_NODE) {\n\t\t(_inDocumentAssertion || assertPreInsertionValidityInDocument)(parent, node, child);\n\t}\n\n\tvar cp = node.parentNode;\n\tif(cp){\n\t\tcp.removeChild(node);//remove and update\n\t}\n\tif(node.nodeType === DOCUMENT_FRAGMENT_NODE){\n\t\tvar newFirst = node.firstChild;\n\t\tif (newFirst == null) {\n\t\t\treturn node;\n\t\t}\n\t\tvar newLast = node.lastChild;\n\t}else{\n\t\tnewFirst = newLast = node;\n\t}\n\tvar pre = child ? child.previousSibling : parent.lastChild;\n\n\tnewFirst.previousSibling = pre;\n\tnewLast.nextSibling = child;\n\n\n\tif(pre){\n\t\tpre.nextSibling = newFirst;\n\t}else{\n\t\tparent.firstChild = newFirst;\n\t}\n\tif(child == null){\n\t\tparent.lastChild = newLast;\n\t}else{\n\t\tchild.previousSibling = newLast;\n\t}\n\tdo{\n\t\tnewFirst.parentNode = parent;\n\t}while(newFirst !== newLast && (newFirst= newFirst.nextSibling))\n\t_onUpdateChild(parent.ownerDocument||parent, parent);\n\t//console.log(parent.lastChild.nextSibling == null)\n\tif (node.nodeType == DOCUMENT_FRAGMENT_NODE) {\n\t\tnode.firstChild = node.lastChild = null;\n\t}\n\treturn node;\n}\n\n/**\n * Appends `newChild` to `parentNode`.\n * If `newChild` is already connected to a `parentNode` it is first removed from it.\n *\n * @see https://github.com/xmldom/xmldom/issues/135\n * @see https://github.com/xmldom/xmldom/issues/145\n * @param {Node} parentNode\n * @param {Node} newChild\n * @returns {Node}\n * @private\n */\nfunction _appendSingleChild (parentNode, newChild) {\n\tif (newChild.parentNode) {\n\t\tnewChild.parentNode.removeChild(newChild);\n\t}\n\tnewChild.parentNode = parentNode;\n\tnewChild.previousSibling = parentNode.lastChild;\n\tnewChild.nextSibling = null;\n\tif (newChild.previousSibling) {\n\t\tnewChild.previousSibling.nextSibling = newChild;\n\t} else {\n\t\tparentNode.firstChild = newChild;\n\t}\n\tparentNode.lastChild = newChild;\n\t_onUpdateChild(parentNode.ownerDocument, parentNode, newChild);\n\treturn newChild;\n}\n\nDocument.prototype = {\n\t//implementation : null,\n\tnodeName :  '#document',\n\tnodeType :  DOCUMENT_NODE,\n\t/**\n\t * The DocumentType node of the document.\n\t *\n\t * @readonly\n\t * @type DocumentType\n\t */\n\tdoctype :  null,\n\tdocumentElement :  null,\n\t_inc : 1,\n\n\tinsertBefore :  function(newChild, refChild){//raises\n\t\tif(newChild.nodeType == DOCUMENT_FRAGMENT_NODE){\n\t\t\tvar child = newChild.firstChild;\n\t\t\twhile(child){\n\t\t\t\tvar next = child.nextSibling;\n\t\t\t\tthis.insertBefore(child,refChild);\n\t\t\t\tchild = next;\n\t\t\t}\n\t\t\treturn newChild;\n\t\t}\n\t\t_insertBefore(this, newChild, refChild);\n\t\tnewChild.ownerDocument = this;\n\t\tif (this.documentElement === null && newChild.nodeType === ELEMENT_NODE) {\n\t\t\tthis.documentElement = newChild;\n\t\t}\n\n\t\treturn newChild;\n\t},\n\tremoveChild :  function(oldChild){\n\t\tif(this.documentElement == oldChild){\n\t\t\tthis.documentElement = null;\n\t\t}\n\t\treturn _removeChild(this,oldChild);\n\t},\n\treplaceChild: function (newChild, oldChild) {\n\t\t//raises\n\t\t_insertBefore(this, newChild, oldChild, assertPreReplacementValidityInDocument);\n\t\tnewChild.ownerDocument = this;\n\t\tif (oldChild) {\n\t\t\tthis.removeChild(oldChild);\n\t\t}\n\t\tif (isElementNode(newChild)) {\n\t\t\tthis.documentElement = newChild;\n\t\t}\n\t},\n\t// Introduced in DOM Level 2:\n\timportNode : function(importedNode,deep){\n\t\treturn importNode(this,importedNode,deep);\n\t},\n\t// Introduced in DOM Level 2:\n\tgetElementById :\tfunction(id){\n\t\tvar rtv = null;\n\t\t_visitNode(this.documentElement,function(node){\n\t\t\tif(node.nodeType == ELEMENT_NODE){\n\t\t\t\tif(node.getAttribute('id') == id){\n\t\t\t\t\trtv = node;\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t})\n\t\treturn rtv;\n\t},\n\n\t/**\n\t * The `getElementsByClassName` method of `Document` interface returns an array-like object\n\t * of all child elements which have **all** of the given class name(s).\n\t *\n\t * Returns an empty list if `classeNames` is an empty string or only contains HTML white space characters.\n\t *\n\t *\n\t * Warning: This is a live LiveNodeList.\n\t * Changes in the DOM will reflect in the array as the changes occur.\n\t * If an element selected by this array no longer qualifies for the selector,\n\t * it will automatically be removed. Be aware of this for iteration purposes.\n\t *\n\t * @param {string} classNames is a string representing the class name(s) to match; multiple class names are separated by (ASCII-)whitespace\n\t *\n\t * @see https://developer.mozilla.org/en-US/docs/Web/API/Document/getElementsByClassName\n\t * @see https://dom.spec.whatwg.org/#concept-getelementsbyclassname\n\t */\n\tgetElementsByClassName: function(classNames) {\n\t\tvar classNamesSet = toOrderedSet(classNames)\n\t\treturn new LiveNodeList(this, function(base) {\n\t\t\tvar ls = [];\n\t\t\tif (classNamesSet.length > 0) {\n\t\t\t\t_visitNode(base.documentElement, function(node) {\n\t\t\t\t\tif(node !== base && node.nodeType === ELEMENT_NODE) {\n\t\t\t\t\t\tvar nodeClassNames = node.getAttribute('class')\n\t\t\t\t\t\t// can be null if the attribute does not exist\n\t\t\t\t\t\tif (nodeClassNames) {\n\t\t\t\t\t\t\t// before splitting and iterating just compare them for the most common case\n\t\t\t\t\t\t\tvar matches = classNames === nodeClassNames;\n\t\t\t\t\t\t\tif (!matches) {\n\t\t\t\t\t\t\t\tvar nodeClassNamesSet = toOrderedSet(nodeClassNames)\n\t\t\t\t\t\t\t\tmatches = classNamesSet.every(arrayIncludes(nodeClassNamesSet))\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif(matches) {\n\t\t\t\t\t\t\t\tls.push(node);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t\treturn ls;\n\t\t});\n\t},\n\n\t//document factory method:\n\tcreateElement :\tfunction(tagName){\n\t\tvar node = new Element();\n\t\tnode.ownerDocument = this;\n\t\tnode.nodeName = tagName;\n\t\tnode.tagName = tagName;\n\t\tnode.localName = tagName;\n\t\tnode.childNodes = new NodeList();\n\t\tvar attrs\t= node.attributes = new NamedNodeMap();\n\t\tattrs._ownerElement = node;\n\t\treturn node;\n\t},\n\tcreateDocumentFragment :\tfunction(){\n\t\tvar node = new DocumentFragment();\n\t\tnode.ownerDocument = this;\n\t\tnode.childNodes = new NodeList();\n\t\treturn node;\n\t},\n\tcreateTextNode :\tfunction(data){\n\t\tvar node = new Text();\n\t\tnode.ownerDocument = this;\n\t\tnode.appendData(data)\n\t\treturn node;\n\t},\n\tcreateComment :\tfunction(data){\n\t\tvar node = new Comment();\n\t\tnode.ownerDocument = this;\n\t\tnode.appendData(data)\n\t\treturn node;\n\t},\n\tcreateCDATASection :\tfunction(data){\n\t\tvar node = new CDATASection();\n\t\tnode.ownerDocument = this;\n\t\tnode.appendData(data)\n\t\treturn node;\n\t},\n\tcreateProcessingInstruction :\tfunction(target,data){\n\t\tvar node = new ProcessingInstruction();\n\t\tnode.ownerDocument = this;\n\t\tnode.tagName = node.target = target;\n\t\tnode.nodeValue= node.data = data;\n\t\treturn node;\n\t},\n\tcreateAttribute :\tfunction(name){\n\t\tvar node = new Attr();\n\t\tnode.ownerDocument\t= this;\n\t\tnode.name = name;\n\t\tnode.nodeName\t= name;\n\t\tnode.localName = name;\n\t\tnode.specified = true;\n\t\treturn node;\n\t},\n\tcreateEntityReference :\tfunction(name){\n\t\tvar node = new EntityReference();\n\t\tnode.ownerDocument\t= this;\n\t\tnode.nodeName\t= name;\n\t\treturn node;\n\t},\n\t// Introduced in DOM Level 2:\n\tcreateElementNS :\tfunction(namespaceURI,qualifiedName){\n\t\tvar node = new Element();\n\t\tvar pl = qualifiedName.split(':');\n\t\tvar attrs\t= node.attributes = new NamedNodeMap();\n\t\tnode.childNodes = new NodeList();\n\t\tnode.ownerDocument = this;\n\t\tnode.nodeName = qualifiedName;\n\t\tnode.tagName = qualifiedName;\n\t\tnode.namespaceURI = namespaceURI;\n\t\tif(pl.length == 2){\n\t\t\tnode.prefix = pl[0];\n\t\t\tnode.localName = pl[1];\n\t\t}else{\n\t\t\t//el.prefix = null;\n\t\t\tnode.localName = qualifiedName;\n\t\t}\n\t\tattrs._ownerElement = node;\n\t\treturn node;\n\t},\n\t// Introduced in DOM Level 2:\n\tcreateAttributeNS :\tfunction(namespaceURI,qualifiedName){\n\t\tvar node = new Attr();\n\t\tvar pl = qualifiedName.split(':');\n\t\tnode.ownerDocument = this;\n\t\tnode.nodeName = qualifiedName;\n\t\tnode.name = qualifiedName;\n\t\tnode.namespaceURI = namespaceURI;\n\t\tnode.specified = true;\n\t\tif(pl.length == 2){\n\t\t\tnode.prefix = pl[0];\n\t\t\tnode.localName = pl[1];\n\t\t}else{\n\t\t\t//el.prefix = null;\n\t\t\tnode.localName = qualifiedName;\n\t\t}\n\t\treturn node;\n\t}\n};\n_extends(Document,Node);\n\n\nfunction Element() {\n\tthis._nsMap = {};\n};\nElement.prototype = {\n\tnodeType : ELEMENT_NODE,\n\thasAttribute : function(name){\n\t\treturn this.getAttributeNode(name)!=null;\n\t},\n\tgetAttribute : function(name){\n\t\tvar attr = this.getAttributeNode(name);\n\t\treturn attr && attr.value || '';\n\t},\n\tgetAttributeNode : function(name){\n\t\treturn this.attributes.getNamedItem(name);\n\t},\n\tsetAttribute : function(name, value){\n\t\tvar attr = this.ownerDocument.createAttribute(name);\n\t\tattr.value = attr.nodeValue = \"\" + value;\n\t\tthis.setAttributeNode(attr)\n\t},\n\tremoveAttribute : function(name){\n\t\tvar attr = this.getAttributeNode(name)\n\t\tattr && this.removeAttributeNode(attr);\n\t},\n\n\t//four real opeartion method\n\tappendChild:function(newChild){\n\t\tif(newChild.nodeType === DOCUMENT_FRAGMENT_NODE){\n\t\t\treturn this.insertBefore(newChild,null);\n\t\t}else{\n\t\t\treturn _appendSingleChild(this,newChild);\n\t\t}\n\t},\n\tsetAttributeNode : function(newAttr){\n\t\treturn this.attributes.setNamedItem(newAttr);\n\t},\n\tsetAttributeNodeNS : function(newAttr){\n\t\treturn this.attributes.setNamedItemNS(newAttr);\n\t},\n\tremoveAttributeNode : function(oldAttr){\n\t\t//console.log(this == oldAttr.ownerElement)\n\t\treturn this.attributes.removeNamedItem(oldAttr.nodeName);\n\t},\n\t//get real attribute name,and remove it by removeAttributeNode\n\tremoveAttributeNS : function(namespaceURI, localName){\n\t\tvar old = this.getAttributeNodeNS(namespaceURI, localName);\n\t\told && this.removeAttributeNode(old);\n\t},\n\n\thasAttributeNS : function(namespaceURI, localName){\n\t\treturn this.getAttributeNodeNS(namespaceURI, localName)!=null;\n\t},\n\tgetAttributeNS : function(namespaceURI, localName){\n\t\tvar attr = this.getAttributeNodeNS(namespaceURI, localName);\n\t\treturn attr && attr.value || '';\n\t},\n\tsetAttributeNS : function(namespaceURI, qualifiedName, value){\n\t\tvar attr = this.ownerDocument.createAttributeNS(namespaceURI, qualifiedName);\n\t\tattr.value = attr.nodeValue = \"\" + value;\n\t\tthis.setAttributeNode(attr)\n\t},\n\tgetAttributeNodeNS : function(namespaceURI, localName){\n\t\treturn this.attributes.getNamedItemNS(namespaceURI, localName);\n\t},\n\n\tgetElementsByTagName : function(tagName){\n\t\treturn new LiveNodeList(this,function(base){\n\t\t\tvar ls = [];\n\t\t\t_visitNode(base,function(node){\n\t\t\t\tif(node !== base && node.nodeType == ELEMENT_NODE && (tagName === '*' || node.tagName == tagName)){\n\t\t\t\t\tls.push(node);\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn ls;\n\t\t});\n\t},\n\tgetElementsByTagNameNS : function(namespaceURI, localName){\n\t\treturn new LiveNodeList(this,function(base){\n\t\t\tvar ls = [];\n\t\t\t_visitNode(base,function(node){\n\t\t\t\tif(node !== base && node.nodeType === ELEMENT_NODE && (namespaceURI === '*' || node.namespaceURI === namespaceURI) && (localName === '*' || node.localName == localName)){\n\t\t\t\t\tls.push(node);\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn ls;\n\n\t\t});\n\t}\n};\nDocument.prototype.getElementsByTagName = Element.prototype.getElementsByTagName;\nDocument.prototype.getElementsByTagNameNS = Element.prototype.getElementsByTagNameNS;\n\n\n_extends(Element,Node);\nfunction Attr() {\n};\nAttr.prototype.nodeType = ATTRIBUTE_NODE;\n_extends(Attr,Node);\n\n\nfunction CharacterData() {\n};\nCharacterData.prototype = {\n\tdata : '',\n\tsubstringData : function(offset, count) {\n\t\treturn this.data.substring(offset, offset+count);\n\t},\n\tappendData: function(text) {\n\t\ttext = this.data+text;\n\t\tthis.nodeValue = this.data = text;\n\t\tthis.length = text.length;\n\t},\n\tinsertData: function(offset,text) {\n\t\tthis.replaceData(offset,0,text);\n\n\t},\n\tappendChild:function(newChild){\n\t\tthrow new Error(ExceptionMessage[HIERARCHY_REQUEST_ERR])\n\t},\n\tdeleteData: function(offset, count) {\n\t\tthis.replaceData(offset,count,\"\");\n\t},\n\treplaceData: function(offset, count, text) {\n\t\tvar start = this.data.substring(0,offset);\n\t\tvar end = this.data.substring(offset+count);\n\t\ttext = start + text + end;\n\t\tthis.nodeValue = this.data = text;\n\t\tthis.length = text.length;\n\t}\n}\n_extends(CharacterData,Node);\nfunction Text() {\n};\nText.prototype = {\n\tnodeName : \"#text\",\n\tnodeType : TEXT_NODE,\n\tsplitText : function(offset) {\n\t\tvar text = this.data;\n\t\tvar newText = text.substring(offset);\n\t\ttext = text.substring(0, offset);\n\t\tthis.data = this.nodeValue = text;\n\t\tthis.length = text.length;\n\t\tvar newNode = this.ownerDocument.createTextNode(newText);\n\t\tif(this.parentNode){\n\t\t\tthis.parentNode.insertBefore(newNode, this.nextSibling);\n\t\t}\n\t\treturn newNode;\n\t}\n}\n_extends(Text,CharacterData);\nfunction Comment() {\n};\nComment.prototype = {\n\tnodeName : \"#comment\",\n\tnodeType : COMMENT_NODE\n}\n_extends(Comment,CharacterData);\n\nfunction CDATASection() {\n};\nCDATASection.prototype = {\n\tnodeName : \"#cdata-section\",\n\tnodeType : CDATA_SECTION_NODE\n}\n_extends(CDATASection,CharacterData);\n\n\nfunction DocumentType() {\n};\nDocumentType.prototype.nodeType = DOCUMENT_TYPE_NODE;\n_extends(DocumentType,Node);\n\nfunction Notation() {\n};\nNotation.prototype.nodeType = NOTATION_NODE;\n_extends(Notation,Node);\n\nfunction Entity() {\n};\nEntity.prototype.nodeType = ENTITY_NODE;\n_extends(Entity,Node);\n\nfunction EntityReference() {\n};\nEntityReference.prototype.nodeType = ENTITY_REFERENCE_NODE;\n_extends(EntityReference,Node);\n\nfunction DocumentFragment() {\n};\nDocumentFragment.prototype.nodeName =\t\"#document-fragment\";\nDocumentFragment.prototype.nodeType =\tDOCUMENT_FRAGMENT_NODE;\n_extends(DocumentFragment,Node);\n\n\nfunction ProcessingInstruction() {\n}\nProcessingInstruction.prototype.nodeType = PROCESSING_INSTRUCTION_NODE;\n_extends(ProcessingInstruction,Node);\nfunction XMLSerializer(){}\nXMLSerializer.prototype.serializeToString = function(node,isHtml,nodeFilter){\n\treturn nodeSerializeToString.call(node,isHtml,nodeFilter);\n}\nNode.prototype.toString = nodeSerializeToString;\nfunction nodeSerializeToString(isHtml,nodeFilter){\n\tvar buf = [];\n\tvar refNode = this.nodeType == 9 && this.documentElement || this;\n\tvar prefix = refNode.prefix;\n\tvar uri = refNode.namespaceURI;\n\n\tif(uri && prefix == null){\n\t\t//console.log(prefix)\n\t\tvar prefix = refNode.lookupPrefix(uri);\n\t\tif(prefix == null){\n\t\t\t//isHTML = true;\n\t\t\tvar visibleNamespaces=[\n\t\t\t{namespace:uri,prefix:null}\n\t\t\t//{namespace:uri,prefix:''}\n\t\t\t]\n\t\t}\n\t}\n\tserializeToString(this,buf,isHtml,nodeFilter,visibleNamespaces);\n\t//console.log('###',this.nodeType,uri,prefix,buf.join(''))\n\treturn buf.join('');\n}\n\nfunction needNamespaceDefine(node, isHTML, visibleNamespaces) {\n\tvar prefix = node.prefix || '';\n\tvar uri = node.namespaceURI;\n\t// According to [Namespaces in XML 1.0](https://www.w3.org/TR/REC-xml-names/#ns-using) ,\n\t// and more specifically https://www.w3.org/TR/REC-xml-names/#nsc-NoPrefixUndecl :\n\t// > In a namespace declaration for a prefix [...], the attribute value MUST NOT be empty.\n\t// in a similar manner [Namespaces in XML 1.1](https://www.w3.org/TR/xml-names11/#ns-using)\n\t// and more specifically https://www.w3.org/TR/xml-names11/#nsc-NSDeclared :\n\t// > [...] Furthermore, the attribute value [...] must not be an empty string.\n\t// so serializing empty namespace value like xmlns:ds=\"\" would produce an invalid XML document.\n\tif (!uri) {\n\t\treturn false;\n\t}\n\tif (prefix === \"xml\" && uri === NAMESPACE.XML || uri === NAMESPACE.XMLNS) {\n\t\treturn false;\n\t}\n\n\tvar i = visibleNamespaces.length\n\twhile (i--) {\n\t\tvar ns = visibleNamespaces[i];\n\t\t// get namespace prefix\n\t\tif (ns.prefix === prefix) {\n\t\t\treturn ns.namespace !== uri;\n\t\t}\n\t}\n\treturn true;\n}\n/**\n * Well-formed constraint: No < in Attribute Values\n * > The replacement text of any entity referred to directly or indirectly\n * > in an attribute value must not contain a <.\n * @see https://www.w3.org/TR/xml11/#CleanAttrVals\n * @see https://www.w3.org/TR/xml11/#NT-AttValue\n *\n * Literal whitespace other than space that appear in attribute values\n * are serialized as their entity references, so they will be preserved.\n * (In contrast to whitespace literals in the input which are normalized to spaces)\n * @see https://www.w3.org/TR/xml11/#AVNormalize\n * @see https://w3c.github.io/DOM-Parsing/#serializing-an-element-s-attributes\n */\nfunction addSerializedAttribute(buf, qualifiedName, value) {\n\tbuf.push(' ', qualifiedName, '=\"', value.replace(/[<>&\"\\t\\n\\r]/g, _xmlEncoder), '\"')\n}\n\nfunction serializeToString(node,buf,isHTML,nodeFilter,visibleNamespaces){\n\tif (!visibleNamespaces) {\n\t\tvisibleNamespaces = [];\n\t}\n\n\tif(nodeFilter){\n\t\tnode = nodeFilter(node);\n\t\tif(node){\n\t\t\tif(typeof node == 'string'){\n\t\t\t\tbuf.push(node);\n\t\t\t\treturn;\n\t\t\t}\n\t\t}else{\n\t\t\treturn;\n\t\t}\n\t\t//buf.sort.apply(attrs, attributeSorter);\n\t}\n\n\tswitch(node.nodeType){\n\tcase ELEMENT_NODE:\n\t\tvar attrs = node.attributes;\n\t\tvar len = attrs.length;\n\t\tvar child = node.firstChild;\n\t\tvar nodeName = node.tagName;\n\n\t\tisHTML = NAMESPACE.isHTML(node.namespaceURI) || isHTML\n\n\t\tvar prefixedNodeName = nodeName\n\t\tif (!isHTML && !node.prefix && node.namespaceURI) {\n\t\t\tvar defaultNS\n\t\t\t// lookup current default ns from `xmlns` attribute\n\t\t\tfor (var ai = 0; ai < attrs.length; ai++) {\n\t\t\t\tif (attrs.item(ai).name === 'xmlns') {\n\t\t\t\t\tdefaultNS = attrs.item(ai).value\n\t\t\t\t\tbreak\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (!defaultNS) {\n\t\t\t\t// lookup current default ns in visibleNamespaces\n\t\t\t\tfor (var nsi = visibleNamespaces.length - 1; nsi >= 0; nsi--) {\n\t\t\t\t\tvar namespace = visibleNamespaces[nsi]\n\t\t\t\t\tif (namespace.prefix === '' && namespace.namespace === node.namespaceURI) {\n\t\t\t\t\t\tdefaultNS = namespace.namespace\n\t\t\t\t\t\tbreak\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (defaultNS !== node.namespaceURI) {\n\t\t\t\tfor (var nsi = visibleNamespaces.length - 1; nsi >= 0; nsi--) {\n\t\t\t\t\tvar namespace = visibleNamespaces[nsi]\n\t\t\t\t\tif (namespace.namespace === node.namespaceURI) {\n\t\t\t\t\t\tif (namespace.prefix) {\n\t\t\t\t\t\t\tprefixedNodeName = namespace.prefix + ':' + nodeName\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tbuf.push('<', prefixedNodeName);\n\n\t\tfor(var i=0;i<len;i++){\n\t\t\t// add namespaces for attributes\n\t\t\tvar attr = attrs.item(i);\n\t\t\tif (attr.prefix == 'xmlns') {\n\t\t\t\tvisibleNamespaces.push({ prefix: attr.localName, namespace: attr.value });\n\t\t\t}else if(attr.nodeName == 'xmlns'){\n\t\t\t\tvisibleNamespaces.push({ prefix: '', namespace: attr.value });\n\t\t\t}\n\t\t}\n\n\t\tfor(var i=0;i<len;i++){\n\t\t\tvar attr = attrs.item(i);\n\t\t\tif (needNamespaceDefine(attr,isHTML, visibleNamespaces)) {\n\t\t\t\tvar prefix = attr.prefix||'';\n\t\t\t\tvar uri = attr.namespaceURI;\n\t\t\t\taddSerializedAttribute(buf, prefix ? 'xmlns:' + prefix : \"xmlns\", uri);\n\t\t\t\tvisibleNamespaces.push({ prefix: prefix, namespace:uri });\n\t\t\t}\n\t\t\tserializeToString(attr,buf,isHTML,nodeFilter,visibleNamespaces);\n\t\t}\n\n\t\t// add namespace for current node\n\t\tif (nodeName === prefixedNodeName && needNamespaceDefine(node, isHTML, visibleNamespaces)) {\n\t\t\tvar prefix = node.prefix||'';\n\t\t\tvar uri = node.namespaceURI;\n\t\t\taddSerializedAttribute(buf, prefix ? 'xmlns:' + prefix : \"xmlns\", uri);\n\t\t\tvisibleNamespaces.push({ prefix: prefix, namespace:uri });\n\t\t}\n\n\t\tif(child || isHTML && !/^(?:meta|link|img|br|hr|input)$/i.test(nodeName)){\n\t\t\tbuf.push('>');\n\t\t\t//if is cdata child node\n\t\t\tif(isHTML && /^script$/i.test(nodeName)){\n\t\t\t\twhile(child){\n\t\t\t\t\tif(child.data){\n\t\t\t\t\t\tbuf.push(child.data);\n\t\t\t\t\t}else{\n\t\t\t\t\t\tserializeToString(child, buf, isHTML, nodeFilter, visibleNamespaces.slice());\n\t\t\t\t\t}\n\t\t\t\t\tchild = child.nextSibling;\n\t\t\t\t}\n\t\t\t}else\n\t\t\t{\n\t\t\t\twhile(child){\n\t\t\t\t\tserializeToString(child, buf, isHTML, nodeFilter, visibleNamespaces.slice());\n\t\t\t\t\tchild = child.nextSibling;\n\t\t\t\t}\n\t\t\t}\n\t\t\tbuf.push('</',prefixedNodeName,'>');\n\t\t}else{\n\t\t\tbuf.push('/>');\n\t\t}\n\t\t// remove added visible namespaces\n\t\t//visibleNamespaces.length = startVisibleNamespaces;\n\t\treturn;\n\tcase DOCUMENT_NODE:\n\tcase DOCUMENT_FRAGMENT_NODE:\n\t\tvar child = node.firstChild;\n\t\twhile(child){\n\t\t\tserializeToString(child, buf, isHTML, nodeFilter, visibleNamespaces.slice());\n\t\t\tchild = child.nextSibling;\n\t\t}\n\t\treturn;\n\tcase ATTRIBUTE_NODE:\n\t\treturn addSerializedAttribute(buf, node.name, node.value);\n\tcase TEXT_NODE:\n\t\t/**\n\t\t * The ampersand character (&) and the left angle bracket (<) must not appear in their literal form,\n\t\t * except when used as markup delimiters, or within a comment, a processing instruction, or a CDATA section.\n\t\t * If they are needed elsewhere, they must be escaped using either numeric character references or the strings\n\t\t * `&amp;` and `&lt;` respectively.\n\t\t * The right angle bracket (>) may be represented using the string \" &gt; \", and must, for compatibility,\n\t\t * be escaped using either `&gt;` or a character reference when it appears in the string `]]>` in content,\n\t\t * when that string is not marking the end of a CDATA section.\n\t\t *\n\t\t * In the content of elements, character data is any string of characters\n\t\t * which does not contain the start-delimiter of any markup\n\t\t * and does not include the CDATA-section-close delimiter, `]]>`.\n\t\t *\n\t\t * @see https://www.w3.org/TR/xml/#NT-CharData\n\t\t * @see https://w3c.github.io/DOM-Parsing/#xml-serializing-a-text-node\n\t\t */\n\t\treturn buf.push(node.data\n\t\t\t.replace(/[<&>]/g,_xmlEncoder)\n\t\t);\n\tcase CDATA_SECTION_NODE:\n\t\treturn buf.push( '<![CDATA[',node.data,']]>');\n\tcase COMMENT_NODE:\n\t\treturn buf.push( \"<!--\",node.data,\"-->\");\n\tcase DOCUMENT_TYPE_NODE:\n\t\tvar pubid = node.publicId;\n\t\tvar sysid = node.systemId;\n\t\tbuf.push('<!DOCTYPE ',node.name);\n\t\tif(pubid){\n\t\t\tbuf.push(' PUBLIC ', pubid);\n\t\t\tif (sysid && sysid!='.') {\n\t\t\t\tbuf.push(' ', sysid);\n\t\t\t}\n\t\t\tbuf.push('>');\n\t\t}else if(sysid && sysid!='.'){\n\t\t\tbuf.push(' SYSTEM ', sysid, '>');\n\t\t}else{\n\t\t\tvar sub = node.internalSubset;\n\t\t\tif(sub){\n\t\t\t\tbuf.push(\" [\",sub,\"]\");\n\t\t\t}\n\t\t\tbuf.push(\">\");\n\t\t}\n\t\treturn;\n\tcase PROCESSING_INSTRUCTION_NODE:\n\t\treturn buf.push( \"<?\",node.target,\" \",node.data,\"?>\");\n\tcase ENTITY_REFERENCE_NODE:\n\t\treturn buf.push( '&',node.nodeName,';');\n\t//case ENTITY_NODE:\n\t//case NOTATION_NODE:\n\tdefault:\n\t\tbuf.push('??',node.nodeName);\n\t}\n}\nfunction importNode(doc,node,deep){\n\tvar node2;\n\tswitch (node.nodeType) {\n\tcase ELEMENT_NODE:\n\t\tnode2 = node.cloneNode(false);\n\t\tnode2.ownerDocument = doc;\n\t\t//var attrs = node2.attributes;\n\t\t//var len = attrs.length;\n\t\t//for(var i=0;i<len;i++){\n\t\t\t//node2.setAttributeNodeNS(importNode(doc,attrs.item(i),deep));\n\t\t//}\n\tcase DOCUMENT_FRAGMENT_NODE:\n\t\tbreak;\n\tcase ATTRIBUTE_NODE:\n\t\tdeep = true;\n\t\tbreak;\n\t//case ENTITY_REFERENCE_NODE:\n\t//case PROCESSING_INSTRUCTION_NODE:\n\t////case TEXT_NODE:\n\t//case CDATA_SECTION_NODE:\n\t//case COMMENT_NODE:\n\t//\tdeep = false;\n\t//\tbreak;\n\t//case DOCUMENT_NODE:\n\t//case DOCUMENT_TYPE_NODE:\n\t//cannot be imported.\n\t//case ENTITY_NODE:\n\t//case NOTATION_NODE：\n\t//can not hit in level3\n\t//default:throw e;\n\t}\n\tif(!node2){\n\t\tnode2 = node.cloneNode(false);//false\n\t}\n\tnode2.ownerDocument = doc;\n\tnode2.parentNode = null;\n\tif(deep){\n\t\tvar child = node.firstChild;\n\t\twhile(child){\n\t\t\tnode2.appendChild(importNode(doc,child,deep));\n\t\t\tchild = child.nextSibling;\n\t\t}\n\t}\n\treturn node2;\n}\n//\n//var _relationMap = {firstChild:1,lastChild:1,previousSibling:1,nextSibling:1,\n//\t\t\t\t\tattributes:1,childNodes:1,parentNode:1,documentElement:1,doctype,};\nfunction cloneNode(doc,node,deep){\n\tvar node2 = new node.constructor();\n\tfor (var n in node) {\n\t\tif (Object.prototype.hasOwnProperty.call(node, n)) {\n\t\t\tvar v = node[n];\n\t\t\tif (typeof v != \"object\") {\n\t\t\t\tif (v != node2[n]) {\n\t\t\t\t\tnode2[n] = v;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\tif(node.childNodes){\n\t\tnode2.childNodes = new NodeList();\n\t}\n\tnode2.ownerDocument = doc;\n\tswitch (node2.nodeType) {\n\tcase ELEMENT_NODE:\n\t\tvar attrs\t= node.attributes;\n\t\tvar attrs2\t= node2.attributes = new NamedNodeMap();\n\t\tvar len = attrs.length\n\t\tattrs2._ownerElement = node2;\n\t\tfor(var i=0;i<len;i++){\n\t\t\tnode2.setAttributeNode(cloneNode(doc,attrs.item(i),true));\n\t\t}\n\t\tbreak;;\n\tcase ATTRIBUTE_NODE:\n\t\tdeep = true;\n\t}\n\tif(deep){\n\t\tvar child = node.firstChild;\n\t\twhile(child){\n\t\t\tnode2.appendChild(cloneNode(doc,child,deep));\n\t\t\tchild = child.nextSibling;\n\t\t}\n\t}\n\treturn node2;\n}\n\nfunction __set__(object,key,value){\n\tobject[key] = value\n}\n//do dynamic\ntry{\n\tif(Object.defineProperty){\n\t\tObject.defineProperty(LiveNodeList.prototype,'length',{\n\t\t\tget:function(){\n\t\t\t\t_updateLiveList(this);\n\t\t\t\treturn this.$$length;\n\t\t\t}\n\t\t});\n\n\t\tObject.defineProperty(Node.prototype,'textContent',{\n\t\t\tget:function(){\n\t\t\t\treturn getTextContent(this);\n\t\t\t},\n\n\t\t\tset:function(data){\n\t\t\t\tswitch(this.nodeType){\n\t\t\t\tcase ELEMENT_NODE:\n\t\t\t\tcase DOCUMENT_FRAGMENT_NODE:\n\t\t\t\t\twhile(this.firstChild){\n\t\t\t\t\t\tthis.removeChild(this.firstChild);\n\t\t\t\t\t}\n\t\t\t\t\tif(data || String(data)){\n\t\t\t\t\t\tthis.appendChild(this.ownerDocument.createTextNode(data));\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\t\t\t\t\tthis.data = data;\n\t\t\t\t\tthis.value = data;\n\t\t\t\t\tthis.nodeValue = data;\n\t\t\t\t}\n\t\t\t}\n\t\t})\n\n\t\tfunction getTextContent(node){\n\t\t\tswitch(node.nodeType){\n\t\t\tcase ELEMENT_NODE:\n\t\t\tcase DOCUMENT_FRAGMENT_NODE:\n\t\t\t\tvar buf = [];\n\t\t\t\tnode = node.firstChild;\n\t\t\t\twhile(node){\n\t\t\t\t\tif(node.nodeType!==7 && node.nodeType !==8){\n\t\t\t\t\t\tbuf.push(getTextContent(node));\n\t\t\t\t\t}\n\t\t\t\t\tnode = node.nextSibling;\n\t\t\t\t}\n\t\t\t\treturn buf.join('');\n\t\t\tdefault:\n\t\t\t\treturn node.nodeValue;\n\t\t\t}\n\t\t}\n\n\t\t__set__ = function(object,key,value){\n\t\t\t//console.log(value)\n\t\t\tobject['$$'+key] = value\n\t\t}\n\t}\n}catch(e){//ie8\n}\n\nvar DOMhelper = require('./helper').DOMHelper;\n\n[Document, DocumentFragment, Element].forEach(function (Class) {\n\tClass.prototype.querySelector = function (selectors) {\n\t\treturn DOMhelper(this).first(String(selectors), this);\n\t};\n\n\tClass.prototype.querySelectorAll = function (selectors) {\n\t\treturn DOMhelper(this).select(String(selectors), this);\n\t};\n});\n\nElement.prototype.matches = function (selectors) {\n\treturn DOMhelper(this).match(this, selectors);\n};\n\n\n//if(typeof require == 'function'){\n\texports.DocumentType = DocumentType;\n\texports.DOMException = DOMException;\n\texports.DOMImplementation = DOMImplementation;\n\texports.Element = Element;\n\texports.Node = Node;\n\texports.NodeList = NodeList;\n\texports.XMLSerializer = XMLSerializer;\n//}\n\n},{\"./conventions\":1,\"./helper\":5}],4:[function(require,module,exports){\nvar freeze = require('./conventions').freeze;\n\n/**\n * The entities that are predefined in every XML document.\n *\n * @see https://www.w3.org/TR/2006/REC-xml11-20060816/#sec-predefined-ent W3C XML 1.1\n * @see https://www.w3.org/TR/2008/REC-xml-20081126/#sec-predefined-ent W3C XML 1.0\n * @see https://en.wikipedia.org/wiki/List_of_XML_and_HTML_character_entity_references#Predefined_entities_in_XML Wikipedia\n */\nexports.XML_ENTITIES = freeze({amp:'&', apos:\"'\", gt:'>', lt:'<', quot:'\"'})\n\n/**\n * A map of currently 241 entities that are detected in an HTML document.\n * They contain all entries from `XML_ENTITIES`.\n *\n * @see XML_ENTITIES\n * @see DOMParser.parseFromString\n * @see DOMImplementation.prototype.createHTMLDocument\n * @see https://html.spec.whatwg.org/#named-character-references WHATWG HTML(5) Spec\n * @see https://www.w3.org/TR/xml-entity-names/ W3C XML Entity Names\n * @see https://www.w3.org/TR/html4/sgml/entities.html W3C HTML4/SGML\n * @see https://en.wikipedia.org/wiki/List_of_XML_and_HTML_character_entity_references#Character_entity_references_in_HTML Wikipedia (HTML)\n * @see https://en.wikipedia.org/wiki/List_of_XML_and_HTML_character_entity_references#Entities_representing_special_characters_in_XHTML Wikpedia (XHTML)\n */\nexports.HTML_ENTITIES = freeze({\n       lt: '<',\n       gt: '>',\n       amp: '&',\n       quot: '\"',\n       apos: \"'\",\n       Agrave: \"À\",\n       Aacute: \"Á\",\n       Acirc: \"Â\",\n       Atilde: \"Ã\",\n       Auml: \"Ä\",\n       Aring: \"Å\",\n       AElig: \"Æ\",\n       Ccedil: \"Ç\",\n       Egrave: \"È\",\n       Eacute: \"É\",\n       Ecirc: \"Ê\",\n       Euml: \"Ë\",\n       Igrave: \"Ì\",\n       Iacute: \"Í\",\n       Icirc: \"Î\",\n       Iuml: \"Ï\",\n       ETH: \"Ð\",\n       Ntilde: \"Ñ\",\n       Ograve: \"Ò\",\n       Oacute: \"Ó\",\n       Ocirc: \"Ô\",\n       Otilde: \"Õ\",\n       Ouml: \"Ö\",\n       Oslash: \"Ø\",\n       Ugrave: \"Ù\",\n       Uacute: \"Ú\",\n       Ucirc: \"Û\",\n       Uuml: \"Ü\",\n       Yacute: \"Ý\",\n       THORN: \"Þ\",\n       szlig: \"ß\",\n       agrave: \"à\",\n       aacute: \"á\",\n       acirc: \"â\",\n       atilde: \"ã\",\n       auml: \"ä\",\n       aring: \"å\",\n       aelig: \"æ\",\n       ccedil: \"ç\",\n       egrave: \"è\",\n       eacute: \"é\",\n       ecirc: \"ê\",\n       euml: \"ë\",\n       igrave: \"ì\",\n       iacute: \"í\",\n       icirc: \"î\",\n       iuml: \"ï\",\n       eth: \"ð\",\n       ntilde: \"ñ\",\n       ograve: \"ò\",\n       oacute: \"ó\",\n       ocirc: \"ô\",\n       otilde: \"õ\",\n       ouml: \"ö\",\n       oslash: \"ø\",\n       ugrave: \"ù\",\n       uacute: \"ú\",\n       ucirc: \"û\",\n       uuml: \"ü\",\n       yacute: \"ý\",\n       thorn: \"þ\",\n       yuml: \"ÿ\",\n       nbsp: \"\\u00a0\",\n       iexcl: \"¡\",\n       cent: \"¢\",\n       pound: \"£\",\n       curren: \"¤\",\n       yen: \"¥\",\n       brvbar: \"¦\",\n       sect: \"§\",\n       uml: \"¨\",\n       copy: \"©\",\n       ordf: \"ª\",\n       laquo: \"«\",\n       not: \"¬\",\n       shy: \"­­\",\n       reg: \"®\",\n       macr: \"¯\",\n       deg: \"°\",\n       plusmn: \"±\",\n       sup2: \"²\",\n       sup3: \"³\",\n       acute: \"´\",\n       micro: \"µ\",\n       para: \"¶\",\n       middot: \"·\",\n       cedil: \"¸\",\n       sup1: \"¹\",\n       ordm: \"º\",\n       raquo: \"»\",\n       frac14: \"¼\",\n       frac12: \"½\",\n       frac34: \"¾\",\n       iquest: \"¿\",\n       times: \"×\",\n       divide: \"÷\",\n       forall: \"∀\",\n       part: \"∂\",\n       exist: \"∃\",\n       empty: \"∅\",\n       nabla: \"∇\",\n       isin: \"∈\",\n       notin: \"∉\",\n       ni: \"∋\",\n       prod: \"∏\",\n       sum: \"∑\",\n       minus: \"−\",\n       lowast: \"∗\",\n       radic: \"√\",\n       prop: \"∝\",\n       infin: \"∞\",\n       ang: \"∠\",\n       and: \"∧\",\n       or: \"∨\",\n       cap: \"∩\",\n       cup: \"∪\",\n       'int': \"∫\",\n       there4: \"∴\",\n       sim: \"∼\",\n       cong: \"≅\",\n       asymp: \"≈\",\n       ne: \"≠\",\n       equiv: \"≡\",\n       le: \"≤\",\n       ge: \"≥\",\n       sub: \"⊂\",\n       sup: \"⊃\",\n       nsub: \"⊄\",\n       sube: \"⊆\",\n       supe: \"⊇\",\n       oplus: \"⊕\",\n       otimes: \"⊗\",\n       perp: \"⊥\",\n       sdot: \"⋅\",\n       Alpha: \"Α\",\n       Beta: \"Β\",\n       Gamma: \"Γ\",\n       Delta: \"Δ\",\n       Epsilon: \"Ε\",\n       Zeta: \"Ζ\",\n       Eta: \"Η\",\n       Theta: \"Θ\",\n       Iota: \"Ι\",\n       Kappa: \"Κ\",\n       Lambda: \"Λ\",\n       Mu: \"Μ\",\n       Nu: \"Ν\",\n       Xi: \"Ξ\",\n       Omicron: \"Ο\",\n       Pi: \"Π\",\n       Rho: \"Ρ\",\n       Sigma: \"Σ\",\n       Tau: \"Τ\",\n       Upsilon: \"Υ\",\n       Phi: \"Φ\",\n       Chi: \"Χ\",\n       Psi: \"Ψ\",\n       Omega: \"Ω\",\n       alpha: \"α\",\n       beta: \"β\",\n       gamma: \"γ\",\n       delta: \"δ\",\n       epsilon: \"ε\",\n       zeta: \"ζ\",\n       eta: \"η\",\n       theta: \"θ\",\n       iota: \"ι\",\n       kappa: \"κ\",\n       lambda: \"λ\",\n       mu: \"μ\",\n       nu: \"ν\",\n       xi: \"ξ\",\n       omicron: \"ο\",\n       pi: \"π\",\n       rho: \"ρ\",\n       sigmaf: \"ς\",\n       sigma: \"σ\",\n       tau: \"τ\",\n       upsilon: \"υ\",\n       phi: \"φ\",\n       chi: \"χ\",\n       psi: \"ψ\",\n       omega: \"ω\",\n       thetasym: \"ϑ\",\n       upsih: \"ϒ\",\n       piv: \"ϖ\",\n       OElig: \"Œ\",\n       oelig: \"œ\",\n       Scaron: \"Š\",\n       scaron: \"š\",\n       Yuml: \"Ÿ\",\n       fnof: \"ƒ\",\n       circ: \"ˆ\",\n       tilde: \"˜\",\n       ensp: \" \",\n       emsp: \" \",\n       thinsp: \" \",\n       zwnj: \"‌\",\n       zwj: \"‍\",\n       lrm: \"‎\",\n       rlm: \"‏\",\n       ndash: \"–\",\n       mdash: \"—\",\n       lsquo: \"‘\",\n       rsquo: \"’\",\n       sbquo: \"‚\",\n       ldquo: \"“\",\n       rdquo: \"”\",\n       bdquo: \"„\",\n       dagger: \"†\",\n       Dagger: \"‡\",\n       bull: \"•\",\n       hellip: \"…\",\n       permil: \"‰\",\n       prime: \"′\",\n       Prime: \"″\",\n       lsaquo: \"‹\",\n       rsaquo: \"›\",\n       oline: \"‾\",\n       euro: \"€\",\n       trade: \"™\",\n       larr: \"←\",\n       uarr: \"↑\",\n       rarr: \"→\",\n       darr: \"↓\",\n       harr: \"↔\",\n       crarr: \"↵\",\n       lceil: \"⌈\",\n       rceil: \"⌉\",\n       lfloor: \"⌊\",\n       rfloor: \"⌋\",\n       loz: \"◊\",\n       spades: \"♠\",\n       clubs: \"♣\",\n       hearts: \"♥\",\n       diams: \"♦\"\n});\n\n/**\n * @deprecated use `HTML_ENTITIES` instead\n * @see HTML_ENTITIES\n */\nexports.entityMap = exports.HTML_ENTITIES\n\n},{\"./conventions\":1}],5:[function(require,module,exports){\n(function (global){(function (){\nfunction helper(g) {\n    var doc = global.document || g,\n        root = doc.documentElement || g,\n\n        isSingleMatch,\n        isSingleSelect,\n\n        lastSlice,\n        lastContext,\n        lastPosition,\n\n        lastMatcher,\n        lastSelector,\n\n        lastPartsMatch,\n        lastPartsSelect,\n\n        prefixes = '(?:[#.:]|::)?',\n        operators = '([~*^$|!]?={1})',\n        whitespace = '[\\\\x20\\\\t\\\\n\\\\r\\\\f]',\n        combinators = '\\\\x20|[>+~](?=[^>+~])',\n        pseudoparms = '(?:[-+]?\\\\d*n)?[-+]?\\\\d*',\n        skip_groups = '\\\\[.*\\\\]|\\\\(.*\\\\)|\\\\{.*\\\\}',\n\n        any_esc_chr = '\\\\\\\\.',\n        alphalodash = '[_a-zA-Z]',\n        non_asc_chr = '[^\\\\x00-\\\\x9f]',\n        escaped_chr = '\\\\\\\\[^\\\\n\\\\r\\\\f0-9a-fA-F]',\n        unicode_chr = '\\\\\\\\[0-9a-fA-F]{1,6}(?:\\\\r\\\\n|' + whitespace + ')?',\n\n        quotedvalue = '\"[^\"\\\\\\\\]*(?:\\\\\\\\.[^\"\\\\\\\\]*)*\"' + \"|'[^'\\\\\\\\]*(?:\\\\\\\\.[^'\\\\\\\\]*)*'\",\n\n        reSplitGroup = /([^,\\\\()[\\]]+|\\[[^[\\]]*\\]|\\[.*\\]|\\([^()]+\\)|\\(.*\\)|\\{[^{}]+\\}|\\{.*\\}|\\\\.)+/g,\n\n        reTrimSpaces = RegExp('[\\\\n\\\\r\\\\f]|^' + whitespace + '+|' + whitespace + '+$', 'g'),\n\n        reEscapedChars = /\\\\([0-9a-fA-F]{1,6}[\\x20\\t\\n\\r\\f]?|.)|([\\x22\\x27])/g,\n\n        standardValidator, extendedValidator, reValidator,\n\n        attrcheck, attributes, attrmatcher, pseudoclass,\n\n        reOptimizeSelector, reSimpleNot, reSplitToken,\n\n        Optimize, identifier, extensions = '.+',\n\n        Patterns = {\n            spseudos: /^\\:(root|empty|(?:first|last|only)(?:-child|-of-type)|nth(?:-last)?(?:-child|-of-type)\\(\\s?(even|odd|(?:[-+]{0,1}\\d*n\\s?)?[-+]{0,1}\\s?\\d*)\\s?\\))?(.*)/i,\n            dpseudos: /^\\:(link|visited|target|active|focus|hover|checked|disabled|enabled|selected|lang\\(([-\\w]{2,})\\)|(?:matches|not)\\(\\s?(:nth(?:-last)?(?:-child|-of-type)\\(\\s?(?:even|odd|(?:[-+]{0,1}\\d*n\\s?)?[-+]{0,1}\\s?\\d*)\\s?\\)|[^()]*)\\s?\\))?(.*)/i,\n            epseudos: /^((?:[:]{1,2}(?:after|before|first-letter|first-line))|(?:[:]{2,2}(?:selection|backdrop|placeholder)))?(.*)/i,\n            children: RegExp('^' + whitespace + '?\\\\>' + whitespace + '?(.*)'),\n            adjacent: RegExp('^' + whitespace + '?\\\\+' + whitespace + '?(.*)'),\n            relative: RegExp('^' + whitespace + '?\\\\~' + whitespace + '?(.*)'),\n            ancestor: RegExp('^' + whitespace + '+(.*)'),\n            universal: RegExp('^\\\\*(.*)')\n        },\n\n        Tokens = {\n            prefixes: prefixes,\n            identifier: identifier,\n            attributes: attributes\n        },\n\n        QUIRKS_MODE,\n        XML_DOCUMENT,\n\n        GEBTN = 'getElementsByTagName' in doc,\n        GEBCN = 'getElementsByClassName' in doc,\n\n        IE_LT_9 = typeof doc.addEventListener != 'function',\n\n        LINK_NODES = { a: 1, A: 1, area: 1, AREA: 1, link: 1, LINK: 1 },\n\n        ATTR_BOOLEAN = {\n            checked: 1, disabled: 1, ismap: 1,\n            multiple: 1, readonly: 1, selected: 1\n        },\n\n        ATTR_DEFAULT = {\n            value: 'defaultValue',\n            checked: 'defaultChecked',\n            selected: 'defaultSelected'\n        },\n\n        ATTR_URIDATA = {\n            action: 2, cite: 2, codebase: 2, data: 2, href: 2,\n            longdesc: 2, lowsrc: 2, src: 2, usemap: 2\n        },\n\n        HTML_TABLE = {\n            'accept': 1, 'accept-charset': 1, 'align': 1, 'alink': 1, 'axis': 1,\n            'bgcolor': 1, 'charset': 1, 'checked': 1, 'clear': 1, 'codetype': 1, 'color': 1,\n            'compact': 1, 'declare': 1, 'defer': 1, 'dir': 1, 'direction': 1, 'disabled': 1,\n            'enctype': 1, 'face': 1, 'frame': 1, 'hreflang': 1, 'http-equiv': 1, 'lang': 1,\n            'language': 1, 'link': 1, 'media': 1, 'method': 1, 'multiple': 1, 'nohref': 1,\n            'noresize': 1, 'noshade': 1, 'nowrap': 1, 'readonly': 1, 'rel': 1, 'rev': 1,\n            'rules': 1, 'scope': 1, 'scrolling': 1, 'selected': 1, 'shape': 1, 'target': 1,\n            'text': 1, 'type': 1, 'valign': 1, 'valuetype': 1, 'vlink': 1\n        },\n\n        NATIVE_TRAVERSAL_API =\n            'nextElementSibling' in root &&\n            'previousElementSibling' in root,\n\n        Selectors = {},\n\n        Operators = {\n            '=': \"n=='%m'\",\n            '^=': \"n.indexOf('%m')==0\",\n            '*=': \"n.indexOf('%m')>-1\",\n            '|=': \"(n+'-').indexOf('%m-')==0\",\n            '~=': \"(' '+n+' ').indexOf(' %m ')>-1\",\n            '$=': \"n.substr(n.length-'%m'.length)=='%m'\"\n        },\n\n        concatCall =\n            function (data, elements, callback) {\n                var i = -1, element;\n                while ((element = elements[++i])) {\n                    if (false === callback(data[data.length] = element)) { break; }\n                }\n                return data;\n            },\n\n        switchContext =\n            function (from, force) {\n                var oldDoc = doc;\n                lastContext = from;\n                doc = from.ownerDocument || from;\n                if (force || oldDoc !== doc) {\n                    root = doc.documentElement;\n                    XML_DOCUMENT = doc.createElement('DiV').nodeName == 'DiV';\n                    QUIRKS_MODE = !XML_DOCUMENT &&\n                        typeof doc.compatMode == 'string' ?\n                        doc.compatMode.indexOf('CSS') < 0 :\n                        (function () {\n                            var style = doc.createElement('div').style;\n                            return style && (style.width = 1) && style.width == '1px';\n                        })();\n\n                    Config.CACHING && Dom.setCache(true, doc);\n                }\n            },\n\n        codePointToUTF16 =\n            function (codePoint) {\n                if (codePoint < 1 || codePoint > 0x10ffff ||\n                    (codePoint > 0xd7ff && codePoint < 0xe000)) {\n                    return '\\\\ufffd';\n                }\n                if (codePoint < 0x10000) {\n                    var lowHex = '000' + codePoint.toString(16);\n                    return '\\\\u' + lowHex.substr(lowHex.length - 4);\n                }\n                return '\\\\u' + (((codePoint - 0x10000) >> 0x0a) + 0xd800).toString(16) +\n                    '\\\\u' + (((codePoint - 0x10000) % 0x400) + 0xdc00).toString(16);\n            },\n\n        stringFromCodePoint =\n            function (codePoint) {\n                if (codePoint < 1 || codePoint > 0x10ffff ||\n                    (codePoint > 0xd7ff && codePoint < 0xe000)) {\n                    return '\\ufffd';\n                }\n                if (codePoint < 0x10000) {\n                    return String.fromCharCode(codePoint);\n                }\n                return String.fromCodePoint ?\n                    String.fromCodePoint(codePoint) :\n                    String.fromCharCode(\n                        ((codePoint - 0x10000) >> 0x0a) + 0xd800,\n                        ((codePoint - 0x10000) % 0x400) + 0xdc00);\n            },\n\n        convertEscapes =\n            function (str) {\n                return str.replace(reEscapedChars,\n                    function (substring, p1, p2) {\n                        return p2 ? '\\\\' + p2 :\n                            (/^[0-9a-fA-F]/).test(p1) ? codePointToUTF16(parseInt(p1, 16)) :\n                                (/^[\\\\\\x22\\x27]/).test(p1) ? substring :\n                                    p1;\n                    }\n                );\n            },\n\n        unescapeIdentifier =\n            function (str) {\n                return str.replace(reEscapedChars,\n                    function (substring, p1, p2) {\n                        return p2 ? p2 :\n                            (/^[0-9a-fA-F]/).test(p1) ? stringFromCodePoint(parseInt(p1, 16)) :\n                                (/^[\\\\\\x22\\x27]/).test(p1) ? substring :\n                                    p1;\n                    }\n                );\n            },\n\n        byIdRaw =\n            function (id, elements) {\n                var i = -1, element;\n                while ((element = elements[++i])) {\n                    if (element.getAttribute('id') == id) {\n                        break;\n                    }\n                }\n                return element || null;\n            },\n\n        _byId = !IE_LT_9 ?\n            function (id, from) {\n                id = (/\\\\/).test(id) ? unescapeIdentifier(id) : id;\n                return from.getElementById && from.getElementById(id) ||\n                    byIdRaw(id, from.getElementsByTagName('*'));\n            } :\n            function (id, from) {\n                var element = null;\n                id = (/\\\\/).test(id) ? unescapeIdentifier(id) : id;\n                if (XML_DOCUMENT || from.nodeType != 9) {\n                    return byIdRaw(id, from.getElementsByTagName('*'));\n                }\n                if ((element = from.getElementById(id)) &&\n                    element.name == id && from.getElementsByName) {\n                    return byIdRaw(id, from.getElementsByName(id));\n                }\n                return element;\n            },\n\n        byId =\n            function (id, from) {\n                from || (from = doc);\n                if (lastContext !== from) { switchContext(from); }\n                return _byId(id, from);\n            },\n\n        byTagRaw =\n            function (tag, from) {\n                var any = tag == '*', element = from, elements = [], next = element.firstChild;\n                any || (tag = tag.toUpperCase());\n                while ((element = next)) {\n                    if (element.tagName > '@' && (any || element.tagName.toUpperCase() == tag)) {\n                        elements[elements.length] = element;\n                    }\n                    if ((next = element.firstChild || element.nextSibling)) continue;\n                    while (!next && (element = element.parentNode) && element !== from) {\n                        next = element.nextSibling;\n                    }\n                }\n                return elements;\n            },\n\n        contains = 'compareDocumentPosition' in root ?\n            function (container, element) {\n                return (container.compareDocumentPosition(element) & 16) == 16;\n            } : 'contains' in root ?\n                function (container, element) {\n                    return container !== element && container.contains(element);\n                } :\n                function (container, element) {\n                    while ((element = element.parentNode)) {\n                        if (element === container) return true;\n                    }\n                    return false;\n                },\n\n        getAttribute = !IE_LT_9 ?\n            function (node, attribute) {\n                return node.getAttribute(attribute);\n            } :\n            function (node, attribute) {\n                attribute = attribute.toLowerCase();\n                if (typeof node[attribute] == 'object') {\n                    return node.attributes[attribute] &&\n                        node.attributes[attribute].value;\n                }\n                return (\n                    attribute == 'type' ? node.getAttribute(attribute) :\n                        ATTR_URIDATA[attribute] ? node.getAttribute(attribute, 2) :\n                            ATTR_BOOLEAN[attribute] ? node.getAttribute(attribute) ? attribute : 'false' :\n                                (node = node.getAttributeNode(attribute)) && node.value);\n            },\n\n        hasAttribute = !IE_LT_9 && root.hasAttribute ?\n            function (node, attribute) {\n                return node.hasAttribute(attribute);\n            } :\n            function (node, attribute) {\n                var obj = node.getAttributeNode(attribute = attribute.toLowerCase());\n                return ATTR_DEFAULT[attribute] && attribute != 'value' ?\n                    node[ATTR_DEFAULT[attribute]] : obj && obj.specified;\n            },\n\n        isEmpty =\n            function (node) {\n                node = node.firstChild;\n                while (node) {\n                    if (node.nodeType == 3 || node.nodeName > '@') return false;\n                    node = node.nextSibling;\n                }\n                return true;\n            },\n\n        isLink =\n            function (element) {\n                return hasAttribute(element, 'href') && LINK_NODES[element.nodeName];\n            },\n\n        nthElement =\n            function (element, last) {\n                var count = 1, succ = last ? 'nextSibling' : 'previousSibling';\n                while ((element = element[succ])) {\n                    if (element.nodeName > '@') ++count;\n                }\n                return count;\n            },\n\n        nthOfType =\n            function (element, last) {\n                var count = 1, succ = last ? 'nextSibling' : 'previousSibling', type = element.nodeName;\n                while ((element = element[succ])) {\n                    if (element.nodeName == type) ++count;\n                }\n                return count;\n            },\n\n        configure =\n            function (option) {\n                if (typeof option == 'string') { return !!Config[option]; }\n                if (typeof option != 'object') { return Config; }\n                for (var i in option) {\n                    Config[i] = !!option[i];\n                    if (i == 'SIMPLENOT') {\n                        matchContexts = {};\n                        matchResolvers = {};\n                        selectContexts = {};\n                        selectResolvers = {};\n                    }\n                }\n                setIdentifierSyntax();\n                reValidator = RegExp(Config.SIMPLENOT ?\n                    standardValidator : extendedValidator);\n                return true;\n            },\n\n        emit =\n            function (message) {\n                if (Config.VERBOSITY) { throw Error(message); }\n                if (Config.LOGERRORS && console && console.log) {\n                    console.log(message);\n                }\n            },\n\n        Config = {\n            CACHING: false,\n            ESCAPECHR: true,\n            NON_ASCII: true,\n            SELECTOR3: true,\n            UNICODE16: true,\n            SHORTCUTS: false,\n            SIMPLENOT: true,\n            SVG_LCASE: false,\n            UNIQUE_ID: true,\n            USE_HTML5: true,\n            VERBOSITY: true,\n            LOGERRORS: true\n        },\n\n        initialize =\n            function (doc) {\n                setIdentifierSyntax();\n                switchContext(doc, true);\n            },\n\n        setIdentifierSyntax =\n            function () {\n\n                var syntax = '', start = Config['SELECTOR3'] ? '-{2}|' : '';\n\n                Config['NON_ASCII'] && (syntax += '|' + non_asc_chr);\n                Config['UNICODE16'] && (syntax += '|' + unicode_chr);\n                Config['ESCAPECHR'] && (syntax += '|' + escaped_chr);\n\n                syntax += (Config['UNICODE16'] || Config['ESCAPECHR']) ? '' : '|' + any_esc_chr;\n\n                identifier = '-?(?:' + start + alphalodash + syntax + ')(?:-|[0-9]|' + alphalodash + syntax + ')*';\n\n                attrcheck = '(' + quotedvalue + '|' + identifier + ')';\n                attributes = whitespace + '*(' + identifier + '(?::' + identifier + ')?)' +\n                    whitespace + '*(?:' + operators + whitespace + '*' + attrcheck + ')?' + whitespace + '*' + '(i)?' + whitespace + '*';\n                attrmatcher = attributes.replace(attrcheck, '([\\\\x22\\\\x27]*)((?:\\\\\\\\?.)*?)\\\\3');\n\n                pseudoclass = '((?:' +\n                    pseudoparms + '|' + quotedvalue + '|' +\n                    prefixes + identifier + '|' +\n                    '\\\\[' + attributes + '\\\\]|' +\n                    '\\\\(.+\\\\)|' + whitespace + '*|' +\n                    ',)+)';\n\n                standardValidator =\n                    '(?=[\\\\x20\\\\t\\\\n\\\\r\\\\f]*[^>+~(){}<>])' +\n                    '(' +\n                    '\\\\*' +\n                    '|(?:' + prefixes + identifier + ')' +\n                    '|' + combinators +\n                    '|\\\\[' + attributes + '\\\\]' +\n                    '|\\\\(' + pseudoclass + '\\\\)' +\n                    '|\\\\{' + extensions + '\\\\}' +\n                    '|(?:,|' + whitespace + '*)' +\n                    ')+';\n\n                reSimpleNot = RegExp('^(' +\n                    '(?!:not)' +\n                    '(' + prefixes + identifier +\n                    '|\\\\([^()]*\\\\))+' +\n                    '|\\\\[' + attributes + '\\\\]' +\n                    ')$');\n\n                reSplitToken = RegExp('(' +\n                    prefixes + identifier + '|' +\n                    '\\\\[' + attributes + '\\\\]|' +\n                    '\\\\(' + pseudoclass + '\\\\)|' +\n                    '\\\\\\\\.|[^\\\\x20\\\\t\\\\n\\\\r\\\\f>+~])+', 'g');\n\n                reOptimizeSelector = RegExp(identifier + '|^$');\n\n                Optimize = {\n                    ID: RegExp('^\\\\*?#(' + identifier + ')|' + skip_groups),\n                    TAG: RegExp('^(' + identifier + ')|' + skip_groups),\n                    CLASS: RegExp('^\\\\.(' + identifier + '$)|' + skip_groups)\n                };\n\n                Patterns.id = RegExp('^#(' + identifier + ')(.*)');\n                Patterns.tagName = RegExp('^(' + identifier + ')(.*)');\n                Patterns.className = RegExp('^\\\\.(' + identifier + ')(.*)');\n                Patterns.attribute = RegExp('^\\\\[' + attrmatcher + '\\\\](.*)');\n\n                Tokens.identifier = identifier;\n                Tokens.attributes = attributes;\n\n                extendedValidator = standardValidator.replace(pseudoclass, '.*');\n\n                reValidator = RegExp(standardValidator);\n            },\n\n        ACCEPT_NODE = 'r[r.length]=c[k];if(f&&false===f(c[k]))break main;else continue main;',\n        REJECT_NODE = IE_LT_9 ? 'if(e.nodeName<\"A\")continue;' : '',\n        TO_UPPER_CASE = IE_LT_9 ? '.toUpperCase()' : '',\n\n        compile =\n            function (selector, source, mode) {\n\n                var parts = typeof selector == 'string' ? selector.match(reSplitGroup) : selector;\n\n                typeof source == 'string' || (source = '');\n\n                if (parts.length == 1) {\n                    source += compileSelector(parts[0], mode ? ACCEPT_NODE : 'f&&f(k);return true;', mode);\n                } else {\n                    var i = -1, seen = {}, token;\n                    while ((token = parts[++i])) {\n                        token = token.replace(reTrimSpaces, '');\n                        if (!seen[token] && (seen[token] = true)) {\n                            source += compileSelector(token, mode ? ACCEPT_NODE : 'f&&f(k);return true;', mode);\n                        }\n                    }\n                }\n\n                if (mode) {\n                    return Function('c,s,d,h,g,f',\n                        'var N,n,x=0,k=-1,e,r=[];main:while((e=c[++k])){' + source + '}return r;');\n                } else {\n                    return Function('e,s,d,h,g,f',\n                        'var N,n,x=0,k=e;' + source + 'return false;');\n                }\n            },\n\n        compileSelector =\n            function (selector, source, mode) {\n\n                var a, b, n, k = 0, expr, match, result, status, test, type;\n\n                while (selector) {\n\n                    k++;\n\n                    if ((match = selector.match(Patterns.universal))) {\n                        expr = '';\n                    }\n\n                    else if ((match = selector.match(Patterns.id))) {\n                        match[1] = (/\\\\/).test(match[1]) ? convertEscapes(match[1]) : match[1];\n                        source = 'if(' + (XML_DOCUMENT ?\n                            's.getAttribute(e,\"id\")' :\n                            '(e.submit?s.getAttribute(e,\"id\"):e.id)') +\n                            '==\"' + match[1] + '\"' +\n                            '){' + source + '}';\n                    }\n\n                    else if ((match = selector.match(Patterns.tagName))) {\n                        test = Config.SVG_LCASE ? '||e.nodeName==\"' + match[1].toLowerCase() + '\"' : '';\n                        source = 'if(e.nodeName' + (XML_DOCUMENT ?\n                            '==\"' + match[1] + '\"' : TO_UPPER_CASE +\n                            '==\"' + match[1].toUpperCase() + '\"' + test) +\n                            '){' + source + '}';\n                    }\n\n                    else if ((match = selector.match(Patterns.className))) {\n                        match[1] = (/\\\\/).test(match[1]) ? convertEscapes(match[1]) : match[1];\n                        match[1] = QUIRKS_MODE ? match[1].toLowerCase() : match[1];\n                        source = 'if((n=' + (XML_DOCUMENT ?\n                            'e.getAttribute(\"class\")' : 'e.className') +\n                            ')&&n.length&&(\" \"+' + (QUIRKS_MODE ? 'n.toLowerCase()' : 'n') +\n                            '.replace(/' + whitespace + '+/g,\" \")+\" \").indexOf(\" ' + match[1] + ' \")>-1' +\n                            '){' + source + '}';\n                    }\n\n                    else if ((match = selector.match(Patterns.attribute))) {\n                        expr = match[1].split(':');\n                        expr = expr.length == 2 ? expr[1] : expr[0] + '';\n\n                        if (match[2] && !Operators[match[2]]) {\n                            emit('Unsupported operator in attribute selectors \"' + selector + '\"');\n                            return '';\n                        }\n                        test = 'false';\n                        if (match[2] && match[4] && (test = Operators[match[2]])) {\n                            match[4] = (/\\\\/).test(match[4]) ? convertEscapes(match[4]) : match[4];\n                            type = match[5] == 'i' || HTML_TABLE[expr.toLowerCase()];\n                            test = test.replace(/\\%m/g, type ? match[4].toLowerCase() : match[4]);\n                        } else if (match[2] == '!=' || match[2] == '=') {\n                            test = 'n' + match[2] + '=\"\"';\n                        }\n                        source = 'if(n=s.hasAttribute(e,\"' + match[1] + '\")){' +\n                            (match[2] ? 'n=s.getAttribute(e,\"' + match[1] + '\")' : '') +\n                            (type && match[2] ? '.toLowerCase();' : ';') +\n                            'if(' + (match[2] ? test : 'n') + '){' + source + '}}';\n                    }\n\n                    else if ((match = selector.match(Patterns.adjacent))) {\n                        source = NATIVE_TRAVERSAL_API ?\n                            'var N' + k + '=e;if((e=e.previousElementSibling)){' + source + '}e=N' + k + ';' :\n                            'var N' + k + '=e;while((e=e.previousSibling)){if(e.nodeType==1){' + source + 'break;}}e=N' + k + ';';\n                    }\n\n                    else if ((match = selector.match(Patterns.relative))) {\n                        source = NATIVE_TRAVERSAL_API ?\n                            'var N' + k + '=e;while((e=e.previousElementSibling)){' + source + '}e=N' + k + ';' :\n                            'var N' + k + '=e;while((e=e.previousSibling)){if(e.nodeType==1){' + source + '}}e=N' + k + ';';\n                    }\n\n                    else if ((match = selector.match(Patterns.children))) {\n                        source = 'var N' + k + '=e;if((e=e.parentNode)&&e.nodeType==1){' + source + '}e=N' + k + ';';\n                    }\n\n                    else if ((match = selector.match(Patterns.ancestor))) {\n                        source = 'var N' + k + '=e;while((e=e.parentNode)&&e.nodeType==1){' + source + '}e=N' + k + ';';\n                    }\n\n                    else if ((match = selector.match(Patterns.spseudos)) && match[1]) {\n                        switch (match[1]) {\n                            case 'root':\n                                if (match[3]) {\n                                    source = 'if(e===h||s.contains(h,e)){' + source + '}';\n                                } else {\n                                    source = 'if(e===h){' + source + '}';\n                                }\n                                break;\n                            case 'empty':\n                                source = 'if(s.isEmpty(e)){' + source + '}';\n                                break;\n                            default:\n                                if (match[1] && match[2]) {\n                                    if (match[2] == 'n') {\n                                        source = 'if(e!==h){' + source + '}';\n                                        break;\n                                    } else if (match[2] == 'even') {\n                                        a = 2;\n                                        b = 0;\n                                    } else if (match[2] == 'odd') {\n                                        a = 2;\n                                        b = 1;\n                                    } else {\n                                        b = ((n = match[2].match(/(-?\\d+)$/)) ? parseInt(n[1], 10) : 0);\n                                        a = ((n = match[2].match(/(-?\\d*)n/i)) ? parseInt(n[1], 10) : 0);\n                                        if (n && n[1] == '-') a = -1;\n                                    }\n                                    test = a > 1 ?\n                                        (/last/i.test(match[1])) ? '(n-(' + b + '))%' + a + '==0' :\n                                            'n>=' + b + '&&(n-(' + b + '))%' + a + '==0' : a < -1 ?\n                                            (/last/i.test(match[1])) ? '(n-(' + b + '))%' + a + '==0' :\n                                                'n<=' + b + '&&(n-(' + b + '))%' + a + '==0' : a === 0 ?\n                                                'n==' + b : a == -1 ? 'n<=' + b : 'n>=' + b;\n                                    source =\n                                        'if(e!==h){' +\n                                        'n=s[' + (/-of-type/i.test(match[1]) ? '\"nthOfType\"' : '\"nthElement\"') + ']' +\n                                        '(e,' + (/last/i.test(match[1]) ? 'true' : 'false') + ');' +\n                                        'if(' + test + '){' + source + '}' +\n                                        '}';\n                                } else {\n                                    a = /first/i.test(match[1]) ? 'previous' : 'next';\n                                    n = /only/i.test(match[1]) ? 'previous' : 'next';\n                                    b = /first|last/i.test(match[1]);\n                                    type = /-of-type/i.test(match[1]) ? '&&n.nodeName!=e.nodeName' : '&&n.nodeName<\"@\"';\n                                    source = 'if(e!==h){' +\n                                        ('n=e;while((n=n.' + a + 'Sibling)' + type + ');if(!n){' + (b ? source :\n                                            'n=e;while((n=n.' + n + 'Sibling)' + type + ');if(!n){' + source + '}') + '}') + '}';\n                                }\n                                break;\n                        }\n                    }\n\n                    else if ((match = selector.match(Patterns.dpseudos)) && match[1]) {\n                        switch (match[1].match(/^\\w+/)[0]) {\n                            case 'matches':\n                                expr = match[3].replace(reTrimSpaces, '');\n                                source = 'if(s.match(e, \"' + expr.replace(/\\x22/g, '\\\\\"') + '\",g)){' + source + '}';\n                                break;\n\n                            case 'not':\n                                expr = match[3].replace(reTrimSpaces, '');\n                                if (Config.SIMPLENOT && !reSimpleNot.test(expr)) {\n                                    emit('Negation pseudo-class only accepts simple selectors \"' + selector + '\"');\n                                    return '';\n                                } else {\n                                    if ('compatMode' in doc) {\n                                        source = 'if(!' + compile(expr, '', false) + '(e,s,d,h,g)){' + source + '}';\n                                    } else {\n                                        source = 'if(!s.match(e, \"' + expr.replace(/\\x22/g, '\\\\\"') + '\",g)){' + source + '}';\n                                    }\n                                }\n                                break;\n                            case 'checked':\n                                source = 'if((typeof e.form!==\"undefined\"&&(/^(?:radio|checkbox)$/i).test(e.type)&&e.checked)' +\n                                    (Config.USE_HTML5 ? '||(/^option$/i.test(e.nodeName)&&(e.selected||e.checked))' : '') +\n                                    '){' + source + '}';\n                                break;\n                            case 'disabled':\n                                source = 'if(((typeof e.form!==\"undefined\"' +\n                                    (Config.USE_HTML5 ? '' : '&&!(/^hidden$/i).test(e.type)') +\n                                    ')||s.isLink(e))&&e.disabled===true){' + source + '}';\n                                break;\n                            case 'enabled':\n                                source = 'if(((typeof e.form!==\"undefined\"' +\n                                    (Config.USE_HTML5 ? '' : '&&!(/^hidden$/i).test(e.type)') +\n                                    ')||s.isLink(e))&&e.disabled===false){' + source + '}';\n                                break;\n                            case 'lang':\n                                test = '';\n                                if (match[2]) test = match[2].substr(0, 2) + '-';\n                                source = 'do{(n=e.lang||\"\").toLowerCase();' +\n                                    'if((n==\"\"&&h.lang==\"' + match[2].toLowerCase() + '\")||' +\n                                    '(n&&(n==\"' + match[2].toLowerCase() +\n                                    '\"||n.substr(0,3)==\"' + test.toLowerCase() + '\")))' +\n                                    '{' + source + 'break;}}while((e=e.parentNode)&&e!==g);';\n                                break;\n                            case 'target':\n                                source = 'if(e.id==d.location.hash.slice(1)){' + source + '}';\n                                break;\n                            case 'link':\n                                source = 'if(s.isLink(e)&&!e.visited){' + source + '}';\n                                break;\n                            case 'visited':\n                                source = 'if(s.isLink(e)&&e.visited){' + source + '}';\n                                break;\n                            case 'active':\n                                source = 'if(e===d.activeElement){' + source + '}';\n                                break;\n                            case 'hover':\n                                source = 'if(e===d.hoverElement){' + source + '}';\n                                break;\n                            case 'focus':\n                                source = 'hasFocus' in doc ?\n                                    'if(e===d.activeElement&&d.hasFocus()&&(e.type||e.href||typeof e.tabIndex==\"number\")){' + source + '}' :\n                                    'if(e===d.activeElement&&(e.type||e.href)){' + source + '}';\n                                break;\n                            case 'selected':\n                                source = 'if(/^option$/i.test(e.nodeName)&&(e.selected||e.checked)){' + source + '}';\n                                break;\n                            default:\n                                break;\n                        }\n                    }\n\n                    else if ((match = selector.match(Patterns.epseudos)) && match[1]) {\n                        source = 'if(!(/1|11/).test(e.nodeType)){' + source + '}';\n                    }\n\n                    else {\n\n                        expr = false;\n                        status = false;\n                        for (expr in Selectors) {\n                            if ((match = selector.match(Selectors[expr].Expression)) && match[1]) {\n                                result = Selectors[expr].Callback(match, source);\n                                if ('match' in result) { match = result.match; }\n                                source = result.source;\n                                status = result.status;\n                                if (status) { break; }\n                            }\n                        }\n\n                        if (!status) {\n                            emit('Unknown pseudo-class selector \"' + selector + '\"');\n                            return '';\n                        }\n\n                        if (!expr) {\n                            emit('Unknown token in selector \"' + selector + '\"');\n                            return '';\n                        }\n\n                    }\n\n                    if (!match) {\n                        emit('Invalid syntax in selector \"' + selector + '\"');\n                        return '';\n                    }\n\n                    selector = match && match[match.length - 1];\n                }\n\n                return source;\n            },\n\n        match =\n            function (element, selector, from, callback) {\n\n                var parts;\n\n                if (!(element && element.nodeType == 1)) {\n                    emit('Invalid element argument');\n                    return false;\n                } else if (typeof selector != 'string') {\n                    emit('Invalid selector argument');\n                    return false;\n                } else if (lastContext !== from) {\n                    switchContext(from || (from = element.ownerDocument));\n                }\n\n                selector = selector.\n                    replace(reTrimSpaces, '').\n                    replace(/\\x00|\\\\$/g, '\\ufffd');\n\n                Config.SHORTCUTS && (selector = Dom.shortcuts(selector, element, from));\n\n                if (lastMatcher != selector) {\n                    if ((parts = selector.match(reValidator)) && parts[0] == selector) {\n                        isSingleMatch = (parts = selector.match(reSplitGroup)).length < 2;\n                        lastMatcher = selector;\n                        lastPartsMatch = parts;\n                    } else {\n                        emit('The string \"' + selector + '\", is not a valid CSS selector');\n                        return false;\n                    }\n                } else parts = lastPartsMatch;\n\n                if (!matchResolvers[selector] || matchContexts[selector] !== from) {\n                    matchResolvers[selector] = compile(isSingleMatch ? [selector] : parts, '', false);\n                    matchContexts[selector] = from;\n                }\n\n                return matchResolvers[selector](element, Snapshot, doc, root, from, callback);\n            },\n\n        first =\n            function (selector, from) {\n                return select(selector, from, function () { return false; })[0] || null;\n            },\n\n        select =\n            function (selector, from, callback) {\n\n                var i, changed, element, elements, parts, token, original = selector;\n\n                if (arguments.length === 0) {\n                    emit('Not enough arguments');\n                    return [];\n                } else if (typeof selector != 'string') {\n                    return [];\n                } else if (from && !(/1|9|11/).test(from.nodeType)) {\n                    emit('Invalid or illegal context element');\n                    return [];\n                } else if (lastContext !== from) {\n                    switchContext(from || (from = doc));\n                }\n\n                if (Config.CACHING && (elements = Dom.loadResults(original, from, doc, root))) {\n                    return callback ? concatCall([], elements, callback) : elements;\n                }\n\n                selector = selector.\n                    replace(reTrimSpaces, '').\n                    replace(/\\x00|\\\\$/g, '\\ufffd');\n\n                Config.SHORTCUTS && (selector = Dom.shortcuts(selector, from));\n\n                if ((changed = lastSelector != selector)) {\n                    if ((parts = selector.match(reValidator)) && parts[0] == selector) {\n                        isSingleSelect = (parts = selector.match(reSplitGroup)).length < 2;\n                        lastSelector = selector;\n                        lastPartsSelect = parts;\n                    } else {\n                        emit('The string \"' + selector + '\", is not a valid CSS selector');\n                        return [];\n                    }\n                } else parts = lastPartsSelect;\n\n                if (from.nodeType == 11) {\n\n                    elements = byTagRaw('*', from);\n\n                } else if (isSingleSelect) {\n\n                    if (changed) {\n                        parts = selector.match(reSplitToken);\n                        token = parts[parts.length - 1];\n                        lastSlice = token.split(':not');\n                        lastSlice = lastSlice[lastSlice.length - 1];\n                        lastPosition = selector.length - token.length;\n                    }\n\n                    if (Config.UNIQUE_ID && lastSlice && (parts = lastSlice.match(Optimize.ID)) && (token = parts[1])) {\n                        if ((element = _byId(token, from))) {\n                            if (match(element, selector)) {\n                                callback && callback(element);\n                                elements = [element];\n                            } else elements = [];\n                        }\n                    }\n\n                    else if (Config.UNIQUE_ID && (parts = selector.match(Optimize.ID)) && (token = parts[1])) {\n                        if ((element = _byId(token, doc))) {\n                            if ('#' + token == selector) {\n                                callback && callback(element);\n                                elements = [element];\n                            } else if (/[>+~]/.test(selector)) {\n                                from = element.parentNode;\n                            } else {\n                                from = element;\n                            }\n                        } else elements = [];\n                    }\n\n                    if (elements) {\n                        Config.CACHING && Dom.saveResults(original, from, doc, elements);\n                        return elements;\n                    }\n\n                    if (!XML_DOCUMENT && GEBTN && lastSlice && (parts = lastSlice.match(Optimize.TAG)) && (token = parts[1])) {\n                        if ((elements = from.getElementsByTagName(token)).length === 0) { return []; }\n                        selector = selector.slice(0, lastPosition) + selector.slice(lastPosition).replace(token, '*');\n                    }\n\n                    else if (!XML_DOCUMENT && GEBCN && lastSlice && (parts = lastSlice.match(Optimize.CLASS)) && (token = parts[1])) {\n                        if ((elements = from.getElementsByClassName(unescapeIdentifier(token))).length === 0) { return []; }\n                        selector = selector.slice(0, lastPosition) + selector.slice(lastPosition).replace('.' + token,\n                            reOptimizeSelector.test(selector.charAt(selector.indexOf(token) - 1)) ? '' : '*');\n                    }\n\n                }\n\n                if (!elements) {\n                    if (IE_LT_9) {\n                        elements = /^(?:applet|object)$/i.test(from.nodeName) ? from.children : byTagRaw('*', from);\n                    } else {\n                        elements = from.getElementsByTagName('*');\n                    }\n                }\n\n                if (!selectResolvers[selector] || selectContexts[selector] !== from) {\n                    selectResolvers[selector] = compile(isSingleSelect ? [selector] : parts, REJECT_NODE, true);\n                    selectContexts[selector] = from;\n                }\n\n                elements = selectResolvers[selector](elements, Snapshot, doc, root, from, callback);\n\n                Config.CACHING && Dom.saveResults(original, from, doc, elements);\n\n                return elements;\n            },\n\n        FN = function (x) { return x; },\n\n        matchContexts = {},\n        matchResolvers = {},\n\n        selectContexts = {},\n        selectResolvers = {},\n\n        Snapshot = {\n            byId: _byId,\n            match: match,\n            select: select,\n            isLink: isLink,\n            isEmpty: isEmpty,\n            contains: contains,\n            nthOfType: nthOfType,\n            nthElement: nthElement,\n            getAttribute: getAttribute,\n            hasAttribute: hasAttribute\n        },\n\n        Dom = {\n\n            ACCEPT_NODE: ACCEPT_NODE,\n\n            byId: byId,\n            match: match,\n            first: first,\n            select: select,\n            compile: compile,\n            contains: contains,\n            configure: configure,\n            getAttribute: getAttribute,\n            hasAttribute: hasAttribute,\n\n            setCache: FN,\n            shortcuts: FN,\n            loadResults: FN,\n            saveResults: FN,\n\n            emit: emit,\n            Config: Config,\n            Snapshot: Snapshot,\n\n            Operators: Operators,\n            Selectors: Selectors,\n\n            Tokens: Tokens,\n\n            registerOperator:\n                function (symbol, resolver) {\n                    Operators[symbol] || (Operators[symbol] = resolver);\n                },\n\n            registerSelector:\n                function (name, rexp, func) {\n                    Selectors[name] || (Selectors[name] = {\n                        Expression: rexp,\n                        Callback: func\n                    });\n                }\n\n        };\n\n    initialize(doc);\n\n    return Dom\n}\n\nexports.DOMHelper = helper\n\n}).call(this)}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{}],6:[function(require,module,exports){\nvar dom = require('./dom')\nexports.DOMImplementation = dom.DOMImplementation\nexports.XMLSerializer = dom.XMLSerializer\nexports.DOMParser = require('./dom-parser').DOMParser\n\n},{\"./dom\":3,\"./dom-parser\":2}],7:[function(require,module,exports){\nvar NAMESPACE = require(\"./conventions\").NAMESPACE;\n\n//[4]   \tNameStartChar\t   ::=   \t\":\" | [A-Z] | \"_\" | [a-z] | [#xC0-#xD6] | [#xD8-#xF6] | [#xF8-#x2FF] | [#x370-#x37D] | [#x37F-#x1FFF] | [#x200C-#x200D] | [#x2070-#x218F] | [#x2C00-#x2FEF] | [#x3001-#xD7FF] | [#xF900-#xFDCF] | [#xFDF0-#xFFFD] | [#x10000-#xEFFFF]\n//[4a]   \tNameChar\t   ::=   \tNameStartChar | \"-\" | \".\" | [0-9] | #xB7 | [#x0300-#x036F] | [#x203F-#x2040]\n//[5]   \tName\t   ::=   \tNameStartChar (NameChar)*\nvar nameStartChar = /[A-Z_a-z\\xC0-\\xD6\\xD8-\\xF6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD]///\\u10000-\\uEFFFF\nvar nameChar = new RegExp(\"[\\\\-\\\\.0-9\"+nameStartChar.source.slice(1,-1)+\"\\\\u00B7\\\\u0300-\\\\u036F\\\\u203F-\\\\u2040]\");\nvar tagNamePattern = new RegExp('^'+nameStartChar.source+nameChar.source+'*(?:\\:'+nameStartChar.source+nameChar.source+'*)?$');\n//var tagNamePattern = /^[a-zA-Z_][\\w\\-\\.]*(?:\\:[a-zA-Z_][\\w\\-\\.]*)?$/\n//var handlers = 'resolveEntity,getExternalSubset,characters,endDocument,endElement,endPrefixMapping,ignorableWhitespace,processingInstruction,setDocumentLocator,skippedEntity,startDocument,startElement,startPrefixMapping,notationDecl,unparsedEntityDecl,error,fatalError,warning,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,comment,endCDATA,endDTD,endEntity,startCDATA,startDTD,startEntity'.split(',')\n\n//S_TAG,\tS_ATTR,\tS_EQ,\tS_ATTR_NOQUOT_VALUE\n//S_ATTR_SPACE,\tS_ATTR_END,\tS_TAG_SPACE, S_TAG_CLOSE\nvar S_TAG = 0;//tag name offerring\nvar S_ATTR = 1;//attr name offerring\nvar S_ATTR_SPACE=2;//attr name end and space offer\nvar S_EQ = 3;//=space?\nvar S_ATTR_NOQUOT_VALUE = 4;//attr value(no quot value only)\nvar S_ATTR_END = 5;//attr value end and no space(quot end)\nvar S_TAG_SPACE = 6;//(attr value end || tag end ) && (space offer)\nvar S_TAG_CLOSE = 7;//closed el<el />\n\n/**\n * Creates an error that will not be caught by XMLReader aka the SAX parser.\n *\n * @param {string} message\n * @param {any?} locator Optional, can provide details about the location in the source\n * @constructor\n */\nfunction ParseError(message, locator) {\n\tthis.message = message\n\tthis.locator = locator\n\tif(Error.captureStackTrace) Error.captureStackTrace(this, ParseError);\n}\nParseError.prototype = new Error();\nParseError.prototype.name = ParseError.name\n\nfunction XMLReader(){\n\n}\n\nXMLReader.prototype = {\n\tparse:function(source,defaultNSMap,entityMap){\n\t\tvar domBuilder = this.domBuilder;\n\t\tdomBuilder.startDocument();\n\t\t_copy(defaultNSMap ,defaultNSMap = {})\n\t\tparse(source,defaultNSMap,entityMap,\n\t\t\t\tdomBuilder,this.errorHandler);\n\t\tdomBuilder.endDocument();\n\t}\n}\nfunction parse(source,defaultNSMapCopy,entityMap,domBuilder,errorHandler){\n\tfunction fixedFromCharCode(code) {\n\t\t// String.prototype.fromCharCode does not supports\n\t\t// > 2 bytes unicode chars directly\n\t\tif (code > 0xffff) {\n\t\t\tcode -= 0x10000;\n\t\t\tvar surrogate1 = 0xd800 + (code >> 10)\n\t\t\t\t, surrogate2 = 0xdc00 + (code & 0x3ff);\n\n\t\t\treturn String.fromCharCode(surrogate1, surrogate2);\n\t\t} else {\n\t\t\treturn String.fromCharCode(code);\n\t\t}\n\t}\n\tfunction entityReplacer(a){\n\t\tvar k = a.slice(1,-1);\n\t\tif (Object.hasOwnProperty.call(entityMap, k)) {\n\t\t\treturn entityMap[k];\n\t\t}else if(k.charAt(0) === '#'){\n\t\t\treturn fixedFromCharCode(parseInt(k.substr(1).replace('x','0x')))\n\t\t}else{\n\t\t\terrorHandler.error('entity not found:'+a);\n\t\t\treturn a;\n\t\t}\n\t}\n\tfunction appendText(end){//has some bugs\n\t\tif(end>start){\n\t\t\tvar xt = source.substring(start,end).replace(/&#?\\w+;/g,entityReplacer);\n\t\t\tlocator&&position(start);\n\t\t\tdomBuilder.characters(xt,0,end-start);\n\t\t\tstart = end\n\t\t}\n\t}\n\tfunction position(p,m){\n\t\twhile(p>=lineEnd && (m = linePattern.exec(source))){\n\t\t\tlineStart = m.index;\n\t\t\tlineEnd = lineStart + m[0].length;\n\t\t\tlocator.lineNumber++;\n\t\t\t//console.log('line++:',locator,startPos,endPos)\n\t\t}\n\t\tlocator.columnNumber = p-lineStart+1;\n\t}\n\tvar lineStart = 0;\n\tvar lineEnd = 0;\n\tvar linePattern = /.*(?:\\r\\n?|\\n)|.*$/g\n\tvar locator = domBuilder.locator;\n\n\tvar parseStack = [{currentNSMap:defaultNSMapCopy}]\n\tvar closeMap = {};\n\tvar start = 0;\n\twhile(true){\n\t\ttry{\n\t\t\tvar tagStart = source.indexOf('<',start);\n\t\t\tif(tagStart<0){\n\t\t\t\tif(!source.substr(start).match(/^\\s*$/)){\n\t\t\t\t\tvar doc = domBuilder.doc;\n\t    \t\t\tvar text = doc.createTextNode(source.substr(start));\n\t    \t\t\tdoc.appendChild(text);\n\t    \t\t\tdomBuilder.currentElement = text;\n\t\t\t\t}\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif(tagStart>start){\n\t\t\t\tappendText(tagStart);\n\t\t\t}\n\t\t\tswitch(source.charAt(tagStart+1)){\n\t\t\tcase '/':\n\t\t\t\tvar end = source.indexOf('>',tagStart+3);\n\t\t\t\tvar tagName = source.substring(tagStart + 2, end).replace(/[ \\t\\n\\r]+$/g, '');\n\t\t\t\tvar config = parseStack.pop();\n\t\t\t\tif(end<0){\n\n\t        \t\ttagName = source.substring(tagStart+2).replace(/[\\s<].*/,'');\n\t        \t\terrorHandler.error(\"end tag name: \"+tagName+' is not complete:'+config.tagName);\n\t        \t\tend = tagStart+1+tagName.length;\n\t        \t}else if(tagName.match(/\\s</)){\n\t        \t\ttagName = tagName.replace(/[\\s<].*/,'');\n\t        \t\terrorHandler.error(\"end tag name: \"+tagName+' maybe not complete');\n\t        \t\tend = tagStart+1+tagName.length;\n\t\t\t\t}\n\t\t\t\tvar localNSMap = config.localNSMap;\n\t\t\t\tvar endMatch = config.tagName == tagName;\n\t\t\t\tvar endIgnoreCaseMach = endMatch || config.tagName&&config.tagName.toLowerCase() == tagName.toLowerCase()\n\t\t        if(endIgnoreCaseMach){\n\t\t        \tdomBuilder.endElement(config.uri,config.localName,tagName);\n\t\t\t\t\tif(localNSMap){\n\t\t\t\t\t\tfor (var prefix in localNSMap) {\n\t\t\t\t\t\t\tif (Object.prototype.hasOwnProperty.call(localNSMap, prefix)) {\n\t\t\t\t\t\t\t\tdomBuilder.endPrefixMapping(prefix);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif(!endMatch){\n\t\t            \terrorHandler.fatalError(\"end tag name: \"+tagName+' is not match the current start tagName:'+config.tagName ); // No known test case\n\t\t\t\t\t}\n\t\t        }else{\n\t\t        \tparseStack.push(config)\n\t\t        }\n\n\t\t\t\tend++;\n\t\t\t\tbreak;\n\t\t\t\t// end elment\n\t\t\tcase '?':// <?...?>\n\t\t\t\tlocator&&position(tagStart);\n\t\t\t\tend = parseInstruction(source,tagStart,domBuilder);\n\t\t\t\tbreak;\n\t\t\tcase '!':// <!doctype,<![CDATA,<!--\n\t\t\t\tlocator&&position(tagStart);\n\t\t\t\tend = parseDCC(source,tagStart,domBuilder,errorHandler);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tlocator&&position(tagStart);\n\t\t\t\tvar el = new ElementAttributes();\n\t\t\t\tvar currentNSMap = parseStack[parseStack.length-1].currentNSMap;\n\t\t\t\t//elStartEnd\n\t\t\t\tvar end = parseElementStartPart(source,tagStart,el,currentNSMap,entityReplacer,errorHandler);\n\t\t\t\tvar len = el.length;\n\n\n\t\t\t\tif(!el.closed && fixSelfClosed(source,end,el.tagName,closeMap)){\n\t\t\t\t\tel.closed = true;\n\t\t\t\t\tif(!entityMap.nbsp){\n\t\t\t\t\t\terrorHandler.warning('unclosed xml attribute');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif(locator && len){\n\t\t\t\t\tvar locator2 = copyLocator(locator,{});\n\t\t\t\t\t//try{//attribute position fixed\n\t\t\t\t\tfor(var i = 0;i<len;i++){\n\t\t\t\t\t\tvar a = el[i];\n\t\t\t\t\t\tposition(a.offset);\n\t\t\t\t\t\ta.locator = copyLocator(locator,{});\n\t\t\t\t\t}\n\t\t\t\t\tdomBuilder.locator = locator2\n\t\t\t\t\tif(appendElement(el,domBuilder,currentNSMap)){\n\t\t\t\t\t\tparseStack.push(el)\n\t\t\t\t\t}\n\t\t\t\t\tdomBuilder.locator = locator;\n\t\t\t\t}else{\n\t\t\t\t\tif(appendElement(el,domBuilder,currentNSMap)){\n\t\t\t\t\t\tparseStack.push(el)\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (NAMESPACE.isHTML(el.uri) && !el.closed) {\n\t\t\t\t\tend = parseHtmlSpecialContent(source,end,el.tagName,entityReplacer,domBuilder)\n\t\t\t\t} else {\n\t\t\t\t\tend++;\n\t\t\t\t}\n\t\t\t}\n\t\t}catch(e){\n\t\t\tif (e instanceof ParseError) {\n\t\t\t\tthrow e;\n\t\t\t}\n\t\t\terrorHandler.error('element parse error: '+e)\n\t\t\tend = -1;\n\t\t}\n\t\tif(end>start){\n\t\t\tstart = end;\n\t\t}else{\n\t\t\t//TODO: 这里有可能sax回退，有位置错误风险\n\t\t\tappendText(Math.max(tagStart,start)+1);\n\t\t}\n\t}\n}\nfunction copyLocator(f,t){\n\tt.lineNumber = f.lineNumber;\n\tt.columnNumber = f.columnNumber;\n\treturn t;\n}\n\n/**\n * @see #appendElement(source,elStartEnd,el,selfClosed,entityReplacer,domBuilder,parseStack);\n * @return end of the elementStartPart(end of elementEndPart for selfClosed el)\n */\nfunction parseElementStartPart(source,start,el,currentNSMap,entityReplacer,errorHandler){\n\n\t/**\n\t * @param {string} qname\n\t * @param {string} value\n\t * @param {number} startIndex\n\t */\n\tfunction addAttribute(qname, value, startIndex) {\n\t\tif (el.attributeNames.hasOwnProperty(qname)) {\n\t\t\terrorHandler.fatalError('Attribute ' + qname + ' redefined')\n\t\t}\n\t\tel.addValue(\n\t\t\tqname,\n\t\t\t// @see https://www.w3.org/TR/xml/#AVNormalize\n\t\t\t// since the xmldom sax parser does not \"interpret\" DTD the following is not implemented:\n\t\t\t// - recursive replacement of (DTD) entity references\n\t\t\t// - trimming and collapsing multiple spaces into a single one for attributes that are not of type CDATA\n\t\t\tvalue.replace(/[\\t\\n\\r]/g, ' ').replace(/&#?\\w+;/g, entityReplacer),\n\t\t\tstartIndex\n\t\t)\n\t}\n\tvar attrName;\n\tvar value;\n\tvar p = ++start;\n\tvar s = S_TAG;//status\n\twhile(true){\n\t\tvar c = source.charAt(p);\n\t\tswitch(c){\n\t\tcase '=':\n\t\t\tif(s === S_ATTR){//attrName\n\t\t\t\tattrName = source.slice(start,p);\n\t\t\t\ts = S_EQ;\n\t\t\t}else if(s === S_ATTR_SPACE){\n\t\t\t\ts = S_EQ;\n\t\t\t}else{\n\t\t\t\t//fatalError: equal must after attrName or space after attrName\n\t\t\t\tthrow new Error('attribute equal must after attrName'); // No known test case\n\t\t\t}\n\t\t\tbreak;\n\t\tcase '\\'':\n\t\tcase '\"':\n\t\t\tif(s === S_EQ || s === S_ATTR //|| s == S_ATTR_SPACE\n\t\t\t\t){//equal\n\t\t\t\tif(s === S_ATTR){\n\t\t\t\t\terrorHandler.warning('attribute value must after \"=\"')\n\t\t\t\t\tattrName = source.slice(start,p)\n\t\t\t\t}\n\t\t\t\tstart = p+1;\n\t\t\t\tp = source.indexOf(c,start)\n\t\t\t\tif(p>0){\n\t\t\t\t\tvalue = source.slice(start, p);\n\t\t\t\t\taddAttribute(attrName, value, start-1);\n\t\t\t\t\ts = S_ATTR_END;\n\t\t\t\t}else{\n\t\t\t\t\t//fatalError: no end quot match\n\t\t\t\t\tthrow new Error('attribute value no end \\''+c+'\\' match');\n\t\t\t\t}\n\t\t\t}else if(s == S_ATTR_NOQUOT_VALUE){\n\t\t\t\tvalue = source.slice(start, p);\n\t\t\t\taddAttribute(attrName, value, start);\n\t\t\t\terrorHandler.warning('attribute \"'+attrName+'\" missed start quot('+c+')!!');\n\t\t\t\tstart = p+1;\n\t\t\t\ts = S_ATTR_END\n\t\t\t}else{\n\t\t\t\t//fatalError: no equal before\n\t\t\t\tthrow new Error('attribute value must after \"=\"'); // No known test case\n\t\t\t}\n\t\t\tbreak;\n\t\tcase '/':\n\t\t\tswitch(s){\n\t\t\tcase S_TAG:\n\t\t\t\tel.setTagName(source.slice(start,p));\n\t\t\tcase S_ATTR_END:\n\t\t\tcase S_TAG_SPACE:\n\t\t\tcase S_TAG_CLOSE:\n\t\t\t\ts =S_TAG_CLOSE;\n\t\t\t\tel.closed = true;\n\t\t\tcase S_ATTR_NOQUOT_VALUE:\n\t\t\tcase S_ATTR:\n\t\t\tcase S_ATTR_SPACE:\n\t\t\t\tbreak;\n\t\t\t//case S_EQ:\n\t\t\tdefault:\n\t\t\t\tthrow new Error(\"attribute invalid close char('/')\") // No known test case\n\t\t\t}\n\t\t\tbreak;\n\t\tcase ''://end document\n\t\t\terrorHandler.error('unexpected end of input');\n\t\t\tif(s == S_TAG){\n\t\t\t\tel.setTagName(source.slice(start,p));\n\t\t\t}\n\t\t\treturn p;\n\t\tcase '>':\n\t\t\tswitch(s){\n\t\t\tcase S_TAG:\n\t\t\t\tel.setTagName(source.slice(start,p));\n\t\t\tcase S_ATTR_END:\n\t\t\tcase S_TAG_SPACE:\n\t\t\tcase S_TAG_CLOSE:\n\t\t\t\tbreak;//normal\n\t\t\tcase S_ATTR_NOQUOT_VALUE://Compatible state\n\t\t\tcase S_ATTR:\n\t\t\t\tvalue = source.slice(start,p);\n\t\t\t\tif(value.slice(-1) === '/'){\n\t\t\t\t\tel.closed  = true;\n\t\t\t\t\tvalue = value.slice(0,-1)\n\t\t\t\t}\n\t\t\tcase S_ATTR_SPACE:\n\t\t\t\tif(s === S_ATTR_SPACE){\n\t\t\t\t\tvalue = attrName;\n\t\t\t\t}\n\t\t\t\tif(s == S_ATTR_NOQUOT_VALUE){\n\t\t\t\t\terrorHandler.warning('attribute \"'+value+'\" missed quot(\")!');\n\t\t\t\t\taddAttribute(attrName, value, start)\n\t\t\t\t}else{\n\t\t\t\t\tif(!NAMESPACE.isHTML(currentNSMap['']) || !value.match(/^(?:disabled|checked|selected)$/i)){\n\t\t\t\t\t\terrorHandler.warning('attribute \"'+value+'\" missed value!! \"'+value+'\" instead!!')\n\t\t\t\t\t}\n\t\t\t\t\taddAttribute(value, value, start)\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase S_EQ:\n\t\t\t\tthrow new Error('attribute value missed!!');\n\t\t\t}\n//\t\t\tconsole.log(tagName,tagNamePattern,tagNamePattern.test(tagName))\n\t\t\treturn p;\n\t\t/*xml space '\\x20' | #x9 | #xD | #xA; */\n\t\tcase '\\u0080':\n\t\t\tc = ' ';\n\t\tdefault:\n\t\t\tif(c<= ' '){//space\n\t\t\t\tswitch(s){\n\t\t\t\tcase S_TAG:\n\t\t\t\t\tel.setTagName(source.slice(start,p));//tagName\n\t\t\t\t\ts = S_TAG_SPACE;\n\t\t\t\t\tbreak;\n\t\t\t\tcase S_ATTR:\n\t\t\t\t\tattrName = source.slice(start,p)\n\t\t\t\t\ts = S_ATTR_SPACE;\n\t\t\t\t\tbreak;\n\t\t\t\tcase S_ATTR_NOQUOT_VALUE:\n\t\t\t\t\tvar value = source.slice(start, p);\n\t\t\t\t\terrorHandler.warning('attribute \"'+value+'\" missed quot(\")!!');\n\t\t\t\t\taddAttribute(attrName, value, start)\n\t\t\t\tcase S_ATTR_END:\n\t\t\t\t\ts = S_TAG_SPACE;\n\t\t\t\t\tbreak;\n\t\t\t\t//case S_TAG_SPACE:\n\t\t\t\t//case S_EQ:\n\t\t\t\t//case S_ATTR_SPACE:\n\t\t\t\t//\tvoid();break;\n\t\t\t\t//case S_TAG_CLOSE:\n\t\t\t\t\t//ignore warning\n\t\t\t\t}\n\t\t\t}else{//not space\n//S_TAG,\tS_ATTR,\tS_EQ,\tS_ATTR_NOQUOT_VALUE\n//S_ATTR_SPACE,\tS_ATTR_END,\tS_TAG_SPACE, S_TAG_CLOSE\n\t\t\t\tswitch(s){\n\t\t\t\t//case S_TAG:void();break;\n\t\t\t\t//case S_ATTR:void();break;\n\t\t\t\t//case S_ATTR_NOQUOT_VALUE:void();break;\n\t\t\t\tcase S_ATTR_SPACE:\n\t\t\t\t\tvar tagName =  el.tagName;\n\t\t\t\t\tif (!NAMESPACE.isHTML(currentNSMap['']) || !attrName.match(/^(?:disabled|checked|selected)$/i)) {\n\t\t\t\t\t\terrorHandler.warning('attribute \"'+attrName+'\" missed value!! \"'+attrName+'\" instead2!!')\n\t\t\t\t\t}\n\t\t\t\t\taddAttribute(attrName, attrName, start);\n\t\t\t\t\tstart = p;\n\t\t\t\t\ts = S_ATTR;\n\t\t\t\t\tbreak;\n\t\t\t\tcase S_ATTR_END:\n\t\t\t\t\terrorHandler.warning('attribute space is required\"'+attrName+'\"!!')\n\t\t\t\tcase S_TAG_SPACE:\n\t\t\t\t\ts = S_ATTR;\n\t\t\t\t\tstart = p;\n\t\t\t\t\tbreak;\n\t\t\t\tcase S_EQ:\n\t\t\t\t\ts = S_ATTR_NOQUOT_VALUE;\n\t\t\t\t\tstart = p;\n\t\t\t\t\tbreak;\n\t\t\t\tcase S_TAG_CLOSE:\n\t\t\t\t\tthrow new Error(\"elements closed character '/' and '>' must be connected to\");\n\t\t\t\t}\n\t\t\t}\n\t\t}//end outer switch\n\t\t//console.log('p++',p)\n\t\tp++;\n\t}\n}\n/**\n * @return true if has new namespace define\n */\nfunction appendElement(el,domBuilder,currentNSMap){\n\tvar tagName = el.tagName;\n\tvar localNSMap = null;\n\t//var currentNSMap = parseStack[parseStack.length-1].currentNSMap;\n\tvar i = el.length;\n\twhile(i--){\n\t\tvar a = el[i];\n\t\tvar qName = a.qName;\n\t\tvar value = a.value;\n\t\tvar nsp = qName.indexOf(':');\n\t\tif(nsp>0){\n\t\t\tvar prefix = a.prefix = qName.slice(0,nsp);\n\t\t\tvar localName = qName.slice(nsp+1);\n\t\t\tvar nsPrefix = prefix === 'xmlns' && localName\n\t\t}else{\n\t\t\tlocalName = qName;\n\t\t\tprefix = null\n\t\t\tnsPrefix = qName === 'xmlns' && ''\n\t\t}\n\t\t//can not set prefix,because prefix !== ''\n\t\ta.localName = localName ;\n\t\t//prefix == null for no ns prefix attribute\n\t\tif(nsPrefix !== false){//hack!!\n\t\t\tif(localNSMap == null){\n\t\t\t\tlocalNSMap = {}\n\t\t\t\t//console.log(currentNSMap,0)\n\t\t\t\t_copy(currentNSMap,currentNSMap={})\n\t\t\t\t//console.log(currentNSMap,1)\n\t\t\t}\n\t\t\tcurrentNSMap[nsPrefix] = localNSMap[nsPrefix] = value;\n\t\t\ta.uri = NAMESPACE.XMLNS\n\t\t\tdomBuilder.startPrefixMapping(nsPrefix, value)\n\t\t}\n\t}\n\tvar i = el.length;\n\twhile(i--){\n\t\ta = el[i];\n\t\tvar prefix = a.prefix;\n\t\tif(prefix){//no prefix attribute has no namespace\n\t\t\tif(prefix === 'xml'){\n\t\t\t\ta.uri = NAMESPACE.XML;\n\t\t\t}if(prefix !== 'xmlns'){\n\t\t\t\ta.uri = currentNSMap[prefix || '']\n\n\t\t\t\t//{console.log('###'+a.qName,domBuilder.locator.systemId+'',currentNSMap,a.uri)}\n\t\t\t}\n\t\t}\n\t}\n\tvar nsp = tagName.indexOf(':');\n\tif(nsp>0){\n\t\tprefix = el.prefix = tagName.slice(0,nsp);\n\t\tlocalName = el.localName = tagName.slice(nsp+1);\n\t}else{\n\t\tprefix = null;//important!!\n\t\tlocalName = el.localName = tagName;\n\t}\n\t//no prefix element has default namespace\n\tvar ns = el.uri = currentNSMap[prefix || ''];\n\tdomBuilder.startElement(ns,localName,tagName,el);\n\t//endPrefixMapping and startPrefixMapping have not any help for dom builder\n\t//localNSMap = null\n\tif(el.closed){\n\t\tdomBuilder.endElement(ns,localName,tagName);\n\t\tif(localNSMap){\n\t\t\tfor (prefix in localNSMap) {\n\t\t\t\tif (Object.prototype.hasOwnProperty.call(localNSMap, prefix)) {\n\t\t\t\t\tdomBuilder.endPrefixMapping(prefix);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}else{\n\t\tel.currentNSMap = currentNSMap;\n\t\tel.localNSMap = localNSMap;\n\t\t//parseStack.push(el);\n\t\treturn true;\n\t}\n}\nfunction parseHtmlSpecialContent(source,elStartEnd,tagName,entityReplacer,domBuilder){\n\tif(/^(?:script|textarea)$/i.test(tagName)){\n\t\tvar elEndStart =  source.indexOf('</'+tagName+'>',elStartEnd);\n\t\tvar text = source.substring(elStartEnd+1,elEndStart);\n\t\tif(/[&<]/.test(text)){\n\t\t\tif(/^script$/i.test(tagName)){\n\t\t\t\t//if(!/\\]\\]>/.test(text)){\n\t\t\t\t\t//lexHandler.startCDATA();\n\t\t\t\t\tdomBuilder.characters(text,0,text.length);\n\t\t\t\t\t//lexHandler.endCDATA();\n\t\t\t\t\treturn elEndStart;\n\t\t\t\t//}\n\t\t\t}//}else{//text area\n\t\t\t\ttext = text.replace(/&#?\\w+;/g,entityReplacer);\n\t\t\t\tdomBuilder.characters(text,0,text.length);\n\t\t\t\treturn elEndStart;\n\t\t\t//}\n\n\t\t}\n\t}\n\treturn elStartEnd+1;\n}\nfunction fixSelfClosed(source,elStartEnd,tagName,closeMap){\n\t//if(tagName in closeMap){\n\tvar pos = closeMap[tagName];\n\tif(pos == null){\n\t\t//console.log(tagName)\n\t\tpos =  source.lastIndexOf('</'+tagName+'>')\n\t\tif(pos<elStartEnd){//忘记闭合\n\t\t\tpos = source.lastIndexOf('</'+tagName)\n\t\t}\n\t\tcloseMap[tagName] =pos\n\t}\n\treturn pos<elStartEnd;\n\t//}\n}\n\nfunction _copy (source, target) {\n\tfor (var n in source) {\n\t\tif (Object.prototype.hasOwnProperty.call(source, n)) {\n\t\t\ttarget[n] = source[n];\n\t\t}\n\t}\n}\n\nfunction parseDCC(source,start,domBuilder,errorHandler){//sure start with '<!'\n\tvar next= source.charAt(start+2)\n\tswitch(next){\n\tcase '-':\n\t\tif(source.charAt(start + 3) === '-'){\n\t\t\tvar end = source.indexOf('-->',start+4);\n\t\t\t//append comment source.substring(4,end)//<!--\n\t\t\tif(end>start){\n\t\t\t\tdomBuilder.comment(source,start+4,end-start-4);\n\t\t\t\treturn end+3;\n\t\t\t}else{\n\t\t\t\terrorHandler.error(\"Unclosed comment\");\n\t\t\t\treturn -1;\n\t\t\t}\n\t\t}else{\n\t\t\t//error\n\t\t\treturn -1;\n\t\t}\n\tdefault:\n\t\tif(source.substr(start+3,6) == 'CDATA['){\n\t\t\tvar end = source.indexOf(']]>',start+9);\n\t\t\tdomBuilder.startCDATA();\n\t\t\tdomBuilder.characters(source,start+9,end-start-9);\n\t\t\tdomBuilder.endCDATA()\n\t\t\treturn end+3;\n\t\t}\n\t\t//<!DOCTYPE\n\t\t//startDTD(java.lang.String name, java.lang.String publicId, java.lang.String systemId)\n\t\tvar matchs = split(source,start);\n\t\tvar len = matchs.length;\n\t\tif(len>1 && /!doctype/i.test(matchs[0][0])){\n\t\t\tvar name = matchs[1][0];\n\t\t\tvar pubid = false;\n\t\t\tvar sysid = false;\n\t\t\tif(len>3){\n\t\t\t\tif(/^public$/i.test(matchs[2][0])){\n\t\t\t\t\tpubid = matchs[3][0];\n\t\t\t\t\tsysid = len>4 && matchs[4][0];\n\t\t\t\t}else if(/^system$/i.test(matchs[2][0])){\n\t\t\t\t\tsysid = matchs[3][0];\n\t\t\t\t}\n\t\t\t}\n\t\t\tvar lastMatch = matchs[len-1]\n\t\t\tdomBuilder.startDTD(name, pubid, sysid);\n\t\t\tdomBuilder.endDTD();\n\n\t\t\treturn lastMatch.index+lastMatch[0].length\n\t\t}\n\t}\n\treturn -1;\n}\n\n\n\nfunction parseInstruction(source,start,domBuilder){\n\tvar end = source.indexOf('?>',start);\n\tif(end){\n\t\tvar match = source.substring(start,end).match(/^<\\?(\\S*)\\s*([\\s\\S]*?)\\s*$/);\n\t\tif(match){\n\t\t\tvar len = match[0].length;\n\t\t\tdomBuilder.processingInstruction(match[1], match[2]) ;\n\t\t\treturn end+2;\n\t\t}else{//error\n\t\t\treturn -1;\n\t\t}\n\t}\n\treturn -1;\n}\n\nfunction ElementAttributes(){\n\tthis.attributeNames = {}\n}\nElementAttributes.prototype = {\n\tsetTagName:function(tagName){\n\t\tif(!tagNamePattern.test(tagName)){\n\t\t\tthrow new Error('invalid tagName:'+tagName)\n\t\t}\n\t\tthis.tagName = tagName\n\t},\n\taddValue:function(qName, value, offset) {\n\t\tif(!tagNamePattern.test(qName)){\n\t\t\tthrow new Error('invalid attribute:'+qName)\n\t\t}\n\t\tthis.attributeNames[qName] = this.length;\n\t\tthis[this.length++] = {qName:qName,value:value,offset:offset}\n\t},\n\tlength:0,\n\tgetLocalName:function(i){return this[i].localName},\n\tgetLocator:function(i){return this[i].locator},\n\tgetQName:function(i){return this[i].qName},\n\tgetURI:function(i){return this[i].uri},\n\tgetValue:function(i){return this[i].value}\n//\t,getIndex:function(uri, localName)){\n//\t\tif(localName){\n//\n//\t\t}else{\n//\t\t\tvar qName = uri\n//\t\t}\n//\t},\n//\tgetValue:function(){return this.getValue(this.getIndex.apply(this,arguments))},\n//\tgetType:function(uri,localName){}\n//\tgetType:function(i){},\n}\n\n\n\nfunction split(source,start){\n\tvar match;\n\tvar buf = [];\n\tvar reg = /'[^']+'|\"[^\"]+\"|[^\\s<>\\/=]+=?|(\\/?\\s*>|<)/g;\n\treg.lastIndex = start;\n\treg.exec(source);//skip <\n\twhile(match = reg.exec(source)){\n\t\tbuf.push(match);\n\t\tif(match[1])return buf;\n\t}\n}\n\nexports.XMLReader = XMLReader;\nexports.ParseError = ParseError;\n\n},{\"./conventions\":1}],8:[function(require,module,exports){\n// create DOMParser variable from xmldom\nvar DOMParser = require('xmldom-qsa').DOMParser;\nvar DOMImplementation = require('xmldom-qsa').DOMImplementation\n\n// necessary to create a standalone browserify version\nmodule.exports = {\n    DOMParser: DOMParser,\n    DOMImplementation: DOMImplementation\n}\n},{\"xmldom-qsa\":6}]},{},[8])(8)\n});\n"],"names":["$lNfCP","parcelRequire","$e377dba856d0e0d7$export$2e2bcd8739ae039","selector","Selection","document","querySelector","documentElement","root","$fXNa0","$fdda4b6cdb2d1787$export$e8e78c978b129247","$fdda4b6cdb2d1787$export$52baac22726c72bf","groups","parents","this","_groups","_parents","$fdda4b6cdb2d1787$var$selection","prototype","constructor","select","default","selectAll","$hk7Yj","selectChild","$kRmTP","selectChildren","$elNWt","filter","$2Vzda","data","$lwhxt","enter","$iM42z","exit","$Nn9dy","join","$iRvRz","merge","$cIa2N","selection","order","$6Yr44","sort","$l2VKd","call","$4ZD9V","nodes","$fZADc","node","$d8oN1","size","$h9ohj","empty","$dafOG","each","$4749D","attr","$8bQyO","style","$8mfMZ","property","$VV8Lq","classed","$5KOr8","text","$7lrYP","html","$2mXdw","raise","$fU0AX","lower","$aOpm3","append","$34Lwj","insert","$to4KW","remove","$kXzWc","clone","$imivU","datum","$jlvdR","on","$gOUux","dispatch","$60TS6","Symbol","iterator","$bztTW","$fdda4b6cdb2d1787$export$2e2bcd8739ae039","$b9f27fec2859c468$export$2e2bcd8739ae039","$iuvvt","m","length","subgroups","Array","j","subnode","group","n","subgroup","i","__data__","$d76377ec40999ffa$var$none","$d76377ec40999ffa$export$2e2bcd8739ae039","$c9ca7cf926691768$export$2e2bcd8739ae039","$96bxx","apply","arguments","$c9ca7cf926691768$var$arrayAll","$7ysBc","push","$69fda03336c14f28$export$2e2bcd8739ae039","x","isArray","from","$5801e489fa30d885$var$empty","$5801e489fa30d885$export$2e2bcd8739ae039","querySelectorAll","$8MvoG","$f2fa853a1434a575$var$find","find","$f2fa853a1434a575$var$childFirst","firstElementChild","$f2fa853a1434a575$export$2e2bcd8739ae039","match","children","$f2fa853a1434a575$var$childFind","childMatcher","$664b293b55ab92bf$export$2e2bcd8739ae039","matches","$664b293b55ab92bf$export$90c2759c036528","$a729c4565ef0940f$var$filter","$a729c4565ef0940f$var$children","$a729c4565ef0940f$export$2e2bcd8739ae039","$a729c4565ef0940f$var$childrenFilter","$221c37e76e367e21$export$2e2bcd8739ae039","$faaa31032bba57a9$var$bindIndex","parent","update","groupLength","dataLength","EnterNode","$faaa31032bba57a9$var$bindKey","key","keyValue","nodeByKeyValue","Map","keyValues","has","set","get","delete","$faaa31032bba57a9$var$datum","$faaa31032bba57a9$export$2e2bcd8739ae039","value","bind","$1vMSR","$faaa31032bba57a9$var$arraylike","enterGroup","updateGroup","previous","next","i0","i1","_next","_enter","_exit","$eZ6nx","$daafd80d746d0b91$export$2e2bcd8739ae039","map","$daafd80d746d0b91$export$67b01759a14cf6a4","ownerDocument","namespaceURI","_parent","appendChild","child","insertBefore","$ae8bb5d8500b95a3$export$2e2bcd8739ae039","$119e9b05d5dabb8c$export$2e2bcd8739ae039","$0946885ced5b4b7d$export$2e2bcd8739ae039","$dbb5e491eba23869$export$2e2bcd8739ae039","onenter","onupdate","onexit","$941162a932feaef8$export$2e2bcd8739ae039","context","groups0","groups1","m0","m1","Math","min","merges","group0","group1","$513d572612df5888$export$2e2bcd8739ae039","compareDocumentPosition","parentNode","$f52693b18ff46a41$export$2e2bcd8739ae039","compare","compareNode","a","b","$f52693b18ff46a41$var$ascending","sortgroups","sortgroup","NaN","$3a2b3c1f5a7b2241$export$2e2bcd8739ae039","callback","$ba48f7bbf0661468$export$2e2bcd8739ae039","$98ff406d4adbe2dd$export$2e2bcd8739ae039","$c7c61c10095ccc35$export$2e2bcd8739ae039","$99587a5a9ef1c782$export$2e2bcd8739ae039","$2feb09dc1c1c5f8d$export$2e2bcd8739ae039","$8PPiD","$5f681f3b36cf5278$var$attrRemove","name","removeAttribute","$5f681f3b36cf5278$var$attrRemoveNS","fullname","removeAttributeNS","space","local","$5f681f3b36cf5278$var$attrConstant","setAttribute","$5f681f3b36cf5278$var$attrConstantNS","setAttributeNS","$5f681f3b36cf5278$var$attrFunction","v","$5f681f3b36cf5278$var$attrFunctionNS","$5f681f3b36cf5278$export$2e2bcd8739ae039","getAttributeNS","getAttribute","$hYThN","$66eae128d5ae6ad8$export$2e2bcd8739ae039","prefix","indexOf","slice","hasOwnProperty","$d172ece65c10f4ab$export$201a3f7520ccc326","$d172ece65c10f4ab$export$2e2bcd8739ae039","svg","xhtml","xlink","xml","xmlns","$6R5rf","$615ca0388a7b16c7$var$styleRemove","removeProperty","$615ca0388a7b16c7$var$styleConstant","priority","setProperty","$615ca0388a7b16c7$var$styleFunction","$615ca0388a7b16c7$export$2e2bcd8739ae039","$615ca0388a7b16c7$export$5e3cec964f0b5efd","getPropertyValue","getComputedStyle","$4fdbe94682ce5ef1$export$2e2bcd8739ae039","defaultView","$0ae1a5deb9eb3a03$var$propertyRemove","$0ae1a5deb9eb3a03$var$propertyConstant","$0ae1a5deb9eb3a03$var$propertyFunction","$0ae1a5deb9eb3a03$export$2e2bcd8739ae039","$43085f501a08389e$var$classArray","string","trim","split","$43085f501a08389e$var$classList","classList","$43085f501a08389e$var$ClassList","_node","_names","$43085f501a08389e$var$classedAdd","names","list","add","$43085f501a08389e$var$classedRemove","$43085f501a08389e$var$classedTrue","$43085f501a08389e$var$classedFalse","$43085f501a08389e$var$classedFunction","$43085f501a08389e$export$2e2bcd8739ae039","contains","splice","$559032d1cd55295a$var$textRemove","textContent","$559032d1cd55295a$var$textConstant","$559032d1cd55295a$var$textFunction","$559032d1cd55295a$export$2e2bcd8739ae039","$1b9b921b3c2deed9$var$htmlRemove","innerHTML","$1b9b921b3c2deed9$var$htmlConstant","$1b9b921b3c2deed9$var$htmlFunction","$1b9b921b3c2deed9$export$2e2bcd8739ae039","$b93c8c211047fb14$var$raise","nextSibling","$b93c8c211047fb14$export$2e2bcd8739ae039","$7df23dd0506b3a96$var$lower","previousSibling","firstChild","$7df23dd0506b3a96$export$2e2bcd8739ae039","$gRPRE","$23d69b5b919f7e65$export$2e2bcd8739ae039","create","$c479d3be15c8f73b$var$creatorInherit","uri","createElement","createElementNS","$c479d3be15c8f73b$var$creatorFixed","$c479d3be15c8f73b$export$2e2bcd8739ae039","$0585627b9b710f8e$var$constantNull","$0585627b9b710f8e$export$2e2bcd8739ae039","before","$f42531d42e5f1d3c$var$remove","removeChild","$f42531d42e5f1d3c$export$2e2bcd8739ae039","$d5d8a47f59de46a9$var$selection_cloneShallow","cloneNode","$d5d8a47f59de46a9$var$selection_cloneDeep","$d5d8a47f59de46a9$export$2e2bcd8739ae039","deep","$e15832a2a6af59e6$export$2e2bcd8739ae039","$c3ed22e91a5405ba$var$onRemove","typename","__on","o","type","removeEventListener","listener","options","$c3ed22e91a5405ba$var$onAdd","event","$c3ed22e91a5405ba$var$contextListener","addEventListener","$c3ed22e91a5405ba$export$2e2bcd8739ae039","t","typenames","$c3ed22e91a5405ba$var$parseTypenames","$460e151c83344cc2$var$dispatchEvent","params","window","CustomEvent","createEvent","initEvent","bubbles","cancelable","detail","dispatchEvent","$460e151c83344cc2$var$dispatchConstant","$460e151c83344cc2$var$dispatchFunction","$460e151c83344cc2$export$2e2bcd8739ae039","$86ca285d1c128e91$export$2e2bcd8739ae039","$4pHdU","$8143bd25d7028a00$export$892596cec99bc70e","$8143bd25d7028a00$export$4adafc6ed0600c10","$8143bd25d7028a00$export$9eace2cc0d12c98d","$8143bd25d7028a00$var$reI","$8143bd25d7028a00$var$reN","$8143bd25d7028a00$var$reP","$8143bd25d7028a00$var$reHex","$8143bd25d7028a00$var$reRgbInteger","RegExp","$8143bd25d7028a00$var$reRgbPercent","$8143bd25d7028a00$var$reRgbaInteger","$8143bd25d7028a00$var$reRgbaPercent","$8143bd25d7028a00$var$reHslPercent","$8143bd25d7028a00$var$reHslaPercent","$8143bd25d7028a00$var$named","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","$8143bd25d7028a00$var$color_formatHex","rgb","formatHex","$8143bd25d7028a00$var$color_formatRgb","formatRgb","$8143bd25d7028a00$export$2e2bcd8739ae039","format","l","toLowerCase","exec","parseInt","$8143bd25d7028a00$var$rgbn","$8143bd25d7028a00$export$5e05a94393ac29e3","$8143bd25d7028a00$var$rgba","$8143bd25d7028a00$var$hsla","r","g","$8143bd25d7028a00$export$8972dc0e6ad9238f","opacity","$8143bd25d7028a00$var$rgb_formatHex","$8143bd25d7028a00$var$hex","$8143bd25d7028a00$var$rgb_formatRgb","$8143bd25d7028a00$var$clampa","$8143bd25d7028a00$var$clampi","isNaN","max","round","toString","h","s","$8143bd25d7028a00$var$Hsl","$8143bd25d7028a00$export$8133dc3fa904d6d1","$8143bd25d7028a00$var$clamph","$8143bd25d7028a00$var$clampt","$8143bd25d7028a00$var$hsl2rgb","m2","copy","channels","Object","assign","displayable","hex","formatHex8","formatHsl","extend","brighter","k","pow","darker","clamp","$336b067ac3772ee0$export$2e2bcd8739ae039","factory","$336b067ac3772ee0$export$8b58be045bf06082","definition","$b64uw","$9ae4d4d4dff710e6$export$2e2bcd8739ae039","rgbGamma","y","color","$a35nW","gamma","start","end","$9ae4d4d4dff710e6$var$rgbSpline","spline","colors","$b3d79","$bUiw4","$80ba25c7a8d765f9$export$4e41033bfeec1a4c","t1","v0","v1","v2","v3","t2","t3","$80ba25c7a8d765f9$export$2e2bcd8739ae039","values","floor","$8ab3499884aa1c2a$export$2e2bcd8739ae039","basis","$eYuTS","$750e5c8dfca74dd7$var$linear","d","$750e5c8dfca74dd7$export$a7ebe8cc6aaf8d37","$750e5c8dfca74dd7$export$2e2bcd8739ae039","$750e5c8dfca74dd7$var$exponential","$ae6ea36750952983$export$2e2bcd8739ae039","$9dc207b6926978c8$export$2e2bcd8739ae039","$dxJZk","$cdebe425e625540e$var$reA","$cdebe425e625540e$var$reB","source","$cdebe425e625540e$export$2e2bcd8739ae039","am","bm","bs","bi","lastIndex","q","index","$cdebe425e625540e$var$one","$cdebe425e625540e$var$zero","$3PWDX","$2410d3a04c306db4$var$arcInnerRadius","innerRadius","$2410d3a04c306db4$var$arcOuterRadius","outerRadius","$2410d3a04c306db4$var$arcStartAngle","startAngle","$2410d3a04c306db4$var$arcEndAngle","endAngle","$2410d3a04c306db4$var$arcPadAngle","padAngle","$2410d3a04c306db4$var$cornerTangents","x0","y0","x1","y1","r1","rc","cw","x01","y01","lo","$cbveU","sqrt","ox","oy","x11","y11","x10","y10","x00","y00","dx","dy","d2","D","cx0","cy0","cx1","cy1","dx0","dy0","dx1","dy1","cx","cy","$2410d3a04c306db4$export$2e2bcd8739ae039","cornerRadius","padRadius","path","$jaPjS","withPath","arc","buffer","r0","a0","halfPi","a1","da","abs","epsilon","tau","moveTo","cos","sin","t0","a01","a11","a00","a10","da0","da1","ap","rp","rc0","rc1","p0","asin","p1","oc","pi","x2","y2","x3","y3","x32","y32","$2410d3a04c306db4$var$intersect","ax","ay","bx","by","kc","acos","lc","atan2","lineTo","closePath","centroid","_","$2cb39fe50df1444d$export$2e2bcd8739ae039","$8deebe9ed0a5eab0$export$2335f513bbd82c6d","$8deebe9ed0a5eab0$export$b8b770ee6a0d9760","$8deebe9ed0a5eab0$export$50d414a77b60d802","$8deebe9ed0a5eab0$export$8960430cfd85939f","$8deebe9ed0a5eab0$export$96ec731ed4dcb222","$8deebe9ed0a5eab0$export$5de3937cb4b592ed","$8deebe9ed0a5eab0$export$eba8049fb5020b81","$8deebe9ed0a5eab0$export$6c421550c66a327d","$8deebe9ed0a5eab0$export$18c7bea995a110f","PI","$8deebe9ed0a5eab0$export$e51408a300e8929a","$8deebe9ed0a5eab0$export$a4b4b4d4d776fe92","$8deebe9ed0a5eab0$export$fd6306be3fde5b04","$8deebe9ed0a5eab0$export$41726bdb1fc63f","$l1XJt","$df56c27a86232c13$export$fb6e83118a5dcd45","shape","digits","RangeError","Path","$f4f80697fbc61a1b$var$pi","$f4f80697fbc61a1b$var$tau","$f4f80697fbc61a1b$var$epsilon","$f4f80697fbc61a1b$var$tauEpsilon","$f4f80697fbc61a1b$var$append","strings","$f4f80697fbc61a1b$export$4b2950bdac9b6ee9","_x0","_y0","_x1","_y1","_append","Error","$f4f80697fbc61a1b$var$appendRound","quadraticCurveTo","bezierCurveTo","arcTo","x21","y21","l01_2","x20","y20","l21_2","l20_2","l21","l01","t01","t21","ccw","rect","w","$jwO5r","$04a8c6023ff1c037$export$2e2bcd8739ae039","queue","tasks","interpolator","generator","draw","dequeue","enqueue","chart","dataContainer","duration","current","transitionId","currentTask","input","id","sections","dataBinding","transition","section","fill","updateData","$d4oT3","timer","elapsed","stop","ease","$6ucM5","polyInOut","exponent","attrTween","catch","console","log","then","custom","e","polyIn","polyOut","$4b8f742b9bd39b4d$export$ae94c6a40058b429","$983ef41e0479cc7a$var$taskHead","$983ef41e0479cc7a$var$taskTail","$983ef41e0479cc7a$var$frame","$983ef41e0479cc7a$var$timeout","$983ef41e0479cc7a$var$interval","$983ef41e0479cc7a$var$pokeDelay","$983ef41e0479cc7a$var$clockLast","$983ef41e0479cc7a$var$clockNow","$983ef41e0479cc7a$var$clockSkew","$983ef41e0479cc7a$var$clock","performance","now","Date","$983ef41e0479cc7a$var$setFrame","requestAnimationFrame","f","setTimeout","$983ef41e0479cc7a$export$461939dd4422153","$983ef41e0479cc7a$var$clearNow","$983ef41e0479cc7a$export$c57e9b2d8b9e4de","_call","_time","$983ef41e0479cc7a$export$9dc4ecf953986f04","delay","time","restart","$983ef41e0479cc7a$var$wake","undefined","$983ef41e0479cc7a$export$d60154c1d7f3990e","Infinity","$983ef41e0479cc7a$var$sleep","$983ef41e0479cc7a$var$nap","$983ef41e0479cc7a$var$poke","clearTimeout","clearInterval","setInterval","TypeError","interrupt","$ajqIq","$aIkCI","$7v3aY","$782066e0e9505c50$export$2e2bcd8739ae039","$gxLBw","$575de456bf0df66d$export$2e2bcd8739ae039","schedule","active","schedules","__transition","state","STARTING","ENDING","ENDED","$8b8MA","$c0b4a79b62fca422$var$emptyOn","$c0b4a79b62fca422$var$emptyTween","$c0b4a79b62fca422$export$ff39ebd4bb12b718","$c0b4a79b62fca422$export$584530fe98d14a84","$c0b4a79b62fca422$export$a5d151aee16efd42","$c0b4a79b62fca422$export$fb935ab5849a0db9","$c0b4a79b62fca422$export$1573e22b087389af","$c0b4a79b62fca422$export$a2e792214ded83b2","$c0b4a79b62fca422$export$9d38167254403955","$c0b4a79b62fca422$export$2e2bcd8739ae039","timing","self","tween","$lXai2","tick","$c0b4a79b62fca422$var$create","$c0b4a79b62fca422$export$2cd8252107eb640b","$c0b4a79b62fca422$export$3988ae62b71be9a3","$c0b4a79b62fca422$export$adaa4cf7ef1b65be","$5f4629e300d5fac4$var$noop","$5f4629e300d5fac4$var$dispatch","test","$5f4629e300d5fac4$var$Dispatch","$5f4629e300d5fac4$var$get","c","$5f4629e300d5fac4$var$set","concat","types","T","that","args","$5f4629e300d5fac4$export$2e2bcd8739ae039","$ffb7170649480410$export$2e2bcd8739ae039","Timer","$42UUG","$7cce02d6ea2b27a2$var$defaultTiming","$7u0Lb","cubicInOut","$7cce02d6ea2b27a2$var$inherit","$7cce02d6ea2b27a2$export$2e2bcd8739ae039","Transition","_id","_name","newId","$2f237f17f5466ba3$var$id","$2f237f17f5466ba3$export$be58926105124dd4","$2f237f17f5466ba3$export$9ffd10a3fbdc175b","$2f237f17f5466ba3$var$selection_prototype","$iyT1N","$3RGsG","$9GYf8","$2VsRN","$l5Vis","$5Hy9F","$ioKxO","$hnmjV","$81e80","$f6k80","styleTween","$8LAnk","$gObik","textTween","$ge7o9","$bbU6l","$3V9iO","$p4wcP","$fNZdP","$8vPfK","easeVarying","$lrC3m","$jRrmR","$4NKxa","$ca65e5ff95ab8b0a$var$attrRemove","$ca65e5ff95ab8b0a$var$attrRemoveNS","$ca65e5ff95ab8b0a$var$attrConstant","interpolate","value1","string00","interpolate0","string1","string0","$ca65e5ff95ab8b0a$var$attrConstantNS","$ca65e5ff95ab8b0a$var$attrFunction","string10","$ca65e5ff95ab8b0a$var$attrFunctionNS","$ca65e5ff95ab8b0a$export$2e2bcd8739ae039","interpolateTransformSvg","$bJ8qk","tweenValue","$37efd5ad401420fc$var$interpolateTransform","parse","pxComma","pxParen","degParen","pop","xa","ya","xb","yb","translate","translateX","translateY","rotate","skewX","scale","scaleX","scaleY","$37efd5ad401420fc$export$56bec7123bb3589a","$jmDw4","parseCss","$37efd5ad401420fc$export$da8cba906d64c082","parseSvg","$e18eb985eda93eca$var$svgNode","$8yiMe","$e18eb985eda93eca$export$59ad369bf4938177","DOMMatrix","WebKitCSSMatrix","isIdentity","identity","$e18eb985eda93eca$export$f9ef43f9a1d89a18","transform","baseVal","consolidate","matrix","$63a010663014103a$var$degrees","$63a010663014103a$export$f0954fd7d5368655","$63a010663014103a$export$2e2bcd8739ae039","atan","$2dade938c3f813c7$var$tweenRemove","tween0","tween1","$2dade938c3f813c7$var$tweenFunction","$2dade938c3f813c7$export$2e2bcd8739ae039","$2dade938c3f813c7$export$f78ce6ab10405d82","$889a6e6c99d6e1ef$export$2e2bcd8739ae039","$diuMl","$hG78e","$5d69604a35d1cd29$var$attrTweenNS","$5d69604a35d1cd29$var$attrInterpolateNS","_value","$5d69604a35d1cd29$var$attrTween","$5d69604a35d1cd29$var$attrInterpolate","$5d69604a35d1cd29$export$2e2bcd8739ae039","$04b5d72f20af5b0e$var$delayFunction","init","$04b5d72f20af5b0e$var$delayConstant","$04b5d72f20af5b0e$export$2e2bcd8739ae039","$b81aec0a593c5544$var$durationFunction","$b81aec0a593c5544$var$durationConstant","$b81aec0a593c5544$export$2e2bcd8739ae039","$6328f9c36361bdf2$export$2e2bcd8739ae039","$6328f9c36361bdf2$var$easeConstant","$f9c9a3274b49456a$export$2e2bcd8739ae039","$f9c9a3274b49456a$var$easeVarying","$70e6c44ed77d18b4$export$2e2bcd8739ae039","$22174bf64f95bdbc$export$2e2bcd8739ae039","$d64e92a3f95d10b8$export$2e2bcd8739ae039","on0","on1","sit","every","$d64e92a3f95d10b8$var$start","$d64e92a3f95d10b8$var$onFunction","$825c3d5ac15989d0$export$2e2bcd8739ae039","$d836165f87686f8d$export$2e2bcd8739ae039","$2d0742592f2f5323$export$2e2bcd8739ae039","inherit","$f5b6828672acb2f2$var$Selection","$f5b6828672acb2f2$export$2e2bcd8739ae039","$afe7078deddf822d$var$styleRemove","$afe7078deddf822d$export$2e2bcd8739ae039","interpolateTransformCss","styleValue","$afe7078deddf822d$var$styleNull","$afe7078deddf822d$var$styleFunction","listener0","$afe7078deddf822d$var$styleMaybeRemove","$afe7078deddf822d$var$styleConstant","$661eede365a9ea17$export$2e2bcd8739ae039","$661eede365a9ea17$var$styleInterpolate","$661eede365a9ea17$var$styleTween","$c3ca13bfcdf0e879$export$2e2bcd8739ae039","$c3ca13bfcdf0e879$var$textFunction","$c3ca13bfcdf0e879$var$textConstant","$bd03af56a0ad7007$export$2e2bcd8739ae039","$bd03af56a0ad7007$var$textInterpolate","$bd03af56a0ad7007$var$textTween","$426b766053bf0421$export$2e2bcd8739ae039","id0","id1","$e7583233edf0d7ca$export$2e2bcd8739ae039","Promise","resolve","reject","cancel","$572becafec869eb9$export$89238d3bc79d3ada","module","exports","u","code","p","require1","module1","predicate","ac","item","freeze","object","target","MIME_TYPE","HTML","isHTML","XML_APPLICATION","XML_TEXT","XML_XHTML_APPLICATION","XML_SVG_IMAGE","NAMESPACE","SVG","XML","XMLNS","conventions","dom","entities","sax","DOMImplementation","ParseError","XMLReader","normalizeLineEndings","replace","DOMParser","locator","buildErrorHandler","errorImpl","domBuilder","DOMHandler","errorHandler","isCallback","Function","build","fn","msg","_locator","cdata","position","lineNumber","columnNumber","systemId","_toString","chars","substr","java","lang","String","appendElement","hander","currentElement","doc","parseFromString","mimeType","defaultNSMap","entityMap","HTML_ENTITIES","XML_ENTITIES","setDocumentLocator","normalize","error","startDocument","createDocument","documentURI","startElement","localName","qName","attrs","el","len","getURI","getValue","getQName","createAttributeNS","getLocator","nodeValue","setAttributeNode","endElement","tagName","startPrefixMapping","endPrefixMapping","processingInstruction","ins","createProcessingInstruction","ignorableWhitespace","ch","characters","charNode","createCDATASection","createTextNode","skippedEntity","endDocument","comment","comm","createComment","startCDATA","endCDATA","startDTD","publicId","impl","implementation","createDocumentType","dt","doctype","warning","warn","fatalError","__DOMHandler","notEmptyString","splitOnASCIIWhitespace","orderedSetReducer","element","toOrderedSet","keys","reduce","arrayIncludes","src","dest","_extends","Class","Super","pt","NodeType","ELEMENT_NODE","ATTRIBUTE_NODE","TEXT_NODE","CDATA_SECTION_NODE","ENTITY_REFERENCE_NODE","ENTITY_NODE","PROCESSING_INSTRUCTION_NODE","COMMENT_NODE","DOCUMENT_NODE","DOCUMENT_TYPE_NODE","DOCUMENT_FRAGMENT_NODE","NOTATION_NODE","ExceptionCode","ExceptionMessage","HIERARCHY_REQUEST_ERR","INDEX_SIZE_ERR","DOMSTRING_SIZE_ERR","NOT_FOUND_ERR","WRONG_DOCUMENT_ERR","INVALID_CHARACTER_ERR","NO_DATA_ALLOWED_ERR","NO_MODIFICATION_ALLOWED_ERR","INUSE_ATTRIBUTE_ERR","NOT_SUPPORTED_ERR","DOMException","message","captureStackTrace","NodeList","LiveNodeList","refresh","_refresh","_updateLiveList","inc","_inc","ls","__set__","NamedNodeMap","_findNodeIndex","_addNamedNode","newAttr","oldAttr","ownerElement","_onRemoveAttribute","_onAddAttribute","_removeNamedNode","Node","_xmlEncoder","charCodeAt","_visitNode","Document","_nsMap","_onUpdateChild","newChild","cs","childNodes","_removeChild","lastChild","hasValidParentNodeType","nodeType","hasInsertableNodeType","isElementNode","isTextNode","isDocTypeNode","isElementInsertionPossible","parentChildNodes","docTypeNode","isElementReplacementPossible","hasElementChildThatIsNotChild","assertPreInsertionValidity1to5","assertPreInsertionValidityInDocument","nodeChildNodes","nodeChildElements","parentElementChild","assertPreReplacementValidityInDocument","hasDoctypeChildThatIsNotChild","_insertBefore","_inDocumentAssertion","cp","newFirst","newLast","pre","_appendSingleChild","Element","Attr","CharacterData","Text","Comment","CDATASection","DocumentType","Notation","Entity","EntityReference","DocumentFragment","ProcessingInstruction","XMLSerializer","nodeSerializeToString","isHtml","nodeFilter","buf","refNode","lookupPrefix","visibleNamespaces","namespace","serializeToString","needNamespaceDefine","ns","addSerializedAttribute","qualifiedName","attributes","nodeName","prefixedNodeName","defaultNS","ai","nsi","pubid","sysid","sub","internalSubset","importNode","node2","attrs2","_ownerElement","INVALID_STATE_ERR","SYNTAX_ERR","INVALID_MODIFICATION_ERR","NAMESPACE_ERR","INVALID_ACCESS_ERR","getNamedItem","setNamedItem","setNamedItemNS","getNamedItemNS","removeNamedItem","removeNamedItemNS","hasFeature","feature","version","refChild","replaceChild","oldChild","hasChildNodes","appendData","isSupported","hasAttributes","lookupNamespaceURI","isDefaultNamespace","importedNode","getElementById","rtv","getElementsByClassName","classNames","classNamesSet","base","nodeClassNames","nodeClassNamesSet","createDocumentFragment","createAttribute","specified","createEntityReference","pl","hasAttribute","getAttributeNode","removeAttributeNode","setAttributeNodeNS","old","getAttributeNodeNS","hasAttributeNS","getElementsByTagName","getElementsByTagNameNS","substringData","offset","count","substring","insertData","replaceData","deleteData","splitText","newText","newNode","defineProperty","getTextContent","$$length","DOMhelper","DOMHelper","forEach","selectors","first","amp","apos","gt","lt","quot","Agrave","Aacute","Acirc","Atilde","Auml","Aring","AElig","Ccedil","Egrave","Eacute","Ecirc","Euml","Igrave","Iacute","Icirc","Iuml","ETH","Ntilde","Ograve","Oacute","Ocirc","Otilde","Ouml","Oslash","Ugrave","Uacute","Ucirc","Uuml","Yacute","THORN","szlig","agrave","aacute","acirc","atilde","auml","aring","aelig","ccedil","egrave","eacute","ecirc","euml","igrave","iacute","icirc","iuml","eth","ntilde","ograve","oacute","ocirc","otilde","ouml","oslash","ugrave","uacute","ucirc","uuml","yacute","thorn","yuml","nbsp","iexcl","cent","pound","curren","yen","brvbar","sect","uml","ordf","laquo","not","shy","reg","macr","deg","plusmn","sup2","sup3","acute","micro","para","middot","cedil","sup1","ordm","raquo","frac14","frac12","frac34","iquest","times","divide","forall","part","exist","nabla","isin","notin","ni","prod","sum","minus","lowast","radic","prop","infin","ang","and","or","cap","cup","int","there4","sim","cong","asymp","ne","equiv","le","ge","sup","nsub","sube","supe","oplus","otimes","perp","sdot","Alpha","Beta","Gamma","Delta","Epsilon","Zeta","Eta","Theta","Iota","Kappa","Lambda","Mu","Nu","Xi","Omicron","Pi","Rho","Sigma","Tau","Upsilon","Phi","Chi","Psi","Omega","alpha","beta","delta","zeta","eta","theta","iota","kappa","lambda","mu","nu","xi","omicron","rho","sigmaf","sigma","upsilon","phi","chi","psi","omega","thetasym","upsih","piv","OElig","oelig","Scaron","scaron","Yuml","fnof","circ","tilde","ensp","emsp","thinsp","zwnj","zwj","lrm","rlm","ndash","mdash","lsquo","rsquo","sbquo","ldquo","rdquo","bdquo","dagger","Dagger","bull","hellip","permil","prime","Prime","lsaquo","rsaquo","oline","euro","trade","larr","uarr","rarr","darr","harr","crarr","lceil","rceil","lfloor","rfloor","loz","spades","clubs","hearts","diams","global1","helper","isSingleMatch","isSingleSelect","lastSlice","lastContext","lastPosition","lastMatcher","lastSelector","lastPartsMatch","lastPartsSelect","standardValidator","extendedValidator","reValidator","attrcheck","attrmatcher","pseudoclass","reOptimizeSelector","reSimpleNot","reSplitToken","Optimize","identifier","QUIRKS_MODE","XML_DOCUMENT","prefixes","operators","whitespace","combinators","pseudoparms","skip_groups","any_esc_chr","alphalodash","non_asc_chr","escaped_chr","unicode_chr","quotedvalue","reSplitGroup","reTrimSpaces","reEscapedChars","extensions","Patterns","spseudos","dpseudos","epseudos","adjacent","relative","ancestor","universal","Tokens","GEBTN","GEBCN","IE_LT_9","LINK_NODES","A","area","AREA","link","LINK","ATTR_BOOLEAN","checked","disabled","ismap","multiple","readonly","selected","ATTR_DEFAULT","ATTR_URIDATA","action","cite","codebase","href","longdesc","lowsrc","usemap","HTML_TABLE","accept","align","alink","axis","bgcolor","charset","clear","codetype","compact","declare","defer","dir","direction","enctype","face","frame","hreflang","language","media","method","nohref","noresize","noshade","nowrap","rel","rev","rules","scope","scrolling","valign","valuetype","vlink","NATIVE_TRAVERSAL_API","Selectors","Operators","concatCall","elements","switchContext","force","oldDoc","compatMode","width","Config","CACHING","Dom","setCache","codePointToUTF16","codePoint","lowHex","stringFromCodePoint","fromCharCode","fromCodePoint","convertEscapes","str","p2","unescapeIdentifier","byIdRaw","_byId","getElementsByName","byId","byTagRaw","tag","any","toUpperCase","container","attribute","obj","configure","option","matchContexts","matchResolvers","selectContexts","selectResolvers","setIdentifierSyntax","SIMPLENOT","emit","VERBOSITY","LOGERRORS","ESCAPECHR","NON_ASCII","SELECTOR3","UNICODE16","SHORTCUTS","SVG_LCASE","UNIQUE_ID","USE_HTML5","initialize","syntax","ID","TAG","CLASS","className","ACCEPT_NODE","REJECT_NODE","TO_UPPER_CASE","compile","mode","parts","compileSelector","token","seen","expr","result","status","Expression","Callback","shortcuts","Snapshot","changed","original","loadResults","saveResults","charAt","FN","isLink","isEmpty","nthOfType","last","succ","nthElement","registerOperator","symbol","resolver","registerSelector","rexp","func","$parcel$global","nameStartChar","nameChar","tagNamePattern","S_TAG","S_ATTR","S_ATTR_SPACE","S_EQ","S_ATTR_NOQUOT_VALUE","S_ATTR_END","S_TAG_SPACE","S_TAG_CLOSE","defaultNSMapCopy","fixedFromCharCode","surrogate1","surrogate2","entityReplacer","appendText","xt","lineEnd","linePattern","lineStart","parseStack","currentNSMap","closeMap","tagStart","config","localNSMap","endMatch","parseInstruction","parseDCC","ElementAttributes","parseElementStartPart","closed","fixSelfClosed","locator2","copyLocator","parseHtmlSpecialContent","addAttribute","qname","startIndex","attributeNames","addValue","attrName","setTagName","nsp","nsPrefix","_copy","elStartEnd","elEndStart","pos","lastIndexOf","matchs","lastMatch","endDTD","getLocalName"],"version":3,"file":"backgroundWorker.c6075f5b.js.map"}