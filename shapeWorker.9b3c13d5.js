(()=>{function t(t){return t&&t.__esModule?t.default:t}var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},r={},n={},o=e.parcelRequiredb4e;null==o&&((o=function(t){if(t in r)return r[t].exports;if(t in n){var e=n[t];delete n[t];var o={id:t,exports:{}};return r[t]=o,e.call(o.exports,o,o.exports),o.exports}var i=new Error("Cannot find module '"+t+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(t,e){n[t]=e},e.parcelRequiredb4e=o),importScripts("./backgroundWorker.a007370e.js"),o.register("8k095",(function(t,e){"use strict";var r=Object.prototype.toString;t.exports=function(t){var e=r.call(t),n="[object Arguments]"===e;return n||(n="[object Array]"!==e&&null!==t&&"object"==typeof t&&"number"==typeof t.length&&t.length>=0&&"[object Function]"===r.call(t.callee)),n}})),o.register("4x06h",(function(t,e){"use strict";var r;if(!Object.keys){var n=Object.prototype.hasOwnProperty,i=Object.prototype.toString,a=o("8k095"),u=Object.prototype.propertyIsEnumerable,s=!u.call({toString:null},"toString"),c=u.call((function(){}),"prototype"),f=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],l=function(t){var e=t.constructor;return e&&e.prototype===t},p={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},h=function(){if("undefined"==typeof window)return!1;for(var t in window)try{if(!p["$"+t]&&n.call(window,t)&&null!==window[t]&&"object"==typeof window[t])try{l(window[t])}catch(t){return!0}}catch(t){return!0}return!1}();r=function(t){var e=null!==t&&"object"==typeof t,r="[object Function]"===i.call(t),o=a(t),u=e&&"[object String]"===i.call(t),p=[];if(!e&&!r&&!o)throw new TypeError("Object.keys called on a non-object");var y=c&&r;if(u&&t.length>0&&!n.call(t,0))for(var g=0;g<t.length;++g)p.push(String(g));if(o&&t.length>0)for(var m=0;m<t.length;++m)p.push(String(m));else for(var d in t)y&&"prototype"===d||!n.call(t,d)||p.push(String(d));if(s)for(var b=function(t){if("undefined"==typeof window||!h)return l(t);try{return l(t)}catch(t){return!1}}(t),v=0;v<f.length;++v)b&&"constructor"===f[v]||!n.call(t,f[v])||p.push(f[v]);return p}}t.exports=r})),o.register("l8kQ5",(function(t,e){"use strict";var r=o("kTdIe")("%Object.defineProperty%",!0),n=function(){if(r)try{return r({},"a",{value:1}),!0}catch(t){return!1}return!1};n.hasArrayLengthDefineBug=function(){if(!n())return null;try{return 1!==r([],"length",{value:1}).length}catch(t){return!0}},t.exports=n})),o.register("kTdIe",(function(t,e){"use strict";var r,n=SyntaxError,i=Function,a=TypeError,u=function(t){try{return i('"use strict"; return ('+t+").constructor;")()}catch(t){}},s=Object.getOwnPropertyDescriptor;if(s)try{s({},"")}catch(t){s=null}var c=function(){throw new a},f=s?function(){try{return c}catch(t){try{return s(arguments,"callee").get}catch(t){return c}}}():c,l=o("5If4B")(),p=Object.getPrototypeOf||function(t){return t.__proto__},h={},y="undefined"==typeof Uint8Array?r:p(Uint8Array),g={"%AggregateError%":"undefined"==typeof AggregateError?r:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?r:ArrayBuffer,"%ArrayIteratorPrototype%":l?p([][Symbol.iterator]()):r,"%AsyncFromSyncIteratorPrototype%":r,"%AsyncFunction%":h,"%AsyncGenerator%":h,"%AsyncGeneratorFunction%":h,"%AsyncIteratorPrototype%":h,"%Atomics%":"undefined"==typeof Atomics?r:Atomics,"%BigInt%":"undefined"==typeof BigInt?r:BigInt,"%BigInt64Array%":"undefined"==typeof BigInt64Array?r:BigInt64Array,"%BigUint64Array%":"undefined"==typeof BigUint64Array?r:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?r:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?r:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?r:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?r:FinalizationRegistry,"%Function%":i,"%GeneratorFunction%":h,"%Int8Array%":"undefined"==typeof Int8Array?r:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?r:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?r:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":l?p(p([][Symbol.iterator]())):r,"%JSON%":"object"==typeof JSON?JSON:r,"%Map%":"undefined"==typeof Map?r:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&l?p((new Map)[Symbol.iterator]()):r,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?r:Promise,"%Proxy%":"undefined"==typeof Proxy?r:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?r:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?r:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&l?p((new Set)[Symbol.iterator]()):r,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?r:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":l?p(""[Symbol.iterator]()):r,"%Symbol%":l?Symbol:r,"%SyntaxError%":n,"%ThrowTypeError%":f,"%TypedArray%":y,"%TypeError%":a,"%Uint8Array%":"undefined"==typeof Uint8Array?r:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?r:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?r:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?r:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?r:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?r:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?r:WeakSet};try{null.error}catch(t){var m=p(p(t));g["%Error.prototype%"]=m}var d=function t(e){var r;if("%AsyncFunction%"===e)r=u("async function () {}");else if("%GeneratorFunction%"===e)r=u("function* () {}");else if("%AsyncGeneratorFunction%"===e)r=u("async function* () {}");else if("%AsyncGenerator%"===e){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if("%AsyncIteratorPrototype%"===e){var o=t("%AsyncGenerator%");o&&(r=p(o.prototype))}return g[e]=r,r},b={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},v=o("960Ty"),x=o("5JAbb"),A=v.call(Function.call,Array.prototype.concat),w=v.call(Function.apply,Array.prototype.splice),S=v.call(Function.call,String.prototype.replace),F=v.call(Function.call,String.prototype.slice),E=v.call(Function.call,RegExp.prototype.exec),T=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,P=/\\(\\)?/g,M=function(t){var e=F(t,0,1),r=F(t,-1);if("%"===e&&"%"!==r)throw new n("invalid intrinsic syntax, expected closing `%`");if("%"===r&&"%"!==e)throw new n("invalid intrinsic syntax, expected opening `%`");var o=[];return S(t,T,(function(t,e,r,n){o[o.length]=r?S(n,P,"$1"):e||t})),o},O=function(t,e){var r,o=t;if(x(b,o)&&(o="%"+(r=b[o])[0]+"%"),x(g,o)){var i=g[o];if(i===h&&(i=d(o)),void 0===i&&!e)throw new a("intrinsic "+t+" exists, but is not available. Please file an issue!");return{alias:r,name:o,value:i}}throw new n("intrinsic "+t+" does not exist!")};t.exports=function(t,e){if("string"!=typeof t||0===t.length)throw new a("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof e)throw new a('"allowMissing" argument must be a boolean');if(null===E(/^%?[^%]*%?$/,t))throw new n("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var r=M(t),o=r.length>0?r[0]:"",i=O("%"+o+"%",e),u=i.name,c=i.value,f=!1,l=i.alias;l&&(o=l[0],w(r,A([0,1],l)));for(var p=1,h=!0;p<r.length;p+=1){var y=r[p],m=F(y,0,1),d=F(y,-1);if(('"'===m||"'"===m||"`"===m||'"'===d||"'"===d||"`"===d)&&m!==d)throw new n("property names with quotes must have matching quotes");if("constructor"!==y&&h||(f=!0),x(g,u="%"+(o+="."+y)+"%"))c=g[u];else if(null!=c){if(!(y in c)){if(!e)throw new a("base intrinsic for "+t+" exists, but the property is not available.");return}if(s&&p+1>=r.length){var b=s(c,y);c=(h=!!b)&&"get"in b&&!("originalValue"in b.get)?b.get:c[y]}else h=x(c,y),c=c[y];h&&!f&&(g[u]=c)}}return c}})),o.register("5If4B",(function(t,e){"use strict";var r="undefined"!=typeof Symbol&&Symbol,n=o("jDJsV");t.exports=function(){return"function"==typeof r&&("function"==typeof Symbol&&("symbol"==typeof r("foo")&&("symbol"==typeof Symbol("bar")&&n())))}})),o.register("jDJsV",(function(t,e){"use strict";t.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var t={},e=Symbol("test"),r=Object(e);if("string"==typeof e)return!1;if("[object Symbol]"!==Object.prototype.toString.call(e))return!1;if("[object Symbol]"!==Object.prototype.toString.call(r))return!1;for(e in t[e]=42,t)return!1;if("function"==typeof Object.keys&&0!==Object.keys(t).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(t).length)return!1;var n=Object.getOwnPropertySymbols(t);if(1!==n.length||n[0]!==e)return!1;if(!Object.prototype.propertyIsEnumerable.call(t,e))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var o=Object.getOwnPropertyDescriptor(t,e);if(42!==o.value||!0!==o.enumerable)return!1}return!0}})),o.register("960Ty",(function(t,e){"use strict";var r=o("5o52Z");t.exports=Function.prototype.bind||r})),o.register("5o52Z",(function(t,e){"use strict";var r="Function.prototype.bind called on incompatible ",n=Array.prototype.slice,o=Object.prototype.toString,i="[object Function]";t.exports=function(t){var e=this;if("function"!=typeof e||o.call(e)!==i)throw new TypeError(r+e);for(var a,u=n.call(arguments,1),s=Math.max(0,e.length-u.length),c=[],f=0;f<s;f++)c.push("$"+f);if(a=Function("binder","return function ("+c.join(",")+"){ return binder.apply(this,arguments); }")((function(){if(this instanceof a){var r=e.apply(this,u.concat(n.call(arguments)));return Object(r)===r?r:this}return e.apply(t,u.concat(n.call(arguments)))})),e.prototype){var l=function(){};l.prototype=e.prototype,a.prototype=new l,l.prototype=null}return a}})),o.register("5JAbb",(function(t,e){"use strict";var r=o("960Ty");t.exports=r.call(Function.call,Object.prototype.hasOwnProperty)})),o.register("amQm3",(function(t,e){"use strict";var r=o("kTdIe"),n=o("k9nBK"),i=n(r("String.prototype.indexOf"));t.exports=function(t,e){var o=r(t,!!e);return"function"==typeof o&&i(t,".prototype.")>-1?n(o):o}})),o.register("k9nBK",(function(t,e){"use strict";var r=o("960Ty"),n=o("kTdIe"),i=n("%Function.prototype.apply%"),a=n("%Function.prototype.call%"),u=n("%Reflect.apply%",!0)||r.call(a,i),s=n("%Object.getOwnPropertyDescriptor%",!0),c=n("%Object.defineProperty%",!0),f=n("%Math.max%");if(c)try{c({},"a",{value:1})}catch(t){c=null}t.exports=function(t){var e=u(r,a,arguments);s&&c&&(s(e,"length").configurable&&c(e,"length",{value:1+f(0,t.length-(arguments.length-1))}));return e};var l=function(){return u(r,i,arguments)};c?c(t.exports,"apply",{value:l}):t.exports.apply=l})),o.register("d5LLc",(function(t,e){"use strict";var r=function(){return"string"==typeof function(){}.name},n=Object.getOwnPropertyDescriptor;if(n)try{n([],"length")}catch(t){n=null}r.functionsHaveConfigurableNames=function(){if(!r()||!n)return!1;var t=n((function(){}),"name");return!!t&&!!t.configurable};var o=Function.prototype.bind;r.boundFunctionsHaveNames=function(){return r()&&"function"==typeof o&&""!==function(){}.bind().name},t.exports=r})),o.register("iAiC6",(function(t,e){"use strict";var r=o("jDJsV");t.exports=function(){return r()&&!!Symbol.toStringTag}})),o.register("4m3EJ",(function(t,e){"use strict";var r=o("kTdIe"),n=o("amQm3"),i=o("iuc89"),a=r("%TypeError%"),u=r("%WeakMap%",!0),s=r("%Map%",!0),c=n("WeakMap.prototype.get",!0),f=n("WeakMap.prototype.set",!0),l=n("WeakMap.prototype.has",!0),p=n("Map.prototype.get",!0),h=n("Map.prototype.set",!0),y=n("Map.prototype.has",!0),g=function(t,e){for(var r,n=t;null!==(r=n.next);n=r)if(r.key===e)return n.next=r.next,r.next=t.next,t.next=r,r};t.exports=function(){var t,e,r,n={assert:function(t){if(!n.has(t))throw new a("Side channel does not contain "+i(t))},get:function(n){if(u&&n&&("object"==typeof n||"function"==typeof n)){if(t)return c(t,n)}else if(s){if(e)return p(e,n)}else if(r)return function(t,e){var r=g(t,e);return r&&r.value}(r,n)},has:function(n){if(u&&n&&("object"==typeof n||"function"==typeof n)){if(t)return l(t,n)}else if(s){if(e)return y(e,n)}else if(r)return function(t,e){return!!g(t,e)}(r,n);return!1},set:function(n,o){u&&n&&("object"==typeof n||"function"==typeof n)?(t||(t=new u),f(t,n,o)):s?(e||(e=new s),h(e,n,o)):(r||(r={key:{},next:null}),function(t,e,r){var n=g(t,e);n?n.value=r:t.next={key:e,next:t.next,value:r}}(r,n,o))}};return n}})),o.register("iuc89",(function(t,e){var r="function"==typeof Map&&Map.prototype,n=Object.getOwnPropertyDescriptor&&r?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,i=r&&n&&"function"==typeof n.get?n.get:null,a=r&&Map.prototype.forEach,u="function"==typeof Set&&Set.prototype,s=Object.getOwnPropertyDescriptor&&u?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,c=u&&s&&"function"==typeof s.get?s.get:null,f=u&&Set.prototype.forEach,l="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,p="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,h="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,y=Boolean.prototype.valueOf,g=Object.prototype.toString,m=Function.prototype.toString,d=String.prototype.match,b=String.prototype.slice,v=String.prototype.replace,x=String.prototype.toUpperCase,A=String.prototype.toLowerCase,w=RegExp.prototype.test,S=Array.prototype.concat,F=Array.prototype.join,E=Array.prototype.slice,T=Math.floor,P="function"==typeof BigInt?BigInt.prototype.valueOf:null,M=Object.getOwnPropertySymbols,O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol.prototype.toString:null,_="function"==typeof Symbol&&"object"==typeof Symbol.iterator,j="function"==typeof Symbol&&Symbol.toStringTag&&(typeof Symbol.toStringTag===_||"symbol")?Symbol.toStringTag:null,I=Object.prototype.propertyIsEnumerable,k=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null);function R(t,e){if(t===1/0||t===-1/0||t!=t||t&&t>-1e3&&t<1e3||w.call(/e/,e))return e;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"==typeof t){var n=t<0?-T(-t):T(t);if(n!==t){var o=String(n),i=b.call(e,o.length+1);return v.call(o,r,"$&_")+"."+v.call(v.call(i,/([0-9]{3})/g,"$&_"),/_$/,"")}}return v.call(e,r,"$&_")}var B=o("fW3lo"),C=B.custom,L=q(C)?C:null;function D(t,e,r){var n="double"===(r.quoteStyle||e)?'"':"'";return n+t+n}function U(t){return v.call(String(t),/"/g,"&quot;")}function z(t){return!("[object Array]"!==V(t)||j&&"object"==typeof t&&j in t)}function N(t){return!("[object RegExp]"!==V(t)||j&&"object"==typeof t&&j in t)}function q(t){if(_)return t&&"object"==typeof t&&t instanceof Symbol;if("symbol"==typeof t)return!0;if(!t||"object"!=typeof t||!O)return!1;try{return O.call(t),!0}catch(t){}return!1}t.exports=function t(e,r,n,o){var u=r||{};if($(u,"quoteStyle")&&"single"!==u.quoteStyle&&"double"!==u.quoteStyle)throw new TypeError('option "quoteStyle" must be "single" or "double"');if($(u,"maxStringLength")&&("number"==typeof u.maxStringLength?u.maxStringLength<0&&u.maxStringLength!==1/0:null!==u.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var s=!$(u,"customInspect")||u.customInspect;if("boolean"!=typeof s&&"symbol"!==s)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if($(u,"indent")&&null!==u.indent&&"\t"!==u.indent&&!(parseInt(u.indent,10)===u.indent&&u.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if($(u,"numericSeparator")&&"boolean"!=typeof u.numericSeparator)throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var g=u.numericSeparator;if(void 0===e)return"undefined";if(null===e)return"null";if("boolean"==typeof e)return e?"true":"false";if("string"==typeof e)return H(e,u);if("number"==typeof e){if(0===e)return 1/0/e>0?"0":"-0";var x=String(e);return g?R(e,x):x}if("bigint"==typeof e){var w=String(e)+"n";return g?R(e,w):w}var T=void 0===u.depth?5:u.depth;if(void 0===n&&(n=0),n>=T&&T>0&&"object"==typeof e)return z(e)?"[Array]":"[Object]";var M,C=function(t,e){var r;if("\t"===t.indent)r="\t";else{if(!("number"==typeof t.indent&&t.indent>0))return null;r=F.call(Array(t.indent+1)," ")}return{base:r,prev:F.call(Array(e+1),r)}}(u,n);if(void 0===o)o=[];else if(G(o,e)>=0)return"[Circular]";function W(e,r,i){if(r&&(o=E.call(o)).push(r),i){var a={depth:u.depth};return $(u,"quoteStyle")&&(a.quoteStyle=u.quoteStyle),t(e,a,n+1,o)}return t(e,u,n+1,o)}if("function"==typeof e&&!N(e)){var Y=function(t){if(t.name)return t.name;var e=d.call(m.call(t),/^function\s*([\w$]+)/);return e?e[1]:null}(e),tt=K(e,W);return"[Function"+(Y?": "+Y:" (anonymous)")+"]"+(tt.length>0?" { "+F.call(tt,", ")+" }":"")}if(q(e)){var et=_?v.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):O.call(e);return"object"!=typeof e||_?et:Z(et)}if((M=e)&&"object"==typeof M&&("undefined"!=typeof HTMLElement&&M instanceof HTMLElement||"string"==typeof M.nodeName&&"function"==typeof M.getAttribute)){for(var rt="<"+A.call(String(e.nodeName)),nt=e.attributes||[],ot=0;ot<nt.length;ot++)rt+=" "+nt[ot].name+"="+D(U(nt[ot].value),"double",u);return rt+=">",e.childNodes&&e.childNodes.length&&(rt+="..."),rt+="</"+A.call(String(e.nodeName))+">"}if(z(e)){if(0===e.length)return"[]";var it=K(e,W);return C&&!function(t){for(var e=0;e<t.length;e++)if(G(t[e],"\n")>=0)return!1;return!0}(it)?"["+J(it,C)+"]":"[ "+F.call(it,", ")+" ]"}if(function(t){return!("[object Error]"!==V(t)||j&&"object"==typeof t&&j in t)}(e)){var at=K(e,W);return"cause"in Error.prototype||!("cause"in e)||I.call(e,"cause")?0===at.length?"["+String(e)+"]":"{ ["+String(e)+"] "+F.call(at,", ")+" }":"{ ["+String(e)+"] "+F.call(S.call("[cause]: "+W(e.cause),at),", ")+" }"}if("object"==typeof e&&s){if(L&&"function"==typeof e[L]&&B)return B(e,{depth:T-n});if("symbol"!==s&&"function"==typeof e.inspect)return e.inspect()}if(function(t){if(!i||!t||"object"!=typeof t)return!1;try{i.call(t);try{c.call(t)}catch(t){return!0}return t instanceof Map}catch(t){}return!1}(e)){var ut=[];return a&&a.call(e,(function(t,r){ut.push(W(r,e,!0)+" => "+W(t,e))})),Q("Map",i.call(e),ut,C)}if(function(t){if(!c||!t||"object"!=typeof t)return!1;try{c.call(t);try{i.call(t)}catch(t){return!0}return t instanceof Set}catch(t){}return!1}(e)){var st=[];return f&&f.call(e,(function(t){st.push(W(t,e))})),Q("Set",c.call(e),st,C)}if(function(t){if(!l||!t||"object"!=typeof t)return!1;try{l.call(t,l);try{p.call(t,p)}catch(t){return!0}return t instanceof WeakMap}catch(t){}return!1}(e))return X("WeakMap");if(function(t){if(!p||!t||"object"!=typeof t)return!1;try{p.call(t,p);try{l.call(t,l)}catch(t){return!0}return t instanceof WeakSet}catch(t){}return!1}(e))return X("WeakSet");if(function(t){if(!h||!t||"object"!=typeof t)return!1;try{return h.call(t),!0}catch(t){}return!1}(e))return X("WeakRef");if(function(t){return!("[object Number]"!==V(t)||j&&"object"==typeof t&&j in t)}(e))return Z(W(Number(e)));if(function(t){if(!t||"object"!=typeof t||!P)return!1;try{return P.call(t),!0}catch(t){}return!1}(e))return Z(W(P.call(e)));if(function(t){return!("[object Boolean]"!==V(t)||j&&"object"==typeof t&&j in t)}(e))return Z(y.call(e));if(function(t){return!("[object String]"!==V(t)||j&&"object"==typeof t&&j in t)}(e))return Z(W(String(e)));if(!function(t){return!("[object Date]"!==V(t)||j&&"object"==typeof t&&j in t)}(e)&&!N(e)){var ct=K(e,W),ft=k?k(e)===Object.prototype:e instanceof Object||e.constructor===Object,lt=e instanceof Object?"":"null prototype",pt=!ft&&j&&Object(e)===e&&j in e?b.call(V(e),8,-1):lt?"Object":"",ht=(ft||"function"!=typeof e.constructor?"":e.constructor.name?e.constructor.name+" ":"")+(pt||lt?"["+F.call(S.call([],pt||[],lt||[]),": ")+"] ":"");return 0===ct.length?ht+"{}":C?ht+"{"+J(ct,C)+"}":ht+"{ "+F.call(ct,", ")+" }"}return String(e)};var W=Object.prototype.hasOwnProperty||function(t){return t in this};function $(t,e){return W.call(t,e)}function V(t){return g.call(t)}function G(t,e){if(t.indexOf)return t.indexOf(e);for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}function H(t,e){if(t.length>e.maxStringLength){var r=t.length-e.maxStringLength,n="... "+r+" more character"+(r>1?"s":"");return H(b.call(t,0,e.maxStringLength),e)+n}return D(v.call(v.call(t,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,Y),"single",e)}function Y(t){var e=t.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return r?"\\"+r:"\\x"+(e<16?"0":"")+x.call(e.toString(16))}function Z(t){return"Object("+t+")"}function X(t){return t+" { ? }"}function Q(t,e,r,n){return t+" ("+e+") {"+(n?J(r,n):F.call(r,", "))+"}"}function J(t,e){if(0===t.length)return"";var r="\n"+e.prev+e.base;return r+F.call(t,","+r)+"\n"+e.prev}function K(t,e){var r=z(t),n=[];if(r){n.length=t.length;for(var o=0;o<t.length;o++)n[o]=$(t,o)?e(t[o],t):""}var i,a="function"==typeof M?M(t):[];if(_){i={};for(var u=0;u<a.length;u++)i["$"+a[u]]=a[u]}for(var s in t)$(t,s)&&(r&&String(Number(s))===s&&s<t.length||_&&i["$"+s]instanceof Symbol||(w.call(/[^\w$]/,s)?n.push(e(s,t)+": "+e(t[s],t)):n.push(s+": "+e(t[s],t))));if("function"==typeof M)for(var c=0;c<a.length;c++)I.call(t,a[c])&&n.push("["+e(a[c])+"]: "+e(t[a[c]],t));return n}})),o.register("fW3lo",(function(t,e){})),o.register("krMNj",(function(t,e){var r={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==r.call(t)}})),o.register("7BgMa",(function(t,e){"use strict";var r=String.prototype.valueOf,n=Object.prototype.toString,i=o("iAiC6")();t.exports=function(t){return"string"==typeof t||"object"==typeof t&&(i?function(t){try{return r.call(t),!0}catch(t){return!1}}(t):"[object String]"===n.call(t))}})),o.register("3XkRp",(function(t,e){"use strict";var r,n="function"==typeof Map&&Map.prototype?Map:null,o="function"==typeof Set&&Set.prototype?Set:null;n||(r=function(t){return!1});var i=n?Map.prototype.has:null,a=o?Set.prototype.has:null;r||i||(r=function(t){return!1}),t.exports=r||function(t){if(!t||"object"!=typeof t)return!1;try{if(i.call(t),a)try{a.call(t)}catch(t){return!0}return t instanceof n}catch(t){}return!1}})),o.register("fP2mY",(function(t,e){"use strict";var r,n="function"==typeof Map&&Map.prototype?Map:null,o="function"==typeof Set&&Set.prototype?Set:null;o||(r=function(t){return!1});var i=n?Map.prototype.has:null,a=o?Set.prototype.has:null;r||a||(r=function(t){return!1}),t.exports=r||function(t){if(!t||"object"!=typeof t)return!1;try{if(a.call(t),i)try{i.call(t)}catch(t){return!0}return t instanceof o}catch(t){}return!1}})),o.register("bJr31",(function(t,e){"use strict";var r="undefined"!=typeof BigInt&&BigInt;t.exports=function(){return"function"==typeof r&&"function"==typeof BigInt&&"bigint"==typeof r(42)&&"bigint"==typeof BigInt(42)}}));
/* @license twgl.js 5.3.1 Copyright (c) 2015, Gregg Tavares All Rights Reserved.
Available via the MIT license.
see: http://github.com/greggman/twgl.js for details */
let i=Float32Array;function a(t,e,r){const n=new i(3);return t&&(n[0]=t),e&&(n[1]=e),r&&(n[2]=r),n}function u(t,e,r){return(r=r||new i(3))[0]=t[0]+e[0],r[1]=t[1]+e[1],r[2]=t[2]+e[2],r}function s(t,e,r){return(r=r||new i(3))[0]=t[0]*e[0],r[1]=t[1]*e[1],r[2]=t[2]*e[2],r}let c=Float32Array;function f(t){return(t=t||new c(16))[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function l(t,e){e=e||new c(16);const r=t[0],n=t[1],o=t[2],i=t[3],a=t[4],u=t[5],s=t[6],f=t[7],l=t[8],p=t[9],h=t[10],y=t[11],g=t[12],m=t[13],d=t[14],b=t[15],v=h*b,x=d*y,A=s*b,w=d*f,S=s*y,F=h*f,E=o*b,T=d*i,P=o*y,M=h*i,O=o*f,_=s*i,j=l*m,I=g*p,k=a*m,R=g*u,B=a*p,C=l*u,L=r*m,D=g*n,U=r*p,z=l*n,N=r*u,q=a*n,W=v*u+w*p+S*m-(x*u+A*p+F*m),$=x*n+E*p+M*m-(v*n+T*p+P*m),V=A*n+T*u+O*m-(w*n+E*u+_*m),G=F*n+P*u+_*p-(S*n+M*u+O*p),H=1/(r*W+a*$+l*V+g*G);return e[0]=H*W,e[1]=H*$,e[2]=H*V,e[3]=H*G,e[4]=H*(x*a+A*l+F*g-(v*a+w*l+S*g)),e[5]=H*(v*r+T*l+P*g-(x*r+E*l+M*g)),e[6]=H*(w*r+E*a+_*g-(A*r+T*a+O*g)),e[7]=H*(S*r+M*a+O*l-(F*r+P*a+_*l)),e[8]=H*(j*f+R*y+B*b-(I*f+k*y+C*b)),e[9]=H*(I*i+L*y+z*b-(j*i+D*y+U*b)),e[10]=H*(k*i+D*f+N*b-(R*i+L*f+q*b)),e[11]=H*(C*i+U*f+q*y-(B*i+z*f+N*y)),e[12]=H*(k*h+C*d+I*s-(B*d+j*s+R*h)),e[13]=H*(U*d+j*o+D*h-(L*h+z*d+I*o)),e[14]=H*(L*s+q*d+R*o-(N*d+k*o+D*s)),e[15]=H*(N*h+B*o+z*s-(U*s+q*h+C*o)),e}function p(t,e,r){r=r||a();const n=e[0],o=e[1],i=e[2],u=n*t[3]+o*t[7]+i*t[11]+t[15];return r[0]=(n*t[0]+o*t[4]+i*t[8]+t[12])/u,r[1]=(n*t[1]+o*t[5]+i*t[9]+t[13])/u,r[2]=(n*t[2]+o*t[6]+i*t[10]+t[14])/u,r}function h(t,e,r){r=r||a();const n=e[0],o=e[1],i=e[2];return r[0]=n*t[0]+o*t[4]+i*t[8],r[1]=n*t[1]+o*t[5]+i*t[9],r[2]=n*t[2]+o*t[6]+i*t[10],r}const y=5120,g=5121,m=5122,d=5123,b=5124,v=5125,x=5126,A={};{const t=A;t[y]=Int8Array,t[g]=Uint8Array,t[m]=Int16Array,t[d]=Uint16Array,t[b]=Int32Array,t[v]=Uint32Array,t[x]=Float32Array,t[32819]=Uint16Array,t[32820]=Uint16Array,t[33635]=Uint16Array,t[5131]=Uint16Array,t[33640]=Uint32Array,t[35899]=Uint32Array,t[35902]=Uint32Array,t[36269]=Uint32Array,t[34042]=Uint32Array}function w(t){if(t instanceof Int8Array)return y;if(t instanceof Uint8Array)return g;if(t instanceof Uint8ClampedArray)return g;if(t instanceof Int16Array)return m;if(t instanceof Uint16Array)return d;if(t instanceof Int32Array)return b;if(t instanceof Uint32Array)return v;if(t instanceof Float32Array)return x;throw new Error("unsupported typed array type")}function S(t){if(t===Int8Array)return y;if(t===Uint8Array)return g;if(t===Uint8ClampedArray)return g;if(t===Int16Array)return m;if(t===Uint16Array)return d;if(t===Int32Array)return b;if(t===Uint32Array)return v;if(t===Float32Array)return x;throw new Error("unsupported typed array type")}function F(t){const e=A[t];if(!e)throw new Error("unknown gl type");return e}const E="undefined"!=typeof SharedArrayBuffer?function(t){return t&&t.buffer&&(t.buffer instanceof ArrayBuffer||t.buffer instanceof SharedArrayBuffer)}:function(t){return t&&t.buffer&&t.buffer instanceof ArrayBuffer};function T(...t){console.error(...t)}const P=new Map;function M(t,e){if(!t||"object"!=typeof t)return!1;let r=P.get(e);r||(r=new WeakMap,P.set(e,r));let n=r.get(t);if(void 0===n){const o=Object.prototype.toString.call(t);n=o.substring(8,o.length-1)===e,r.set(t,n)}return n}function O(t,e){return"undefined"!=typeof WebGLRenderbuffer&&M(e,"WebGLRenderbuffer")}function _(t,e){return"undefined"!=typeof WebGLTexture&&M(e,"WebGLTexture")}const j=35044,I=34962,k=34963,R=34660,B=5120,C=5121,L=5122,D=5123,U=5124,z=5125,N=5126,q={attribPrefix:""};function W(t,e,r,n,o){t.bindBuffer(e,r),t.bufferData(e,n,o||j)}function $(t,e,r,n){if(o=e,"undefined"!=typeof WebGLBuffer&&M(o,"WebGLBuffer"))return e;var o;r=r||I;const i=t.createBuffer();return W(t,r,i,e,n),i}function V(t){return"indices"===t}function G(t){return t.length?t:t.data}const H=/coord|texture/i,Y=/color|colour/i;function Z(t,e,r){return t.numComponents||t.size||function(t,e){let r;if(r=H.test(t)?2:Y.test(t)?4:3,e%r>0)throw new Error(`Can not guess numComponents for attribute '${t}'. Tried ${r} but ${e} values is not evenly divisible by ${r}. You should specify it.`);return r}(e,r||G(t).length)}function X(t,e){if(E(t))return t;if(E(t.data))return t.data;Array.isArray(t)&&(t={data:t});let r=t.type?Q(t.type):void 0;return r||(r=V(e)?Uint16Array:Float32Array),new r(t.data)}function Q(t){return"number"==typeof t?F(t):t||Float32Array}function J(t,e){return{buffer:e.buffer,numValues:24,type:(r=e.type,"number"==typeof r?r:r?S(r):N),arrayType:Q(e.type)};var r}function K(t,e){const r=e.data||e,n=Q(e.type),o=r*n.BYTES_PER_ELEMENT,i=t.createBuffer();return t.bindBuffer(I,i),t.bufferData(I,o,e.drawType||j),{buffer:i,numValues:r,type:S(n),arrayType:n}}function tt(t,e,r){const n=X(e,r);return{arrayType:n.constructor,buffer:$(t,n,void 0,e.drawType),type:w(n),numValues:0}}function et(t,e){const r={};return Object.keys(e).forEach((function(n){if(!V(n)){const i=e[n],a=i.attrib||i.name||i.attribName||q.attribPrefix+n;if(i.value){if(!Array.isArray(i.value)&&!E(i.value))throw new Error("array.value is not array or typedarray");r[a]={value:i.value}}else{let e;e=i.buffer&&i.buffer instanceof WebGLBuffer?J:"number"==typeof i||"number"==typeof i.data?K:tt;const{buffer:u,type:s,numValues:c,arrayType:f}=e(t,i,n),l=void 0!==i.normalize?i.normalize:(o=f)===Int8Array||o===Uint8Array,p=Z(i,n,c);r[a]={buffer:u,numComponents:p,type:s,normalize:l,stride:i.stride||0,offset:i.offset||0,divisor:void 0===i.divisor?void 0:i.divisor,drawType:i.drawType}}}var o})),t.bindBuffer(I,null),r}const rt=["position","positions","a_position"];function nt(t,e){let r,n;for(n=0;n<rt.length&&(r=rt[n],!(r in e))&&(r=q.attribPrefix+r,!(r in e));++n);n===rt.length&&(r=Object.keys(e)[0]);const o=e[r];if(!o.buffer)return 1;t.bindBuffer(I,o.buffer);const i=t.getBufferParameter(I,R);t.bindBuffer(I,null);var a;const u=i/((a=o.type)===B||a===C?1:a===L||a===D?2:a===U||a===z||a===N?4:0),s=o.numComponents||o.size,c=u/s;if(c%1!=0)throw new Error(`numComponents ${s} not correct for length ${length}`);return c}function ot(t,e,r){const n=et(t,e),o=Object.assign({},r||{});o.attribs=Object.assign({},r?r.attribs:{},n);const i=e.indices;if(i){const e=X(i,"indices");o.indices=$(t,e,k),o.numElements=e.length,o.elementType=w(e)}else o.numElements||(o.numElements=nt(t,o.attribs));return o}function it(t,e,r){const n="indices"===r?k:I;return $(t,X(e,r),n)}function at(t,e){const r={};return Object.keys(e).forEach((function(n){r[n]=it(t,e[n],n)})),e.indices?(r.numElements=e.indices.length,r.elementType=w(X(e.indices))):r.numElements=function(t){let e,r;for(r=0;r<rt.length&&(e=rt[r],!(e in t));++r);r===rt.length&&(e=Object.keys(t)[0]);const n=t[e],o=G(n).length;if(void 0===o)return 1;const i=Z(n,e),a=o/i;if(o%i>0)throw new Error(`numComponents ${i} not correct for length ${o}`);return a}(e),r}function ut(t,e){let r=0;return t.push=function(){for(let e=0;e<arguments.length;++e){const n=arguments[e];if(n instanceof Array||E(n))for(let e=0;e<n.length;++e)t[r++]=n[e];else t[r++]=n}},t.reset=function(t){r=t||0},t.numComponents=e,Object.defineProperty(t,"numElements",{get:function(){return this.length/this.numComponents|0}}),t}function st(t,e,r){return ut(new(r||Float32Array)(t*e),t)}function ct(t,e,r){const n=t.length,o=new Float32Array(3);for(let i=0;i<n;i+=3)r(e,[t[i],t[i+1],t[i+2]],o),t[i]=o[0],t[i+1]=o[1],t[i+2]=o[2]}function ft(t,e,r){r=r||a();const n=e[0],o=e[1],i=e[2];return r[0]=n*t[0]+o*t[1]+i*t[2],r[1]=n*t[4]+o*t[5]+i*t[6],r[2]=n*t[8]+o*t[9]+i*t[10],r}function lt(t,e){return ct(t,e,h),t}function pt(t,e){return ct(t,l(e),ft),t}function ht(t,e){return ct(t,e,p),t}function yt(t,e){return Object.keys(t).forEach((function(r){const n=t[r];r.indexOf("pos")>=0?ht(n,e):r.indexOf("tan")>=0||r.indexOf("binorm")>=0?lt(n,e):r.indexOf("norm")>=0&&pt(n,e)})),t}function gt(t,e,r){return t=t||2,{position:{numComponents:2,data:[(e=e||0)+-1*(t*=.5),(r=r||0)+-1*t,e+1*t,r+-1*t,e+-1*t,r+1*t,e+1*t,r+1*t]},normal:[0,0,1,0,0,1,0,0,1,0,0,1],texcoord:[0,0,1,0,0,1,1,1],indices:[0,1,2,2,1,3]}}function mt(t,e,r,n,o){t=t||1,e=e||1,r=r||1,n=n||1,o=o||f();const i=(r+1)*(n+1),a=st(3,i),u=st(3,i),s=st(2,i);for(let o=0;o<=n;o++)for(let i=0;i<=r;i++){const c=i/r,f=o/n;a.push(t*c-.5*t,0,e*f-.5*e),u.push(0,1,0),s.push(c,f)}const c=r+1,l=st(3,r*n*2,Uint16Array);for(let t=0;t<n;t++)for(let e=0;e<r;e++)l.push((t+0)*c+e,(t+1)*c+e,(t+0)*c+e+1),l.push((t+1)*c+e,(t+1)*c+e+1,(t+0)*c+e+1);return yt({position:a,normal:u,texcoord:s,indices:l},o)}function dt(t,e,r,n,o,i,a){if(e<=0||r<=0)throw new Error("subdivisionAxis and subdivisionHeight must be > 0");n=n||0,i=i||0;const u=(o=o||Math.PI)-n,s=(a=a||2*Math.PI)-i,c=(e+1)*(r+1),f=st(3,c),l=st(3,c),p=st(2,c);for(let o=0;o<=r;o++)for(let a=0;a<=e;a++){const c=a/e,h=o/r,y=s*c+i,g=u*h+n,m=Math.sin(y),d=Math.cos(y),b=Math.sin(g),v=d*b,x=Math.cos(g),A=m*b;f.push(t*v,t*x,t*A),l.push(v,x,A),p.push(1-c,h)}const h=e+1,y=st(3,e*r*2,Uint16Array);for(let t=0;t<e;t++)for(let e=0;e<r;e++)y.push((e+0)*h+t,(e+0)*h+t+1,(e+1)*h+t),y.push((e+1)*h+t,(e+0)*h+t+1,(e+1)*h+t+1);return{position:f,normal:l,texcoord:p,indices:y}}const bt=[[3,7,5,1],[6,2,0,4],[6,7,3,2],[0,1,5,4],[7,6,4,5],[2,3,1,0]];function vt(t){const e=(t=t||1)/2,r=[[-e,-e,-e],[+e,-e,-e],[-e,+e,-e],[+e,+e,-e],[-e,-e,+e],[+e,-e,+e],[-e,+e,+e],[+e,+e,+e]],n=[[1,0,0],[-1,0,0],[0,1,0],[0,-1,0],[0,0,1],[0,0,-1]],o=[[1,0],[0,0],[0,1],[1,1]],i=st(3,24),a=st(3,24),u=st(2,24),s=st(3,12,Uint16Array);for(let t=0;t<6;++t){const e=bt[t];for(let s=0;s<4;++s){const c=r[e[s]],f=n[t],l=o[s];i.push(c),a.push(f),u.push(l)}const c=4*t;s.push(c+0,c+1,c+2),s.push(c+0,c+2,c+3)}return{position:i,normal:a,texcoord:u,indices:s}}function xt(t,e,r,n,o,i,a){if(n<3)throw new Error("radialSubdivisions must be 3 or greater");if(o<1)throw new Error("verticalSubdivisions must be 1 or greater");const u=void 0===i||i,s=void 0===a||a,c=(u?2:0)+(s?2:0),f=(n+1)*(o+1+c),l=st(3,f),p=st(3,f),h=st(2,f),y=st(3,n*(o+c/2)*2,Uint16Array),g=n+1,m=Math.atan2(t-e,r),d=Math.cos(m),b=Math.sin(m),v=o+(s?2:0);for(let i=u?-2:0;i<=v;++i){let a,u=i/o,s=r*u;i<0?(s=0,u=1,a=t):i>o?(s=r,u=1,a=e):a=t+i/o*(e-t),-2!==i&&i!==o+2||(a=0,u=0),s-=r/2;for(let t=0;t<g;++t){const e=Math.sin(t*Math.PI*2/n),r=Math.cos(t*Math.PI*2/n);l.push(e*a,s,r*a),i<0?p.push(0,-1,0):i>o?p.push(0,1,0):0===a?p.push(0,0,0):p.push(e*d,b,r*d),h.push(t/n,1-u)}}for(let t=0;t<o+c;++t)if(!(1===t&&u||t===o+c-2&&s))for(let e=0;e<n;++e)y.push(g*(t+0)+0+e,g*(t+0)+1+e,g*(t+1)+1+e),y.push(g*(t+0)+0+e,g*(t+1)+1+e,g*(t+1)+0+e);return{position:l,normal:p,texcoord:h,indices:y}}function At(t,e){e=e||[];const r=[];for(let n=0;n<t.length;n+=4){const o=t[n],i=t.slice(n+1,n+4);i.push.apply(i,e);for(let t=0;t<o;++t)r.push.apply(r,i)}return r}function wt(){const t=[0,0,0,0,150,0,30,0,0,0,150,0,30,150,0,30,0,0,30,0,0,30,30,0,100,0,0,30,30,0,100,30,0,100,0,0,30,60,0,30,90,0,67,60,0,30,90,0,67,90,0,67,60,0,0,0,30,30,0,30,0,150,30,0,150,30,30,0,30,30,150,30,30,0,30,100,0,30,30,30,30,30,30,30,100,0,30,100,30,30,30,60,30,67,60,30,30,90,30,30,90,30,67,60,30,67,90,30,0,0,0,100,0,0,100,0,30,0,0,0,100,0,30,0,0,30,100,0,0,100,30,0,100,30,30,100,0,0,100,30,30,100,0,30,30,30,0,30,30,30,100,30,30,30,30,0,100,30,30,100,30,0,30,30,0,30,60,30,30,30,30,30,30,0,30,60,0,30,60,30,30,60,0,67,60,30,30,60,30,30,60,0,67,60,0,67,60,30,67,60,0,67,90,30,67,60,30,67,60,0,67,90,0,67,90,30,30,90,0,30,90,30,67,90,30,30,90,0,67,90,30,67,90,0,30,90,0,30,150,30,30,90,30,30,90,0,30,150,0,30,150,30,0,150,0,0,150,30,30,150,30,0,150,0,30,150,30,30,150,0,0,0,0,0,0,30,0,150,30,0,0,0,0,150,30,0,150,0],e=At([18,0,0,1,18,0,0,-1,6,0,1,0,6,1,0,0,6,0,-1,0,6,1,0,0,6,0,1,0,6,1,0,0,6,0,-1,0,6,1,0,0,6,0,-1,0,6,-1,0,0]),r=At([18,200,70,120,18,80,70,200,6,70,200,210,6,200,200,70,6,210,100,70,6,210,160,70,6,70,180,210,6,100,70,210,6,76,210,100,6,140,210,80,6,90,130,110,6,160,160,220],[255]),n=t.length/3,o={position:st(3,n),texcoord:st(2,n),normal:st(3,n),color:st(4,n,Uint8Array),indices:st(3,n/3,Uint16Array)};o.position.push(t),o.texcoord.push([.22,.19,.22,.79,.34,.19,.22,.79,.34,.79,.34,.19,.34,.19,.34,.31,.62,.19,.34,.31,.62,.31,.62,.19,.34,.43,.34,.55,.49,.43,.34,.55,.49,.55,.49,.43,0,0,1,0,0,1,0,1,1,0,1,1,0,0,1,0,0,1,0,1,1,0,1,1,0,0,1,0,0,1,0,1,1,0,1,1,0,0,1,0,1,1,0,0,1,1,0,1,0,0,1,0,1,1,0,0,1,1,0,1,0,0,0,1,1,1,0,0,1,1,1,0,0,0,1,1,0,1,0,0,1,0,1,1,0,0,1,1,0,1,0,0,1,0,1,1,0,0,1,1,0,1,0,0,1,0,1,1,0,0,0,1,1,1,0,0,1,1,1,0,0,0,1,1,0,1,0,0,1,0,1,1,0,0,0,1,1,1,0,0,1,1,1,0,0,0,0,1,1,1,0,0,1,1,1,0]),o.normal.push(e),o.color.push(r);for(let t=0;t<n;++t)o.indices.push(t);return o}function St(t,e,r,n,o,i,a){if(o<=0)throw new Error("subdivisionDown must be > 0");const c=2,f=(a=a||1)-(i=i||0),l=2*(o+1)*(2+c),p=st(3,l),h=st(3,l),y=st(2,l);function g(t,e,r){return t+(e-t)*r}function m(e,r,a,l,m,d){for(let b=0;b<=o;b++){const v=r/(c-1),x=b/o,A=2*(v-.5),w=(i+x*f)*Math.PI,S=Math.sin(w),F=Math.cos(w),E=g(t,e,S),T=A*n,P=F*t,M=S*E;p.push(T,P,M);const O=u(s([0,S,F],a),l);h.push(O),y.push(v*m+d,x)}}for(let t=0;t<c;t++){const n=2*(t/(c-1)-.5);m(e,t,[1,1,1],[0,0,0],1,0),m(e,t,[0,0,0],[n,0,0],0,0),m(r,t,[1,1,1],[0,0,0],1,0),m(r,t,[0,0,0],[n,0,0],0,1)}const d=st(3,2*o*(2+c),Uint16Array);function b(t,e){for(let r=0;r<o;++r)d.push(t+r+0,t+r+1,e+r+0),d.push(t+r+1,e+r+1,e+r+0)}const v=o+1;return b(0*v,4*v),b(5*v,7*v),b(6*v,2*v),b(3*v,1*v),{position:p,normal:h,texcoord:y,indices:d}}function Ft(t,e,r,n,o,i){return xt(t,t,e,r,n,o,i)}function Et(t,e,r,n,o,i){if(r<3)throw new Error("radialSubdivisions must be 3 or greater");if(n<3)throw new Error("verticalSubdivisions must be 3 or greater");o=o||0;const a=(i=i||2*Math.PI)-o,u=r+1,s=n+1,c=u*s,f=st(3,c),l=st(3,c),p=st(2,c),h=st(3,r*n*2,Uint16Array);for(let i=0;i<s;++i){const s=i/n,c=s*Math.PI*2,h=Math.sin(c),y=t+h*e,g=Math.cos(c),m=g*e;for(let t=0;t<u;++t){const e=t/r,n=o+e*a,i=Math.sin(n),u=Math.cos(n),c=i*y,d=u*y,b=i*h,v=u*h;f.push(c,m,d),l.push(b,g,v),p.push(e,1-s)}}for(let t=0;t<n;++t)for(let e=0;e<r;++e){const r=1+e,n=1+t;h.push(u*t+e,u*n+e,u*t+r),h.push(u*n+e,u*n+r,u*t+r)}return{position:f,normal:l,texcoord:p,indices:h}}function Tt(t,e,r,n,o){if(e<3)throw new Error("divisions must be at least 3");o=o||1,n=n||0;const i=(e+1)*((r=r||1)+1),a=st(3,i),u=st(3,i),s=st(2,i),c=st(3,r*e*2,Uint16Array);let f=0;const l=t-n,p=e+1;for(let t=0;t<=r;++t){const i=n+l*Math.pow(t/r,o);for(let n=0;n<=e;++n){const o=2*Math.PI*n/e,l=i*Math.cos(o),h=i*Math.sin(o);if(a.push(l,0,h),u.push(0,1,0),s.push(1-n/e,t/r),t>0&&n!==e){const t=f+(n+1),e=f+n,r=f+n-p,o=f+(n+1)-p;c.push(t,e,r),c.push(t,r,o)}}f+=e+1}return{position:a,normal:u,texcoord:s,indices:c}}function Pt(t){return function(e){return at(e,t.apply(this,Array.prototype.slice.call(arguments,1)))}}function Mt(t){return function(e){return ot(e,t.apply(null,Array.prototype.slice.call(arguments,1)))}}Mt(wt),Pt(wt),Mt(vt),Pt(vt),Mt(mt),Pt(mt),Mt(dt),Pt(dt),Mt(xt),Pt(xt),Mt(gt),Pt(gt),Mt(St),Pt(St),Mt(Ft),Pt(Ft),Mt(Et),Pt(Et),Mt(Tt),Pt(Tt);function Ot(t){return!!t.texStorage2D}const _t=function(){const t={},e={};return function(r,n){return function(r){const n=r.constructor.name;if(!t[n]){for(const t in r)if("number"==typeof r[t]){const n=e[r[t]];e[r[t]]=n?`${n} | ${t}`:t}t[n]=!0}}(r),e[n]||("number"==typeof n?`0x${n.toString(16)}`:n)}}();const jt={textureColor:new Uint8Array([128,192,255,255]),textureOptions:{},crossOrigin:void 0},It=E,kt=function(){let t;return function(){return t=t||("undefined"!=typeof document&&document.createElement?document.createElement("canvas").getContext("2d"):null),t}}(),Rt=6406,Bt=6407,Ct=6408,Lt=6409,Dt=6410,Ut=6402,zt=34041,Nt=33071,qt=9728,Wt=9729,$t=3553,Vt=34067,Gt=32879,Ht=35866,Yt=34069,Zt=34070,Xt=34071,Qt=34072,Jt=34073,Kt=34074,te=10241,ee=10240,re=10242,ne=10243,oe=32882,ie=33082,ae=33083,ue=33084,se=33085,ce=3317,fe=3314,le=32878,pe=3316,he=3315,ye=32877,ge=37443,me=37441,de=37440,be=33321,ve=36756,xe=33325,Ae=33326,we=33330,Se=33329,Fe=33338,Ee=33337,Te=33340,Pe=33339,Me=33323,Oe=36757,_e=33327,je=33328,Ie=33336,ke=33335,Re=33332,Be=33331,Ce=33334,Le=33333,De=32849,Ue=35905,ze=36194,Ne=36758,qe=35898,We=35901,$e=34843,Ve=34837,Ge=36221,He=36239,Ye=36215,Ze=36233,Xe=36209,Qe=36227,Je=32856,Ke=35907,tr=36759,er=32855,rr=32854,nr=32857,or=34842,ir=34836,ar=36220,ur=36238,sr=36975,cr=36214,fr=36232,lr=36226,pr=36208,hr=33189,yr=33190,gr=36012,mr=36013,dr=35056,br=5120,vr=5121,xr=5122,Ar=5123,wr=5124,Sr=5125,Fr=5126,Er=32819,Tr=32820,Pr=33635,Mr=5131,Or=36193,_r=33640,jr=35899,Ir=35902,kr=36269,Rr=34042,Br=33319,Cr=33320,Lr=6403,Dr=36244,Ur=36248,zr=36249,Nr={};{const t=Nr;t[Rt]={numColorComponents:1},t[Lt]={numColorComponents:1},t[Dt]={numColorComponents:2},t[Bt]={numColorComponents:3},t[Ct]={numColorComponents:4},t[Lr]={numColorComponents:1},t[Dr]={numColorComponents:1},t[Br]={numColorComponents:2},t[Cr]={numColorComponents:2},t[Bt]={numColorComponents:3},t[Ur]={numColorComponents:3},t[Ct]={numColorComponents:4},t[zr]={numColorComponents:4},t[Ut]={numColorComponents:1},t[zt]={numColorComponents:2}}let qr;function Wr(t){if(!qr){const t={};t[Rt]={textureFormat:Rt,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[1,2,2,4],type:[vr,Mr,Or,Fr]},t[Lt]={textureFormat:Lt,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[1,2,2,4],type:[vr,Mr,Or,Fr]},t[Dt]={textureFormat:Dt,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[2,4,4,8],type:[vr,Mr,Or,Fr]},t[Bt]={textureFormat:Bt,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[3,6,6,12,2],type:[vr,Mr,Or,Fr,Pr]},t[Ct]={textureFormat:Ct,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4,8,8,16,2,2],type:[vr,Mr,Or,Fr,Er,Tr]},t[Ut]={textureFormat:Ut,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2,4],type:[Sr,Ar]},t[be]={textureFormat:Lr,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[1],type:[vr]},t[ve]={textureFormat:Lr,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[1],type:[br]},t[xe]={textureFormat:Lr,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[4,2],type:[Fr,Mr]},t[Ae]={textureFormat:Lr,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[4],type:[Fr]},t[we]={textureFormat:Dr,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[1],type:[vr]},t[Se]={textureFormat:Dr,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[1],type:[br]},t[Re]={textureFormat:Dr,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2],type:[Ar]},t[Be]={textureFormat:Dr,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2],type:[xr]},t[Ce]={textureFormat:Dr,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[Sr]},t[Le]={textureFormat:Dr,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[wr]},t[Me]={textureFormat:Br,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[2],type:[vr]},t[Oe]={textureFormat:Br,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[2],type:[br]},t[_e]={textureFormat:Br,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[8,4],type:[Fr,Mr]},t[je]={textureFormat:Br,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[8],type:[Fr]},t[Ie]={textureFormat:Cr,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2],type:[vr]},t[ke]={textureFormat:Cr,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2],type:[br]},t[Fe]={textureFormat:Cr,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[Ar]},t[Ee]={textureFormat:Cr,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[xr]},t[Te]={textureFormat:Cr,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[8],type:[Sr]},t[Pe]={textureFormat:Cr,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[8],type:[wr]},t[De]={textureFormat:Bt,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[3],type:[vr]},t[Ue]={textureFormat:Bt,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[3],type:[vr]},t[ze]={textureFormat:Bt,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[3,2],type:[vr,Pr]},t[Ne]={textureFormat:Bt,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[3],type:[br]},t[qe]={textureFormat:Bt,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[12,6,4],type:[Fr,Mr,jr]},t[We]={textureFormat:Bt,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[12,6,4],type:[Fr,Mr,Ir]},t[$e]={textureFormat:Bt,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[12,6],type:[Fr,Mr]},t[Ve]={textureFormat:Bt,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[12],type:[Fr]},t[Ge]={textureFormat:Ur,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[3],type:[vr]},t[He]={textureFormat:Ur,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[3],type:[br]},t[Ye]={textureFormat:Ur,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[6],type:[Ar]},t[Ze]={textureFormat:Ur,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[6],type:[xr]},t[Xe]={textureFormat:Ur,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[12],type:[Sr]},t[Qe]={textureFormat:Ur,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[12],type:[wr]},t[Je]={textureFormat:Ct,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4],type:[vr]},t[Ke]={textureFormat:Ct,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4],type:[vr]},t[tr]={textureFormat:Ct,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[4],type:[br]},t[er]={textureFormat:Ct,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4,2,4],type:[vr,Tr,_r]},t[rr]={textureFormat:Ct,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4,2],type:[vr,Er]},t[nr]={textureFormat:Ct,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4],type:[_r]},t[or]={textureFormat:Ct,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[16,8],type:[Fr,Mr]},t[ir]={textureFormat:Ct,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[16],type:[Fr]},t[ar]={textureFormat:zr,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[vr]},t[ur]={textureFormat:zr,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[br]},t[sr]={textureFormat:zr,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[_r]},t[cr]={textureFormat:zr,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[8],type:[Ar]},t[fr]={textureFormat:zr,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[8],type:[xr]},t[lr]={textureFormat:zr,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[16],type:[wr]},t[pr]={textureFormat:zr,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[16],type:[Sr]},t[hr]={textureFormat:Ut,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2,4],type:[Ar,Sr]},t[yr]={textureFormat:Ut,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[Sr]},t[gr]={textureFormat:Ut,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[Fr]},t[dr]={textureFormat:zt,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[Rr]},t[mr]={textureFormat:zt,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[kr]},Object.keys(t).forEach((function(e){const r=t[e];r.bytesPerElementMap={},r.bytesPerElement.forEach((function(t,e){const n=r.type[e];r.bytesPerElementMap[n]=t}))})),qr=t}return qr[t]}function $r(t,e){const r=Wr(t);if(!r)throw"unknown internal format";const n=r.bytesPerElementMap[e];if(void 0===n)throw"unknown internal format";return n}function Vr(t){const e=Wr(t);if(!e)throw"unknown internal format";return{format:e.textureFormat,type:e.type[0]}}function Gr(t){return 0==(t&t-1)}function Hr(t,e,r,n){if(!Ot(t))return Gr(e)&&Gr(r);const o=Wr(n);if(!o)throw"unknown internal format";return o.colorRenderable&&o.textureFilterable}function Yr(t){const e=Wr(t);if(!e)throw"unknown internal format";return e.textureFilterable}function Zr(t,e,r){return It(e)?w(e):r||vr}function Xr(t,e,r,n,o){if(o%1!=0)throw"can't guess dimensions";if(r||n){if(n){if(!r&&(r=o/n)%1)throw"can't guess dimensions"}else if((n=o/r)%1)throw"can't guess dimensions"}else{const t=Math.sqrt(o/(e===Vt?6:1));t%1==0?(r=t,n=t):(r=o,n=1)}return{width:r,height:n}}function Qr(t,e){void 0!==e.colorspaceConversion&&t.pixelStorei(ge,e.colorspaceConversion),void 0!==e.premultiplyAlpha&&t.pixelStorei(me,e.premultiplyAlpha),void 0!==e.flipY&&t.pixelStorei(de,e.flipY)}function Jr(t){t.pixelStorei(ce,4),Ot(t)&&(t.pixelStorei(fe,0),t.pixelStorei(le,0),t.pixelStorei(pe,0),t.pixelStorei(he,0),t.pixelStorei(ye,0))}function Kr(t,e,r,n){var o;n.minMag&&(r.call(t,e,te,n.minMag),r.call(t,e,ee,n.minMag)),n.min&&r.call(t,e,te,n.min),n.mag&&r.call(t,e,ee,n.mag),n.wrap&&(r.call(t,e,re,n.wrap),r.call(t,e,ne,n.wrap),(e===Gt||(o=e,"undefined"!=typeof WebGLSampler&&M(o,"WebGLSampler")))&&r.call(t,e,oe,n.wrap)),n.wrapR&&r.call(t,e,oe,n.wrapR),n.wrapS&&r.call(t,e,re,n.wrapS),n.wrapT&&r.call(t,e,ne,n.wrapT),n.minLod&&r.call(t,e,ie,n.minLod),n.maxLod&&r.call(t,e,ae,n.maxLod),n.baseLevel&&r.call(t,e,ue,n.baseLevel),n.maxLevel&&r.call(t,e,se,n.maxLevel)}function tn(t,e,r){const n=r.target||$t;t.bindTexture(n,e),Kr(t,n,t.texParameteri,r)}function en(t,e,r,n,o,i){r=r||jt.textureOptions,i=i||Ct;const a=r.target||$t;if(n=n||r.width,o=o||r.height,t.bindTexture(a,e),Hr(t,n,o,i))t.generateMipmap(a);else{const e=Yr(i)?Wt:qt;t.texParameteri(a,te,e),t.texParameteri(a,ee,e),t.texParameteri(a,re,Nt),t.texParameteri(a,ne,Nt)}}function rn(t){return!0===t.auto||void 0===t.auto&&void 0===t.level}function nn(t,e){return(e=e||{}).cubeFaceOrder||[Yt,Zt,Xt,Qt,Jt,Kt]}function on(t,e){const r=nn(0,e).map((function(t,e){return{face:t,ndx:e}}));return r.sort((function(t,e){return t.face-e.face})),r}function an(t,e,r,n){const o=(n=n||jt.textureOptions).target||$t,i=n.level||0;let a=r.width,u=r.height;const s=n.internalFormat||n.format||Ct,c=Vr(s),f=n.format||c.format,l=n.type||c.type;if(Qr(t,n),t.bindTexture(o,e),o===Vt){const c=r.width,p=r.height;let h,y;if(c/6===p)h=p,y=[0,0,1,0,2,0,3,0,4,0,5,0];else if(p/6===c)h=c,y=[0,0,0,1,0,2,0,3,0,4,0,5];else if(c/3==p/2)h=c/3,y=[0,0,1,0,2,0,0,1,1,1,2,1];else{if(c/2!=p/3)throw"can't figure out cube map from element: "+(r.src?r.src:r.nodeName);h=c/2,y=[0,0,1,0,0,1,1,1,0,2,1,2]}const g=kt();g?(g.canvas.width=h,g.canvas.height=h,a=h,u=h,on(0,n).forEach((function(e){const n=y[2*e.ndx+0]*h,o=y[2*e.ndx+1]*h;g.drawImage(r,n,o,h,h,0,0,h,h),t.texImage2D(e.face,i,s,f,l,g.canvas)})),g.canvas.width=1,g.canvas.height=1):"undefined"!=typeof createImageBitmap&&(a=h,u=h,on(0,n).forEach((function(c){const p=y[2*c.ndx+0]*h,g=y[2*c.ndx+1]*h;t.texImage2D(c.face,i,s,h,h,0,f,l,null),createImageBitmap(r,p,g,h,h,{premultiplyAlpha:"none",colorSpaceConversion:"none"}).then((function(r){Qr(t,n),t.bindTexture(o,e),t.texImage2D(c.face,i,s,f,l,r),rn(n)&&en(t,e,n,a,u,s)}))})))}else if(o===Gt||o===Ht){const e=Math.min(r.width,r.height),n=Math.max(r.width,r.height),a=n/e;if(a%1!=0)throw"can not compute 3D dimensions of element";const u=r.width===n?1:0,c=r.height===n?1:0;t.pixelStorei(ce,1),t.pixelStorei(fe,r.width),t.pixelStorei(le,0),t.pixelStorei(ye,0),t.texImage3D(o,i,s,e,e,e,0,f,l,null);for(let n=0;n<a;++n){const a=n*e*u,s=n*e*c;t.pixelStorei(pe,a),t.pixelStorei(he,s),t.texSubImage3D(o,i,0,0,n,e,e,1,f,l,r)}Jr(t)}else t.texImage2D(o,i,s,f,l,r);rn(n)&&en(t,e,n,a,u,s),tn(t,e,n)}function un(){}function sn(t,e){return void 0!==e||function(t){if("undefined"!=typeof document){const e=document.createElement("a");return e.href=t,e.hostname===location.hostname&&e.port===location.port&&e.protocol===location.protocol}{const e=new URL(location.href).origin;return new URL(t,location.href).origin===e}}(t)?e:"anonymous"}function cn(t){return"undefined"!=typeof ImageBitmap&&t instanceof ImageBitmap||"undefined"!=typeof ImageData&&t instanceof ImageData||"undefined"!=typeof HTMLElement&&t instanceof HTMLElement}function fn(t,e,r){return cn(t)?(setTimeout((function(){r(null,t)})),t):function(t,e,r){let n;if(r=r||un,e=void 0!==e?e:jt.crossOrigin,e=sn(t,e),"undefined"!=typeof Image){n=new Image,void 0!==e&&(n.crossOrigin=e);const o=function(){n.removeEventListener("error",i),n.removeEventListener("load",a),n=null},i=function(){const e="couldn't load image: "+t;T(e),r(e,n),o()},a=function(){r(null,n),o()};return n.addEventListener("error",i),n.addEventListener("load",a),n.src=t,n}if("undefined"!=typeof ImageBitmap){let o,i;const a=function(){r(o,i)},u={};e&&(u.mode="cors"),fetch(t,u).then((function(t){if(!t.ok)throw t;return t.blob()})).then((function(t){return createImageBitmap(t,{premultiplyAlpha:"none",colorSpaceConversion:"none"})})).then((function(t){i=t,setTimeout(a)})).catch((function(t){o=t,setTimeout(a)})),n=null}return n}(t,e,r)}function ln(t,e,r){const n=(r=r||jt.textureOptions).target||$t;if(t.bindTexture(n,e),!1===r.color)return;const o=function(t){return t=t||jt.textureColor,It(t)?t:new Uint8Array([255*t[0],255*t[1],255*t[2],255*t[3]])}(r.color);if(n===Vt)for(let e=0;e<6;++e)t.texImage2D(Yt+e,0,Ct,1,1,0,Ct,vr,o);else n===Gt||n===Ht?t.texImage3D(n,0,Ct,1,1,1,0,Ct,vr,o):t.texImage2D(n,0,Ct,1,1,0,Ct,vr,o)}function pn(t,e,r,n){n=n||un,r=r||jt.textureOptions,ln(t,e,r);return fn((r=Object.assign({},r)).src,r.crossOrigin,(function(o,i){o?n(o,e,i):(an(t,e,i,r),n(null,e,i))}))}function hn(t,e,r,n){n=n||un;const o=r.src;if(6!==o.length)throw"there must be 6 urls for a cubemap";const i=r.level||0,a=r.internalFormat||r.format||Ct,u=Vr(a),s=r.format||u.format,c=r.type||vr,f=r.target||$t;if(f!==Vt)throw"target must be TEXTURE_CUBE_MAP";ln(t,e,r),r=Object.assign({},r);let l=6;const p=[],h=nn(0,r);let y;y=o.map((function(o,u){return fn(o,r.crossOrigin,(g=h[u],function(o,u){--l,o?p.push(o):u.width!==u.height?p.push("cubemap face img is not a square: "+u.src):(Qr(t,r),t.bindTexture(f,e),5===l?nn().forEach((function(e){t.texImage2D(e,i,a,s,c,u)})):t.texImage2D(g,i,a,s,c,u),rn(r)&&t.generateMipmap(f)),0===l&&n(p.length?p:void 0,e,y)}));var g}))}function yn(t,e,r,n){n=n||un;const o=r.src,i=r.internalFormat||r.format||Ct,a=Vr(i),u=r.format||a.format,s=r.type||vr,c=r.target||Ht;if(c!==Gt&&c!==Ht)throw"target must be TEXTURE_3D or TEXTURE_2D_ARRAY";ln(t,e,r),r=Object.assign({},r);let f=o.length;const l=[];let p;const h=r.level||0;let y=r.width,g=r.height;const m=o.length;let d=!0;p=o.map((function(o,a){return fn(o,r.crossOrigin,(b=a,function(o,a){if(--f,o)l.push(o);else{if(Qr(t,r),t.bindTexture(c,e),d){d=!1,y=r.width||a.width,g=r.height||a.height,t.texImage3D(c,h,i,y,g,m,0,u,s,null);for(let e=0;e<m;++e)t.texSubImage3D(c,h,0,0,e,y,g,1,u,s,a)}else{let e,r=a;a.width===y&&a.height===g||(e=kt(),r=e.canvas,e.canvas.width=y,e.canvas.height=g,e.drawImage(a,0,0,y,g)),t.texSubImage3D(c,h,0,0,b,y,g,1,u,s,r),e&&r===e.canvas&&(e.canvas.width=0,e.canvas.height=0)}rn(r)&&t.generateMipmap(c)}0===f&&n(l.length?l:void 0,e,p)}));var b}))}function gn(t,e,r,n){const o=(n=n||jt.textureOptions).target||$t;t.bindTexture(o,e);let i=n.width,a=n.height,u=n.depth;const s=n.level||0,c=n.internalFormat||n.format||Ct,f=Vr(c),l=n.format||f.format,p=n.type||Zr(0,r,f.type);if(It(r))r instanceof Uint8ClampedArray&&(r=new Uint8Array(r.buffer));else{const t=F(p);r=new t(r)}const h=$r(c,p),y=r.byteLength/h;if(y%1)throw"length wrong size for format: "+_t(t,l);let g;if(o===Gt||o===Ht)if(i||a||u)!i||a&&u?!a||i&&u?(g=Xr(0,o,i,a,y/u),i=g.width,a=g.height):(g=Xr(0,o,i,u,y/a),i=g.width,u=g.height):(g=Xr(0,o,a,u,y/i),a=g.width,u=g.height);else{const t=Math.cbrt(y);if(t%1!=0)throw"can't guess cube size of array of numElements: "+y;i=t,a=t,u=t}else g=Xr(0,o,i,a,y),i=g.width,a=g.height;if(Jr(t),t.pixelStorei(ce,n.unpackAlignment||1),Qr(t,n),o===Vt){const e=y/6*(h/r.BYTES_PER_ELEMENT);on(0,n).forEach((n=>{const o=e*n.ndx,u=r.subarray(o,o+e);t.texImage2D(n.face,s,c,i,a,0,l,p,u)}))}else o===Gt||o===Ht?t.texImage3D(o,s,c,i,a,u,0,l,p,r):t.texImage2D(o,s,c,i,a,0,l,p,r);return{width:i,height:a,depth:u,type:p}}function mn(t,e,r){const n=r.target||$t;t.bindTexture(n,e);const o=r.level||0,i=r.internalFormat||r.format||Ct,a=Vr(i),u=r.format||a.format,s=r.type||a.type;if(Qr(t,r),n===Vt)for(let e=0;e<6;++e)t.texImage2D(Yt+e,o,i,r.width,r.height,0,u,s,null);else n===Gt||n===Ht?t.texImage3D(n,o,i,r.width,r.height,r.depth,0,u,s,null):t.texImage2D(n,o,i,r.width,r.height,0,u,s,null)}function dn(t,e,r){r=r||un,e=e||jt.textureOptions;const n=t.createTexture(),o=e.target||$t;let i=e.width||1,a=e.height||1;const u=e.internalFormat||Ct;t.bindTexture(o,n),o===Vt&&(t.texParameteri(o,re,Nt),t.texParameteri(o,ne,Nt));let s=e.src;if(s)if("function"==typeof s&&(s=s(t,e)),"string"==typeof s)pn(t,n,e,r);else if(It(s)||Array.isArray(s)&&("number"==typeof s[0]||Array.isArray(s[0])||It(s[0]))){const r=gn(t,n,s,e);i=r.width,a=r.height}else Array.isArray(s)&&("string"==typeof s[0]||cn(s[0]))?o===Vt?hn(t,n,e,r):yn(t,n,e,r):(an(t,n,s,e),i=s.width,a=s.height);else mn(t,n,e);return rn(e)&&en(t,n,e,i,a,u),tn(t,n,e),n}const bn=T;function vn(t){return"undefined"!=typeof document&&document.getElementById?document.getElementById(t):null}const xn=33984,An=34962,wn=34963,Sn=35713,Fn=35714,En=35632,Tn=35633,Pn=35981,Mn=35718,On=35721,_n=35971,jn=35382,In=35396,kn=35398,Rn=35392,Bn=35395,Cn=5126,Ln=5124,Dn=5125,Un=3553,zn=34067,Nn=32879,qn=35866,Wn={};function $n(t,e){return Wn[e].bindPoint}function Vn(t,e){return function(r){t.uniform1i(e,r)}}function Gn(t,e){return function(r){t.uniform1iv(e,r)}}function Hn(t,e){return function(r){t.uniform2iv(e,r)}}function Yn(t,e){return function(r){t.uniform3iv(e,r)}}function Zn(t,e){return function(r){t.uniform4iv(e,r)}}function Xn(t,e,r,n){const o=$n(0,e);return Ot(t)?function(e){let i,a;!e||_(0,e)?(i=e,a=null):(i=e.texture,a=e.sampler),t.uniform1i(n,r),t.activeTexture(xn+r),t.bindTexture(o,i),t.bindSampler(r,a)}:function(e){t.uniform1i(n,r),t.activeTexture(xn+r),t.bindTexture(o,e)}}function Qn(t,e,r,n,o){const i=$n(0,e),a=new Int32Array(o);for(let t=0;t<o;++t)a[t]=r+t;return Ot(t)?function(e){t.uniform1iv(n,a),e.forEach((function(e,n){let o,u;t.activeTexture(xn+a[n]),!e||_(0,e)?(o=e,u=null):(o=e.texture,u=e.sampler),t.bindSampler(r,u),t.bindTexture(i,o)}))}:function(e){t.uniform1iv(n,a),e.forEach((function(e,r){t.activeTexture(xn+a[r]),t.bindTexture(i,e)}))}}function Jn(t,e){return function(r){if(r.value)switch(t.disableVertexAttribArray(e),r.value.length){case 4:t.vertexAttrib4fv(e,r.value);break;case 3:t.vertexAttrib3fv(e,r.value);break;case 2:t.vertexAttrib2fv(e,r.value);break;case 1:t.vertexAttrib1fv(e,r.value);break;default:throw new Error("the length of a float constant value must be between 1 and 4!")}else t.bindBuffer(An,r.buffer),t.enableVertexAttribArray(e),t.vertexAttribPointer(e,r.numComponents||r.size,r.type||Cn,r.normalize||!1,r.stride||0,r.offset||0),t.vertexAttribDivisor&&t.vertexAttribDivisor(e,r.divisor||0)}}function Kn(t,e){return function(r){if(r.value){if(t.disableVertexAttribArray(e),4!==r.value.length)throw new Error("The length of an integer constant value must be 4!");t.vertexAttrib4iv(e,r.value)}else t.bindBuffer(An,r.buffer),t.enableVertexAttribArray(e),t.vertexAttribIPointer(e,r.numComponents||r.size,r.type||Ln,r.stride||0,r.offset||0),t.vertexAttribDivisor&&t.vertexAttribDivisor(e,r.divisor||0)}}function to(t,e){return function(r){if(r.value){if(t.disableVertexAttribArray(e),4!==r.value.length)throw new Error("The length of an unsigned integer constant value must be 4!");t.vertexAttrib4uiv(e,r.value)}else t.bindBuffer(An,r.buffer),t.enableVertexAttribArray(e),t.vertexAttribIPointer(e,r.numComponents||r.size,r.type||Dn,r.stride||0,r.offset||0),t.vertexAttribDivisor&&t.vertexAttribDivisor(e,r.divisor||0)}}function eo(t,e,r){const n=r.size,o=r.count;return function(r){t.bindBuffer(An,r.buffer);const i=r.size||r.numComponents||n,a=i/o,u=r.type||Cn,s=Wn[u].size*i,c=r.normalize||!1,f=r.offset||0,l=s/o;for(let n=0;n<o;++n)t.enableVertexAttribArray(e+n),t.vertexAttribPointer(e+n,a,u,c,s,f+l*n),t.vertexAttribDivisor&&t.vertexAttribDivisor(e+n,r.divisor||0)}}Wn[Cn]={Type:Float32Array,size:4,setter:function(t,e){return function(r){t.uniform1f(e,r)}},arraySetter:function(t,e){return function(r){t.uniform1fv(e,r)}}},Wn[35664]={Type:Float32Array,size:8,setter:function(t,e){return function(r){t.uniform2fv(e,r)}},cols:2},Wn[35665]={Type:Float32Array,size:12,setter:function(t,e){return function(r){t.uniform3fv(e,r)}},cols:3},Wn[35666]={Type:Float32Array,size:16,setter:function(t,e){return function(r){t.uniform4fv(e,r)}},cols:4},Wn[Ln]={Type:Int32Array,size:4,setter:Vn,arraySetter:Gn},Wn[35667]={Type:Int32Array,size:8,setter:Hn,cols:2},Wn[35668]={Type:Int32Array,size:12,setter:Yn,cols:3},Wn[35669]={Type:Int32Array,size:16,setter:Zn,cols:4},Wn[Dn]={Type:Uint32Array,size:4,setter:function(t,e){return function(r){t.uniform1ui(e,r)}},arraySetter:function(t,e){return function(r){t.uniform1uiv(e,r)}}},Wn[36294]={Type:Uint32Array,size:8,setter:function(t,e){return function(r){t.uniform2uiv(e,r)}},cols:2},Wn[36295]={Type:Uint32Array,size:12,setter:function(t,e){return function(r){t.uniform3uiv(e,r)}},cols:3},Wn[36296]={Type:Uint32Array,size:16,setter:function(t,e){return function(r){t.uniform4uiv(e,r)}},cols:4},Wn[35670]={Type:Uint32Array,size:4,setter:Vn,arraySetter:Gn},Wn[35671]={Type:Uint32Array,size:8,setter:Hn,cols:2},Wn[35672]={Type:Uint32Array,size:12,setter:Yn,cols:3},Wn[35673]={Type:Uint32Array,size:16,setter:Zn,cols:4},Wn[35674]={Type:Float32Array,size:32,setter:function(t,e){return function(r){t.uniformMatrix2fv(e,!1,r)}},rows:2,cols:2},Wn[35675]={Type:Float32Array,size:48,setter:function(t,e){return function(r){t.uniformMatrix3fv(e,!1,r)}},rows:3,cols:3},Wn[35676]={Type:Float32Array,size:64,setter:function(t,e){return function(r){t.uniformMatrix4fv(e,!1,r)}},rows:4,cols:4},Wn[35685]={Type:Float32Array,size:32,setter:function(t,e){return function(r){t.uniformMatrix2x3fv(e,!1,r)}},rows:2,cols:3},Wn[35686]={Type:Float32Array,size:32,setter:function(t,e){return function(r){t.uniformMatrix2x4fv(e,!1,r)}},rows:2,cols:4},Wn[35687]={Type:Float32Array,size:48,setter:function(t,e){return function(r){t.uniformMatrix3x2fv(e,!1,r)}},rows:3,cols:2},Wn[35688]={Type:Float32Array,size:48,setter:function(t,e){return function(r){t.uniformMatrix3x4fv(e,!1,r)}},rows:3,cols:4},Wn[35689]={Type:Float32Array,size:64,setter:function(t,e){return function(r){t.uniformMatrix4x2fv(e,!1,r)}},rows:4,cols:2},Wn[35690]={Type:Float32Array,size:64,setter:function(t,e){return function(r){t.uniformMatrix4x3fv(e,!1,r)}},rows:4,cols:3},Wn[35678]={Type:null,size:0,setter:Xn,arraySetter:Qn,bindPoint:Un},Wn[35680]={Type:null,size:0,setter:Xn,arraySetter:Qn,bindPoint:zn},Wn[35679]={Type:null,size:0,setter:Xn,arraySetter:Qn,bindPoint:Nn},Wn[35682]={Type:null,size:0,setter:Xn,arraySetter:Qn,bindPoint:Un},Wn[36289]={Type:null,size:0,setter:Xn,arraySetter:Qn,bindPoint:qn},Wn[36292]={Type:null,size:0,setter:Xn,arraySetter:Qn,bindPoint:qn},Wn[36293]={Type:null,size:0,setter:Xn,arraySetter:Qn,bindPoint:zn},Wn[36298]={Type:null,size:0,setter:Xn,arraySetter:Qn,bindPoint:Un},Wn[36299]={Type:null,size:0,setter:Xn,arraySetter:Qn,bindPoint:Nn},Wn[36300]={Type:null,size:0,setter:Xn,arraySetter:Qn,bindPoint:zn},Wn[36303]={Type:null,size:0,setter:Xn,arraySetter:Qn,bindPoint:qn},Wn[36306]={Type:null,size:0,setter:Xn,arraySetter:Qn,bindPoint:Un},Wn[36307]={Type:null,size:0,setter:Xn,arraySetter:Qn,bindPoint:Nn},Wn[36308]={Type:null,size:0,setter:Xn,arraySetter:Qn,bindPoint:zn},Wn[36311]={Type:null,size:0,setter:Xn,arraySetter:Qn,bindPoint:qn};const ro={};ro[Cn]={size:4,setter:Jn},ro[35664]={size:8,setter:Jn},ro[35665]={size:12,setter:Jn},ro[35666]={size:16,setter:Jn},ro[Ln]={size:4,setter:Kn},ro[35667]={size:8,setter:Kn},ro[35668]={size:12,setter:Kn},ro[35669]={size:16,setter:Kn},ro[Dn]={size:4,setter:to},ro[36294]={size:8,setter:to},ro[36295]={size:12,setter:to},ro[36296]={size:16,setter:to},ro[35670]={size:4,setter:Kn},ro[35671]={size:8,setter:Kn},ro[35672]={size:12,setter:Kn},ro[35673]={size:16,setter:Kn},ro[35674]={size:4,setter:eo,count:2},ro[35675]={size:9,setter:eo,count:3},ro[35676]={size:16,setter:eo,count:4};const no=/ERROR:\s*\d+:(\d+)/gi;const oo=/^[ \t]*\n/;function io(t){let e=0;return oo.test(t)&&(e=1,t=t.replace(oo,"")),{lineOffset:e,shaderSource:t}}function ao(t,e){return t.errorCallback(e),t.callback&&setTimeout((()=>{t.callback(`${e}\n${t.errors.join("\n")}`)})),null}function uo(t,e,r,n){n=n||bn;if(!t.getShaderParameter(r,Sn)){const o=t.getShaderInfoLog(r),{lineOffset:i,shaderSource:a}=io(t.getShaderSource(r)),u=`${function(t,e="",r=0){const n=[...e.matchAll(no)],o=new Map(n.map(((t,r)=>{const o=parseInt(t[1]),i=n[r+1],a=i?i.index:e.length;return[o-1,e.substring(t.index,a)]})));return t.split("\n").map(((t,e)=>{const n=o.get(e);return`${e+1+r}: ${t}${n?`\n\n^^^ ${n}`:""}`})).join("\n")}(a,o,i)}\nError compiling ${_t(t,e)}: ${o}`;return n(u),u}return""}function so(t,e,r){let n,o,i;if("function"==typeof e&&(r=e,e=void 0),"function"==typeof t)r=t,t=void 0;else if(t&&!Array.isArray(t)){const e=t;r=e.errorCallback,t=e.attribLocations,n=e.transformFeedbackVaryings,o=e.transformFeedbackMode,i=e.callback}const a=r||bn,u=[],s={errorCallback(t,...e){u.push(t),a(t,...e)},transformFeedbackVaryings:n,transformFeedbackMode:o,callback:i,errors:u};{let r={};Array.isArray(t)?t.forEach((function(t,n){r[t]=e?e[n]:n})):r=t||{},s.attribLocations=r}return s}const co=["VERTEX_SHADER","FRAGMENT_SHADER"];const fo=(t=0)=>new Promise((e=>setTimeout(e,t)));function lo(t,e,r){const n=t.createProgram(),{attribLocations:o,transformFeedbackVaryings:i,transformFeedbackMode:a}=so(r);for(let r=0;r<e.length;++r){let o=e[r];if("string"==typeof o){const e=vn(o),i=e?e.text:o;let a=t[co[r]];e&&e.type&&(a=((u=e.type).indexOf("frag")>=0?En:u.indexOf("vert")>=0?Tn:void 0)||a),o=t.createShader(a),t.shaderSource(o,io(i).shaderSource),t.compileShader(o),t.attachShader(n,o)}}var u;Object.entries(o).forEach((([e,r])=>t.bindAttribLocation(n,r,e)));{let e=i;e&&(e.attribs&&(e=e.attribs),Array.isArray(e)||(e=Object.keys(e)),t.transformFeedbackVaryings(n,e,a||Pn))}return t.linkProgram(n),n}function po(t,e,r,n,o){const i=so(r,n,o),a=new Set(e),u=lo(t,e,i);function s(t,e){const r=go(t,e,i.errorCallback);return r&&function(t,e,r){const n=t.getAttachedShaders(e);for(const e of n)r.has(e)&&t.deleteShader(e);t.deleteProgram(e)}(t,e,a),r}if(!i.callback)return s(t,u)?void 0:u;yo(t,u).then((()=>{const e=s(t,u);i.callback(e,e?void 0:u)}))}function ho(t){return function(e,r,...n){return new Promise(((o,i)=>{const a=so(...n);a.callback=(t,e)=>{t?i(t):o(e)},t(e,r,a)}))}}ho(po),ho(Io);async function yo(t,e){const r=t.getExtension("KHR_parallel_shader_compile"),n=r?(t,e)=>t.getProgramParameter(e,r.COMPLETION_STATUS_KHR):()=>!0;let o=0;do{await fo(o),o=1e3/60}while(!n(t,e))}function go(t,e,r){r=r||bn;if(!t.getProgramParameter(e,Fn)){const n=t.getProgramInfoLog(e);r(`Error in program linking: ${n}`);return`${n}\n${t.getAttachedShaders(e).map((e=>uo(t,t.getShaderParameter(e,t.SHADER_TYPE),e,r))).filter((t=>t)).join("\n")}`}}function mo(t,e,r,n,o){return po(t,e,r,n,o)}function bo(t){const e=t.name;return e.startsWith("gl_")||e.startsWith("webgl_")}const vo=/(\.|\[|]|\w+)/g,xo=t=>t>="0"&&t<="9";function Ao(t,e,r,n){const o=t.split(vo).filter((t=>""!==t));let i=0,a="";for(;;){const t=o[i++];a+=t;const u=xo(t[0]),s=u?parseInt(t):t;u&&(a+=o[i++]);if(i===o.length){r[s]=e;break}{const t=o[i++],e="["===t,u=r[s]||(e?[]:{});r[s]=u,r=u,n[a]=n[a]||function(t){return function(e){Eo(t,e)}}(u),a+=t}}}function wo(t,e){let r=0;function n(e,n,o){const i=n.name.endsWith("[0]"),a=n.type,u=Wn[a];if(!u)throw new Error(`unknown type: 0x${a.toString(16)}`);let s;if(u.bindPoint){const e=r;r+=n.size,s=i?u.arraySetter(t,a,e,o,n.size):u.setter(t,a,e,o,n.size)}else s=u.arraySetter&&i?u.arraySetter(t,o):u.setter(t,o);return s.location=o,s}const o={},i={},a=t.getProgramParameter(e,Mn);for(let r=0;r<a;++r){const a=t.getActiveUniform(e,r);if(bo(a))continue;let u=a.name;u.endsWith("[0]")&&(u=u.substr(0,u.length-3));const s=t.getUniformLocation(e,a.name);if(s){const t=n(0,a,s);o[u]=t,Ao(u,t,i,o)}}return o}function So(t,e){const r={},n=t.getProgramParameter(e,_n);for(let o=0;o<n;++o){const n=t.getTransformFeedbackVarying(e,o);r[n.name]={index:o,type:n.type,size:n.size}}return r}function Fo(t,e){const r=t.getProgramParameter(e,Mn),n=[],o=[];for(let i=0;i<r;++i){o.push(i),n.push({});const r=t.getActiveUniform(e,i);n[i].name=r.name}[["UNIFORM_TYPE","type"],["UNIFORM_SIZE","size"],["UNIFORM_BLOCK_INDEX","blockNdx"],["UNIFORM_OFFSET","offset"]].forEach((function(r){const i=r[0],a=r[1];t.getActiveUniforms(e,o,t[i]).forEach((function(t,e){n[e][a]=t}))}));const i={},a=t.getProgramParameter(e,jn);for(let r=0;r<a;++r){const n=t.getActiveUniformBlockName(e,r),o={index:t.getUniformBlockIndex(e,n),usedByVertexShader:t.getActiveUniformBlockParameter(e,r,In),usedByFragmentShader:t.getActiveUniformBlockParameter(e,r,kn),size:t.getActiveUniformBlockParameter(e,r,Rn),uniformIndices:t.getActiveUniformBlockParameter(e,r,Bn)};o.used=o.usedByVertexShader||o.usedByFragmentShader,i[n]=o}return{blockSpecs:i,uniformData:n}}function Eo(t,e){for(const r in e){const n=t[r];"function"==typeof n?n(e[r]):Eo(t[r],e[r])}}function To(t,...e){const r=t.uniformSetters||t,n=e.length;for(let t=0;t<n;++t){const n=e[t];if(Array.isArray(n)){const t=n.length;for(let e=0;e<t;++e)To(r,n[e])}else for(const t in n){const e=r[t];e&&e(n[t])}}}function Po(t,e){const r={},n=t.getProgramParameter(e,On);for(let o=0;o<n;++o){const n=t.getActiveAttrib(e,o);if(bo(n))continue;const i=t.getAttribLocation(e,n.name),a=ro[n.type],u=a.setter(t,i,a);u.location=i,r[n.name]=u}return r}function Mo(t,e){for(const r in e){const n=t[r];n&&n(e[r])}}function Oo(t,e,r){r.vertexArrayObject?t.bindVertexArray(r.vertexArrayObject):(Mo(e.attribSetters||e,r.attribs),r.indices&&t.bindBuffer(wn,r.indices))}function _o(t,e){const r={program:e,uniformSetters:wo(t,e),attribSetters:Po(t,e)};return Ot(t)&&(r.uniformBlockSpec=Fo(t,e),r.transformFeedbackInfo=So(t,e)),r}const jo=/\s|{|}|;/;function Io(t,e,r,n,o){const i=so(r,n,o),a=[];if(e=e.map((function(t){if(!jo.test(t)){const e=vn(t);if(e)t=e.text;else{const e=`no element with id: ${t}`;i.errorCallback(e),a.push(e)}}return t})),a.length)return ao(i,"");const u=i.callback;u&&(i.callback=(e,r)=>{u(e,e?void 0:_o(t,r))});const s=mo(t,e,i);return s?_o(t,s):null}function ko(t,e,r,n,o){for(const[i,a]of Object.entries(e)){const u={...o},s=r[i];Array.isArray(s)||Object.assign(u,s);const c=go(t,a,u.errorCallback);if(c){for(const r of Object.values(e)){const e=t.getAttachedShaders(r);t.deleteProgram(r);for(const r of e)n.has(r)||t.deleteShader(r)}return c}}}function Ro(t,e,r={}){const n=new Set,o=Object.fromEntries(Object.entries(e).map((([e,o])=>{const i={...r},a=Array.isArray(o)?o:o.shaders;return Array.isArray(o)||Object.assign(i,o),a.forEach(n.add,n),[e,lo(t,a,i)]})));if(r.callback)return void async function(t,e){for(const r of Object.values(e))await yo(t,r)}(t,o).then((()=>{const i=ko(t,o,e,n,r);r.callback(i,i?void 0:o)}));return ko(t,o,e,n,r)?void 0:o}function Bo(t,e,r){function n(t,e){return Object.fromEntries(Object.entries(e).map((([e,r])=>[e,_o(t,r)])))}const o=(r=so(r)).callback;o&&(r.callback=(e,r)=>{o(e,e?void 0:n(t,r))});const i=Ro(t,e,r);if(!o&&i)return n(t,i)}ho(Ro),ho(Bo);const Co=36160,Lo=36161,Do=3553,Uo=34041,zo=36064,No=36096,qo=33306,Wo=33071,$o=9729,Vo=[{format:6408,type:5121,min:$o,wrap:Wo},{format:Uo}],Go={};Go[34041]=qo,Go[6401]=36128,Go[36168]=36128,Go[6402]=No,Go[33189]=No,Go[33190]=No,Go[36012]=No,Go[35056]=qo,Go[36013]=qo;const Ho={};Ho[32854]=!0,Ho[32855]=!0,Ho[36194]=!0,Ho[34041]=!0,Ho[33189]=!0,Ho[6401]=!0,Ho[36168]=!0;const Yo=32;function Zo(t,e,r,n){const o=Co,i=t.createFramebuffer();t.bindFramebuffer(o,i),r=r||t.drawingBufferWidth,n=n||t.drawingBufferHeight;const a=[],u={framebuffer:i,attachments:[],width:r,height:n};return(e=e||Vo).forEach((function(e,i){let s=e.attachment;const c=e.samples,f=e.format;let l=e.attachmentPoint||function(t,e){return Go[t]||Go[e]}(f,e.internalFormat);if(l||(l=zo+i),function(t){return t>=zo&&t<zo+Yo}(l)&&a.push(l),!s)if(void 0!==c||function(t){return Ho[t]}(f))s=t.createRenderbuffer(),t.bindRenderbuffer(Lo,s),c>1?t.renderbufferStorageMultisample(Lo,c,f,r,n):t.renderbufferStorage(Lo,f,r,n);else{const o=Object.assign({},e);o.width=r,o.height=n,void 0===o.auto&&(o.auto=!1,o.min=o.min||o.minMag||$o,o.mag=o.mag||o.minMag||$o,o.wrapS=o.wrapS||o.wrap||Wo,o.wrapT=o.wrapT||o.wrap||Wo),s=dn(t,o)}if(O(0,s))t.framebufferRenderbuffer(o,l,Lo,s);else{if(!_(0,s))throw new Error("unknown attachment type");void 0!==e.layer?t.framebufferTextureLayer(o,l,s,e.level||0,e.layer):t.framebufferTexture2D(o,l,e.target||Do,s,e.level||0)}u.attachments.push(s)})),t.drawBuffers&&t.drawBuffers(a),u}function Xo(t,e,r){const n=t.createVertexArray();return t.bindVertexArray(n),e.length||(e=[e]),e.forEach((function(e){Oo(t,e,r)})),t.bindVertexArray(null),{numElements:r.numElements,elementType:r.elementType,vertexArrayObject:n}}var Qo={vertex:"#version 300 es\n\n    in vec3 a_position; //x and y are positions and z is id\n    flat out int v_ID;\n    void main() {\n        v_ID = int(a_position.z);\n        gl_Position = vec4(a_position.x, -a_position.y, 1.0, 1.0);\n    }",fragment:"#version 300 es\n\n    precision highp float;\n    flat in int v_ID; \n    out ivec4 outColor;\n\n    void main() {\n        outColor = ivec4(v_ID, 0, 0, 1);   \n    }"};function Jo(t){const e=new Array;e[0]=0,e[1]=0,e[2]=-1;for(let r=0;r<=t;r++){const n=2*Math.PI*r/t;e[3*r+3]=Math.cos(n),e[3*r+4]=Math.sin(n),e[3*r+5]=1}return e}var Ko={vertex:"#version 300 es\n\n    layout(location = 2) in int a_arc_id;\n    layout(location = 1) in vec2 a_position;\n    layout(location = 0) in vec3 a_instance;\n    flat out ivec2 v_ID;\n    void main() {\n        v_ID = ivec2(gl_InstanceID, a_arc_id);\n        gl_Position = vec4(a_instance.xy + vec2(a_position.x, a_position.y), a_instance.z, 1);\n    }",fragment:"#version 300 es\n\n    precision highp float;\n\n    uniform mediump isampler2D u_stencil;\n    uniform int u_background_index;\n    flat in ivec2 v_ID; \n    out ivec4 outColor;\n    \n    void main() {\n        ivec2 coord = ivec2(gl_FragCoord.x, gl_FragCoord.y);\n        ivec4 t = texelFetch(u_stencil, coord, 0);\n        if (t.r == v_ID.y){\n            outColor.r = v_ID.x; \n        } else {\n          outColor.r = -1;\n        }\n    }"},ti={vertex:"#version 300 es\n\n    layout(location = 0) in vec2 a_texCoord;\n\n    void main() {\n        gl_Position = vec4(a_texCoord, 1, 1);\n    }",fragment:"#version 300 es\n    precision highp float;\n\n    uniform mediump isampler2D voroni;\n\n    out vec4 color;\n\n    void main() {\n        ivec2 tex_size = textureSize(voroni, 0);\n        int my_index = int(gl_FragCoord.x);\n        color = vec4(0.0, 0.0, 0.0, 1.0);\n        ivec2 coord;\n        ivec4 t;\n        int id;\n        for (int x = 0; x < tex_size.x; x++) {\n            coord = ivec2(x, gl_FragCoord.y);\n            t = texelFetch(voroni, coord, 0);\n            id = t.r;\n            if (id == my_index) {\n                color.xy += vec2(coord) + 0.5;\n                color.z += 1.0;\n            }\n        }\n        color.xy /= float(tex_size);\n    }"},ei={vertex:"#version 300 es\n    \n    layout(location = 1) in vec2 a_origin;\n    out vec2 a_position;\n\n    uniform sampler2D summed;\n\n    void main() {\n        ivec2 tex_size = textureSize(summed, 0);\n        float count = 0.0;\n        a_position = vec2(0.0);\n        vec3 t;\n        for (int y = 0; y < tex_size.y; y++){\n            t = texelFetch(summed, ivec2(gl_VertexID, y), 0).xyz; \n            a_position += t.xy;\n            count += t.z;\n        }\n        /* \n        * these coordinates are normalized betwen 0 and 1 by the previous shader. \n        * but they're being put into back into a vertex buffer\n        * so they need to be re-normalized to vertex coords (between -1 and 1)\n        */\n        if (int(count) > 0){\n            a_position  = (a_position / count) * 2.0 - 1.0;\n        } else {\n            a_position = a_origin;\n        }\n    }",fragment:"#version 300 es\n    precision highp float;\n\n    void main() {\n    discard;\n    }"};class ri{stencil=[];offsets=[];offsetArcIds=[];vertex=Jo(36);chunks=0;quad=new Float32Array([1,1,-1,1,-1,-1,-1,-1,1,-1,1,1]);intermediateBufferArrays={a_texCoord:{numComponents:2,data:this.quad}};keepOpen=!1;buffersReady=!0;constructor(t,e,r,n,o){this.textureWidth=e,this.textureHeight=r,this.cycles=n,this.gl=t,this.callBack=o,this.transformFeedback=t.createTransformFeedback(),t.getExtension("EXT_color_buffer_float")||console.error("voroni error: color extention does not exist"),t.getExtension("WEBGL_compressed_texture_etc")||t.getExtension("EXT_texture_compression_rgtc")||console.error("compressed textures not supported on this machine"),this.stencilProgram=Io(t,[Qo.vertex,Qo.fragment],{attribLocations:{a_position:0}}),this.stencilBufferArrays={a_position:{numComponents:3,data:new Float32Array(this.stencil),drawType:t.STATIC_DRAW}},this.stencilBufferInfo=ot(t,this.stencilBufferArrays),this.stencilFrameBufferInfo=Zo(t,[{internalFormat:t.R32I,format:t.RED_INTEGER,type:t.INT,minMag:t.NEAREST}],e,r),this.vornoiProgram=Io(t,[Ko.vertex,Ko.fragment],{attribLocations:{a_arc_id:2,a_position:1,a_instance:0}}),this.vornoiFrameBufferInfo=Zo(t,[{internalFormat:t.R32I,format:t.RED_INTEGER,type:t.INT,minMag:t.NEAREST},{attachmentPoint:t.DEPTH_ATTACHMENT,internalFormat:t.DEPTH_COMPONENT24,format:t.DEPTH_COMPONENT}],e,r),this.vornoiBufferArrays={a_position:{numComponents:2,divisor:1,data:new Float32Array([...this.offsets]),drawType:t.DYNAMIC_DRAW},a_arc_id:{numComponents:1,divisor:1,data:new Int32Array([...this.offsetArcIds]),drawType:t.DYNAMIC_DRAW},a_instance:{numComponents:3,data:Jo(36)},a_origin:{numComponents:2,data:new Float32Array([...this.offsets]),drawType:t.STATIC_DRAW}},this.vornoiBufferInfo=ot(t,this.vornoiBufferArrays),this.intermediateProgram=Io(t,[ti.vertex,ti.fragment],{attribLocations:{a_texCoord:0}}),this.intermediateFrameBufferInfo=Zo(t,[{internalFormat:t.RGBA32F,format:t.RGBA,type:t.FLOAT,minMag:t.NEAREST}],this.offsets.length/2,r),this.intermediateBufferInfo=ot(t,this.intermediateBufferArrays),this.transformFeedbackProgram=Io(t,[ei.vertex,ei.fragment],{transformFeedbackVaryings:["a_position"],attribLocations:{a_position:0,a_origin:1}}),this.feedbackVoaInfo=Xo(t,this.transformFeedbackProgram,this.vornoiBufferInfo)}updateStencil(t){this.stencil=t,this.stencilBufferArrays={a_position:{numComponents:3,data:new Float32Array(this.stencil),drawType:this.gl.STATIC_DRAW}},this.gl.deleteBuffer(this.stencilBufferInfo.attribs.a_position.buffer),this.gl.deleteTexture(this.stencilFrameBufferInfo.attachments[0]),this.gl.deleteFramebuffer(this.stencilFrameBufferInfo.framebuffer),this.stencilBufferInfo=ot(this.gl,this.stencilBufferArrays),this.stencilFrameBufferInfo=Zo(this.gl,[{internalFormat:this.gl.R32I,format:this.gl.RED_INTEGER,type:this.gl.INT,minMag:this.gl.NEAREST}],this.textureWidth,this.textureHeight)}updateOffsets(t,e){this.gl.deleteTexture(this.intermediateFrameBufferInfo.attachments[0]),this.gl.deleteFramebuffer(this.intermediateFrameBufferInfo.framebuffer),this.gl.deleteBuffer(this.vornoiBufferInfo.attribs.a_position.buffer),this.gl.deleteBuffer(this.vornoiBufferInfo.attribs.a_arc_id.buffer),this.gl.deleteBuffer(this.vornoiBufferInfo.attribs.a_origin.buffer),this.gl.deleteTransformFeedback(this.transformFeedback),this.offsets=t,this.offsetArcIds=e,this.vornoiBufferArrays={...this.vornoiBufferArrays,a_position:{numComponents:2,divisor:1,data:new Float32Array([...t]),drawType:this.gl.DYNAMIC_DRAW},a_arc_id:{numComponents:1,divisor:1,data:new Int32Array(e),drawType:this.gl.DYNAMIC_DRAW},a_origin:{numComponents:2,data:new Float32Array([...t]),drawType:this.gl.DYNAMIC_DRAW}},this.vornoiBufferInfo=ot(this.gl,this.vornoiBufferArrays),this.intermediateFrameBufferInfo=Zo(this.gl,[{internalFormat:this.gl.RGBA32F,format:this.gl.RGBA,type:this.gl.FLOAT,minMag:this.gl.NEAREST}],this.vornoiBufferArrays.a_position.data.length/this.vornoiBufferArrays.a_position.numComponents,this.textureHeight),this.transformFeedback=this.gl.createTransformFeedback(),this.feedbackVoaInfo=Xo(this.gl,this.transformFeedbackProgram,this.vornoiBufferInfo),this.gl.bindTransformFeedback(this.gl.TRANSFORM_FEEDBACK,this.transformFeedback),this.gl.bindBufferBase(this.gl.TRANSFORM_FEEDBACK_BUFFER,0,this.vornoiBufferInfo.attribs.a_position.buffer),this.gl.bindTransformFeedback(this.gl.TRANSFORM_FEEDBACK,null),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,null)}renderStencil(){this.gl.useProgram(this.stencilProgram.program),Oo(this.gl,this.stencilProgram,this.stencilBufferInfo),this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,this.stencilFrameBufferInfo.framebuffer),this.gl.framebufferTexture2D(this.gl.FRAMEBUFFER,this.gl.COLOR_ATTACHMENT0,this.gl.TEXTURE_2D,this.stencilFrameBufferInfo.attachments[0],0),this.gl.viewport(0,0,this.textureWidth,this.textureHeight),this.gl.clearBufferiv(this.gl.COLOR,0,new Int32Array([-1,0,0,0])),this.gl.drawArrays(this.gl.TRIANGLES,0,this.stencil.length/this.stencilBufferInfo.attribs.a_position.numComponents),this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,null)}renderVornoi(){if(this.offsets.length>0){this.gl.useProgram(this.vornoiProgram.program),Oo(this.gl,this.vornoiProgram,this.vornoiBufferInfo),this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,this.vornoiFrameBufferInfo.framebuffer),this.gl.framebufferTexture2D(this.gl.FRAMEBUFFER,this.gl.COLOR_ATTACHMENT0,this.gl.TEXTURE_2D,this.vornoiFrameBufferInfo.attachments[0],0),this.gl.viewport(0,0,this.textureWidth,this.textureHeight);const t={u_stencil:this.stencilFrameBufferInfo.attachments[0],u_background_index:this.offsets.length/3+1};To(this.vornoiProgram,t),this.gl.clearBufferiv(this.gl.COLOR,0,new Int32Array([-1,0,0,0])),this.gl.enable(this.gl.DEPTH_TEST),this.gl.depthFunc(this.gl.LEQUAL),this.gl.clearDepth(1),this.gl.clear(this.gl.DEPTH_BUFFER_BIT),this.gl.drawArraysInstanced(this.gl.TRIANGLE_FAN,0,this.vornoiBufferArrays.a_instance.data.length/this.vornoiBufferArrays.a_instance.numComponents,this.vornoiBufferArrays.a_position.data.length/this.vornoiBufferArrays.a_position.numComponents),this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,null),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,null),this.gl.disable(this.gl.DEPTH_TEST)}}renderIntermediateTexture(){this.offsets.length>0&&(this.gl.useProgram(this.intermediateProgram.program),Oo(this.gl,this.intermediateProgram,this.intermediateBufferInfo),this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,this.intermediateFrameBufferInfo.framebuffer),this.gl.framebufferTexture2D(this.gl.FRAMEBUFFER,this.gl.COLOR_ATTACHMENT0,this.gl.TEXTURE_2D,this.intermediateFrameBufferInfo.attachments[0],0),this.gl.bindTexture(this.gl.TEXTURE_2D,this.vornoiFrameBufferInfo.attachments[0]),this.gl.clearBufferfv(this.gl.COLOR,0,new Float32Array([-1,0,0,1])),this.gl.drawArrays(this.gl.TRIANGLES,0,6),this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,null),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,null))}transformFeedbackStep(){this.gl.useProgram(this.transformFeedbackProgram.program),Oo(this.gl,this.transformFeedbackProgram,this.feedbackVoaInfo),this.gl.enable(this.gl.RASTERIZER_DISCARD),this.gl.bindTransformFeedback(this.gl.TRANSFORM_FEEDBACK,this.transformFeedback),this.gl.bindBufferBase(this.gl.TRANSFORM_FEEDBACK_BUFFER,0,this.vornoiBufferInfo.attribs.a_position.buffer),this.gl.beginTransformFeedback(this.gl.POINTS),this.gl.bindTexture(this.gl.TEXTURE_2D,this.intermediateFrameBufferInfo.attachments[0]),this.gl.drawArrays(this.gl.POINTS,0,this.offsets.length/2),this.gl.endTransformFeedback(),this.gl.bindTransformFeedback(this.gl.TRANSFORM_FEEDBACK,null),this.gl.bindVertexArray(null),this.gl.disable(this.gl.RASTERIZER_DISCARD),this.gl.bindTransformFeedback(this.gl.TRANSFORM_FEEDBACK,null),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,null),this.gl.bindBufferBase(this.gl.TRANSFORM_FEEDBACK_BUFFER,0,null),this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,null)}debug(t,e,r){if(this){const{gl:n,quad:o}=this;if(r.length>0){const i={[t]:e},a=Io(n,["#version 300 es\n            layout(location = 0) in vec2 a_position;\n            void main() {\n              gl_Position = vec4(a_position, 0.0, 1.0);\n            }\n            ",`#version 300 es\n            precision mediump float;\n            uniform vec3 colors[${r.length}];\n            uniform mediump isampler2D ${t};\n            out vec4 outColor;\n            void main() {\n              ivec2 coord = ivec2(gl_FragCoord.xy);\n              ivec4 t = texelFetch(${t}, coord, 0);\n              outColor = vec4(colors[t.r], 1);\n            }\n            // `],{attribLocations:{a_position:0}}),u=ot(n,{a_position:{numComponents:2,data:o,drawType:n.STATIC_DRAW}});n.useProgram(a.program),Oo(n,a,u);const s=n.getUniformLocation(a.program,"colors");n.uniform3fv(s,new Float32Array(r)),n.clearColor(0,0,0,0),n.clear(n.COLOR_BUFFER_BIT),To(a,i),n.drawArrays(n.TRIANGLES,0,o.length/2)}}}render(){for(let t=0;t<this.cycles;t++)this.gl.flush(),this.renderVornoi(),this.renderIntermediateTexture(),this.transformFeedbackStep();return this.getBatchPositions()}async renderInChunks(t,e){let r=0,n=[],o=[];for(let i=0;i<t.length;i+=2)n.length>400&&r!==e[Math.floor((i+1)/2)]&&(this.updateOffsets(n,o),this.keepOpen=!0,await this.render(),this.keepOpen=!1,n=[],o=[]),r=e[Math.floor((i+1)/2)],n.push(t[i],t[i+1]),o.push(e[Math.floor((i+1)/2)]);o.length>0&&(this.updateOffsets(n,o),this.render())}getBatchPositions(){const t=this.gl.fenceSync(this.gl.SYNC_GPU_COMMANDS_COMPLETE,0),{keepOpen:e}=this;return this.gl.flush(),new Promise((r=>{const n=()=>{const o=this.gl.clientWaitSync(t,0,0);if(o===this.gl.CONDITION_SATISFIED||o===this.gl.ALREADY_SIGNALED){this.gl.deleteSync(t);const n=new Float32Array(this.offsets.length);this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.vornoiBufferInfo.attribs.a_position.buffer),this.gl.getBufferSubData(this.gl.ARRAY_BUFFER,0,n),this.callBack({payload:n,keepOpen:e}),r("done")}else setTimeout(n)};setTimeout(n)}))}getPositions(){const t=this.gl.fenceSync(this.gl.SYNC_GPU_COMMANDS_COMPLETE,0),{keepOpen:e}=this;this.gl.flush();const r=()=>{const n=this.gl.clientWaitSync(t,0,0);if(n===this.gl.CONDITION_SATISFIED||n===this.gl.ALREADY_SIGNALED){this.gl.deleteSync(t);const r=new Float32Array(this.offsets.length);this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.vornoiBufferInfo.attribs.a_position.buffer),this.gl.getBufferSubData(this.gl.ARRAY_BUFFER,0,r),this.callBack({payload:r,keepOpen:e})}else setTimeout(r)};setTimeout(r)}}var ni=o("22GsW");o("8b8MA"),o("jwO5r");o("37yMS");o("jwO5r"),o("1vlNa");const{abs:oi,max:ii,min:ai}=Math;function ui(t){return[+t[0],+t[1]]}function si(t){return[ui(t[0]),ui(t[1])]}["w","e"].map(ci),["n","s"].map(ci),["n","w","e","s","nw","ne","sw","se"].map(ci);function ci(t){return{type:t}}o("jwO5r"),o("1vlNa");o("8b8MA");var fi=1e-12;function li(t){return((t=Math.exp(t))+1/t)/2}(function t(e,r,n){function o(t,o){var i,a,u=t[0],s=t[1],c=t[2],f=o[0],l=o[1],p=o[2],h=f-u,y=l-s,g=h*h+y*y;if(g<fi)a=Math.log(p/c)/e,i=function(t){return[u+t*h,s+t*y,c*Math.exp(e*t*a)]};else{var m=Math.sqrt(g),d=(p*p-c*c+n*g)/(2*c*r*m),b=(p*p-c*c-n*g)/(2*p*r*m),v=Math.log(Math.sqrt(d*d+1)-d),x=Math.log(Math.sqrt(b*b+1)-b);a=(x-v)/e,i=function(t){var n,o=t*a,i=li(v),f=c/(r*m)*(i*(n=e*o+v,((n=Math.exp(2*n))-1)/(n+1))-function(t){return((t=Math.exp(t))-1/t)/2}(v));return[u+f*h,s+f*y,c*i/li(e*o+v)]}}return i.duration=1e3*a*e/Math.SQRT2,i}return o.rho=function(e){var r=Math.max(.001,+e),n=r*r;return t(r,n,n*n)},o})(Math.SQRT2,2,4),o("jwO5r"),o("1vlNa");function pi(t,e,r){this.k=t,this.x=e,this.y=r}pi.prototype={constructor:pi,scale:function(t){return 1===t?this:new pi(this.k*t,this.x,this.y)},translate:function(t,e){return 0===t&0===e?this:new pi(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};new pi(1,0,0);pi.prototype;var hi=o("d4oT3"),yi={},gi={},mi={},di={},bi=Array.prototype.slice,vi=o("8k095"),xi=Object.keys,Ai=xi?function(t){return xi(t)}:o("4x06h"),wi=Object.keys;Ai.shim=function(){if(Object.keys){var t=function(){var t=Object.keys(arguments);return t&&t.length===arguments.length}(1,2);t||(Object.keys=function(t){return vi(t)?wi(bi.call(t)):wi(t)})}else Object.keys=Ai;return Object.keys||Ai},di=Ai;var Si="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),Fi=Object.prototype.toString,Ei=Array.prototype.concat,Ti=Object.defineProperty,Pi=o("l8kQ5")(),Mi=Ti&&Pi,Oi=function(t,e,r,n){if(e in t)if(!0===n){if(t[e]===r)return}else if("function"!=typeof(o=n)||"[object Function]"!==Fi.call(o)||!n())return;var o;Mi?Ti(t,e,{configurable:!0,enumerable:!1,value:r,writable:!0}):t[e]=r},_i=function(t,e){var r=arguments.length>2?arguments[2]:{},n=di(e);Si&&(n=Ei.call(n,Object.getOwnPropertySymbols(e)));for(var o=0;o<n.length;o+=1)Oi(t,n[o],e[n[o]],r[n[o]])};_i.supportsDescriptors=!!Mi,mi=_i;var ji,Ii=o("k9nBK"),ki=o("jDJsV")(),Ri=o("amQm3"),Bi=Object,Ci=Ri("Array.prototype.push"),Li=Ri("Object.prototype.propertyIsEnumerable"),Di=ki?Object.getOwnPropertySymbols:null;ji=function(t,e){if(null==t)throw new TypeError("target must be an object");var r=Bi(t);if(1===arguments.length)return r;for(var n=1;n<arguments.length;++n){var o=Bi(arguments[n]),i=di(o),a=ki&&(Object.getOwnPropertySymbols||Di);if(a)for(var u=a(o),s=0;s<u.length;++s){var c=u[s];Li(o,c)&&Ci(i,c)}for(var f=0;f<i.length;++f){var l=i[f];if(Li(o,l)){var p=o[l];r[l]=p}}}return r};var Ui;Ui=function(){return Object.assign?function(){if(!Object.assign)return!1;for(var t="abcdefghijklmnopqrst",e=t.split(""),r={},n=0;n<e.length;++n)r[e[n]]=e[n];var o=Object.assign({},r),i="";for(var a in o)i+=a;return t!==i}()||function(){if(!Object.assign||!Object.preventExtensions)return!1;var t=Object.preventExtensions({1:2});try{Object.assign(t,"xy")}catch(e){return"y"===t[1]}return!1}()?ji:Object.assign:ji};var zi;zi=function(){var t=Ui();return mi(Object,{assign:t},{assign:function(){return Object.assign!==t}}),t};var Ni=Ii.apply(Ui()),qi=function(t,e){return Ni(Object,arguments)};mi(qi,{getPolyfill:Ui,implementation:ji,shim:zi}),gi=qi;Ri=o("amQm3");var Wi,$i={},Vi=(Ii=o("k9nBK"),o("d5LLc").functionsHaveConfigurableNames()),Gi=Object,Hi=TypeError;Wi=function(){if(null!=this&&this!==Gi(this))throw new Hi("RegExp.prototype.flags getter called on non-object");var t="";return this.hasIndices&&(t+="d"),this.global&&(t+="g"),this.ignoreCase&&(t+="i"),this.multiline&&(t+="m"),this.dotAll&&(t+="s"),this.unicode&&(t+="u"),this.sticky&&(t+="y"),t},Vi&&Object.defineProperty&&Object.defineProperty(Wi,"name",{value:"get flags"});var Yi,Zi=mi.supportsDescriptors,Xi=Object.getOwnPropertyDescriptor;Yi=function(){if(Zi&&"gim"===/a/gim.flags){var t=Xi(RegExp.prototype,"flags");if(t&&"function"==typeof t.get&&"boolean"==typeof RegExp.prototype.dotAll&&"boolean"==typeof RegExp.prototype.hasIndices){var e="",r={};if(Object.defineProperty(r,"hasIndices",{get:function(){e+="d"}}),Object.defineProperty(r,"sticky",{get:function(){e+="y"}}),"dy"===e)return t.get}}return Wi};var Qi,Ji=mi.supportsDescriptors,Ki=Object.getOwnPropertyDescriptor,ta=Object.defineProperty,ea=TypeError,ra=Object.getPrototypeOf,na=/a/;Qi=function(){if(!Ji||!ra)throw new ea("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var t=Yi(),e=ra(na),r=Ki(e,"flags");return r&&r.get===t||ta(e,"flags",{configurable:!0,enumerable:!1,get:t}),t};var oa=Ii(Yi());mi(oa,{getPolyfill:Yi,implementation:Wi,shim:Qi}),$i=oa;var ia,aa,ua,sa=o("kTdIe"),ca={},fa=ia={};function la(){throw new Error("setTimeout has not been defined")}function pa(){throw new Error("clearTimeout has not been defined")}function ha(t){if(aa===setTimeout)return setTimeout(t,0);if((aa===la||!aa)&&setTimeout)return aa=setTimeout,setTimeout(t,0);try{return aa(t,0)}catch(e){try{return aa.call(null,t,0)}catch(e){return aa.call(this,t,0)}}}!function(){try{aa="function"==typeof setTimeout?setTimeout:la}catch(t){aa=la}try{ua="function"==typeof clearTimeout?clearTimeout:pa}catch(t){ua=pa}}();var ya,ga=[],ma=!1,da=-1;function ba(){ma&&ya&&(ma=!1,ya.length?ga=ya.concat(ga):da=-1,ga.length&&va())}function va(){if(!ma){var t=ha(ba);ma=!0;for(var e=ga.length;e;){for(ya=ga,ga=[];++da<e;)ya&&ya[da].run();da=-1,e=ga.length}ya=null,ma=!1,function(t){if(ua===clearTimeout)return clearTimeout(t);if((ua===pa||!ua)&&clearTimeout)return ua=clearTimeout,clearTimeout(t);try{return ua(t)}catch(e){try{return ua.call(null,t)}catch(e){return ua.call(this,t)}}}(t)}}function xa(t,e){this.fun=t,this.array=e}function Aa(){}fa.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];ga.push(new xa(t,e)),1!==ga.length||ma||ha(va)},xa.prototype.run=function(){this.fun.apply(null,this.array)},fa.title="browser",fa.browser=!0,fa.env={},fa.argv=[],fa.version="",fa.versions={},fa.on=Aa,fa.addListener=Aa,fa.once=Aa,fa.off=Aa,fa.removeListener=Aa,fa.removeAllListeners=Aa,fa.emit=Aa,fa.prependListener=Aa,fa.prependOnceListener=Aa,fa.listeners=function(t){return[]},fa.binding=function(t){throw new Error("process.binding is not supported")},fa.cwd=function(){return"/"},fa.chdir=function(t){throw new Error("process.chdir is not supported")},fa.umask=function(){return 0};var wa={},Sa=o("iAiC6")(),Fa=(Ri=o("amQm3"))("Object.prototype.toString"),Ea=function(t){return!(Sa&&t&&"object"==typeof t&&Symbol.toStringTag in t)&&"[object Arguments]"===Fa(t)},Ta=function(t){return!!Ea(t)||null!==t&&"object"==typeof t&&"number"==typeof t.length&&t.length>=0&&"[object Array]"!==Fa(t)&&"[object Function]"===Fa(t.callee)},Pa=function(){return Ea(arguments)}();Ea.isLegacyArguments=Ta,wa=Pa?Ea:Ta;var Ma,Oa={},_a=(sa=o("kTdIe"),o("5JAbb")),ja=o("4m3EJ")(),Ia=sa("%TypeError%"),ka={assert:function(t,e){if(!t||"object"!=typeof t&&"function"!=typeof t)throw new Ia("`O` is not an object");if("string"!=typeof e)throw new Ia("`slot` must be a string");if(ja.assert(t),!ka.has(t,e))throw new Ia("`"+e+"` is not present on `O`")},get:function(t,e){if(!t||"object"!=typeof t&&"function"!=typeof t)throw new Ia("`O` is not an object");if("string"!=typeof e)throw new Ia("`slot` must be a string");var r=ja.get(t);return r&&r["$"+e]},has:function(t,e){if(!t||"object"!=typeof t&&"function"!=typeof t)throw new Ia("`O` is not an object");if("string"!=typeof e)throw new Ia("`slot` must be a string");var r=ja.get(t);return!!r&&_a(r,"$"+e)},set:function(t,e,r){if(!t||"object"!=typeof t&&"function"!=typeof t)throw new Ia("`O` is not an object");if("string"!=typeof e)throw new Ia("`slot` must be a string");var n=ja.get(t);n||(n={},ja.set(t,n)),n["$"+e]=r}};Object.freeze&&Object.freeze(ka),Oa=ka;var Ra=SyntaxError,Ba="object"==typeof StopIteration?StopIteration:null;if(Ma=function(t){if(!Ba)throw new Ra("this environment lacks StopIteration");Oa.set(t,"[[Done]]",!1);var e={next:function(){var t=Oa.get(this,"[[Iterator]]"),e=Oa.get(t,"[[Done]]");try{return{done:e,value:e?void 0:t.next()}}catch(e){if(Oa.set(t,"[[Done]]",!0),e!==Ba)throw e;return{done:!0,value:void 0}}}};return Oa.set(e,"[[Iterator]]",t),e},o("5If4B")()||o("jDJsV")()){var Ca=Symbol.iterator;ca=function(t){return null!=t&&void 0!==t[Ca]?t[Ca]():wa(t)?Array.prototype[Ca].call(t):void 0}}else{var La=o("krMNj"),Da=o("7BgMa"),Ua=o("kTdIe"),za=Ua("%Map%",!0),Na=Ua("%Set%",!0),qa=o("amQm3"),Wa=qa("Array.prototype.push"),$a=qa("String.prototype.charCodeAt"),Va=qa("String.prototype.slice"),Ga=function(t){var e=0;return{next:function(){var r,n=e>=t.length;return n||(r=t[e],e+=1),{done:n,value:r}}}},Ha=function(t,e){if(La(t)||wa(t))return Ga(t);if(Da(t)){var r=0;return{next:function(){var e=function(t,e){if(e+1>=t.length)return e+1;var r=$a(t,e);if(r<55296||r>56319)return e+1;var n=$a(t,e+1);return n<56320||n>57343?e+1:e+2}(t,r),n=Va(t,r,e);return r=e,{done:e>t.length,value:n}}}}return e&&void 0!==t["_es6-shim iterator_"]?t["_es6-shim iterator_"]():void 0};if(za||Na){var Ya=o("3XkRp"),Za=o("fP2mY"),Xa=qa("Map.prototype.forEach",!0),Qa=qa("Set.prototype.forEach",!0);if(void 0===ia||!ia.versions||!ia.versions.node)var Ja=qa("Map.prototype.iterator",!0),Ka=qa("Set.prototype.iterator",!0);var tu=qa("Map.prototype.@@iterator",!0)||qa("Map.prototype._es6-shim iterator_",!0),eu=qa("Set.prototype.@@iterator",!0)||qa("Set.prototype._es6-shim iterator_",!0);ca=function(t){return function(t){if(Ya(t)){if(Ja)return Ma(Ja(t));if(tu)return tu(t);if(Xa){var e=[];return Xa(t,(function(t,r){Wa(e,[r,t])})),Ga(e)}}if(Za(t)){if(Ka)return Ma(Ka(t));if(eu)return eu(t);if(Qa){var r=[];return Qa(t,(function(t){Wa(r,t)})),Ga(r)}}}(t)||Ha(t)}}else ca=function(t){if(null!=t)return Ha(t,!0)}}var ru,nu=o("4m3EJ"),ou={},iu=(Ii=o("k9nBK"),function(t){return t!=t});ru=function(t,e){return 0===t&&0===e?1/t==1/e:t===e||!(!iu(t)||!iu(e))};var au,uu;uu=function(){var t=au();return mi(Object,{is:t},{is:function(){return Object.is!==t}}),t};var su=Ii((au=function(){return"function"==typeof Object.is?Object.is:ru})(),Object);mi(su,{getPolyfill:au,implementation:ru,shim:uu}),ou=su;var cu,fu,lu,pu=o("krMNj"),hu={},yu=(Ii=o("k9nBK"),Ri=o("amQm3"),sa=o("kTdIe"),{}),gu={},mu=Function.prototype.toString,du="object"==typeof Reflect&&null!==Reflect&&Reflect.apply;if("function"==typeof du&&"function"==typeof Object.defineProperty)try{fu=Object.defineProperty({},"length",{get:function(){throw lu}}),lu={},du((function(){throw 42}),null,fu)}catch(t){t!==lu&&(du=null)}else du=null;var bu=/^\s*class\b/,vu=function(t){try{var e=mu.call(t);return bu.test(e)}catch(t){return!1}},xu=function(t){try{return!vu(t)&&(mu.call(t),!0)}catch(t){return!1}},Au=Object.prototype.toString,wu="function"==typeof Symbol&&!!Symbol.toStringTag,Su=!(0 in[,]),Fu=function(){return!1};if("object"==typeof document){var Eu=document.all;Au.call(Eu)===Au.call(document.all)&&(Fu=function(t){if((Su||!t)&&(void 0===t||"object"==typeof t))try{var e=Au.call(t);return("[object HTMLAllCollection]"===e||"[object HTML document.all class]"===e||"[object HTMLCollection]"===e||"[object Object]"===e)&&null==t("")}catch(t){}return!1})}gu=du?function(t){if(Fu(t))return!0;if(!t)return!1;if("function"!=typeof t&&"object"!=typeof t)return!1;try{du(t,null,fu)}catch(t){if(t!==lu)return!1}return!vu(t)&&xu(t)}:function(t){if(Fu(t))return!0;if(!t)return!1;if("function"!=typeof t&&"object"!=typeof t)return!1;if(wu)return xu(t);if(vu(t))return!1;var e=Au.call(t);return!("[object Function]"!==e&&"[object GeneratorFunction]"!==e&&!/^\[object HTML/.test(e))&&xu(t)};var Tu=Object.prototype.toString,Pu=Object.prototype.hasOwnProperty,Mu=function(t,e,r){for(var n=0,o=t.length;n<o;n++)Pu.call(t,n)&&(null==r?e(t[n],n,t):e.call(r,t[n],n,t))},Ou=function(t,e,r){for(var n=0,o=t.length;n<o;n++)null==r?e(t.charAt(n),n,t):e.call(r,t.charAt(n),n,t)},_u=function(t,e,r){for(var n in t)Pu.call(t,n)&&(null==r?e(t[n],n,t):e.call(r,t[n],n,t))};yu=function(t,e,r){if(!gu(e))throw new TypeError("iterator must be a function");var n;arguments.length>=3&&(n=r),"[object Array]"===Tu.call(t)?Mu(t,e,n):"string"==typeof t?Ou(t,e,n):_u(t,e,n)};var ju,Iu=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],ku="undefined"==typeof globalThis?e:globalThis;ju=function(){for(var t=[],e=0;e<Iu.length;e++)"function"==typeof ku[Iu[e]]&&(t[t.length]=Iu[e]);return t};var Ru=(Ri=o("amQm3"))("Object.prototype.toString"),Bu=o("iAiC6")(),Cu={},Lu=(sa=o("kTdIe"))("%Object.getOwnPropertyDescriptor%",!0);if(Lu)try{Lu([],"length")}catch(t){Lu=null}Cu=Lu;var Du="undefined"==typeof globalThis?e:globalThis,Uu=ju(),zu=Ri("Array.prototype.indexOf",!0)||function(t,e){for(var r=0;r<t.length;r+=1)if(t[r]===e)return r;return-1},Nu=Ri("String.prototype.slice"),qu={},Wu=Object.getPrototypeOf;Bu&&Cu&&Wu&&yu(Uu,(function(t){var e=new Du[t];if(Symbol.toStringTag in e){var r=Wu(e),n=Cu(r,Symbol.toStringTag);if(!n){var o=Wu(r);n=Cu(o,Symbol.toStringTag)}qu[t]=n.get}}));cu=function(t){if(!t||"object"!=typeof t)return!1;if(!Bu||!(Symbol.toStringTag in t)){var e=Nu(Ru(t),8,-1);return zu(Uu,e)>-1}return!!Cu&&function(t){var e=!1;return yu(qu,(function(r,n){if(!e)try{e=r.call(t)===n}catch(t){}})),e}(t)};var $u=sa("ArrayBuffer",!0),Vu=sa("Float32Array",!0),Gu=Ri("ArrayBuffer.prototype.byteLength",!0),Hu=$u&&!Gu&&(new $u).slice,Yu=Hu&&Ii(Hu);hu=Gu||Yu?function(t){if(!t||"object"!=typeof t)return!1;try{return Gu?Gu(t):Yu(t,0),!0}catch(t){return!1}}:Vu?function(t){try{return new Vu(t).buffer===t&&!cu(t)}catch(e){return"object"==typeof t&&"RangeError"===e.name}}:function(t){return!1};var Zu={},Xu=Date.prototype.getDay,Qu=Object.prototype.toString,Ju=o("iAiC6")();Zu=function(t){return"object"==typeof t&&null!==t&&(Ju?function(t){try{return Xu.call(t),!0}catch(t){return!1}}(t):"[object Date]"===Qu.call(t))};var Ku,ts,es,rs,ns={},os=(Ri=o("amQm3"),o("iAiC6")());if(os){Ku=Ri("Object.prototype.hasOwnProperty"),ts=Ri("RegExp.prototype.exec"),es={};var is=function(){throw es};rs={toString:is,valueOf:is},"symbol"==typeof Symbol.toPrimitive&&(rs[Symbol.toPrimitive]=is)}var as=Ri("Object.prototype.toString"),us=Object.getOwnPropertyDescriptor;ns=os?function(t){if(!t||"object"!=typeof t)return!1;var e=us(t,"lastIndex");if(!(e&&Ku(e,"value")))return!1;try{ts(t,rs)}catch(t){return t===es}}:function(t){return!(!t||"object"!=typeof t&&"function"!=typeof t)&&"[object RegExp]"===as(t)};var ss={},cs=(Ri=o("amQm3"))("SharedArrayBuffer.prototype.byteLength",!0);ss=cs?function(t){if(!t||"object"!=typeof t)return!1;try{return cs(t),!0}catch(t){return!1}}:function(t){return!1};var fs,ls={},ps=o("7BgMa"),hs=Number.prototype.toString,ys=Object.prototype.toString,gs=o("iAiC6")();fs=function(t){return"number"==typeof t||"object"==typeof t&&(gs?function(t){try{return hs.call(t),!0}catch(t){return!1}}(t):"[object Number]"===ys.call(t))};var ms,ds=(Ri=o("amQm3"))("Boolean.prototype.toString"),bs=Ri("Object.prototype.toString"),vs=o("iAiC6")();ms=function(t){return"boolean"==typeof t||null!==t&&"object"==typeof t&&(vs&&Symbol.toStringTag in t?function(t){try{return ds(t),!0}catch(t){return!1}}(t):"[object Boolean]"===bs(t))};var xs={},As=Object.prototype.toString;if(o("5If4B")()){var ws=Symbol.prototype.toString,Ss=/^Symbol\(.*\)$/;xs=function(t){if("symbol"==typeof t)return!0;if("[object Symbol]"!==As.call(t))return!1;try{return function(t){return"symbol"==typeof t.valueOf()&&Ss.test(ws.call(t))}(t)}catch(t){return!1}}}else xs=function(t){return!1};var Fs={};if(o("bJr31")()){var Es=BigInt.prototype.valueOf;Fs=function(t){return null!=t&&"boolean"!=typeof t&&"string"!=typeof t&&"number"!=typeof t&&"symbol"!=typeof t&&"function"!=typeof t&&("bigint"==typeof t||function(t){try{return Es.call(t),!0}catch(t){}return!1}(t))}}else Fs=function(t){return!1};ls=function(t){return null==t||"object"!=typeof t&&"function"!=typeof t?null:ps(t)?"String":fs(t)?"Number":ms(t)?"Boolean":xs(t)?"Symbol":Fs(t)?"BigInt":void 0};var Ts,Ps={},Ms=o("3XkRp"),Os=o("fP2mY"),_s={},js="function"==typeof WeakMap&&WeakMap.prototype?WeakMap:null,Is="function"==typeof WeakSet&&WeakSet.prototype?WeakSet:null;js||(Ts=function(t){return!1});var ks=js?js.prototype.has:null,Rs=Is?Is.prototype.has:null;Ts||ks||(Ts=function(t){return!1}),_s=Ts||function(t){if(!t||"object"!=typeof t)return!1;try{if(ks.call(t,ks),Rs)try{Rs.call(t,Rs)}catch(t){return!0}return t instanceof js}catch(t){}return!1};var Bs={},Cs=(sa=o("kTdIe"),Ri=o("amQm3"),sa("%WeakSet%",!0)),Ls=Ri("WeakSet.prototype.has",!0);if(Ls){var Ds=Ri("WeakMap.prototype.has",!0);Bs=function(t){if(!t||"object"!=typeof t)return!1;try{if(Ls(t,Ls),Ds)try{Ds(t,Ds)}catch(t){return!0}return t instanceof Cs}catch(t){}return!1}}else Bs=function(t){return!1};Ps=function(t){if(t&&"object"==typeof t){if(Ms(t))return"Map";if(Os(t))return"Set";if(_s(t))return"WeakMap";if(Bs(t))return"WeakSet"}return!1};var Us={},zs=(Ri=o("amQm3"))("Object.prototype.toString"),Ns=o("iAiC6")(),qs="undefined"==typeof globalThis?e:globalThis,Ws=ju(),$s=Ri("String.prototype.slice"),Vs={},Gs=Object.getPrototypeOf;Ns&&Cu&&Gs&&yu(Ws,(function(t){if("function"==typeof qs[t]){var e=new qs[t];if(Symbol.toStringTag in e){var r=Gs(e),n=Cu(r,Symbol.toStringTag);if(!n){var o=Gs(r);n=Cu(o,Symbol.toStringTag)}Vs[t]=n.get}}}));Us=function(t){return!!cu(t)&&(Ns&&Symbol.toStringTag in t?function(t){var e=!1;return yu(Vs,(function(r,n){if(!e)try{var o=r.call(t);o===n&&(e=o)}catch(t){}})),e}(t):$s(zs(t),8,-1))};var Hs=Ri("ArrayBuffer.prototype.byteLength",!0)||function(t){return t.byteLength},Ys=Ri("SharedArrayBuffer.prototype.byteLength",!0),Zs=Ri("Date.prototype.getTime"),Xs=Object.getPrototypeOf,Qs=Ri("Object.prototype.toString"),Js=sa("%Set%",!0),Ks=Ri("Map.prototype.has",!0),tc=Ri("Map.prototype.get",!0),ec=Ri("Map.prototype.size",!0),rc=Ri("Set.prototype.add",!0),nc=Ri("Set.prototype.delete",!0),oc=Ri("Set.prototype.has",!0),ic=Ri("Set.prototype.size",!0);function ac(t,e,r,n){for(var o,i=ca(t);(o=i.next())&&!o.done;)if(lc(e,o.value,r,n))return nc(t,o.value),!0;return!1}function uc(t){return void 0===t?null:"object"!=typeof t?"symbol"!=typeof t&&("string"!=typeof t&&"number"!=typeof t||+t==+t):void 0}function sc(t,e,r,n,o,i){var a=uc(r);if(null!=a)return a;var u=tc(e,a),s=gi({},o,{strict:!1});return!(void 0===u&&!Ks(e,a)||!lc(n,u,s,i))&&(!Ks(t,a)&&lc(n,u,s,i))}function cc(t,e,r){var n=uc(r);return null!=n?n:oc(e,n)&&!oc(t,n)}function fc(t,e,r,n,o,i){for(var a,u,s=ca(t);(a=s.next())&&!a.done;)if(lc(r,u=a.value,o,i)&&lc(n,tc(e,u),o,i))return nc(t,u),!0;return!1}function lc(t,e,r,n){var o=r||{};if(o.strict?ou(t,e):t===e)return!0;if(ls(t)!==ls(e))return!1;if(!t||!e||"object"!=typeof t&&"object"!=typeof e)return o.strict?ou(t,e):t==e;var i,a=n.has(t),u=n.has(e);if(a&&u){if(n.get(t)===n.get(e))return!0}else i={};return a||n.set(t,i),u||n.set(e,i),function(t,e,r,n){var o,i;if(typeof t!=typeof e)return!1;if(null==t||null==e)return!1;if(Qs(t)!==Qs(e))return!1;if(wa(t)!==wa(e))return!1;var a=pu(t),u=pu(e);if(a!==u)return!1;var s=t instanceof Error,c=e instanceof Error;if(s!==c)return!1;if((s||c)&&(t.name!==e.name||t.message!==e.message))return!1;var f=ns(t),l=ns(e);if(f!==l)return!1;if((f||l)&&(t.source!==e.source||$i(t)!==$i(e)))return!1;var p=Zu(t),h=Zu(e);if(p!==h)return!1;if((p||h)&&Zs(t)!==Zs(e))return!1;if(r.strict&&Xs&&Xs(t)!==Xs(e))return!1;var y=Us(t),g=Us(e);if((y||g)&&y!==g)return!1;var m=pc(t),d=pc(e);if(m!==d)return!1;if(m||d){if(t.length!==e.length)return!1;for(o=0;o<t.length;o++)if(t[o]!==e[o])return!1;return!0}var b=hu(t),v=hu(e);if(b!==v)return!1;if(b||v)return Hs(t)===Hs(e)&&("function"==typeof Uint8Array&&lc(new Uint8Array(t),new Uint8Array(e),r,n));var x=ss(t),A=ss(e);if(x!==A)return!1;if(x||A)return Ys(t)===Ys(e)&&("function"==typeof Uint8Array&&lc(new Uint8Array(t),new Uint8Array(e),r,n));if(typeof t!=typeof e)return!1;var w=di(t),S=di(e);if(w.length!==S.length)return!1;for(w.sort(),S.sort(),o=w.length-1;o>=0;o--)if(w[o]!=S[o])return!1;for(o=w.length-1;o>=0;o--)if(!lc(t[i=w[o]],e[i],r,n))return!1;var F=Ps(t),E=Ps(e);return F===E&&("Set"===F||"Set"===E?function(t,e,r,n){if(ic(t)!==ic(e))return!1;var o,i,a,u=ca(t),s=ca(e);for(;(o=u.next())&&!o.done;)if(o.value&&"object"==typeof o.value)a||(a=new Js),rc(a,o.value);else if(!oc(e,o.value)){if(r.strict)return!1;if(!cc(t,e,o.value))return!1;a||(a=new Js),rc(a,o.value)}if(a){for(;(i=s.next())&&!i.done;)if(i.value&&"object"==typeof i.value){if(!ac(a,i.value,r.strict,n))return!1}else if(!r.strict&&!oc(t,i.value)&&!ac(a,i.value,r.strict,n))return!1;return 0===ic(a)}return!0}(t,e,r,n):"Map"!==F||function(t,e,r,n){if(ec(t)!==ec(e))return!1;var o,i,a,u,s,c,f=ca(t),l=ca(e);for(;(o=f.next())&&!o.done;)if(u=o.value[0],s=o.value[1],u&&"object"==typeof u)a||(a=new Js),rc(a,u);else if(void 0===(c=tc(e,u))&&!Ks(e,u)||!lc(s,c,r,n)){if(r.strict)return!1;if(!sc(t,e,u,s,r,n))return!1;a||(a=new Js),rc(a,u)}if(a){for(;(i=l.next())&&!i.done;)if(u=i.value[0],c=i.value[1],u&&"object"==typeof u){if(!fc(a,t,u,c,r,n))return!1}else if(!(r.strict||t.has(u)&&lc(tc(t,u),c,r,n)||fc(a,t,u,c,gi({},r,{strict:!1}),n)))return!1;return 0===ic(a)}return!0}(t,e,r,n))}(t,e,o,n)}function pc(t){return!(!t||"object"!=typeof t||"number"!=typeof t.length)&&("function"==typeof t.copy&&"function"==typeof t.slice&&(!(t.length>0&&"number"!=typeof t[0])&&!!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t))))}yi=function(t,e,r){return lc(t,e,r,nu())};var hc={};!function(t){"use strict";function e(t){return 10===t||13===t||8232===t||8233===t||32===t||9===t||11===t||12===t||160===t||t>=5760&&oe.indexOf(t)>=0}function r(t){switch(32|t){case 109:case 122:case 108:case 104:case 118:case 99:case 115:case 113:case 116:case 97:case 114:return!0}return!1}function n(t){return t>=48&&t<=57}function o(t){return t>=48&&t<=57||43===t||45===t||46===t}function i(t){this.index=0,this.path=t,this.max=t.length,this.result=[],this.param=0,this.err="",this.segmentStart=0,this.data=[]}function a(t){for(;t.index<t.max&&e(t.path.charCodeAt(t.index));)t.index++}function u(t){var e,r=t.index,o=r,i=t.max,a=!1,u=!1,s=!1,c=!1;if(o>=i)t.err="SvgPath: missed param (at pos "+o+")";else if(43!==(e=t.path.charCodeAt(o))&&45!==e||(e=++o<i?t.path.charCodeAt(o):0),n(e)||46===e){if(46!==e){if(a=48===e,e=++o<i?t.path.charCodeAt(o):0,a&&o<i&&e&&n(e))return void(t.err="SvgPath: numbers started with `0` such as `09` are ilegal (at pos "+r+")");for(;o<i&&n(t.path.charCodeAt(o));)o++,u=!0;e=o<i?t.path.charCodeAt(o):0}if(46===e){for(c=!0,o++;n(t.path.charCodeAt(o));)o++,s=!0;e=o<i?t.path.charCodeAt(o):0}if(101===e||69===e){if(c&&!u&&!s)return void(t.err="SvgPath: invalid float exponent (at pos "+o+")");if(43!==(e=++o<i?t.path.charCodeAt(o):0)&&45!==e||o++,!(o<i&&n(t.path.charCodeAt(o))))return void(t.err="SvgPath: invalid float exponent (at pos "+o+")");for(;o<i&&n(t.path.charCodeAt(o));)o++}t.index=o,t.param=parseFloat(t.path.slice(r,o))+0}else t.err="SvgPath: param should start with 0..9 or `.` (at pos "+o+")"}function s(t){var e,r;r=(e=t.path[t.segmentStart]).toLowerCase();var n=t.data;if("m"===r&&n.length>2&&(t.result.push([e,n[0],n[1]]),n=n.slice(2),r="l",e="m"===e?"l":"L"),"r"===r)t.result.push([e].concat(n));else for(;n.length>=ne[r]&&(t.result.push([e].concat(n.splice(0,ne[r]))),ne[r]););}function c(t){var e,n,i,c=t.max;if(t.segmentStart=t.index,r(t.path.charCodeAt(t.index)))if(n=ne[t.path[t.index].toLowerCase()],t.index++,a(t),t.data=[],n){for(e=!1;;){for(i=n;i>0;i--){if(u(t),t.err.length)return;t.data.push(t.param),a(t),e=!1,t.index<c&&44===t.path.charCodeAt(t.index)&&(t.index++,a(t),e=!0)}if(!e){if(t.index>=t.max)break;if(!o(t.path.charCodeAt(t.index)))break}}s(t)}else s(t);else t.err="SvgPath: bad command "+t.path[t.index]+" (at pos "+t.index+")"}function f(t,e){return[t[0]*e[0]+t[2]*e[1],t[1]*e[0]+t[3]*e[1],t[0]*e[2]+t[2]*e[3],t[1]*e[2]+t[3]*e[3],t[0]*e[4]+t[2]*e[5]+t[4],t[1]*e[4]+t[3]*e[5]+t[5]]}function l(){if(!(this instanceof l))return new l;this.queue=[],this.cache=null}function p(t,e,r,n){var o=t*n-e*r<0?-1:1,i=(t*r+e*n)/(Math.sqrt(t*t+e*e)*Math.sqrt(t*t+e*e));return i>1&&(i=1),i<-1&&(i=-1),o*Math.acos(i)}function h(t,e,r,n,o,i,a,u,s,c){var f=c*(t-r)/2+s*(e-n)/2,l=-s*(t-r)/2+c*(e-n)/2,h=a*a,y=u*u,g=f*f,m=l*l,d=h*y-h*m-y*g;d<0&&(d=0),d/=h*m+y*g;var b=(d=Math.sqrt(d)*(o===i?-1:1))*a/u*l,v=d*-u/a*f,x=c*b-s*v+(t+r)/2,A=s*b+c*v+(e+n)/2,w=(f-b)/a,S=(l-v)/u,F=(-f-b)/a,E=(-l-v)/u,T=p(1,0,w,S),P=p(w,S,F,E);return 0===i&&P>0&&(P-=le),1===i&&P<0&&(P+=le),[x,A,T,P]}function y(t,e){var r=4/3*Math.tan(e/4),n=Math.cos(t),o=Math.sin(t),i=Math.cos(t+e),a=Math.sin(t+e);return[n,o,n-o*r,o+n*r,i+a*r,a-i*r,i,a]}function g(t,e,r){if(!(this instanceof g))return new g(t,e,r);this.rx=t,this.ry=e,this.ax=r}function m(t){if(!(this instanceof m))return new m(t);var e=ie(t);this.segments=e.segments,this.err=e.err,this.__stack=[]}function d(t){var e=t.match(ve);return e?e.map(Number):[]}function b(t,e,r,n,o,i,a,u){this.a={x:t,y:e},this.b={x:r,y:n},this.c={x:o,y:i},this.d={x:a,y:u},null!=a&&null!=u?(this.getArcLength=M,this.getPoint=S,this.getDerivative=x):(this.getArcLength=F,this.getPoint=w,this.getDerivative=v),this.init()}function v(t,e,r){return{x:2*(1-r)*(t[1]-t[0])+2*r*(t[2]-t[1]),y:2*(1-r)*(e[1]-e[0])+2*r*(e[2]-e[1])}}function x(t,e,r){return w([3*(t[1]-t[0]),3*(t[2]-t[1]),3*(t[3]-t[2])],[3*(e[1]-e[0]),3*(e[2]-e[1]),3*(e[3]-e[2])],r)}function A(t,e,r,n,o){for(var i=1,a=t/e,u=(t-r(n,o,a))/e;i>.001;){var s=r(n,o,a+u),c=r(n,o,a-u),f=Math.abs(t-s)/e,l=Math.abs(t-c)/e;f<i?(i=f,a+=u):l<i?(i=l,a-=u):u/=2}return a}function w(t,e,r){return{x:(1-r)*(1-r)*t[0]+2*(1-r)*r*t[1]+r*r*t[2],y:(1-r)*(1-r)*e[0]+2*(1-r)*r*e[1]+r*r*e[2]}}function S(t,e,r){return{x:(1-r)*(1-r)*(1-r)*t[0]+3*(1-r)*(1-r)*r*t[1]+3*(1-r)*r*r*t[2]+r*r*r*t[3],y:(1-r)*(1-r)*(1-r)*e[0]+3*(1-r)*(1-r)*r*e[1]+3*(1-r)*r*r*e[2]+r*r*r*e[3]}}function F(t,e,r){void 0===r&&(r=1);var n=t[0]-2*t[1]+t[2],o=e[0]-2*e[1]+e[2],i=2*t[1]-2*t[0],a=2*e[1]-2*e[0],u=4*(n*n+o*o),s=4*(n*i+o*a),c=i*i+a*a;if(0===u)return r*Math.sqrt(Math.pow(t[2]-t[0],2)+Math.pow(e[2]-e[0],2));var f=s/(2*u),l=r+f,p=c/u-f*f;return Math.sqrt(u)/2*(l*Math.sqrt(l*l+p)-f*Math.sqrt(f*f+p)+p*Math.log(Math.abs((l+Math.sqrt(l*l+p))/(f+Math.sqrt(f*f+p)))))}function E(t,e){return Se[t][e]}function T(t,e,r){var n,o,i,a=r.length-1;if(0===a)return 0;if(0===t){for(o=0,i=0;i<=a;i++)o+=E(a,i)*Math.pow(1-e,a-i)*Math.pow(e,i)*r[i];return o}for(n=new Array(a),i=0;i<a;i++)n[i]=a*(r[i+1]-r[i]);return T(t-1,e,n)}function P(t,e,r){var n=T(1,r,t),o=T(1,r,e),i=n*n+o*o;return Math.sqrt(i)}function M(t,e,r){var n,o,i,a;for(void 0===r&&(r=1),n=r/2,o=0,i=0;i<20;i++)a=n*Ae[20][i]+n,o+=we[20][i]*P(t,e,a);return n*o}function O(t,e,r,n){var o=t*r+e*n;return o>1&&(o=1),o<-1&&(o=-1),(t*n-e*r<0?-1:1)*Math.acos(o)}function _(t,e,r,n,o,i,a,u,s,c){var f=c*(t-r)/2+s*(e-n)/2,l=-s*(t-r)/2+c*(e-n)/2,p=a*a,h=u*u,y=f*f,g=l*l,m=p*h-p*g-h*y;m<0&&(m=0),m/=p*g+h*y;var d=(m=Math.sqrt(m)*(o===i?-1:1))*a/u*l,b=m*-u/a*f,v=c*d-s*b+(t+r)/2,x=s*d+c*b+(e+n)/2,A=(f-d)/a,w=(l-b)/u,S=(-f-d)/a,F=(-l-b)/u,E=O(1,0,A,w),T=O(A,w,S,F);return 0===i&&T>0&&(T-=Fe),1===i&&T<0&&(T+=Fe),[v,x,E,T]}function j(t,e){var r=4/3*Math.tan(e/4),n=Math.cos(t),o=Math.sin(t),i=Math.cos(t+e),a=Math.sin(t+e);return[n,o,n-o*r,o+n*r,i+a*r,a-i*r,i,a]}function I(t,e,r,n,o,i,a,u,s){var c=0,f=[],l=[];Ee(t,e,r,n,o,i,a,u,s).forEach((function(t){var e=new xe(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]),r=e.getTotalLength();c+=r,f.push(r),l.push(e)})),this.length=c,this.partialLengths=f,this.curves=l}function k(t,e,r,n){this.x0=t,this.x1=e,this.y0=r,this.y1=n}function R(t,e){return Math.sqrt((t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1]))}function B(t,e,r){return[t[0]+(e[0]-t[0])*r,t[1]+(e[1]-t[1])*r]}function C(t,e){return R(t,e)<1e-9}function L(t,e,r){var n=t.map((function(t,r){return D(t,e[r])}));return function(t){var e=n.map((function(e){return e(t)}));return r?$(e):e}}function D(t,e){return function(r){return t.map((function(t,n){return t+r*(e[n]-t)}))}}function U(t){return"number"==typeof t&&isFinite(t)}function z(t){return N(t)?ee(t):[(t[0][0]+t[t.length-1][0])/2,(t[0][1]+t[t.length-1][1])/2]}function N(t){for(var e=0;e<t.length-2;e++){var r=t[e],n=t[e+1],o=t[e+2];if(r[0]*(n[1]-o[1])+n[0]*(o[1]-r[1])+o[0]*(r[1]-n[1]))return!0}return!1}function q(t){return new ge(t).abs()}function W(t){return t.toString().split("M").map((function(t,e){return t=t.trim(),e&&t?"M"+t:t})).filter((function(t){return t}))}function $(t){return"M"+t.join("L")+"Z"}function V(t){return W(q(t))}function G(t,e){var r=q(t);return H(r)||Y(r,e)}function H(t){var e=t.segments||[],r=[];if(!e.length||"M"!==e[0][0])return!1;for(var n=0;n<e.length;n++){var o=e[n],i=o[0],a=o[1],u=o[2];if("M"===i&&n||"Z"===i)break;if("M"===i||"L"===i)r.push([a,u]);else if("H"===i)r.push([a,r[r.length-1][1]]);else{if("V"!==i)return!1;r.push([r[r.length-1][0],a])}}return!!r.length&&{ring:r}}function Y(t,e){var r,n,o=W(t)[0],i=[],a=3;if(!o)throw new TypeError(Oe);r=(n=Z(o)).getTotalLength(),e&&U(e)&&e>0&&(a=Math.max(a,Math.ceil(r/e)));for(var u=0;u<a;u++){var s=n.getPointAtLength(r*u/a);i.push([s.x,s.y])}return{ring:i,skipBisect:!0}}function Z(t){if("undefined"!=typeof window&&window&&window.document)try{var e=window.document.createElementNS("http://www.w3.org/2000/svg","path");return e.setAttributeNS(null,"d",t),e}catch(t){}return Me(t)}function X(t,e){for(var r=t.length+e,n=re(t)/e,o=0,i=0,a=n/2;t.length<r;){var u=t[o],s=t[(o+1)%t.length],c=R(u,s);a<=i+c?(t.splice(o+1,0,c?B(u,s,(a-i)/c):u.slice(0)),a+=n):(i+=c,o++)}}function Q(t,e){void 0===e&&(e=1/0);for(var r=0;r<t.length;r++)for(var n=t[r],o=r===t.length-1?t[0]:t[r+1];R(n,o)>e;)o=B(n,o,.5),t.splice(r+1,0,o)}function J(t,e){var r,n;if("string"==typeof t){var o=G(t,e);t=o.ring,n=o.skipBisect}else if(!Array.isArray(t))throw new TypeError(Oe);if(!K(r=t.slice(0)))throw new TypeError(Oe);return r.length>1&&C(r[0],r[r.length-1])&&r.pop(),te(r)>0&&r.reverse(),!n&&e&&U(e)&&e>0&&Q(r,e),r}function K(t){return t.every((function(t){return Array.isArray(t)&&t.length>=2&&U(t[0])&&U(t[1])}))}function tt(t,e,r){var n;return X(t,(n=t.length-e.length)<0?-1*n:0),X(e,n>0?n:0),je(t,e),L(t,e,r)}function et(t,e,r){r=r||2;var n,o,i,a,u,s,c,f=e&&e.length,l=f?e[0]*r:t.length,p=rt(t,0,l,r,!0),h=[];if(!p)return h;if(f&&(p=ct(t,e,p,r)),t.length>80*r){n=i=t[0],o=a=t[1];for(var y=r;y<l;y+=r)(u=t[y])<n&&(n=u),(s=t[y+1])<o&&(o=s),u>i&&(i=u),s>a&&(a=s);c=Math.max(i-n,a-o)}return ot(p,h,r,n,o,c),h}function rt(t,e,r,n,o){var i,a;if(o===Ot(t,e,r,n)>0)for(i=e;i<r;i+=n)a=Tt(i,t[i],t[i+1],a);else for(i=r-n;i>=e;i-=n)a=Tt(i,t[i],t[i+1],a);return a&&xt(a,a.next)&&(Pt(a),a=a.next),a}function nt(t,e){if(!t)return t;e||(e=t);var r,n=t;do{if(r=!1,n.steiner||!xt(n,n.next)&&0!==vt(n.prev,n,n.next))n=n.next;else{if(Pt(n),(n=e=n.prev)===n.next)return null;r=!0}}while(r||n!==e);return e}function ot(t,e,r,n,o,i,a){if(t){!a&&i&&ht(t,n,o,i);for(var u,s,c=t;t.prev!==t.next;)if(u=t.prev,s=t.next,i?at(t,n,o,i):it(t))e.push(u.i/r),e.push(t.i/r),e.push(s.i/r),Pt(t),t=s.next,c=s.next;else if((t=s)===c){a?1===a?ot(t=ut(t,e,r),e,r,n,o,i,2):2===a&&st(t,e,r,n,o,i):ot(nt(t),e,r,n,o,i,1);break}}}function it(t){var e=t.prev,r=t,n=t.next;if(vt(e,r,n)>=0)return!1;for(var o=t.next.next;o!==t.prev;){if(dt(e.x,e.y,r.x,r.y,n.x,n.y,o.x,o.y)&&vt(o.prev,o,o.next)>=0)return!1;o=o.next}return!0}function at(t,e,r,n){var o=t.prev,i=t,a=t.next;if(vt(o,i,a)>=0)return!1;for(var u=o.x<i.x?o.x<a.x?o.x:a.x:i.x<a.x?i.x:a.x,s=o.y<i.y?o.y<a.y?o.y:a.y:i.y<a.y?i.y:a.y,c=o.x>i.x?o.x>a.x?o.x:a.x:i.x>a.x?i.x:a.x,f=o.y>i.y?o.y>a.y?o.y:a.y:i.y>a.y?i.y:a.y,l=gt(u,s,e,r,n),p=gt(c,f,e,r,n),h=t.nextZ;h&&h.z<=p;){if(h!==t.prev&&h!==t.next&&dt(o.x,o.y,i.x,i.y,a.x,a.y,h.x,h.y)&&vt(h.prev,h,h.next)>=0)return!1;h=h.nextZ}for(h=t.prevZ;h&&h.z>=l;){if(h!==t.prev&&h!==t.next&&dt(o.x,o.y,i.x,i.y,a.x,a.y,h.x,h.y)&&vt(h.prev,h,h.next)>=0)return!1;h=h.prevZ}return!0}function ut(t,e,r){var n=t;do{var o=n.prev,i=n.next.next;!xt(o,i)&&At(o,n,n.next,i)&&St(o,i)&&St(i,o)&&(e.push(o.i/r),e.push(n.i/r),e.push(i.i/r),Pt(n),Pt(n.next),n=t=i),n=n.next}while(n!==t);return n}function st(t,e,r,n,o,i){var a=t;do{for(var u=a.next.next;u!==a.prev;){if(a.i!==u.i&&bt(a,u)){var s=Et(a,u);return a=nt(a,a.next),s=nt(s,s.next),ot(a,e,r,n,o,i),void ot(s,e,r,n,o,i)}u=u.next}a=a.next}while(a!==t)}function ct(t,e,r,n){var o,i,a,u=[];for(o=0,i=e.length;o<i;o++)(a=rt(t,e[o]*n,o<i-1?e[o+1]*n:t.length,n,!1))===a.next&&(a.steiner=!0),u.push(mt(a));for(u.sort(ft),o=0;o<u.length;o++)lt(u[o],r),r=nt(r,r.next);return r}function ft(t,e){return t.x-e.x}function lt(t,e){if(e=pt(t,e)){var r=Et(e,t);nt(r,r.next)}}function pt(t,e){var r,n=e,o=t.x,i=t.y,a=-1/0;do{if(i<=n.y&&i>=n.next.y){var u=n.x+(i-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(u<=o&&u>a){if(a=u,u===o){if(i===n.y)return n;if(i===n.next.y)return n.next}r=n.x<n.next.x?n:n.next}}n=n.next}while(n!==e);if(!r)return null;if(o===a)return r.prev;var s,c=r,f=r.x,l=r.y,p=1/0;for(n=r.next;n!==c;)o>=n.x&&n.x>=f&&dt(i<l?o:a,i,f,l,i<l?a:o,i,n.x,n.y)&&((s=Math.abs(i-n.y)/(o-n.x))<p||s===p&&n.x>r.x)&&St(n,t)&&(r=n,p=s),n=n.next;return r}function ht(t,e,r,n){var o=t;do{null===o.z&&(o.z=gt(o.x,o.y,e,r,n)),o.prevZ=o.prev,o.nextZ=o.next,o=o.next}while(o!==t);o.prevZ.nextZ=null,o.prevZ=null,yt(o)}function yt(t){var e,r,n,o,i,a,u,s,c=1;do{for(r=t,t=null,i=null,a=0;r;){for(a++,n=r,u=0,e=0;e<c&&(u++,n=n.nextZ);e++);for(s=c;u>0||s>0&&n;)0===u?(o=n,n=n.nextZ,s--):0!==s&&n?r.z<=n.z?(o=r,r=r.nextZ,u--):(o=n,n=n.nextZ,s--):(o=r,r=r.nextZ,u--),i?i.nextZ=o:t=o,o.prevZ=i,i=o;r=n}i.nextZ=null,c*=2}while(a>1);return t}function gt(t,e,r,n,o){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-r)/o)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-n)/o)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function mt(t){var e=t,r=t;do{e.x<r.x&&(r=e),e=e.next}while(e!==t);return r}function dt(t,e,r,n,o,i,a,u){return(o-a)*(e-u)-(t-a)*(i-u)>=0&&(t-a)*(n-u)-(r-a)*(e-u)>=0&&(r-a)*(i-u)-(o-a)*(n-u)>=0}function bt(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!wt(t,e)&&St(t,e)&&St(e,t)&&Ft(t,e)}function vt(t,e,r){return(e.y-t.y)*(r.x-e.x)-(e.x-t.x)*(r.y-e.y)}function xt(t,e){return t.x===e.x&&t.y===e.y}function At(t,e,r,n){return!!(xt(t,e)&&xt(r,n)||xt(t,n)&&xt(r,e))||vt(t,e,r)>0!=vt(t,e,n)>0&&vt(r,n,t)>0!=vt(r,n,e)>0}function wt(t,e){var r=t;do{if(r.i!==t.i&&r.next.i!==t.i&&r.i!==e.i&&r.next.i!==e.i&&At(r,r.next,t,e))return!0;r=r.next}while(r!==t);return!1}function St(t,e){return vt(t.prev,t,t.next)<0?vt(t,e,t.next)>=0&&vt(t,t.prev,e)>=0:vt(t,e,t.prev)<0||vt(t,t.next,e)<0}function Ft(t,e){var r=t,n=!1,o=(t.x+e.x)/2,i=(t.y+e.y)/2;do{r.y>i!=r.next.y>i&&o<(r.next.x-r.x)*(i-r.y)/(r.next.y-r.y)+r.x&&(n=!n),r=r.next}while(r!==t);return n}function Et(t,e){var r=new Mt(t.i,t.x,t.y),n=new Mt(e.i,e.x,e.y),o=t.next,i=e.prev;return t.next=e,e.prev=t,r.next=o,o.prev=r,n.next=r,r.prev=n,i.next=n,n.prev=i,n}function Tt(t,e,r,n){var o=new Mt(t,e,r);return n?(o.next=n.next,o.prev=n,n.next.prev=o,n.next=o):(o.prev=o,o.next=o),o}function Pt(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function Mt(t,e,r){this.i=t,this.x=e,this.y=r,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function Ot(t,e,r,n){for(var o=0,i=e,a=r-n;i<r;i+=n)o+=(t[a]-t[i])*(t[i+1]+t[a+1]),a=i;return o}function _t(t,e){var r=e.id,n=e.bbox,o=null==e.properties?{}:e.properties,i=jt(t,e);return null==r&&null==n?{type:"Feature",properties:o,geometry:i}:null==n?{type:"Feature",id:r,properties:o,geometry:i}:{type:"Feature",id:r,bbox:n,properties:o,geometry:i}}function jt(t,e){function r(t,e){e.length&&e.pop();for(var r=c[t<0?~t:t],n=0,o=r.length;n<o;++n)e.push(s(r[n],n));t<0&&Ce(e,o)}function n(t){return s(t)}function o(t){for(var e=[],n=0,o=t.length;n<o;++n)r(t[n],e);return e.length<2&&e.push(e[0]),e}function i(t){for(var e=o(t);e.length<4;)e.push(e[0]);return e}function a(t){return t.map(i)}function u(t){var e,r=t.type;switch(r){case"GeometryCollection":return{type:r,geometries:t.geometries.map(u)};case"Point":e=n(t.coordinates);break;case"MultiPoint":e=t.coordinates.map(n);break;case"LineString":e=o(t.arcs);break;case"MultiLineString":e=t.arcs.map(o);break;case"Polygon":e=a(t.arcs);break;case"MultiPolygon":e=t.arcs.map(a);break;default:return null}return{type:r,coordinates:e}}var s=Be(t.transform),c=t.arcs;return u(e)}function It(t){for(var e,r=-1,n=t.length,o=t[n-1],i=0;++r<n;)e=o,o=t[r],i+=e[0]*o[1]-e[1]*o[0];return Math.abs(i)}function kt(t,e){function r(t){switch(t.type){case"GeometryCollection":t.geometries.forEach(r);break;case"Polygon":n(t.arcs);break;case"MultiPolygon":t.arcs.forEach(n)}}function n(t){t.forEach((function(e){e.forEach((function(e){(i[e=e<0?~e:e]||(i[e]=[])).push(t)}))})),a.push(t)}function o(e){return It(jt(t,{type:"Polygon",arcs:[e]}).coordinates[0])}var i={},a=[],u=[];return e.forEach(r),a.forEach((function(t){if(!t._){var e=[],r=[t];for(t._=1,u.push(e);t=r.pop();)e.push(t),t.forEach((function(t){t.forEach((function(t){i[t<0?~t:t].forEach((function(t){t._||(t._=1,r.push(t))}))}))}))}})),a.forEach((function(t){delete t._})),{type:"MultiPolygon",arcs:u.map((function(e){var r,n=[];if(e.forEach((function(t){t.forEach((function(t){t.forEach((function(t){i[t<0?~t:t].length<2&&n.push(t)}))}))})),(r=(n=De(t,n)).length)>1)for(var a,u,s=1,c=o(n[0]);s<r;++s)(a=o(n[s]))>c&&(u=n[0],n[0]=n[s],n[s]=u,c=a);return n}))}}function Rt(t){return function(e,r){return Ne(t(e),r)}}function Bt(t,e){var r={},n={type:"Topology",objects:{triangles:{type:"GeometryCollection",geometries:[]}},arcs:[]};return t.forEach((function(t){var o=[];t.forEach((function(t,i){var a=t[0]<t[1]?t.join(","):t[1]+","+t[0],u=t.map((function(t){return e[t]}));a in r?o.push(~r[a]):(o.push(r[a]=n.arcs.length),n.arcs.push(u))})),n.objects.triangles.geometries.push({type:"Polygon",area:Math.abs(te(t.map((function(t){return e[t[0]]})))),arcs:[o]})})),n.objects.triangles.geometries.sort((function(t,e){return t.area-e.area})),n}function Ct(t,e){for(var r=t.objects.triangles.geometries,n=qe((function(t){return t.area})).left;r.length>e;)!function(){var e=r[0],o=ze(r)[0][0],i=r[o],a=kt(t,[e,i]);a.area=e.area+i.area,a.type="Polygon",a.arcs=a.arcs[0],r.splice(o,1),r.shift(),r.splice(n(r,a.area),0,a)}();if(e>r.length)throw new RangeError("Can't collapse topology into "+e+" pieces.");return Le(t,t.objects.triangles).features.map((function(t){return t.geometry.coordinates[0].pop(),t.geometry.coordinates[0]}))}function Lt(t){for(var e=ke(t.reduce((function(t,e){return t.concat([e[0]],[e[1]])}),[])),r=[],n=0,o=e.length;n<o;n+=3)r.push([[e[n],e[n+1]],[e[n+1],e[n+2]],[e[n+2],e[n]]]);return r}function Dt(t,e,r){function n(t,e,a){void 0===e&&(e=[]),void 0===a&&(a=0);for(var u=0;u<t.length;u++){var s=t.splice(u,1),c=r[s[0]][e.length];a+c<o&&(t.length?n(t.slice(),e.concat(s),a+c):(o=a+c,i=e.concat(s))),t.length&&t.splice(u,0,s[0])}}var o=1/0,i=t.map((function(t,e){return e}));return n(i),i}function Ut(t,e){var r=R(z(t),z(e));return r*r}function zt(t,e,r){void 0===r&&(r={});var n=r.maxSegmentLength;void 0===n&&(n=10);var o=r.string;void 0===o&&(o=!0);var i=r.single;void 0===i&&(i=!1);var a=J(t,n);a.length<e.length+2&&X(a,e.length+2-a.length);var u,s=We(a,e.length),c=e.map((function(t){return J(t,n)})),f="string"==typeof t&&t;return i&&!e.every((function(t){return"string"==typeof t}))||(u=e.slice(0)),Wt(s,c,{match:!0,string:o,single:i,t0:f,t1:u})}function Nt(t,e,r){void 0===r&&(r={});var n=r.maxSegmentLength;void 0===n&&(n=10);var o=r.string;void 0===o&&(o=!0);var i=r.single;void 0===i&&(i=!1);var a=zt(e,t,{maxSegmentLength:n,string:o,single:i});return i?function(t){return a(1-t)}:a.map((function(t){return function(e){return t(1-e)}}))}function qt(t,e,r){void 0===r&&(r={});var n=r.maxSegmentLength;void 0===n&&(n=10);var o=r.string;void 0===o&&(o=!0);var i=r.single;if(void 0===i&&(i=!1),!Array.isArray(t)||!Array.isArray(e)||t.length!==e.length||!t.length)throw new TypeError(_e);var a,u,s=function(t){return J(t,n)},c=t.map(s),f=e.map(s);return i?(t.every((function(t){return"string"==typeof t}))&&(a=t.slice(0)),e.every((function(t){return"string"==typeof t}))&&(u=e.slice(0))):(a=t.slice(0),u=e.slice(0)),Wt(c,f,{string:o,single:i,t0:a,t1:u,match:!1})}function Wt(t,e,r){void 0===r&&(r={});var n=r.string,o=r.single,i=r.t0,a=r.t1,u=r.match,s=u?$e(t,e):t.map((function(t,e){return e})),c=s.map((function(r,o){return tt(t[r],e[o],n)}));if(u&&Array.isArray(i)&&(i=s.map((function(t){return i[t]}))),o&&n&&(Array.isArray(i)&&(i=i.join(" ")),Array.isArray(a)&&(a=a.join(" "))),o){var f=n?function(t){return c.map((function(e){return e(t)})).join(" ")}:function(t){return c.map((function(e){return e(t)}))};return n&&(i||a)?function(t){return t<1e-4&&i||1-t<1e-4&&a||f(t)}:f}return n?(i=Array.isArray(i)?i.map((function(t){return"string"==typeof t&&t})):[],a=Array.isArray(a)?a.map((function(t){return"string"==typeof t&&t})):[],c.map((function(t,e){return i[e]||a[e]?function(r){return r<1e-4&&i[e]||1-r<1e-4&&a[e]||t(r)}:t}))):c}function $t(t,e,r,n,o){return Yt(Zt(t,e,r),n,Jt(t,e,r),2*Math.PI*r,o)}function Vt(t,e,r,n,o){var i=$t(e,r,n,t,o);return function(t){return i(1-t)}}function Gt(t,e,r,n,o,i){return Yt(Xt(t,e,r,n),o,Kt(t,e,r,n),2*r+2*n,i)}function Ht(t,e,r,n,o,i){var a=Gt(e,r,n,o,t,i);return function(t){return a(1-t)}}function Yt(t,e,r,n,o){void 0===o&&(o={});var i=o.maxSegmentLength;void 0===i&&(i=10);var a=o.string;void 0===a&&(a=!0);var u,s,c=J(e,i);return U(n)&&c.length<n/i&&X(c,Math.ceil(n/i-c.length)),u=t(c),s=L(u,c,a),a?function(t){return t<1e-4?r:s(t)}:s}function Zt(t,e,r){return function(n){var o=z(n),i=re(n.concat([n[0]])),a=Math.atan2(n[0][1]-o[1],n[0][0]-o[0]),u=0;return n.map((function(o,s){var c;return s&&(u+=R(o,n[s-1])),c=a+2*Math.PI*(i?u/i:s/n.length),[Math.cos(c)*r+t,Math.sin(c)*r+e]}))}}function Xt(t,e,r,n){return function(o){var i=z(o),a=re(o.concat([o[0]])),u=Math.atan2(o[0][1]-i[1],o[0][0]-i[0]),s=0;u<0&&(u=2*Math.PI+u);var c=u/(2*Math.PI);return o.map((function(i,u){u&&(s+=R(i,o[u-1]));var f=Qt((c+(a?s/a:u/o.length))%1);return[t+f[0]*r,e+f[1]*n]}))}}function Qt(t){return t<=1/8?[1,.5+4*t]:t<=3/8?[1.5-4*t,1]:t<=5/8?[0,2.5-4*t]:t<=7/8?[4*t-2.5,0]:[1,4*t-3.5]}function Jt(t,e,r){var n=t-r+","+e,o="A"+r+","+r+",0,1,1,";return"M"+n+o+(t+r)+","+e+o+n+"Z"}function Kt(t,e,r,n){var o=t+r,i=e+n;return"M"+t+","+e+"L"+o+","+e+"L"+o+","+i+"L"+t+","+i+"Z"}var te=function(t){for(var e,r=-1,n=t.length,o=t[n-1],i=0;++r<n;)e=o,o=t[r],i+=e[1]*o[0]-e[0]*o[1];return i/2},ee=function(t){for(var e,r,n=-1,o=t.length,i=0,a=0,u=t[o-1],s=0;++n<o;)e=u,u=t[n],s+=r=e[0]*u[1]-u[0]*e[1],i+=(e[0]+u[0])*r,a+=(e[1]+u[1])*r;return[i/(s*=3),a/s]},re=function(t){for(var e,r,n=-1,o=t.length,i=t[o-1],a=i[0],u=i[1],s=0;++n<o;)e=a,r=u,e-=a=(i=t[n])[0],r-=u=i[1],s+=Math.sqrt(e*e+r*r);return s},ne={a:7,c:6,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,z:0},oe=[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279],ie=function(t){var e=new i(t),r=e.max;for(a(e);e.index<r&&!e.err.length;)c(e);return e.err.length?e.result=[]:e.result.length&&("mM".indexOf(e.result[0][0])<0?(e.err="SvgPath: string should start with `M` or `m`",e.result=[]):e.result[0][0]="M"),{err:e.err,segments:e.result}};l.prototype.matrix=function(t){return 1===t[0]&&0===t[1]&&0===t[2]&&1===t[3]&&0===t[4]&&0===t[5]||(this.cache=null,this.queue.push(t)),this},l.prototype.translate=function(t,e){return 0===t&&0===e||(this.cache=null,this.queue.push([1,0,0,1,t,e])),this},l.prototype.scale=function(t,e){return 1===t&&1===e||(this.cache=null,this.queue.push([t,0,0,e,0,0])),this},l.prototype.rotate=function(t,e,r){var n,o,i;return 0!==t&&(this.translate(e,r),n=t*Math.PI/180,o=Math.cos(n),i=Math.sin(n),this.queue.push([o,i,-i,o,0,0]),this.cache=null,this.translate(-e,-r)),this},l.prototype.skewX=function(t){return 0!==t&&(this.cache=null,this.queue.push([1,0,Math.tan(t*Math.PI/180),1,0,0])),this},l.prototype.skewY=function(t){return 0!==t&&(this.cache=null,this.queue.push([1,Math.tan(t*Math.PI/180),0,1,0,0])),this},l.prototype.toArray=function(){var t=this;if(this.cache)return this.cache;if(!this.queue.length)return this.cache=[1,0,0,1,0,0],this.cache;if(this.cache=this.queue[0],1===this.queue.length)return this.cache;for(var e=1;e<this.queue.length;e++)t.cache=f(t.cache,t.queue[e]);return this.cache},l.prototype.calc=function(t,e,r){var n;return this.queue.length?(this.cache||(this.cache=this.toArray()),[t*(n=this.cache)[0]+e*n[2]+(r?0:n[4]),t*n[1]+e*n[3]+(r?0:n[5])]):[t,e]};var ae=l,ue={matrix:!0,scale:!0,rotate:!0,translate:!0,skewX:!0,skewY:!0},se=/\s*(matrix|translate|scale|rotate|skewX|skewY)\s*\(\s*(.+?)\s*\)[\s,]*/,ce=/[\s,]+/,fe=function(t){var e,r,n=new ae;return t.split(se).forEach((function(t){if(t.length){if(void 0!==ue[t])return void(e=t);switch(r=t.split(ce).map((function(t){return+t||0})),e){case"matrix":return void(6===r.length&&n.matrix(r));case"scale":return void(1===r.length?n.scale(r[0],r[0]):2===r.length&&n.scale(r[0],r[1]));case"rotate":return void(1===r.length?n.rotate(r[0],0,0):3===r.length&&n.rotate(r[0],r[1],r[2]));case"translate":return void(1===r.length?n.translate(r[0],0):2===r.length&&n.translate(r[0],r[1]));case"skewX":return void(1===r.length&&n.skewX(r[0]));case"skewY":return void(1===r.length&&n.skewY(r[0]))}}})),n},le=2*Math.PI,pe=function(t,e,r,n,o,i,a,u,s){var c=Math.sin(s*le/360),f=Math.cos(s*le/360),l=f*(t-r)/2+c*(e-n)/2,p=-c*(t-r)/2+f*(e-n)/2;if(0===l&&0===p)return[];if(0===a||0===u)return[];a=Math.abs(a),u=Math.abs(u);var g=l*l/(a*a)+p*p/(u*u);g>1&&(a*=Math.sqrt(g),u*=Math.sqrt(g));var m=h(t,e,r,n,o,i,a,u,c,f),d=[],b=m[2],v=m[3],x=Math.max(Math.ceil(Math.abs(v)/(le/4)),1);v/=x;for(var A=0;A<x;A++)d.push(y(b,v)),b+=v;return d.map((function(t){for(var e=0;e<t.length;e+=2){var r=t[e+0],n=t[e+1],o=f*(r*=a)-c*(n*=u),i=c*r+f*n;t[e+0]=o+m[0],t[e+1]=i+m[1]}return t}))},he=Math.PI/180;g.prototype.transform=function(t){var e=Math.cos(this.ax*he),r=Math.sin(this.ax*he),n=[this.rx*(t[0]*e+t[2]*r),this.rx*(t[1]*e+t[3]*r),this.ry*(-t[0]*r+t[2]*e),this.ry*(-t[1]*r+t[3]*e)],o=n[0]*n[0]+n[2]*n[2],i=n[1]*n[1]+n[3]*n[3],a=((n[0]-n[3])*(n[0]-n[3])+(n[2]+n[1])*(n[2]+n[1]))*((n[0]+n[3])*(n[0]+n[3])+(n[2]-n[1])*(n[2]-n[1])),u=(o+i)/2;if(a<1e-10*u)return this.rx=this.ry=Math.sqrt(u),this.ax=0,this;var s=n[0]*n[1]+n[2]*n[3],c=u+(a=Math.sqrt(a))/2,f=u-a/2;return this.ax=Math.abs(s)<1e-10&&Math.abs(c-i)<1e-10?90:180*Math.atan(Math.abs(s)>Math.abs(c-i)?(c-o)/s:s/(c-i))/Math.PI,this.ax>=0?(this.rx=Math.sqrt(c),this.ry=Math.sqrt(f)):(this.ax+=90,this.rx=Math.sqrt(f),this.ry=Math.sqrt(c)),this},g.prototype.isDegenerate=function(){return this.rx<1e-10*this.ry||this.ry<1e-10*this.rx};var ye=g;m.prototype.__matrix=function(t){var e,r=this;t.queue.length&&this.iterate((function(n,o,i,a){var u,s,c,f;switch(n[0]){case"v":s=0===(u=t.calc(0,n[1],!0))[0]?["v",u[1]]:["l",u[0],u[1]];break;case"V":s=(u=t.calc(i,n[1],!1))[0]===t.calc(i,a,!1)[0]?["V",u[1]]:["L",u[0],u[1]];break;case"h":s=0===(u=t.calc(n[1],0,!0))[1]?["h",u[0]]:["l",u[0],u[1]];break;case"H":s=(u=t.calc(n[1],a,!1))[1]===t.calc(i,a,!1)[1]?["H",u[0]]:["L",u[0],u[1]];break;case"a":case"A":var l=t.toArray(),p=ye(n[1],n[2],n[3]).transform(l);if(l[0]*l[3]-l[1]*l[2]<0&&(n[5]=n[5]?"0":"1"),u=t.calc(n[6],n[7],"a"===n[0]),"A"===n[0]&&n[6]===i&&n[7]===a||"a"===n[0]&&0===n[6]&&0===n[7]){s=["a"===n[0]?"l":"L",u[0],u[1]];break}s=p.isDegenerate()?["a"===n[0]?"l":"L",u[0],u[1]]:[n[0],p.rx,p.ry,p.ax,n[4],n[5],u[0],u[1]];break;case"m":f=o>0,s=["m",(u=t.calc(n[1],n[2],f))[0],u[1]];break;default:for(s=[c=n[0]],f=c.toLowerCase()===c,e=1;e<n.length;e+=2)u=t.calc(n[e],n[e+1],f),s.push(u[0],u[1])}r.segments[o]=s}),!0)},m.prototype.__evaluateStack=function(){var t,e,r=this;if(this.__stack.length){if(1===this.__stack.length)return this.__matrix(this.__stack[0]),void(this.__stack=[]);for(t=ae(),e=this.__stack.length;--e>=0;)t.matrix(r.__stack[e].toArray());this.__matrix(t),this.__stack=[]}},m.prototype.toString=function(){var t,e,r=this,n=[];this.__evaluateStack();for(var o=0;o<this.segments.length;o++)e=r.segments[o][0],t=o>0&&"m"!==e&&"M"!==e&&e===r.segments[o-1][0],n=n.concat(t?r.segments[o].slice(1):r.segments[o]);return n.join(" ").replace(/ ?([achlmqrstvz]) ?/gi,"$1").replace(/ \-/g,"-").replace(/zm/g,"z m")},m.prototype.translate=function(t,e){return this.__stack.push(ae().translate(t,e||0)),this},m.prototype.scale=function(t,e){return this.__stack.push(ae().scale(t,e||0===e?e:t)),this},m.prototype.rotate=function(t,e,r){return this.__stack.push(ae().rotate(t,e||0,r||0)),this},m.prototype.skewX=function(t){return this.__stack.push(ae().skewX(t)),this},m.prototype.skewY=function(t){return this.__stack.push(ae().skewY(t)),this},m.prototype.matrix=function(t){return this.__stack.push(ae().matrix(t)),this},m.prototype.transform=function(t){return t.trim()?(this.__stack.push(fe(t)),this):this},m.prototype.round=function(t){var e,r=0,n=0,o=0,i=0;return t=t||0,this.__evaluateStack(),this.segments.forEach((function(a){var u=a[0].toLowerCase()===a[0];switch(a[0]){case"H":case"h":return u&&(a[1]+=o),o=a[1]-a[1].toFixed(t),void(a[1]=+a[1].toFixed(t));case"V":case"v":return u&&(a[1]+=i),i=a[1]-a[1].toFixed(t),void(a[1]=+a[1].toFixed(t));case"Z":case"z":return o=r,void(i=n);case"M":case"m":return u&&(a[1]+=o,a[2]+=i),o=a[1]-a[1].toFixed(t),i=a[2]-a[2].toFixed(t),r=o,n=i,a[1]=+a[1].toFixed(t),void(a[2]=+a[2].toFixed(t));case"A":case"a":return u&&(a[6]+=o,a[7]+=i),o=a[6]-a[6].toFixed(t),i=a[7]-a[7].toFixed(t),a[1]=+a[1].toFixed(t),a[2]=+a[2].toFixed(t),a[3]=+a[3].toFixed(t+2),a[6]=+a[6].toFixed(t),void(a[7]=+a[7].toFixed(t));default:return e=a.length,u&&(a[e-2]+=o,a[e-1]+=i),o=a[e-2]-a[e-2].toFixed(t),i=a[e-1]-a[e-1].toFixed(t),void a.forEach((function(e,r){r&&(a[r]=+a[r].toFixed(t))}))}})),this},m.prototype.iterate=function(t,e){var r,n,o,i=this.segments,a={},u=!1,s=0,c=0,f=0,l=0;if(e||this.__evaluateStack(),i.forEach((function(e,r){var n=t(e,r,s,c);Array.isArray(n)&&(a[r]=n,u=!0);var o=e[0]===e[0].toLowerCase();switch(e[0]){case"m":case"M":return s=e[1]+(o?s:0),c=e[2]+(o?c:0),f=s,void(l=c);case"h":case"H":return void(s=e[1]+(o?s:0));case"v":case"V":return void(c=e[1]+(o?c:0));case"z":case"Z":return s=f,void(c=l);default:s=e[e.length-2]+(o?s:0),c=e[e.length-1]+(o?c:0)}})),!u)return this;for(o=[],r=0;r<i.length;r++)if(void 0!==a[r])for(n=0;n<a[r].length;n++)o.push(a[r][n]);else o.push(i[r]);return this.segments=o,this},m.prototype.abs=function(){return this.iterate((function(t,e,r,n){var o,i=t[0],a=i.toUpperCase();if(i!==a)switch(t[0]=a,i){case"v":return void(t[1]+=n);case"a":return t[6]+=r,void(t[7]+=n);default:for(o=1;o<t.length;o++)t[o]+=o%2?r:n}}),!0),this},m.prototype.rel=function(){return this.iterate((function(t,e,r,n){var o,i=t[0],a=i.toLowerCase();if(i!==a&&(0!==e||"M"!==i))switch(t[0]=a,i){case"V":return void(t[1]-=n);case"A":return t[6]-=r,void(t[7]-=n);default:for(o=1;o<t.length;o++)t[o]-=o%2?r:n}}),!0),this},m.prototype.unarc=function(){return this.iterate((function(t,e,r,n){var o,i,a,u=[],s=t[0];return"A"!==s&&"a"!==s?null:("a"===s?(i=r+t[6],a=n+t[7]):(i=t[6],a=t[7]),0===(o=pe(r,n,i,a,t[4],t[5],t[1],t[2],t[3])).length?[["a"===t[0]?"l":"L",t[6],t[7]]]:(o.forEach((function(t){u.push(["C",t[2],t[3],t[4],t[5],t[6],t[7]])})),u))})),this},m.prototype.unshort=function(){var t,e,r,n,o,i=this.segments;return this.iterate((function(a,u,s,c){var f,l=a[0],p=l.toUpperCase();u&&("T"===p?(f="t"===l,"Q"===(r=i[u-1])[0]?(t=r[1]-s,e=r[2]-c):"q"===r[0]?(t=r[1]-r[3],e=r[2]-r[4]):(t=0,e=0),n=-t,o=-e,f||(n+=s,o+=c),i[u]=[f?"q":"Q",n,o,a[1],a[2]]):"S"===p&&(f="s"===l,"C"===(r=i[u-1])[0]?(t=r[3]-s,e=r[4]-c):"c"===r[0]?(t=r[3]-r[5],e=r[4]-r[6]):(t=0,e=0),n=-t,o=-e,f||(n+=s,o+=c),i[u]=[f?"c":"C",n,o,a[1],a[2],a[3],a[4]]))})),this};var ge=m,me={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},de=/([astvzqmhlc])([^astvzqmhlc]*)/gi,be=function(t){var e=[];return t.replace(de,(function(t,r,n){var o=r.toLowerCase();for(n=d(n),"m"===o&&n.length>2&&(e.push([r].concat(n.splice(0,2))),o="l",r="m"===r?"l":"L");n.length>=0;){if(n.length===me[o])return n.unshift(r),e.push(n);if(n.length<me[o])throw new Error("malformed path data");e.push([r].concat(n.splice(0,me[o])))}})),e},ve=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/gi,xe=function(t,e,r,n,o,i,a,u){return new b(t,e,r,n,o,i,a,u)};b.prototype={constructor:b,init:function(){this.length=this.getArcLength([this.a.x,this.b.x,this.c.x,this.d.x],[this.a.y,this.b.y,this.c.y,this.d.y])},getTotalLength:function(){return this.length},getPointAtLength:function(t){var e=A(t,this.length,this.getArcLength,[this.a.x,this.b.x,this.c.x,this.d.x],[this.a.y,this.b.y,this.c.y,this.d.y]);return this.getPoint([this.a.x,this.b.x,this.c.x,this.d.x],[this.a.y,this.b.y,this.c.y,this.d.y],e)},getTangentAtLength:function(t){var e=A(t,this.length,this.getArcLength,[this.a.x,this.b.x,this.c.x,this.d.x],[this.a.y,this.b.y,this.c.y,this.d.y]),r=this.getDerivative([this.a.x,this.b.x,this.c.x,this.d.x],[this.a.y,this.b.y,this.c.y,this.d.y],e),n=Math.sqrt(r.x*r.x+r.y*r.y);return n>0?{x:r.x/n,y:r.y/n}:{x:0,y:0}},getPropertiesAtLength:function(t){var e,r=A(t,this.length,this.getArcLength,[this.a.x,this.b.x,this.c.x,this.d.x],[this.a.y,this.b.y,this.c.y,this.d.y]),n=this.getDerivative([this.a.x,this.b.x,this.c.x,this.d.x],[this.a.y,this.b.y,this.c.y,this.d.y],r),o=Math.sqrt(n.x*n.x+n.y*n.y);e=o>0?{x:n.x/o,y:n.y/o}:{x:0,y:0};var i=this.getPoint([this.a.x,this.b.x,this.c.x,this.d.x],[this.a.y,this.b.y,this.c.y,this.d.y],r);return{x:i.x,y:i.y,tangentX:e.x,tangentY:e.y}}};var Ae=[[],[],[-.5773502691896257,.5773502691896257],[0,-.7745966692414834,.7745966692414834],[-.33998104358485626,.33998104358485626,-.8611363115940526,.8611363115940526],[0,-.5384693101056831,.5384693101056831,-.906179845938664,.906179845938664],[.6612093864662645,-.6612093864662645,-.2386191860831969,.2386191860831969,-.932469514203152,.932469514203152],[0,.4058451513773972,-.4058451513773972,-.7415311855993945,.7415311855993945,-.9491079123427585,.9491079123427585],[-.1834346424956498,.1834346424956498,-.525532409916329,.525532409916329,-.7966664774136267,.7966664774136267,-.9602898564975363,.9602898564975363],[0,-.8360311073266358,.8360311073266358,-.9681602395076261,.9681602395076261,-.3242534234038089,.3242534234038089,-.6133714327005904,.6133714327005904],[-.14887433898163122,.14887433898163122,-.4333953941292472,.4333953941292472,-.6794095682990244,.6794095682990244,-.8650633666889845,.8650633666889845,-.9739065285171717,.9739065285171717],[0,-.26954315595234496,.26954315595234496,-.5190961292068118,.5190961292068118,-.7301520055740494,.7301520055740494,-.8870625997680953,.8870625997680953,-.978228658146057,.978228658146057],[-.1252334085114689,.1252334085114689,-.3678314989981802,.3678314989981802,-.5873179542866175,.5873179542866175,-.7699026741943047,.7699026741943047,-.9041172563704749,.9041172563704749,-.9815606342467192,.9815606342467192],[0,-.2304583159551348,.2304583159551348,-.44849275103644687,.44849275103644687,-.6423493394403402,.6423493394403402,-.8015780907333099,.8015780907333099,-.9175983992229779,.9175983992229779,-.9841830547185881,.9841830547185881],[-.10805494870734367,.10805494870734367,-.31911236892788974,.31911236892788974,-.5152486363581541,.5152486363581541,-.6872929048116855,.6872929048116855,-.827201315069765,.827201315069765,-.9284348836635735,.9284348836635735,-.9862838086968123,.9862838086968123],[0,-.20119409399743451,.20119409399743451,-.3941513470775634,.3941513470775634,-.5709721726085388,.5709721726085388,-.7244177313601701,.7244177313601701,-.8482065834104272,.8482065834104272,-.937273392400706,.937273392400706,-.9879925180204854,.9879925180204854],[-.09501250983763744,.09501250983763744,-.2816035507792589,.2816035507792589,-.45801677765722737,.45801677765722737,-.6178762444026438,.6178762444026438,-.755404408355003,.755404408355003,-.8656312023878318,.8656312023878318,-.9445750230732326,.9445750230732326,-.9894009349916499,.9894009349916499],[0,-.17848418149584785,.17848418149584785,-.3512317634538763,.3512317634538763,-.5126905370864769,.5126905370864769,-.6576711592166907,.6576711592166907,-.7815140038968014,.7815140038968014,-.8802391537269859,.8802391537269859,-.9506755217687678,.9506755217687678,-.9905754753144174,.9905754753144174],[-.0847750130417353,.0847750130417353,-.2518862256915055,.2518862256915055,-.41175116146284263,.41175116146284263,-.5597708310739475,.5597708310739475,-.6916870430603532,.6916870430603532,-.8037049589725231,.8037049589725231,-.8926024664975557,.8926024664975557,-.9558239495713977,.9558239495713977,-.9915651684209309,.9915651684209309],[0,-.16035864564022537,.16035864564022537,-.31656409996362983,.31656409996362983,-.46457074137596094,.46457074137596094,-.600545304661681,.600545304661681,-.7209661773352294,.7209661773352294,-.8227146565371428,.8227146565371428,-.9031559036148179,.9031559036148179,-.96020815213483,.96020815213483,-.9924068438435844,.9924068438435844],[-.07652652113349734,.07652652113349734,-.22778585114164507,.22778585114164507,-.37370608871541955,.37370608871541955,-.5108670019508271,.5108670019508271,-.636053680726515,.636053680726515,-.7463319064601508,.7463319064601508,-.8391169718222188,.8391169718222188,-.912234428251326,.912234428251326,-.9639719272779138,.9639719272779138,-.9931285991850949,.9931285991850949],[0,-.1455618541608951,.1455618541608951,-.2880213168024011,.2880213168024011,-.4243421202074388,.4243421202074388,-.5516188358872198,.5516188358872198,-.6671388041974123,.6671388041974123,-.7684399634756779,.7684399634756779,-.8533633645833173,.8533633645833173,-.9200993341504008,.9200993341504008,-.9672268385663063,.9672268385663063,-.9937521706203895,.9937521706203895],[-.06973927331972223,.06973927331972223,-.20786042668822127,.20786042668822127,-.34193582089208424,.34193582089208424,-.469355837986757,.469355837986757,-.5876404035069116,.5876404035069116,-.6944872631866827,.6944872631866827,-.7878168059792081,.7878168059792081,-.8658125777203002,.8658125777203002,-.926956772187174,.926956772187174,-.9700604978354287,.9700604978354287,-.9942945854823992,.9942945854823992],[0,-.1332568242984661,.1332568242984661,-.26413568097034495,.26413568097034495,-.3903010380302908,.3903010380302908,-.5095014778460075,.5095014778460075,-.6196098757636461,.6196098757636461,-.7186613631319502,.7186613631319502,-.8048884016188399,.8048884016188399,-.8767523582704416,.8767523582704416,-.9329710868260161,.9329710868260161,-.9725424712181152,.9725424712181152,-.9947693349975522,.9947693349975522],[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213]],we=[[],[],[1,1],[.8888888888888888,.5555555555555556,.5555555555555556],[.6521451548625461,.6521451548625461,.34785484513745385,.34785484513745385],[.5688888888888889,.47862867049936647,.47862867049936647,.23692688505618908,.23692688505618908],[.3607615730481386,.3607615730481386,.46791393457269104,.46791393457269104,.17132449237917036,.17132449237917036],[.4179591836734694,.3818300505051189,.3818300505051189,.27970539148927664,.27970539148927664,.1294849661688697,.1294849661688697],[.362683783378362,.362683783378362,.31370664587788727,.31370664587788727,.22238103445337448,.22238103445337448,.10122853629037626,.10122853629037626],[.3302393550012598,.1806481606948574,.1806481606948574,.08127438836157441,.08127438836157441,.31234707704000286,.31234707704000286,.26061069640293544,.26061069640293544],[.29552422471475287,.29552422471475287,.26926671930999635,.26926671930999635,.21908636251598204,.21908636251598204,.1494513491505806,.1494513491505806,.06667134430868814,.06667134430868814],[.2729250867779006,.26280454451024665,.26280454451024665,.23319376459199048,.23319376459199048,.18629021092773426,.18629021092773426,.1255803694649046,.1255803694649046,.05566856711617366,.05566856711617366],[.24914704581340277,.24914704581340277,.2334925365383548,.2334925365383548,.20316742672306592,.20316742672306592,.16007832854334622,.16007832854334622,.10693932599531843,.10693932599531843,.04717533638651183,.04717533638651183],[.2325515532308739,.22628318026289723,.22628318026289723,.2078160475368885,.2078160475368885,.17814598076194574,.17814598076194574,.13887351021978725,.13887351021978725,.09212149983772845,.09212149983772845,.04048400476531588,.04048400476531588],[.2152638534631578,.2152638534631578,.2051984637212956,.2051984637212956,.18553839747793782,.18553839747793782,.15720316715819355,.15720316715819355,.12151857068790319,.12151857068790319,.08015808715976021,.08015808715976021,.03511946033175186,.03511946033175186],[.2025782419255613,.19843148532711158,.19843148532711158,.1861610000155622,.1861610000155622,.16626920581699392,.16626920581699392,.13957067792615432,.13957067792615432,.10715922046717194,.10715922046717194,.07036604748810812,.07036604748810812,.03075324199611727,.03075324199611727],[.1894506104550685,.1894506104550685,.18260341504492358,.18260341504492358,.16915651939500254,.16915651939500254,.14959598881657674,.14959598881657674,.12462897125553388,.12462897125553388,.09515851168249279,.09515851168249279,.062253523938647894,.062253523938647894,.027152459411754096,.027152459411754096],[.17944647035620653,.17656270536699264,.17656270536699264,.16800410215645004,.16800410215645004,.15404576107681028,.15404576107681028,.13513636846852548,.13513636846852548,.11188384719340397,.11188384719340397,.08503614831717918,.08503614831717918,.0554595293739872,.0554595293739872,.02414830286854793,.02414830286854793],[.1691423829631436,.1691423829631436,.16427648374583273,.16427648374583273,.15468467512626524,.15468467512626524,.14064291467065065,.14064291467065065,.12255520671147846,.12255520671147846,.10094204410628717,.10094204410628717,.07642573025488905,.07642573025488905,.0497145488949698,.0497145488949698,.02161601352648331,.02161601352648331],[.1610544498487837,.15896884339395434,.15896884339395434,.15276604206585967,.15276604206585967,.1426067021736066,.1426067021736066,.12875396253933621,.12875396253933621,.11156664554733399,.11156664554733399,.09149002162245,.09149002162245,.06904454273764123,.06904454273764123,.0448142267656996,.0448142267656996,.019461788229726478,.019461788229726478],[.15275338713072584,.15275338713072584,.14917298647260374,.14917298647260374,.14209610931838204,.14209610931838204,.13168863844917664,.13168863844917664,.11819453196151841,.11819453196151841,.10193011981724044,.10193011981724044,.08327674157670475,.08327674157670475,.06267204833410907,.06267204833410907,.04060142980038694,.04060142980038694,.017614007139152118,.017614007139152118],[.14608113364969041,.14452440398997005,.14452440398997005,.13988739479107315,.13988739479107315,.13226893863333747,.13226893863333747,.12183141605372853,.12183141605372853,.10879729916714838,.10879729916714838,.09344442345603386,.09344442345603386,.0761001136283793,.0761001136283793,.057134425426857205,.057134425426857205,.036953789770852494,.036953789770852494,.016017228257774335,.016017228257774335],[.13925187285563198,.13925187285563198,.13654149834601517,.13654149834601517,.13117350478706238,.13117350478706238,.12325237681051242,.12325237681051242,.11293229608053922,.11293229608053922,.10041414444288096,.10041414444288096,.08594160621706773,.08594160621706773,.06979646842452049,.06979646842452049,.052293335152683286,.052293335152683286,.03377490158481415,.03377490158481415,.0146279952982722,.0146279952982722],[.13365457218610619,.1324620394046966,.1324620394046966,.12890572218808216,.12890572218808216,.12304908430672953,.12304908430672953,.11499664022241136,.11499664022241136,.10489209146454141,.10489209146454141,.09291576606003515,.09291576606003515,.07928141177671895,.07928141177671895,.06423242140852585,.06423242140852585,.04803767173108467,.04803767173108467,.030988005856979445,.030988005856979445,.013411859487141771,.013411859487141771],[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872]],Se=[[1],[1,1],[1,2,1],[1,3,3,1]],Fe=2*Math.PI,Ee=function(t,e,r,n,o,i,a,u,s){var c=Math.sin(o*Fe/360),f=Math.cos(o*Fe/360),l=f*(t-u)/2+c*(e-s)/2,p=-c*(t-u)/2+f*(e-s)/2;if(0===l&&0===p)return[];if(0===r||0===n)return[];r=Math.abs(r),n=Math.abs(n);var h=l*l/(r*r)+p*p/(n*n);h>1&&(r*=Math.sqrt(h),n*=Math.sqrt(h));var y=_(t,e,u,s,i,a,r,n,c,f),g=[],m=y[2],d=y[3],b=Math.max(Math.ceil(Math.abs(d)/(Fe/4)),1);d/=b;for(var v=0;v<b;v++)g.push(j(m,d)),m+=d;return g.map((function(t){for(var e=0;e<t.length;e+=2){var o=t[e+0],i=t[e+1],a=f*(o*=r)-c*(i*=n),u=c*o+f*i;t[e+0]=a+y[0],t[e+1]=u+y[1]}return t}))},Te=function(t,e,r,n,o,i,a,u,s){return new I(t,e,r,n,o,i,a,u,s)};I.prototype={constructor:I,init:function(){},getTotalLength:function(){return this.length},getPointAtLength:function(t){var e=this;t<0?t=0:t>this.length&&(t=this.length);for(var r=this.partialLengths.length-1;this.partialLengths[r]>=t&&this.partialLengths[r]>0;)r--;r<this.partialLengths.length-1&&r++;for(var n=0,o=0;o<r;o++)n+=e.partialLengths[o];return this.curves[r].getPointAtLength(t-n)},getTangentAtLength:function(t){var e=this;t<0?t=0:t>this.length&&(t=this.length);for(var r=this.partialLengths.length-1;this.partialLengths[r]>=t&&this.partialLengths[r]>0;)r--;r<this.partialLengths.length-1&&r++;for(var n=0,o=0;o<r;o++)n+=e.partialLengths[o];return this.curves[r].getTangentAtLength(t-n)},getPropertiesAtLength:function(t){var e=this.getTangentAtLength(t),r=this.getPointAtLength(t);return{x:r.x,y:r.y,tangentX:e.x,tangentY:e.y}}};var Pe=function(t,e,r,n){return new k(t,e,r,n)};k.prototype.getTotalLength=function(){return Math.sqrt(Math.pow(this.x0-this.x1,2)+Math.pow(this.y0-this.y1,2))},k.prototype.getPointAtLength=function(t){var e=t/Math.sqrt(Math.pow(this.x0-this.x1,2)+Math.pow(this.y0-this.y1,2)),r=(this.x1-this.x0)*e,n=(this.y1-this.y0)*e;return{x:this.x0+r,y:this.y0+n}},k.prototype.getTangentAtLength=function(){var t=Math.sqrt((this.x1-this.x0)*(this.x1-this.x0)+(this.y1-this.y0)*(this.y1-this.y0));return{x:(this.x1-this.x0)/t,y:(this.y1-this.y0)/t}},k.prototype.getPropertiesAtLength=function(t){var e=this.getPointAtLength(t),r=this.getTangentAtLength();return{x:e.x,y:e.y,tangentX:r.x,tangentY:r.y}};var Me=function(t){function e(t){if(!t)return null;for(var i,a=be(t),u=[0,0],s=[0,0],c=0;c<a.length;c++)"M"===a[c][0]?(u=[a[c][1],a[c][2]],o.push(null)):"m"===a[c][0]?(u=[a[c][1]+u[0],a[c][2]+u[1]],o.push(null)):"L"===a[c][0]?(r+=Math.sqrt(Math.pow(u[0]-a[c][1],2)+Math.pow(u[1]-a[c][2],2)),o.push(new Pe(u[0],a[c][1],u[1],a[c][2])),u=[a[c][1],a[c][2]]):"l"===a[c][0]?(r+=Math.sqrt(Math.pow(a[c][1],2)+Math.pow(a[c][2],2)),o.push(new Pe(u[0],a[c][1]+u[0],u[1],a[c][2]+u[1])),u=[a[c][1]+u[0],a[c][2]+u[1]]):"H"===a[c][0]?(r+=Math.abs(u[0]-a[c][1]),o.push(new Pe(u[0],a[c][1],u[1],u[1])),u[0]=a[c][1]):"h"===a[c][0]?(r+=Math.abs(a[c][1]),o.push(new Pe(u[0],u[0]+a[c][1],u[1],u[1])),u[0]=a[c][1]+u[0]):"V"===a[c][0]?(r+=Math.abs(u[1]-a[c][1]),o.push(new Pe(u[0],u[0],u[1],a[c][1])),u[1]=a[c][1]):"v"===a[c][0]?(r+=Math.abs(a[c][1]),o.push(new Pe(u[0],u[0],u[1],u[1]+a[c][1])),u[1]=a[c][1]+u[1]):"z"===a[c][0]||"Z"===a[c][0]?(r+=Math.sqrt(Math.pow(a[0][1]-u[0],2)+Math.pow(a[0][2]-u[1],2)),o.push(new Pe(u[0],a[0][1],u[1],a[0][2])),u=[a[0][1],a[0][2]]):"C"===a[c][0]?(i=new xe(u[0],u[1],a[c][1],a[c][2],a[c][3],a[c][4],a[c][5],a[c][6]),r+=i.getTotalLength(),u=[a[c][5],a[c][6]],o.push(i)):"c"===a[c][0]?(i=new xe(u[0],u[1],u[0]+a[c][1],u[1]+a[c][2],u[0]+a[c][3],u[1]+a[c][4],u[0]+a[c][5],u[1]+a[c][6]),r+=i.getTotalLength(),u=[a[c][5]+u[0],a[c][6]+u[1]],o.push(i)):"S"===a[c][0]?(i=c>0&&["C","c","S","s"].indexOf(a[c-1][0])>-1?new xe(u[0],u[1],2*u[0]-a[c-1][a[c-1].length-4],2*u[1]-a[c-1][a[c-1].length-3],a[c][1],a[c][2],a[c][3],a[c][4]):new xe(u[0],u[1],u[0],u[1],a[c][1],a[c][2],a[c][3],a[c][4]),r+=i.getTotalLength(),u=[a[c][3],a[c][4]],o.push(i)):"s"===a[c][0]?(i=c>0&&["C","c","S","s"].indexOf(a[c-1][0])>-1?new xe(u[0],u[1],u[0]+i.d.x-i.c.x,u[1]+i.d.y-i.c.y,u[0]+a[c][1],u[1]+a[c][2],u[0]+a[c][3],u[1]+a[c][4]):new xe(u[0],u[1],u[0],u[1],u[0]+a[c][1],u[1]+a[c][2],u[0]+a[c][3],u[1]+a[c][4]),r+=i.getTotalLength(),u=[a[c][3]+u[0],a[c][4]+u[1]],o.push(i)):"Q"===a[c][0]?(i=new xe(u[0],u[1],a[c][1],a[c][2],a[c][3],a[c][4]),r+=i.getTotalLength(),o.push(i),u=[a[c][3],a[c][4]],s=[a[c][1],a[c][2]]):"q"===a[c][0]?(i=new xe(u[0],u[1],u[0]+a[c][1],u[1]+a[c][2],u[0]+a[c][3],u[1]+a[c][4]),r+=i.getTotalLength(),s=[u[0]+a[c][1],u[1]+a[c][2]],u=[a[c][3]+u[0],a[c][4]+u[1]],o.push(i)):"T"===a[c][0]?(i=c>0&&["Q","q","T","t"].indexOf(a[c-1][0])>-1?new xe(u[0],u[1],2*u[0]-s[0],2*u[1]-s[1],a[c][1],a[c][2]):new Pe(u[0],a[c][1],u[1],a[c][2]),o.push(i),r+=i.getTotalLength(),s=[2*u[0]-s[0],2*u[1]-s[1]],u=[a[c][1],a[c][2]]):"t"===a[c][0]?(i=c>0&&["Q","q","T","t"].indexOf(a[c-1][0])>-1?new xe(u[0],u[1],2*u[0]-s[0],2*u[1]-s[1],u[0]+a[c][1],u[1]+a[c][2]):new Pe(u[0],u[0]+a[c][1],u[1],u[1]+a[c][2]),r+=i.getTotalLength(),s=[2*u[0]-s[0],2*u[1]-s[1]],u=[a[c][1]+u[0],a[c][2]+u[0]],o.push(i)):"A"===a[c][0]?(i=new Te(u[0],u[1],a[c][1],a[c][2],a[c][3],a[c][4],a[c][5],a[c][6],a[c][7]),r+=i.getTotalLength(),u=[a[c][6],a[c][7]],o.push(i)):"a"===a[c][0]&&(i=new Te(u[0],u[1],a[c][1],a[c][2],a[c][3],a[c][4],a[c][5],u[0]+a[c][6],u[1]+a[c][7]),r+=i.getTotalLength(),u=[u[0]+a[c][6],u[1]+a[c][7]],o.push(i)),n.push(r);return e}var r=0,n=[],o=[];e.getTotalLength=function(){return r},e.getPointAtLength=function(t){var e=i(t);return o[e.i].getPointAtLength(e.fraction)},e.getTangentAtLength=function(t){var e=i(t);return o[e.i].getTangentAtLength(e.fraction)},e.getPropertiesAtLength=function(t){var e=i(t);return o[e.i].getPropertiesAtLength(e.fraction)};var i=function(t){t<0?t=0:t>r&&(t=r);for(var e=n.length-1;n[e]>=t&&n[e]>0;)e--;return e++,{fraction:t-n[e-1],i:e}};return e(t)},Oe='All shapes must be supplied as arrays of [x, y] points or an SVG path string (https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/d).\nExample valid ways of supplying a shape would be:\n[[0, 0], [10, 0], [10, 10]]\n"M0,0 L10,0 L10,10Z"\n',_e="flubber.all() expects two arrays of equal length as arguments. Each element in both arrays should be an array of [x, y] points or an SVG path string (https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/d).",je=function(t,e){for(var r,n,o,i=t.length,a=1/0,u=0;u<i;u++)!function(o){n=0,e.forEach((function(e,r){var a=R(t[(o+r)%i],e);n+=a*a})),n<a&&(a=n,r=o)}(u);r&&(o=t.splice(0,r),t.splice.apply(t,[t.length,0].concat(o)))},Ie=function(t,e,r){void 0===r&&(r={});var n=r.maxSegmentLength;void 0===n&&(n=10);var o=r.string;void 0===o&&(o=!0);var i=tt(J(t,n),J(e,n),o);return!o||"string"!=typeof t&&"string"!=typeof e?i:function(r){return r<1e-4&&"string"==typeof t?t:1-r<1e-4&&"string"==typeof e?e:i(r)}},ke=et;et.deviation=function(t,e,r,n){var o=e&&e.length,i=o?e[0]*r:t.length,a=Math.abs(Ot(t,0,i,r));if(o)for(var u=0,s=e.length;u<s;u++){var c=e[u]*r,f=u<s-1?e[u+1]*r:t.length;a-=Math.abs(Ot(t,c,f,r))}var l=0;for(u=0;u<n.length;u+=3){var p=n[u]*r,h=n[u+1]*r,y=n[u+2]*r;l+=Math.abs((t[p]-t[y])*(t[h+1]-t[p+1])-(t[p]-t[h])*(t[y+1]-t[p+1]))}return 0===a&&0===l?0:Math.abs((l-a)/a)},et.flatten=function(t){for(var e=t[0][0].length,r={vertices:[],holes:[],dimensions:e},n=0,o=0;o<t.length;o++){for(var i=0;i<t[o].length;i++)for(var a=0;a<e;a++)r.vertices.push(t[o][i][a]);o>0&&(n+=t[o-1].length,r.holes.push(n))}return r};var Re=function(t){return t},Be=function(t){if(null==t)return Re;var e,r,n=t.scale[0],o=t.scale[1],i=t.translate[0],a=t.translate[1];return function(t,u){u||(e=r=0);var s=2,c=t.length,f=new Array(c);for(f[0]=(e+=t[0])*n+i,f[1]=(r+=t[1])*o+a;s<c;)f[s]=t[s],++s;return f}},Ce=function(t,e){for(var r,n=t.length,o=n-e;o<--n;)r=t[o],t[o++]=t[n],t[n]=r},Le=function(t,e){return"GeometryCollection"===e.type?{type:"FeatureCollection",features:e.geometries.map((function(e){return _t(t,e)}))}:_t(t,e)},De=function(t,e){function r(e){var r,n=t.arcs[e<0?~e:e],o=n[0];return t.transform?(r=[0,0],n.forEach((function(t){r[0]+=t[0],r[1]+=t[1]}))):r=n[n.length-1],e<0?[r,o]:[o,r]}function n(t,e){for(var r in t){var n=t[r];delete e[n.start],delete n.start,delete n.end,n.forEach((function(t){o[t<0?~t:t]=1})),u.push(n)}}var o={},i={},a={},u=[],s=-1;return e.forEach((function(r,n){var o,i=t.arcs[r<0?~r:r];i.length<3&&!i[1][0]&&!i[1][1]&&(o=e[++s],e[s]=r,e[n]=o)})),e.forEach((function(t){var e,n,o=r(t),u=o[0],s=o[1];if(e=a[u])if(delete a[e.end],e.push(t),e.end=s,n=i[s]){delete i[n.start];var c=n===e?e:e.concat(n);i[c.start=e.start]=a[c.end=n.end]=c}else i[e.start]=a[e.end]=e;else if(e=i[s])if(delete i[e.start],e.unshift(t),e.start=u,n=a[u]){delete a[n.end];var f=n===e?e:n.concat(e);i[f.start=n.start]=a[f.end=e.end]=f}else i[e.start]=a[e.end]=e;else i[(e=[t]).start=u]=a[e.end=s]=e})),n(a,i),n(i,a),e.forEach((function(t){o[t<0?~t:t]||u.push([t])})),u},Ue=function(t,e){for(var r=0,n=t.length;r<n;){var o=r+n>>>1;t[o]<e?r=o+1:n=o}return r},ze=function(t){function e(t,e){t.forEach((function(t){t<0&&(t=~t);var r=o[t];r?r.push(e):o[t]=[e]}))}function r(t,r){t.forEach((function(t){e(t,r)}))}function n(t,e){"GeometryCollection"===t.type?t.geometries.forEach((function(t){n(t,e)})):t.type in a&&a[t.type](t.arcs,e)}var o={},i=t.map((function(){return[]})),a={LineString:e,MultiLineString:r,Polygon:r,MultiPolygon:function(t,e){t.forEach((function(t){r(t,e)}))}};for(var u in t.forEach(n),o)for(var s=o[u],c=s.length,f=0;f<c;++f)for(var l=f+1;l<c;++l){var p,h=s[f],y=s[l];(p=i[h])[u=Ue(p,y)]!==y&&p.splice(u,0,y),(p=i[y])[u=Ue(p,h)]!==h&&p.splice(u,0,h)}return i},Ne=function(t,e){return t<e?-1:t>e?1:t>=e?0:NaN},qe=function(t){return 1===t.length&&(t=Rt(t)),{left:function(e,r,n,o){for(null==n&&(n=0),null==o&&(o=e.length);n<o;){var i=n+o>>>1;t(e[i],r)<0?n=i+1:o=i}return n},right:function(e,r,n,o){for(null==n&&(n=0),null==o&&(o=e.length);n<o;){var i=n+o>>>1;t(e[i],r)>0?o=i:n=i+1}return n}}},We=(qe(Ne).right,function(t,e){return Ct(Bt(Lt(t),t),e)}),$e=function(t,e){if(t.length>8)return t.map((function(t,e){return e}));var r=t.map((function(t){return e.map((function(e){return Ut(t,e)}))}));return Dt(t,e,r)};t.interpolate=Ie,t.separate=zt,t.combine=Nt,t.interpolateAll=qt,t.splitPathString=V,t.toPathString=$,t.fromCircle=$t,t.toCircle=Vt,t.fromRect=Gt,t.toRect=Ht,Object.defineProperty(t,"__esModule",{value:!0})}(hc);var yc=o("hG78e");var gc=function(){let e,r,n,o,i,a,u,s,c,f,l,p,h,y,g,m=[];function d(r){r.each((function(){const r=(0,$34c89bc7c4f260da$exports.select)(this).append("custom"),u=200;let m={};f=function(){console.log({data:e});const f=r.selectAll("custom.shape").data(e,(function(t){return t.id||(0,$34c89bc7c4f260da$exports.select)(this).attr("id")}));f.exit().remove(),function(e){const r=(0,hi.timer)((function(t){s(),t>300&&r.stop()}));e.select("path").transition().duration(u).attr("fill",(t=>o[t.colorValue])).attr("x",(t=>t.x)).attr("y",(t=>t.y)).attr("opacity",(t=>n.includes(t.colorValue)&&i.includes(t.shapeValue)?1:0)).attrTween("d",(function(e){const r=m[e.id],n=a[e.shapeValue],o=r.match(/[a-zA-Z]/g),i=n.match(/[a-zA-Z]/g),u=t(yi)(o,i,{strict:!0})?(0,yc.default)(r,n):(0,hc.interpolate)(r,n);return t=>u(t)})).end().catch((()=>{})).then((()=>{e.each((t=>m={...m,[t.id]:a[t.shapeValue]})),c()}))}(f);f.enter().append("custom").classed("shape",!0).attr("id",(t=>t.id)).append("path").attr("x",(t=>t.x)).attr("y",(t=>t.y)).attr("d",(t=>a[t.shapeValue])).attr("fill",(t=>o[t.colorValue])).attr("opacity",1).each((t=>{m={...m,[t.id]:a[t.shapeValue]}}))},l=function(){f()},p=function(){f()},h=function(){e.every((t=>o[t.colorValue]))&&f()},y=function(){f()},g=function(){e.forEach((t=>m={...m,[t.id]:a[t.shapeValue]})),e.every((t=>a[t.shapeValue]))&&f()},c=function(){}}))}return d.data=function(t){return e=t,"function"==typeof f&&f(),d},d.colorSet=function(t){return n=t,"function"==typeof p&&p(),d},d.colorValues=function(t){return o=t,"function"==typeof h&&h(),d},d.shapeValues=function(t){return arguments.length?(a=t,"function"==typeof g&&g(),d):a},d.shapeSet=function(t){return arguments.length?(i=t,"function"==typeof y&&y(),d):i},d.radius=function(t){return arguments.length?(r=t,"function"==typeof l&&l(),d):r},d.boot=function(t){return u=t,d},d.subscribe=function(t){return m=[...m,t],d},d.drawShapes=function(t){return s=t,d},d},mc=o("3PWDX"),dc=o("jaPjS");(0,(bc=o("cbveU")).sqrt)(3);var bc=o("cbveU"),vc={draw(t,e){const r=(0,bc.sqrt)(e/bc.pi);t.moveTo(r,0),t.arc(0,0,r,0,bc.tau)}},xc=(bc=o("cbveU"),{draw(t,e){const r=(0,bc.sqrt)(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}});const Ac=(0,(bc=o("cbveU")).sqrt)(1/3),wc=2*Ac;var Sc={draw(t,e){const r=(0,bc.sqrt)(e/wc),n=r*Ac;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},Fc=(bc=o("cbveU"),bc=o("cbveU"),bc=o("cbveU"),{draw(t,e){const r=(0,bc.sqrt)(e),n=-r/2;t.rect(n,n,r,r)}});bc=o("cbveU"),bc=o("cbveU");const Ec=(0,bc.sin)(bc.pi/10)/(0,bc.sin)(7*bc.pi/10),Tc=(0,bc.sin)(bc.tau/10)*Ec,Pc=-(0,bc.cos)(bc.tau/10)*Ec;var Mc={draw(t,e){const r=(0,bc.sqrt)(.8908130915292852*e),n=Tc*r,o=Pc*r;t.moveTo(0,-r),t.lineTo(n,o);for(let e=1;e<5;++e){const i=bc.tau*e/5,a=(0,bc.cos)(i),u=(0,bc.sin)(i);t.lineTo(u*r,-a*r),t.lineTo(a*n-u*o,u*n+a*o)}t.closePath()}};const Oc=(0,(bc=o("cbveU")).sqrt)(3);var _c={draw(t,e){const r=-(0,bc.sqrt)(e/(3*Oc));t.moveTo(0,2*r),t.lineTo(-Oc*r,-r),t.lineTo(Oc*r,-r),t.closePath()}};(0,(bc=o("cbveU")).sqrt)(3);bc=o("cbveU");const jc=-.5,Ic=(0,bc.sqrt)(3)/2,kc=1/(0,bc.sqrt)(12),Rc=3*(kc/2+1);var Bc={draw(t,e){const r=(0,bc.sqrt)(e/Rc),n=r/2,o=r*kc,i=n,a=r*kc+r,u=-i,s=a;t.moveTo(n,o),t.lineTo(i,a),t.lineTo(u,s),t.lineTo(jc*n-Ic*o,Ic*n+jc*o),t.lineTo(jc*i-Ic*a,Ic*i+jc*a),t.lineTo(jc*u-Ic*s,Ic*u+jc*s),t.lineTo(jc*n+Ic*o,jc*o-Ic*n),t.lineTo(jc*i+Ic*a,jc*a-Ic*i),t.lineTo(jc*u+Ic*s,jc*s-Ic*u),t.closePath()}};bc=o("cbveU");function Cc(t,e){let r=null,n=(0,dc.withPath)(o);function o(){let o;if(r||(r=o=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),o)return r=null,o+""||null}return t="function"==typeof t?t:(0,mc.default)(t||vc),e="function"==typeof e?e:(0,mc.default)(void 0===e?64:+e),o.type=function(e){return arguments.length?(t="function"==typeof e?e:(0,mc.default)(e),o):t},o.size=function(t){return arguments.length?(e="function"==typeof t?t:(0,mc.default)(+t),o):e},o.context=function(t){return arguments.length?(r=null==t?null:t,o):r},o}var Lc=(t,e)=>{const r=Math.PI*(e*e);return Cc({circle:vc,triangle:_c,square:Fc,cross:xc,diamond:Sc,star:Mc,wye:Bc}[t],r)()||"empty"};let Dc,Uc,zc=0,Nc=0,qc=0,Wc=["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"],$c=0,Vc=gc(),Gc=[],Hc=[],Yc=[],Zc=[];let Xc=(new(0,t(ni).DOMImplementation)).createDocument();function Qc({payload:t,keepOpen:e}){Gc=[];for(let e=0;e<t.length;e+=2){const{id:r,colorValue:n,shapeValue:o}=Yc[Math.floor((e+1)/2)+qc],i={id:r,x:t[e],y:t[e+1],colorValue:n,shapeValue:o};Gc.push(i)}qc++,e||(Vc.data(Gc),qc=0)}self.addEventListener("message",(t=>{const{type:e,computeCanvas:r,canvas:n,colorScale:o,colorValues:i,stencil:a,offsets:u,offsetArcIds:s,textureW:c,textureH:f,radius:l,ids:p}=t.data;switch(e){case"init":console.log({colorScale:o}),$c=l,Uc=n.getContext("2d"),zc=c,Nc=f,function(t){const e=t.getContext("webgl2");e&&(e.getExtension("EXT_color_buffer_float")||console.error("voroni error: color extention does not exist"),Dc=new ri(e,zc,Nc,200,Qc))}(r),Vc.data([]),Vc.colorSet(Wc),Vc.colorValues(o),Vc.shapeSet([Lc("circle",5)]),Vc.shapeValues({bob:Lc("circle",5)}),Vc.drawShapes((()=>function(){const t=$34c89bc7c4f260da$exports.select(Xc).selectAll("custom.shape");Uc.save(),Uc.clearRect(0,0,2560,1440),t.each((function(){const t=$34c89bc7c4f260da$exports.select(this).select("path"),e=+t.attr("x"),r=+t.attr("y"),n=t.attr("fill");Uc.fillStyle=n,Uc.strokeStyle="#FFFFFF",Uc.lineWidth=.5,Uc.setTransform(2,0,0,2,e*$c+1280,-r*$c+720),Uc.beginPath();const o=t.attr("d");o&&(Uc.fill(new Path2D(o)),Uc.stroke(new Path2D(o)))})),Uc.globalAlpha=1,Uc.restore()}())),$34c89bc7c4f260da$exports.select(Xc).call(Vc);break;case"update_stencil":Dc&&(Dc.updateStencil(a),Dc.renderStencil());break;case"update_offsets":u&&s&&Dc&&(Dc.updateOffsets(u,s),Dc.renderVornoi());break;case"render_in_chunks":u&&s&&Dc&&(console.log("sending render command with offsets: ",u),Hc=s,qc=0,Dc.renderInChunks(u,s));break;case"draw":u&&Qc({payload:new Float32Array(u),keepOpen:!1});break;case"update_ids":p&&(Yc=p);break;case"render":Dc&&Dc.render();break;case"update_color_values":if(i){Zc=i;for(let t=0;t<Gc.length;t++)Gc[t].colorValue=i[t]}console.log("colors updated: ",Gc);break;case"update_color_scale":o&&(Vc.colorValues(o),Vc.data(Gc))}}))})();
//# sourceMappingURL=shapeWorker.9b3c13d5.js.map
